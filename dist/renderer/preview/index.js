module.exports=webpackJsonp([5],{0:function(e,t,a){a(599),e.exports=a(1876)},990:function(e,t){e.exports={primary:"rgb(68, 154, 211)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",sidebar:"_🎴🙆🏼‍♀️🤞🏽👵🏻👩🏽‍🎓👶🏽",timeline:"_🛎⛹🏼‍♀️🙍🏽‍♀️🏃🏽‍♀️🏄🏽‍♀️🇺🇲",header:"_👥✊🏼⛹🏼🌟🕶🚵🏽‍♂️"}},1876:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(l,r){try{var i=t[l](r),u=i.value}catch(e){return void a(e)}return i.done?void e(u):Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}var r=function(){var e=l(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("sessionState");case 2:t=e.sent,a=(0,m.default)(t),n=(0,c.syncHistoryWithStore)(s.hashHistory,a),(0,g.default)(a),(0,o.render)(u.default.createElement(d.Provider,{store:a},u.default.createElement(s.Router,{history:n,routes:(0,v.default)(a)})),document.getElementById("root"));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();a(594);var i=a(1),u=n(i),o=a(26),d=a(5),s=a(25),c=a(61),f=a(598),m=n(f),p=a(1880),v=n(p),h=a(437),y=n(h),E=a(376),_=n(E),M=a(595),g=n(M),x=(0,y.default)(_.default);r()},1877:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children;return i.default.createElement("div",{className:"layout-column flex"},t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),i=n(r),u=a(320);n(u);l.propTypes={children:r.PropTypes.element.isRequired},t.default=l,e.exports=t.default},1878:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.files,n=t.location,l=n.query,r=l.localPath,i=l.revisionId,u=l.fileId,o=l.projectId;u=u||(a.pathToId[r]?a.pathToId[r].data:"");var d=r?u:u+"-"+i;return{localPath:r,fileId:u,revisionId:i,projectId:o,fileMeta:a.fileMeta[d]}}function i(e){return{filesActions:(0,u.bindActionCreators)(f,e),syncTimelineActions:(0,u.bindActionCreators)(p,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=a(6),o=a(5),d=a(1),s=l(d),c=a(589),f=n(c),m=a(597),p=n(m),v=a(29),h=l(v),y=a(1879),E=l(y),_=a(990),M=(l(_),a(920)),g=l(M),x=t.Component=s.default.createClass({displayName:"Component",onMount:function(e,t){var a=e.localPath,n=e.fileId,l=e.fileMeta,r=e.revisionId;a?e.filesActions.getMetaFromPath({path:a}):l&&(l.data||l.loading)||e.filesActions.getMeta({fileId:n,revisionId:r})},componentWillMount:function(){this.onMount(this.props)},render:function(){var e=this.props.fileMeta;return console.log(e),s.default.createElement("div",{className:"layout-column flex"},e&&e.data&&e.data.project&&e.data.project._id?s.default.createElement(E.default,{fileMeta:e.data}):null,e&&e.data&&e.data.project&&!e.data.project._id?s.default.createElement("div",{className:"layout-column layout-align-center-center flex text-center"},s.default.createElement("img",{style:{width:"100px"},src:g.default}),s.default.createElement("div",{className:"text-title-4",style:{marginBottom:"10px"}},"This file is not in a Stemn Project"),s.default.createElement("div",{className:"text-title-5"},"Files must be part of a Stemn project in order to be viewed.")):null,s.default.createElement(h.default,{show:!e}))}});t.default=(0,o.connect)(r,i)(x)},1879:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.syncTimeline,n=t.fileMeta;return{syncTimeline:a[n.fileId]}}function i(e){return{syncTimelineActions:(0,u.bindActionCreators)(y,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.InnerComponent=void 0;var u=a(6),o=a(5),d=a(1),s=l(d),c=a(4),f=(l(c),a(15)),m=a(22),p=l(m),v=a(589),h=(n(v),a(597)),y=n(h),E=a(587),_=l(E),M=a(329),g=l(M),x=a(259),b=l(x),I=a(931),N=l(I),j=a(588),T=l(j),S=a(29),w=(l(S),a(1897)),C=l(w),P=a(953),O=l(P),k=a(1898),A=l(k),R=a(990),q=l(R),B=t.InnerComponent=s.default.createClass({displayName:"InnerComponent",getInitialState:function(){return{selected1:this.props.fileMeta,selected2:null,lastSelected:1,mode:"single"}},onSelect:function(e){"single"==this.state.mode?this.setState({selected1:e,lastSelected:1}):1==this.state.lastSelected?this.setState({selected2:e,lastSelected:2}):this.setState({selected1:e,lastSelected:1})},changeMode:function(e){this.setState({mode:e})},clickCrumb:function(e){var t=e.file;console.log(t)},isSelected:function(e){var t=!!(0,f.has)(this.state,"selected1.data.revisionId")&&e.data.revisionId==this.state.selected1.data.revisionId,a=!!(0,f.has)(this.state,"selected2.data.revisionId")&&e.data.revisionId==this.state.selected2.data.revisionId;return"single"==this.state.mode?t:t||a},render:function(){var e=this.props,t=e.fileMeta,a=e.syncTimeline,n=this.state,l=n.mode,r=n.selected1,i=n.selected2,u="single"==l?[r]:(0,f.orderBy)([r,i],function(e){return new Date(e.timestamp).getTime()}),o=u[0],d=u[1]?u[1].data:void 0,c=a&&a.data?a.data.filter(function(e){return"revision"==e.event}):[];return s.default.createElement("div",{className:"layout-column flex"},s.default.createElement("div",{className:q.default.header+" layout-row layout-align-start-center"},s.default.createElement("div",{className:"flex"},t?s.default.createElement(N.default,{meta:t,clickFn:this.clickCrumb}):""),s.default.createElement(T.default,{file1:o,file2:d,revisions:c,mode:l,changeMode:this.changeMode})),s.default.createElement("div",{className:"layout-row flex"},s.default.createElement("div",{className:"layout-column flex"},s.default.createElement(_.default,{project:t.project,file1:o,file2:d,mode:l}),s.default.createElement(g.default,{className:q.default.timeline,items:c,onSelect:this.onSelect,isSelected:this.isSelected,preferPlace:"above"})),s.default.createElement(b.default,{side:"left",width:"450",widthRange:[0,450],className:"layout-column"},s.default.createElement("aside",{className:q.default.sidebar+" flex",style:{minWidth:"400px",overflowY:"auto"}},s.default.createElement(A.default,{style:{marginBottom:"15px"}},"Meta"),s.default.createElement(O.default,null,s.default.createElement("tr",null,s.default.createElement("td",null,"Name"),s.default.createElement("td",null,t.name)),s.default.createElement("tr",null,s.default.createElement("td",null,"Size"),s.default.createElement("td",null,t.size)),s.default.createElement("tr",null,s.default.createElement("td",null,"Last modified"),s.default.createElement("td",null,(0,p.default)(t.modified).fromNow())),s.default.createElement("tr",null,s.default.createElement("td",null,"Revisions"),s.default.createElement("td",null,c.length))),s.default.createElement(A.default,{style:{margin:"30px 0"}},"Timeline"),s.default.createElement(C.default,{items:a&&a.data?a.data:[]})))))}}),W=t.Component=s.default.createClass({displayName:"Component",onMount:function(e,t){e.syncTimeline&&(e.syncTimeline.data||e.syncTimeline.loading)||e.syncTimelineActions.fetchTimeline({projectId:e.fileMeta.project._id,fileId:e.fileMeta.fileId})},componentWillMount:function(){this.onMount(this.props)},render:function(){var e=this.props,t=e.fileMeta,a=e.syncTimeline;return s.default.createElement("div",{className:"layout-column flex"},s.default.createElement(B,{fileMeta:t,syncTimeline:a}))}});t.default=(0,o.connect)(r,i)(W)},1880:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(25),u=a(1877),o=n(u),d=a(1878),s=n(d);t.default=function(e){return r.default.createElement(i.Route,{component:o.default},r.default.createElement(i.Route,{path:"/",component:s.default}))},e.exports=t.default},1896:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(22),u=n(i),o=a(4),d=(n(o),a(988)),s=n(d),c=a(73),f=n(c),m=a(585),p=n(m),v=a(942),h=n(v),y=a(25),E={revision:function(e){return r.default.createElement("span",null,"modified this file.")},commit:function(e){var t={pathname:"/project/"+e.data.project+"/feed",query:{item:e.data._id}};return r.default.createElement("span",null,"added this file to commit: ",r.default.createElement(y.Link,{to:t,className:"link-primary"},e.data.summary))}},_=function(e){return E[e.event]?E[e.event](e):r.default.createElement("span",null,"Unknown Event Type")};t.default=r.default.createClass({displayName:"TimelineItem",render:function(){var e=this.props.item;return"comment"==e.event?r.default.createElement(p.default,{commentId:e.comment}):r.default.createElement(h.default,{style:{marginLeft:"5px"}},r.default.createElement("div",{className:"layout-row layout-align-start-center flex"},r.default.createElement("div",{className:s.default.avatar},r.default.createElement(f.default,{picture:e.user.picture,size:"25px",shape:"square"})),r.default.createElement("div",null,r.default.createElement("b",null,e.user.name," "),r.default.createElement("span",{className:"text-grey-3",style:{lineHeight:"1.5em"}},_(e)," - ",(0,u.default)(e.timestamp).fromNow()))))}}),e.exports=t.default},1897:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(4),u=(n(i),a(1896)),o=n(u);t.default=r.default.createClass({displayName:"TimelineVertical",render:function(){var e=this.props.items;return r.default.createElement("div",null,e.map(function(e){return r.default.createElement(o.default,{key:e._id,item:e})}))}}),e.exports=t.default},1898:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(2160),u=n(i);t.default=r.default.createClass({displayName:"SectionTitle",render:function(){var e=this.props,t=e.children,a=e.style;return r.default.createElement("div",{className:u.default.section+" layout-row",style:a},r.default.createElement("div",{className:u.default.text},t))}}),e.exports=t.default},2160:function(e,t){e.exports={secondary:"rgba(0, 0, 0, 0.7)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",section:"_🅿✌🏽👳🏼📵🏌🏼‍♂️🇮🇶",text:"_🇼🇫🚵🏿‍♂️🇦🇼🇻🇮👼🏿🤸🏼"}}});