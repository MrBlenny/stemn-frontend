module.exports=webpackJsonp([4],{0:function(e,t,a){a(588),e.exports=a(1651)},1651:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(l,r){try{var i=t[l](r),u=i.value}catch(e){return void a(e)}return i.done?void e(u):Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}var r=function(){var e=l(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("sessionState");case 2:t=e.sent,a=(0,m.default)(t),n=(0,c.syncHistoryWithStore)(o.hashHistory,a),(0,M.default)(a),(0,d.render)(u.default.createElement(s.Provider,{store:a},u.default.createElement(o.Router,{history:n,routes:(0,v.default)(a)})),document.getElementById("root"));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();a(584);var i=a(1),u=n(i),d=a(27),s=a(5),o=a(26),c=a(61),f=a(587),m=n(f),p=a(1654),v=n(p),y=a(483),h=n(y),E=a(421),_=n(E),g=a(585),M=n(g),x=(0,h.default)(_.default);r()},1652:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children;return i.default.createElement("div",{className:"layout-column flex"},t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),i=n(r),u=a(315);n(u);l.propTypes={children:r.PropTypes.element.isRequired},t.default=l,e.exports=t.default},1653:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.files,n=e.syncTimeline,l=t.params,r=l.fileId+"-"+l.revisionId;return{fileMeta:a.fileMeta[r],syncTimeline:n[l.fileId]}}function i(e){return{filesActions:(0,u.bindActionCreators)(y,e),syncTimelineActions:(0,u.bindActionCreators)(E,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.InnerComponent=void 0;var u=a(6),d=a(5),s=a(1),o=l(s),c=a(4),f=(l(c),a(15)),m=a(21),p=l(m),v=a(916),y=n(v),h=a(936),E=n(h),_=a(578),g=l(_),M=a(325),x=l(M),b=a(257),I=l(b),N=a(914),S=l(N),T=a(579),w=l(T),C=a(37),j=l(C),P=a(1670),k=l(P),O=a(937),R=l(O),A=a(1671),q=l(A),z=a(1931),B=l(z),H=t.InnerComponent=o.default.createClass({displayName:"InnerComponent",getInitialState:function(){return{selected1:this.props.syncTimeline.data[0],selected2:null,lastSelected:1,mode:"single"}},onSelect:function(e){"single"==this.state.mode?this.setState({selected1:e,lastSelected:1}):1==this.state.lastSelected?this.setState({selected2:e,lastSelected:2}):this.setState({selected1:e,lastSelected:1})},changeMode:function(e){this.setState({mode:e})},clickCrumb:function(e){var t=e.file;console.log(t)},isSelected:function(e){var t=!!(0,f.has)(this.state,"selected1.data.revisionId")&&e.data.revisionId==this.state.selected1.data.revisionId,a=!!(0,f.has)(this.state,"selected2.data.revisionId")&&e.data.revisionId==this.state.selected2.data.revisionId;return"single"==this.state.mode?t:t||a},render:function(){var e=this.props,t=e.fileMeta,a=e.syncTimeline,n=this.state,l=n.mode,r=n.selected1,i=n.selected2,u="single"==l?[r]:(0,f.orderBy)([r,i],function(e){return new Date(e.timestamp).getTime()}),d=u[0].data,s=u[1]?u[1].data:void 0,c=a&&a.data?a.data.filter(function(e){return"revision"==e.event}):[];return o.default.createElement("div",{className:"layout-column flex"},o.default.createElement("div",{className:B.default.header+" layout-row layout-align-start-center"},o.default.createElement("div",{className:"flex"},t&&t.data?o.default.createElement(S.default,{meta:t.data,clickFn:this.clickCrumb}):""),o.default.createElement(w.default,{file1:d,file2:s,revisions:c,mode:l,changeMode:this.changeMode})),o.default.createElement("div",{className:"layout-row flex"},o.default.createElement("div",{className:"layout-column flex"},o.default.createElement(g.default,{project:t.data.project,file1:d,file2:s,mode:l}),o.default.createElement(x.default,{className:B.default.timeline,items:c,onSelect:this.onSelect,isSelected:this.isSelected,preferPlace:"above"})),o.default.createElement(I.default,{side:"left",width:"450",widthRange:[0,450],className:"layout-column"},o.default.createElement("aside",{className:B.default.sidebar+" flex",style:{minWidth:"400px",overflowY:"auto"}},o.default.createElement(q.default,{style:{marginBottom:"15px"}},"Meta"),o.default.createElement(R.default,null,o.default.createElement("tr",null,o.default.createElement("td",null,"Name"),o.default.createElement("td",null,t.data.name)),o.default.createElement("tr",null,o.default.createElement("td",null,"Size"),o.default.createElement("td",null,t.data.size)),o.default.createElement("tr",null,o.default.createElement("td",null,"Last modified"),o.default.createElement("td",null,(0,p.default)(t.data.modified).fromNow())),o.default.createElement("tr",null,o.default.createElement("td",null,"Revisions"),o.default.createElement("td",null,c.length))),o.default.createElement(q.default,{style:{margin:"30px 0"}},"Timeline"),o.default.createElement(k.default,{items:a&&a.data?a.data:[]})))))}}),L=t.Component=o.default.createClass({displayName:"Component",onMount:function(e,t){var a=e.params,n=a.revisionId,l=a.fileId,r=a.projectId;e.fileMeta&&(e.fileMeta.data||e.fileMeta.loading)||e.filesActions.getMeta({fileId:l,revisionId:n}),e.syncTimeline&&(e.syncTimeline.data||e.syncTimeline.loading)||e.syncTimelineActions.fetchTimeline({projectId:r,fileId:l})},componentWillMount:function(){this.onMount(this.props)},render:function(){var e=this.props,t=e.fileMeta,a=e.syncTimeline;return o.default.createElement("div",{className:"layout-column flex"},t&&a&&a.data?o.default.createElement(H,{fileMeta:t,syncTimeline:a}):null,o.default.createElement(j.default,{show:!t||!a}))}});t.default=(0,d.connect)(r,i)(L)},1654:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(26),u=a(1652),d=n(u),s=a(1653),o=n(s);t.default=function(e){return r.default.createElement(i.Route,{component:d.default,path:"/"},r.default.createElement(i.Route,{path:"/preview/:projectId/:fileId/:revisionId",component:o.default}))},e.exports=t.default},1669:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(21),u=n(i),d=a(4),s=(n(d),a(971)),o=n(s),c=a(74),f=n(c),m=a(576),p=n(m),v=a(926),y=n(v),h=a(26),E={revision:function(e){return r.default.createElement("span",null,"modified this file.")},commit:function(e){var t={pathname:"/project/"+e.data.project+"/feed",query:{item:e.data._id}};return r.default.createElement("span",null,"added this file to commit: ",r.default.createElement(h.Link,{to:t,className:"link-primary"},e.data.summary))}},_=function(e){return E[e.event]?E[e.event](e):r.default.createElement("span",null,"Unknown Event Type")};t.default=r.default.createClass({displayName:"TimelineItem",render:function(){var e=this.props.item;return"comment"==e.event?r.default.createElement(p.default,{commentId:e.comment}):r.default.createElement(y.default,{style:{marginLeft:"5px"}},r.default.createElement("div",{className:"layout-row layout-align-start-center flex"},r.default.createElement("div",{className:o.default.avatar},r.default.createElement(f.default,{picture:e.user.picture,size:"25px",shape:"square"})),r.default.createElement("div",null,r.default.createElement("b",null,e.user.name," "),r.default.createElement("span",{className:"text-grey-3",style:{lineHeight:"1.5em"}},_(e)," - ",(0,u.default)(e.timestamp).fromNow()))))}}),e.exports=t.default},1670:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(4),u=(n(i),a(1669)),d=n(u);t.default=r.default.createClass({displayName:"TimelineVertical",render:function(){var e=this.props.items;return r.default.createElement("div",null,e.map(function(e){return r.default.createElement(d.default,{key:e._id,item:e})}))}}),e.exports=t.default},1671:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),r=n(l),i=a(1934),u=n(i);t.default=r.default.createClass({displayName:"SectionTitle",render:function(){var e=this.props,t=e.children,a=e.style;return r.default.createElement("div",{className:u.default.section+" layout-row",style:a},r.default.createElement("div",{className:u.default.text},t))}}),e.exports=t.default},1931:function(e,t){e.exports={primary:"rgb(68, 154, 211)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",sidebar:"_🏘📌🇮🇹🍖📣🏂🏽",timeline:"_🏊🏼📋📼🕐🏅🚳",header:"_👩‍👩‍👧‍👧🇧🇾🛫📪🚍🏿"}},1934:function(e,t){e.exports={secondary:"rgba(0, 0, 0, 0.7)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",section:"_👨🏼🏋🏿🏮🌾🇪🇷🎌",text:"_🚴🏼💲🍉💁🏽🇱🇹✊🏻"}}});