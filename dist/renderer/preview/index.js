module.exports=webpackJsonp([5],{0:function(e,t,a){a(599),e.exports=a(1879)},988:function(e,t){e.exports={primary:"rgb(68, 154, 211)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",sidebar:"_🎅🏼🈷👳🏻‍♂️💘🇧🇼👷🏼‍♀️",timeline:"_🤣👯🏻‍♂️🚶🏼‍♂️🤛🏽🏒🚵🏿‍♀️",header:"_🙇🏽‍♂️👶🏽👮🏼🇦🇫🕚🚶🏼"}},1788:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formatBytes=function(e,t){if(0==e)return"0 Byte";var a=1024,l=t+1||1,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,r)).toFixed(l))+" "+n[r]}},1879:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function l(n,r){try{var i=t[n](r),u=i.value}catch(e){return void a(e)}return i.done?void e(u):Promise.resolve(u).then(function(e){l("next",e)},function(e){l("throw",e)})}return l("next")})}}var r=function(){var e=n(regeneratorRuntime.mark(function e(){var t,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("sessionState");case 2:t=e.sent,a=(0,m.default)(t),l=(0,c.syncHistoryWithStore)(s.hashHistory,a),(0,g.default)(a),(0,o.render)(u.default.createElement(d.Provider,{store:a},u.default.createElement(s.Router,{history:l,routes:(0,v.default)(a)})),document.getElementById("root"));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();a(595);var i=a(1),u=l(i),o=a(26),d=a(5),s=a(25),c=a(61),f=a(598),m=l(f),p=a(1883),v=l(p),h=a(438),y=l(h),E=a(377),M=l(E),_=a(596),g=l(_),b=(0,y.default)(M.default);r()},1880:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.children;return i.default.createElement("div",{className:"layout-column flex"},t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),i=l(r),u=a(320);l(u);n.propTypes={children:r.PropTypes.element.isRequired},t.default=n,e.exports=t.default},1881:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.files,l=t.location,n=l.query,r=n.localPath,i=n.revisionId,u=n.fileId,o=n.projectId;u=u||(a.pathToId[r]?a.pathToId[r].data:"");var d=r?u:u+"-"+i;return{localPath:r,fileId:u,revisionId:i,projectId:o,fileMeta:a.fileMeta[d]}}function i(e){return{filesActions:(0,u.bindActionCreators)(f,e),syncTimelineActions:(0,u.bindActionCreators)(p,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=a(6),o=a(5),d=a(1),s=n(d),c=a(590),f=l(c),m=a(597),p=l(m),v=a(29),h=n(v),y=a(1882),E=n(y),M=a(988),_=(n(M),t.Component=s.default.createClass({displayName:"Component",onMount:function(e,t){var a=e.localPath,l=e.fileId,n=e.fileMeta,r=e.revisionId;a?e.filesActions.getMetaFromPath({path:a}):n&&(n.data||n.loading)||e.filesActions.getMeta({fileId:l,revisionId:r})},componentWillMount:function(){this.onMount(this.props)},render:function(){var e=this.props.fileMeta;return s.default.createElement("div",{className:"layout-column flex"},e&&e.data?s.default.createElement(E.default,{fileMeta:e.data}):null,s.default.createElement(h.default,{show:!e}))}}));t.default=(0,o.connect)(r,i)(_)},1882:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.syncTimeline,l=t.fileMeta;return{syncTimeline:a[l.fileId]}}function i(e){return{syncTimelineActions:(0,u.bindActionCreators)(M,e),filesActions:(0,u.bindActionCreators)(y,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=a(6),o=a(5),d=a(1),s=n(d),c=a(3),f=(n(c),a(15)),m=a(22),p=n(m),v=a(1788),h=a(590),y=l(h),E=a(597),M=l(E),_=a(588),g=n(_),b=a(329),x=n(b),I=a(260),T=n(I),N=a(929),j=n(N),P=a(589),w=n(P),S=a(29),C=(n(S),a(1902)),k=n(C),B=a(951),A=n(B),O=a(1903),R=n(O),q=a(1900),F=n(q),W=a(988),z=n(W),H=t.Component=s.default.createClass({displayName:"Component",onMount:function(e,t){e.syncTimeline&&(e.syncTimeline.data||e.syncTimeline.loading)||(e.fileMeta.project&&e.fileMeta.project._id?e.syncTimelineActions.fetchTimeline({projectId:e.fileMeta.project._id,fileId:e.fileMeta.fileId}):e.syncTimelineActions.fetchTimeline({fileId:e.fileMeta.fileId}),e.filesActions.getRelatedTasks({fileId:e.fileMeta.fileId}))},componentWillMount:function(){this.onMount(this.props)},getInitialState:function(){return{selected1:this.props.fileMeta,selected2:null,lastSelected:1,mode:"single"}},onSelect:function(e){"single"==this.state.mode?this.setState({selected1:e,lastSelected:1}):1==this.state.lastSelected?this.setState({selected2:e,lastSelected:2}):this.setState({selected1:e,lastSelected:1})},changeMode:function(e){this.setState({mode:e})},clickCrumb:function(e){var t=e.file;console.log(t)},isSelected:function(e){var t=!!(0,f.has)(this.state,"selected1.data.revisionId")&&e.data.revisionId==this.state.selected1.data.revisionId,a=!!(0,f.has)(this.state,"selected2.data.revisionId")&&e.data.revisionId==this.state.selected2.data.revisionId;return"single"==this.state.mode?t:t||a},render:function(){var e=this.props,t=e.fileMeta,a=e.syncTimeline,l=this.state,n=l.mode,r=l.selected1,i=l.selected2,u=(t.project&&t.project._id,"single"==n?[r]:(0,f.orderBy)([r,i],function(e){return new Date(e.timestamp).getTime()})),o=u[0],d=u[1]?u[1].data:void 0,c=a&&a.data?a.data.filter(function(e){return"revision"==e.event}):[],m=[{name:"This is the first task",completed:!1},{name:"And the second task goes here",completed:!0},{name:"There can be long tasks like this that get cut-off in the middle",completed:!0},{name:"Or short",completed:!1},{name:"And lots of tasks if required",completed:!1}];return s.default.createElement("div",{className:"layout-column flex"},s.default.createElement("div",{className:z.default.header+" layout-row layout-align-start-center"},s.default.createElement("div",{className:"flex"},t?s.default.createElement(j.default,{meta:t,clickFn:this.clickCrumb}):""),s.default.createElement(w.default,{file1:o,file2:d,revisions:c,mode:n,changeMode:this.changeMode})),s.default.createElement("div",{className:"layout-row flex"},s.default.createElement("div",{className:"layout-column flex"},s.default.createElement(g.default,{project:t.project,file1:o,file2:d,mode:n}),s.default.createElement(x.default,{className:z.default.timeline,items:c,onSelect:this.onSelect,isSelected:this.isSelected,preferPlace:"above"})),s.default.createElement(T.default,{side:"left",width:"450",widthRange:[0,450],className:"layout-column"},s.default.createElement("aside",{className:z.default.sidebar+" layout-column flex",style:{minWidth:"400px",overflowY:"auto"}},s.default.createElement(R.default,{style:{marginBottom:"15px"}},"Meta"),s.default.createElement(A.default,null,s.default.createElement("tr",null,s.default.createElement("td",null,"Name"),s.default.createElement("td",null,t.name)),s.default.createElement("tr",null,s.default.createElement("td",null,"Size"),s.default.createElement("td",null,(0,v.formatBytes)(t.size))),s.default.createElement("tr",null,s.default.createElement("td",null,"Last modified"),s.default.createElement("td",null,(0,p.default)(t.modified).fromNow())),c.length>0?s.default.createElement("tr",null,s.default.createElement("td",null,"Revisions"),s.default.createElement("td",null,c.length)):null),s.default.createElement("div",null,s.default.createElement(R.default,{style:{margin:"30px 0 15px"}},"Related Tasks"),(0,f.orderBy)(m,["completed"]).map(function(e,t){return s.default.createElement(F.default,{key:t,text:e.name,style:e.completed?{opacity:"0.5"}:{}})})),s.default.createElement(R.default,{style:{margin:"30px 0"}},"Timeline"),s.default.createElement("div",{className:"flex"},s.default.createElement(k.default,{items:a&&a.data?a.data:[]}))))))}});t.default=(0,o.connect)(r,i)(H)},1883:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(25),u=a(1880),o=l(u),d=a(1881),s=l(d);t.default=function(e){return r.default.createElement(i.Route,{component:o.default},r.default.createElement(i.Route,{path:"/",component:s.default}))},e.exports=t.default},1900:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(331),u=a(2166),o=l(u);t.default=r.default.createClass({displayName:"Tag",render:function(){var e=this.props,t=e.text,a=e.style;return r.default.createElement("a",{className:o.default.tag,style:a},(0,i.middle)(t,30))}}),e.exports=t.default},1901:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(22),u=l(i),o=a(3),d=(l(o),a(986)),s=l(d),c=a(62),f=l(c),m=a(586),p=l(m),v=a(940),h=l(v),y=a(25),E={revision:function(e){return r.default.createElement("span",null,"modified this file.")},commit:function(e){var t={pathname:"/project/"+e.data.project+"/feed",query:{item:e.data._id}};return r.default.createElement("span",null,"added this file to commit: ",r.default.createElement(y.Link,{to:t,className:"link-primary"},e.data.summary))}},M=function(e){return E[e.event]?E[e.event](e):r.default.createElement("span",null,"Unknown Event Type")};t.default=r.default.createClass({displayName:"TimelineItem",render:function(){var e=this.props.item;return"comment"==e.event?r.default.createElement(p.default,{commentId:e.comment}):r.default.createElement(h.default,{style:{marginLeft:"5px"}},r.default.createElement("div",{className:"layout-row layout-align-start-center flex"},r.default.createElement("div",{className:s.default.avatar},r.default.createElement(f.default,{picture:e.user.picture,size:"25px",shape:"square"})),r.default.createElement("div",null,r.default.createElement("b",null,e.user.name," "),r.default.createElement("span",{className:"text-grey-3",style:{lineHeight:"1.5em"}},M(e)," - ",(0,u.default)(e.timestamp).fromNow()))))}}),e.exports=t.default},1902:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(3),u=(l(i),a(1901)),o=l(u);t.default=r.default.createClass({displayName:"TimelineVertical",render:function(){var e=this.props.items;return r.default.createElement("div",null,e.map(function(e){return r.default.createElement(o.default,{key:e._id,item:e})}))}}),e.exports=t.default},1903:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(2167),u=l(i);t.default=r.default.createClass({displayName:"SectionTitle",render:function(){var e=this.props,t=e.children,a=e.style;return r.default.createElement("div",{className:u.default.section+" layout-row",style:a},r.default.createElement("div",{className:u.default.text},t))}}),e.exports=t.default},2166:function(e,t){e.exports={border2:"rgba(0, 0, 0, 0.3)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",tag:"_🤼🏾‍♀️👏🏼🇸🇮👩🏼‍🎤🙍🏻🇵🇳"}},2167:function(e,t){e.exports={secondary:"rgba(0, 0, 0, 0.7)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",section:"_🍌🔸👕👶🐣🤤",text:"_👃🏼👊🏽👩🏻👩🏽‍⚖️🇹🇷🏌🏼"}}});