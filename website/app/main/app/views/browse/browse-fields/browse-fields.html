<div layout="row" layout-align="center" class="m-b-30">
    <div class="md-content-container" layout="column" layout-align="center center">
        <h1 class="md-display-1 text-center m-t-50">Fields</h1>
        <div class="md-title text-grey light-font text-center">Follow fields that interest you and they'll appear in your newsfeed. </div>
        <a class="text-green text-center m-t-15" show-explanation-modal="field">What is a field?</a>
    </div>
</div>


<!--
<div class="infobar m-b-30 p-v-15 overflow-x-box" layout="row" layout-align="center">
    <div class="md-content-container md-row text-center" layout="column" layout-gt-sm="row">
        <div flex="100" flex-gt-sm="33" class="md-col" layout="column">
            <h2 class="md-title bold">Start a discussion</h2>
            <p>Got news or an event coming up?<br>Post about something interesting.</p>
        </div>
        <div flex="100" flex-gt-sm="33" class="md-col" layout="column">
            <h2 class="md-title bold">Ask anything</h2>
            <p>Link your project and ask a question. <br>Ask for help, feedback or collaborators.</p>
        </div>
        <div flex="100" flex-gt-sm="33" class="md-col" layout="column">
            <h2 class="md-title bold">Get your answer.</h2>
            <p>Expect a response in less than 24 hrs. <br>Get your results faster.</p>
        </div>
    </div>
</div>
-->

<div layout="row" layout-align="center" class="m-t-15 overflow-x-box">
    <div class="md-content-container md-no-padding m-b-60 rel-box" layout="column">
        <div class="md-row" layout="row">
            <div hide-sm class="md-col" style="width: 300px">
                <div class="m-b-30">
                    <div class="md-subhead m-b-10">Search Fields</div>
                    <div class="well-input">
                        <input type="text" ng-model="searchFilter.model" ng-change="searchFilter.onChange()" placeholder="Query fields">
                        <md-icon md-svg-icon="search"></md-icon>
                    </div>
                </div>
                <div class="m-b-30">
                    <div class="md-subhead m-b-10">Create a field</div>
                    <div class="well" layout="column">
                        <div class="text-lightgrey m-b-15">
                            Want to start a discussion or project about a new topic?
                        </div>
                        <md-button authenticate class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click="newField($event)">Create a field</md-button>
                    </div>
                </div>
            </div>
            <div flex class="md-col rel-box" layout="column">
                <div class="rel-box" style="min-height: 100px;">
                    <div class="md-subhead m-b-10">Top fields</div>
                    <table class="md-table">
                        <thead>
                            <tr>
                                <td style="width: 40px;"></td>
                                <td>Name</td>
                                <td filter-column-order filter-object="orderFilter" filter-model="followers" style="width: 100px;" class="text-center">Followers</td>
                                <td filter-column-order filter-object="orderFilter" filter-model="numProjects" style="width: 100px;" class="text-center">Projects</td>
                                <td filter-column-order filter-object="orderFilter" filter-model="numJobs" style="width: 100px;" class="text-center">Jobs</td>
                                <td hide-sm style="width: 75px;"></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in query.results">
                                <td style="padding: 15px 20px 15px 5px;">
                                    <a ui-sref="app.field.top({stub:item.stub})">
                                        <div class="avatar-circle" ng-style="item.picture && { 'background-image':'url('+item.picture+'?size=thumb&crop=true)'}"></div>
                                    </a>
                                </td>
                                <td>
                                    <a ui-sref="app.field.top({stub:item.stub})">{{item.name}}</a>
                                </td>
                                <td class="text-center">
                                    <a class="" stat-display-modal type="follow" parent-type="field" parent-id="{{item._id}}">{{item.followers}}</a>
                                </td>
                                <td class="text-center">
                                    <a class="" ui-sref="app.field.projects({stub:item.stub})">{{item.numProjects}}</a>
                                </td>
                                <td class="text-center">
                                    <a class="" ui-sref="app.field.jobs({stub:item.stub})">{{item.numJobs}}</a>
                                </td>
                                <td hide-sm>
                                    <stat-button hide-stat="true" size="sm" type="follow" parent-type="field" parent-id="{{item._id}}" count="item.followers"></stat-button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <loading-overlay ng-if="query.loading" ng-class="{'translucent' : query.results.length > 0}"></loading-overlay>
                    <div ng-hide="query.notEnoughResults">
                        <a class="well-button m-v-40 " layout="row" layout-align="center center" ng-click="query.more()" ng-disabled="query.noMoreResults">
                            <div>{{query.noMoreResults ? 'No more fields' : 'See more fields'}}</div>
                        </a>
                    </div>
                    <div ng-show="query.notEnoughResults" class="text-lightgrey m-v-40">
                        No more results. <a class="underlined text-green" ng-click="clearFilter()">Clear filters</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
