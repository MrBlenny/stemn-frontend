<div class="row" nv-file-drop="" uploader="uploader">
    <div class="col-md-12">
        <!-- Multi-Image Upload -->
        <div ng-if="!options.singleImage" nv-file-drop="" uploader="uploader">
            <div nv-file-over="" uploader="uploader" over-class="drag-over" class="drop">
                <label class="btn-upload btn btn-white">
                    <input type="file" accept=".png, .jpg, .jpeg, .gif" class="upload" nv-file-select="" uploader="uploader" multiple/>
                    <span>Upload images</span>
                </label>
                <strong>OR</strong>
                Drag and Drop your images here to upload
            </div>
        </div>
        <!-- Single-Image Upload -->
        <div ng-if="options.singleImage" nv-file-drop="" uploader="uploader">
            <div nv-file-over="" uploader="uploader" over-class="drag-over" class="drop">
                <label class="btn-upload btn btn-white">
                    <input type="file" accept=".png, .jpg, .jpeg, .gif" class="upload" nv-file-select="" uploader="uploader"/>
                    <span>Upload image</span>
                </label>
                <strong>OR</strong>
                Drag and Drop an image here to upload
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div ng-repeat="file in files" class="edit-img" ng-class="{'col-md-4 edit-img-gallery' : !options.singleImage, 'col-md-12 text-center' : options.singleImage}">
        <div ng-hide="crop">
            <img ng-src="{{file.url}}" />
        </div>
        <div ng-show="crop">
            <div class="cropArea" ng-init="croppedImage=''">
                <img-crop image="file.image || file.parent || file.url" result-image="croppedImage" area-type="{{cropShape}}" result-image-size="imgSize" result-image-aspect="{{aspect}}"></img-crop>
            </div>
        </div>
        <!-- If the file has already been cropped -->
        <div>
            <!-- If inline Crop  -->
            <div ng-show="options.singleImage" class="text-left" style="margin-top: 50px;">
                <a class="btn btn-lg btn-default" ng-show="crop" ng-click="cancel()">
                    Cancel
                </a>
                <a ng-show="crop" class="btn btn-lg btn-success pull-right" ng-click="uploadCroppedImage(croppedImage, file.parent || file.url);">
                    Save
                </a>
            </div>
            <!-- If modal Crop  -->
            <div ng-hide="options.singleImage" class="edit-buttons">
                <button type="button" class="btn btn-default" ng-click="openCropModal(file.parent || file.url, croppedImage, cropShape, imgSize, aspect)" tooltip="Crop" tooltip-placement="bottom">
                    <icon class="fa-crop"></icon>
                </button>
            </div>
        </div>
    </div>
    <div ng-repeat="item in uploader.queue" ng-class="{'col-md-4 edit-img-gallery' : !options.singleImage, 'col-md-12 text-center' : options.singleImage}">
<!--
        <img ng-src="{{item.image}}" />

        <div class="cropArea">
            <img-crop image="file.image" result-image="croppedImage" area-type="{{cropShape}}" result-image-size="imgSize" result-image-aspect="{{aspect}}"></img-crop>
        </div>
-->
        <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
        <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
        <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
        <div class="progress" style="margin-bottom: 0; height: 2px;">
            <div class="progress-bar progress-bar-success" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
        </div>
        <!--
                            <button ng-if="item.allowCrop" type="button" ng-disabled="item.isUploading" class="btn btn-success btn-xs" ng-click="uploadCroppedImage(item.croppedImage, item.file.url)">
                                Crop and Upload
                            </button>
    -->
    </div>
</div>


<div ng-hide="options.singleImage" class="text-left" style="margin-top: 50px;">
    <a class="btn btn-lg btn-default" ng-click="cancel()">
        Cancel
    </a>
    <a class="btn btn-lg btn-success pull-right" ng-click="save();">
        Save
    </a>
</div>
