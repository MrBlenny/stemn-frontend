/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map

/*
 AngularJS v1.3.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(R,W,u){'use strict';function S(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.20/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Ta(b){if(null==b||Ua(b))return!1;var a="length"in Object(b)&&b.length;
return b.nodeType===qa&&a?!0:x(b)||H(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(z(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(H(b)||Ta(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),
e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function lc(b){return function(a,c){b(c,a)}}function Fd(){return++rb}function mc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}mc(b,a);return b}function aa(b){return parseInt(b,10)}function Ob(b,a){return w(Object.create(b),a)}function A(){}function ra(b){return b}function ea(b){return function(){return b}}
function D(b){return"undefined"===typeof b}function y(b){return"undefined"!==typeof b}function L(b){return null!==b&&"object"===typeof b}function x(b){return"string"===typeof b}function Y(b){return"number"===typeof b}function ha(b){return"[object Date]"===Ca.call(b)}function z(b){return"function"===typeof b}function Va(b){return"[object RegExp]"===Ca.call(b)}function Ua(b){return b&&b.window===b}function Wa(b){return b&&b.$evalAsync&&b.$watch}function Xa(b){return"boolean"===typeof b}function nc(b){return!(!b||
!(b.nodeName||b.prop&&b.attr&&b.find))}function Gd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function wa(b){return K(b.nodeName||b[0]&&b[0].nodeName)}function Ya(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Da(b,a,c,d){if(Ua(b)||Wa(b))throw Ja("cpws");if(a){if(b===a)throw Ja("cpi");c=c||[];d=d||[];if(L(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(H(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),L(b[f])&&(c.push(b[f]),
d.push(e)),a.push(e);else{var g=a.$$hashKey;H(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),L(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);mc(a,g)}}else if(a=b)H(b)?a=Da(b,[],c,d):ha(b)?a=new Date(b.getTime()):Va(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):L(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d));return a}function sa(b,a){if(H(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(L(b))for(c in a=
a||{},b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=b[c];return a||b}function ia(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(H(b)){if(!H(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ia(b[d],a[d]))return!1;return!0}}else{if(ha(b))return ha(a)?ia(b.getTime(),a.getTime()):!1;if(Va(b))return Va(a)?b.toString()==a.toString():!1;if(Wa(b)||Wa(a)||Ua(b)||Ua(a)||H(a)||ha(a)||Va(a))return!1;c={};for(d in b)if("$"!==
d.charAt(0)&&!z(b[d])){if(!ia(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==u&&!z(a[d]))return!1;return!0}return!1}function Za(b,a,c){return b.concat($a.call(a,c))}function oc(b,a){var c=2<arguments.length?$a.call(arguments,2):[];return!z(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Za(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;"string"===typeof b&&
"$"===b.charAt(0)&&"$"===b.charAt(1)?c=u:Ua(a)?c="$WINDOW":a&&W===a?c="$DOCUMENT":Wa(a)&&(c="$SCOPE");return c}function ab(b,a){if("undefined"===typeof b)return u;Y(a)||(a=a?2:null);return JSON.stringify(b,Hd,a)}function pc(b){return x(b)?JSON.parse(b):b}function xa(b){b=B(b).clone();try{b.empty()}catch(a){}var c=B("<div>").append(b).html();try{return b[0].nodeType===bb?K(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+K(b)})}catch(d){return K(c)}}function qc(b){try{return decodeURIComponent(b)}catch(a){}}
function rc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=qc(c[0]),y(d)&&(b=y(c[1])?qc(c[1]):!0,sc.call(a,d)?H(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Pb(b){var a=[];r(b,function(b,d){H(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))});return a.length?a.join("&"):""}function sb(b){return Ea(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Id(b,a){var c,d,e=tb.length;b=B(b);for(d=0;d<e;++d)if(c=tb[d]+a,x(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};r(tb,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(tb,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Id(c,"strict-di"),
a(c,d?[d]:[],e))}function tc(b,a,c){L(c)||(c={});c=w({strictDi:!1},c);var d=function(){b=B(b);if(b.injector()){var d=b[0]===W?"document":xa(b);throw Ja("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");d=cb(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;R&&e.test(R.name)&&(c.debugInfoEnabled=!0,R.name=R.name.replace(e,""));if(R&&!f.test(R.name))return d();R.name=R.name.replace(f,"");ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)});return d()};z(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Kd(){R.name="NG_ENABLE_DEBUG_INFO!"+R.name;R.location.reload()}function Ld(b){b=ca.element(b).injector();if(!b)throw Ja("test");return b.get("$$testability")}
function uc(b,a){a=a||"_";return b.replace(Md,function(b,d){return(d?a:"")+b.toLowerCase()})}function Nd(){var b;vc||((ta=R.jQuery)&&ta.fn.on?(B=ta,w(ta.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ta.cleanData,ta.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ta._data(e,"events"))&&c.$destroy&&ta(e).triggerHandler("$destroy");b(a)}):B=T,ca.element=B,vc=!0)}function Rb(b,a,c){if(!b)throw Ja("areq",
a||"?",c||"required");return b}function La(b,a,c){c&&H(b)&&(b=b[b.length-1]);Rb(z(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function Ma(b,a){if("hasOwnProperty"===b)throw Ja("badname",a);}function wc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&z(b)?oc(e,b):b}function ub(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return B(c)}function ja(){return Object.create(null)}
function Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=S("$injector"),d=S("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||S;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return t}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),t={_invokeQueue:b,_configBlocks:d,
_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return t})}})}function Pd(b){w(b,{bootstrap:tc,copy:Da,extend:w,equals:ia,
element:B,forEach:r,injector:cb,noop:A,bind:oc,toJson:ab,fromJson:pc,identity:ra,isUndefined:D,isDefined:y,isString:x,isFunction:z,isObject:L,isNumber:Y,isElement:nc,isArray:H,version:Qd,isDate:ha,lowercase:K,uppercase:vb,callbacks:{counter:0},getTestability:Ld,$$minErr:S,$$csp:db,reloadWithDebugInfo:Kd});eb=Od(R);try{eb("ngLocale")}catch(a){eb("ngLocale",[]).provider("$locale",Rd)}eb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Sd});a.provider("$compile",xc).directive({a:Td,
input:yc,textarea:yc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:zc,ngPattern:zc,required:Ac,ngRequired:Ac,minlength:Bc,ngMinlength:Bc,maxlength:Cc,ngMaxlength:Cc,
ngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(wb).directive(Dc);a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Ec,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function fb(b){return b.replace(cf,
function(a,b,d,e){return e?d.toUpperCase():d}).replace(df,"Moz$1")}function Fc(b){b=b.nodeType;return b===qa||!b||9===b}function Gc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(ef.exec(b)||["",""])[1].toLowerCase();d=ka[d]||ka._default;c.innerHTML=d[1]+b.replace(ff,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Za(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});
return e}function T(b){if(b instanceof T)return b;var a;x(b)&&(b=N(b),a=!0);if(!(this instanceof T)){if(a&&"<"!=b.charAt(0))throw Tb("nosel");return new T(b)}if(a){a=W;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Gc(b,a))?c.childNodes:[]}Hc(this,b)}function Ub(b){return b.cloneNode(!0)}function xb(b,a){a||yb(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)yb(c[d])}function Ic(b,a,c,d){if(y(d))throw Tb("offargs");var e=(d=zb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),
function(a){if(y(c)){var d=e[a];Ya(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function yb(b,a){var c=b.ng339,d=c&&Ab[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ic(b)),delete Ab[c],b.ng339=u))}function zb(b,a){var c=b.ng339,c=c&&Ab[c];a&&!c&&(b.ng339=c=++hf,c=Ab[c]={events:{},data:{},handle:u});return c}function Vb(b,a,c){if(Fc(b)){var d=y(c),e=!d&&a&&!L(a),
f=!a;b=(b=zb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Bb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function Cb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",N((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+N(a)+" "," ")))})}function Db(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");
r(a.split(" "),function(a){a=N(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",N(c))}}function Hc(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Jc(b,a){return Eb(b,"$"+(a||"ngController")+"Controller")}function Eb(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=H(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=B.data(b,a[d]))!==u)return c;b=b.parentNode||
11===b.nodeType&&b.host}}function Kc(b){for(xb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Lc(b,a){a||xb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||R;if("complete"===a.document.readyState)a.setTimeout(b);else B(a).on("load",b)}function Mc(b,a){var c=Fb[a.toLowerCase()];return c&&Nc[wa(b)]&&c}function kf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Oc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=
a[e||c.type],g=f?f.length:0;if(g){if(D(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=sa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function bf(){this.$get=function(){return w(T,{hasClass:function(b,a){b.attr&&(b=b[0]);
return Bb(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return Db(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return Cb(b,a)}})}}function Na(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Fd)():c+":"+b}function gb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function mf(b){return(b=b.toString().replace(Pc,"").match(Qc))?"function("+(b[1]||"").replace(/[\s\r\n]+/,
" ")+")":"fn"}function cb(b,a){function c(a){return function(b,c){if(L(b))r(b,lc(a));else return a(b,c)}}function d(a,b){Ma(a,"service");if(z(b)||H(b))b=q.instantiate(b);if(!b.$get)throw Fa("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=s.invoke(b,this);if(D(c))throw Fa("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,
e[2])}}if(!n.get(a)){n.put(a,!0);try{x(a)?(c=eb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(q.invoke(a)):H(a)?b.push(q.invoke(a)):La(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Fa("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Fa("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),
b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,g){"string"===typeof f&&(g=f,f=null);var k=[],l=cb.$$annotate(b,a,g),h,q,p;q=0;for(h=l.length;q<h;q++){p=l[q];if("string"!==typeof p)throw Fa("itkn",p);k.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}H(b)&&(b=b[h]);return b.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((H(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return L(a)||z(a)?a:d},get:d,annotate:cb.$$annotate,has:function(a){return p.hasOwnProperty(a+
"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new gb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ea(b),!1)}),constant:c(function(a,b){Ma(a,"constant");p[a]=b;t[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){ca.isString(b)&&k.push(b);
throw Fa("unpr",k.join(" <- "));}),t={},s=t.$injector=h(t,function(a,b){var c=q.get(a+"Provider",b);return s.invoke(c.$get,c,u,a)});r(g(b),function(a){s.invoke(a||A)});return s}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;z(c)?c=c():nc(c)?(c=c[0],c="fixed"!==
a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||jf(function(){d.$evalAsync(g)})});return g}]}function af(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:
function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,$a.call(arguments,1))}finally{if(m--,0===m)for(;C.length;)try{C.pop()()}catch(b){c.error(b)}}}function f(a,b){(function da(){r($,function(a){a()});I=b(da,a)})()}function g(){h();l()}function h(){a:{try{M=t.state;break a}catch(a){}M=void 0}M=D(M)?null:M;ia(M,P)&&(M=P);P=M}function l(){if(G!==n.url()||E!==M)G=n.url(),E=M,r(X,function(a){a(n.url(),M)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}
var n=this,p=a[0],q=b.location,t=b.history,s=b.setTimeout,F=b.clearTimeout,v={};n.isMock=!1;var m=0,C=[];n.$$completeOutstandingRequest=e;n.$$incOutstandingRequestCount=function(){m++};n.notifyWhenNoOutstandingRequests=function(a){r($,function(a){a()});0===m?a():C.push(a)};var $=[],I;n.addPollFn=function(a){D(I)&&f(100,s);$.push(a);return a};var M,E,G=q.href,O=a.find("base"),Q=null;h();E=M;n.url=function(a,c,e){D(e)&&(e=null);q!==b.location&&(q=b.location);t!==b.history&&(t=b.history);if(a){var f=
E===e;if(G===a&&(!d.history||f))return n;var g=G&&Ga(G)===Ga(a);G=a;E=e;if(!d.history||g&&f){if(!g||Q)Q=a;c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e),c.hash=a):q.href=a}else t[c?"replaceState":"pushState"](e,"",a),h(),E=M;return n}return Q||q.href.replace(/%27/g,"'")};n.state=function(){return M};var X=[],ba=!1,P=null;n.onUrlChange=function(a){if(!ba){if(d.history)B(b).on("popstate",g);B(b).on("hashchange",g);ba=!0}X.push(a);return a};n.$$checkUrlChange=l;n.baseHref=function(){var a=
O.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var fa={},y="",la=n.baseHref();n.cookies=function(a,b){var d,e,f,g;if(a)b===u?p.cookie=encodeURIComponent(a)+"=;path="+la+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+la).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),fa={},f=0;f<d.length;f++)e=
d[f],g=e.indexOf("="),0<g&&(a=k(e.substring(0,g)),fa[a]===u&&(fa[a]=k(e.substring(g+1))));return fa}};n.defer=function(a,b){var c;m++;c=s(function(){delete v[c];e(a)},b||0);v[c]=!0;return c};n.defer.cancel=function(a){return v[a]?(delete v[a],F(a),e(A),!0):!1}}function De(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,
b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw S("$cacheFactory")("iid",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}if(!D(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete n[a]}delete l[a];
g--},removeAll:function(){l={};g=0;n={};p=q=null},destroy:function(){n=h=l=null;delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ve(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function xc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};r(a,function(a,e){var f=a.match(c);if(!f)throw ma("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===
f[2],optional:"?"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Gd("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){Ma(a,"directive");x(a)?(Rb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];r(d[a],function(d,g){try{var h=b.invoke(d);z(h)?h={compile:ea(h)}:!h.compile&&h.link&&
(h.compile=ea(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";L(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(l){e(l)}});return f}])),d[a].push(e)):r(a,lc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};
var k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,s,F,v,m,C,$,I,M){function E(a,b){try{a.addClass(b)}catch(c){}}function G(a,b,c,d,e){a instanceof B||(a=B(a));r(a,function(b,c){b.nodeType==bb&&b.nodeValue.match(/\S+/)&&(a[c]=B(b).wrap("<span></span>").parent()[0])});var f=O(a,b,a,c,d,e);G.$$addScopeClass(a);
var g=null;return function(b,c,d){Rb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==wa(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==g?B(Xb(g,B("<div>").append(a).html())):c?Ka.clone.call(a):a;if(h)for(var l in h)d.data("$"+l+"Controller",h[l].instance);G.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function O(a,b,c,d,e,f){function g(a,
c,d,e){var f,l,k,q,p,s,t;if(m)for(t=Array(c.length),q=0;q<h.length;q+=3)f=h[q],t[f]=c[f];else t=c;q=0;for(p=h.length;q<p;)l=t[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(k=a.$new(),G.$$addScopeInfo(B(l),k)):k=a,s=c.transcludeOnThisElement?Q(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?Q(a,b):null,c(f,k,l,d,s)):f&&f(a,l.childNodes,u,e)}for(var h=[],l,k,q,p,m,s=0;s<a.length;s++){l=new Yb;k=X(a[s],[],l,0===s?d:u,e);(f=k.length?fa(k,a[s],l,b,c,null,[],[],f):null)&&
f.scope&&G.$$addScopeClass(l.$$element);l=f&&f.terminal||!(q=a[s].childNodes)||!q.length?null:O(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||l)h.push(s,f,l),p=!0,m=m||f;f=null}return p?g:null}function Q(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function X(a,b,c,d,g){var h=c.$attr,l;switch(a.nodeType){case qa:la(b,ya(wa(a)),"E",d,g);for(var k,
q,p,m=a.attributes,s=0,t=m&&m.length;s<t;s++){var M=!1,I=!1;k=m[s];l=k.name;q=N(k.value);k=ya(l);if(p=U.test(k))l=l.replace(Rc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var F=k.replace(/(Start|End)$/,"");D(F)&&k===F+"Start"&&(M=l,I=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6));k=ya(l.toLowerCase());h[k]=l;if(p||!c.hasOwnProperty(k))c[k]=q,Mc(a,k)&&(c[k]=!0);Pa(a,b,q,k,p);la(b,k,"A",d,g,M,I)}a=a.className;L(a)&&(a=a.animVal);if(x(a)&&""!==a)for(;l=f.exec(a);)k=ya(l[2]),
la(b,k,"C",d,g)&&(c[k]=N(l[3])),a=a.substr(l.index+l[0].length);break;case bb:za(b,a.nodeValue);break;case 8:try{if(l=e.exec(a.nodeValue))k=ya(l[1]),la(b,k,"M",d,g)&&(c[k]=N(l[2]))}catch(v){}}b.sort(da);return b}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ma("uterdir",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return B(d)}function P(a,b,c){return function(d,e,f,g,h){e=ba(e[0],
b,c);return a(d,e,f,g,h)}}function fa(a,d,e,f,g,l,k,p,m){function s(a,b,c,d){if(a){c&&(a=P(a,c,d));a.require=J.require;a.directiveName=da;if(Q===J||J.$$isolateScope)a=Y(a,{isolateScope:!0});k.push(a)}if(b){c&&(b=P(b,c,d));b.require=J.require;b.directiveName=da;if(Q===J||J.$$isolateScope)b=Y(b,{isolateScope:!0});p.push(b)}}function M(a,b,c,d){var e,f="data",g=!1,l=c,k;if(x(b)){k=b.match(h);b=b.substring(k[0].length);k[3]&&(k[1]?k[3]=null:k[1]=k[3]);"^"===k[1]?f="inheritedData":"^^"===k[1]&&(f="inheritedData",
l=c.parent());"?"===k[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||l[f]("$"+b+"Controller");if(!e&&!g)throw ma("ctreq",b,a);return e||null}H(b)&&(e=[],r(b,function(b){e.push(M(a,b,c,d))}));return e}function I(a,c,f,g,l){function h(a,b,c){var d;Wa(a)||(c=b,b=a,a=u);A&&(d=C);c||(c=A?X.parent():X);return l(a,b,d,c,Wb)}var m,s,t,E,C,ib,X,P;d===f?(P=e,X=e.$$element):(X=B(f),P=new Yb(X,e));Q&&(E=c.$new(!0));l&&(ib=h,ib.$$boundTransclude=l);O&&($={},C={},r(O,function(a){var b={$scope:a===
Q||a.$$isolateScope?E:c,$element:X,$attrs:P,$transclude:ib};t=a.controller;"@"==t&&(t=P[a.name]);b=v(t,b,!0,a.controllerAs);C[a.name]=b;A||X.data("$"+a.name+"Controller",b.instance);$[a.name]=b}));if(Q){G.$$addScopeInfo(X,E,!0,!(na&&(na===Q||na===Q.$$originalDirective)));G.$$addScopeClass(X,!0);g=$&&$[Q.name];var ba=E;g&&g.identifier&&!0===Q.bindToController&&(ba=g.instance);r(E.$$isolateBindings=Q.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,l,h,k;switch(a.mode){case "@":P.$observe(e,
function(a){ba[d]=a});P.$$observers[e].$$scope=c;P[e]&&(ba[d]=b(P[e])(c));break;case "=":if(f&&!P[e])break;l=F(P[e]);k=l.literal?ia:function(a,b){return a===b||a!==a&&b!==b};h=l.assign||function(){g=ba[d]=l(c);throw ma("nonassign",P[e],Q.name);};g=ba[d]=l(c);f=function(a){k(a,ba[d])||(k(a,g)?h(c,a=ba[d]):ba[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(P[e],f):c.$watch(F(P[e],f),null,l.literal);E.$on("$destroy",f);break;case "&":l=F(P[e]),ba[d]=function(a){return l(c,a)}}})}$&&
(r($,function(a){a()}),$=null);g=0;for(m=k.length;g<m;g++)s=k[g],Z(s,s.isolateScope?E:c,X,P,s.require&&M(s.directiveName,s.require,X,C),ib);var Wb=c;Q&&(Q.template||null===Q.templateUrl)&&(Wb=E);a&&a(Wb,f.childNodes,u,l);for(g=p.length-1;0<=g;g--)s=p[g],Z(s,s.isolateScope?E:c,X,P,s.require&&M(s.directiveName,s.require,X,C),ib)}m=m||{};for(var E=-Number.MAX_VALUE,C,O=m.controllerDirectives,$,Q=m.newIsolateScopeDirective,na=m.templateDirective,fa=m.nonTlbTranscludeDirective,la=!1,D=!1,A=m.hasElementTranscludeDirective,
w=e.$$element=B(d),J,da,V,hb=f,za,K=0,R=a.length;K<R;K++){J=a[K];var Pa=J.$$start,U=J.$$end;Pa&&(w=ba(d,Pa,U));V=u;if(E>J.priority)break;if(V=J.scope)J.templateUrl||(L(V)?(Oa("new/isolated scope",Q||C,J,w),Q=J):Oa("new/isolated scope",Q,J,w)),C=C||J;da=J.name;!J.templateUrl&&J.controller&&(V=J.controller,O=O||{},Oa("'"+da+"' controller",O[da],J,w),O[da]=J);if(V=J.transclude)la=!0,J.$$tlb||(Oa("transclusion",fa,J,w),fa=J),"element"==V?(A=!0,E=J.priority,V=w,w=e.$$element=B(W.createComment(" "+da+": "+
e[da]+" ")),d=w[0],T(g,$a.call(V,0),d),hb=G(V,f,E,l&&l.name,{nonTlbTranscludeDirective:fa})):(V=B(Ub(d)).contents(),w.empty(),hb=G(V,f));if(J.template)if(D=!0,Oa("template",na,J,w),na=J,V=z(J.template)?J.template(w,e):J.template,V=Sc(V),J.replace){l=J;V=Sb.test(V)?Tc(Xb(J.templateNamespace,N(V))):[];d=V[0];if(1!=V.length||d.nodeType!==qa)throw ma("tplrt",da,"");T(g,w,d);R={$attr:{}};V=X(d,[],R);var aa=a.splice(K+1,a.length-(K+1));Q&&y(V);a=a.concat(V).concat(aa);S(e,R);R=a.length}else w.html(V);if(J.templateUrl)D=
!0,Oa("template",na,J,w),na=J,J.replace&&(l=J),I=of(a.splice(K,a.length-K),w,e,g,la&&hb,k,p,{controllerDirectives:O,newIsolateScopeDirective:Q,templateDirective:na,nonTlbTranscludeDirective:fa}),R=a.length;else if(J.compile)try{za=J.compile(w,e,hb),z(za)?s(null,za,Pa,U):za&&s(za.pre,za.post,Pa,U)}catch(pf){c(pf,xa(w))}J.terminal&&(I.terminal=!0,E=Math.max(E,J.priority))}I.scope=C&&!0===C.scope;I.transcludeOnThisElement=la;I.elementTranscludeOnThisElement=A;I.templateOnThisElement=D;I.transclude=hb;
m.hasElementTranscludeDirective=A;return I}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function la(b,e,f,g,l,h,k){if(e===l)return null;l=null;if(d.hasOwnProperty(e)){var q;e=a.get(e+"Directive");for(var m=0,s=e.length;m<s;m++)try{q=e[m],(g===u||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(h&&(q=Ob(q,{$$start:h,$$end:k})),b.push(q),l=q)}catch(I){c(I)}}return l}function D(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;
return!1}function S(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,l){var h=[],k,q,p=b[0],m=a.shift(),t=Ob(m,{templateUrl:null,transclude:null,
replace:null,$$originalDirective:m}),I=z(m.templateUrl)?m.templateUrl(b,c):m.templateUrl,M=m.templateNamespace;b.empty();s(I).then(function(s){var F,v;s=Sc(s);if(m.replace){s=Sb.test(s)?Tc(Xb(M,N(s))):[];F=s[0];if(1!=s.length||F.nodeType!==qa)throw ma("tplrt",m.name,I);s={$attr:{}};T(d,b,F);var C=X(F,[],s);L(m.scope)&&y(C);a=C.concat(a);S(c,s)}else F=p,b.html(s);a.unshift(t);k=fa(a,F,c,e,b,m,f,g,l);r(d,function(a,c){a==F&&(d[c]=b[0])});for(q=O(b[0].childNodes,e);h.length;){s=h.shift();v=h.shift();
var G=h.shift(),P=h.shift(),C=b[0];if(!s.$$destroyed){if(v!==p){var $=v.className;l.hasElementTranscludeDirective&&m.replace||(C=Ub(F));T(G,B(v),C);E(B(C),$)}v=k.transcludeOnThisElement?Q(s,k.transclude,P):P;k(q,s,C,d,v)}}h=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(h?h.push(b,c,d,a):(k.transcludeOnThisElement&&(a=Q(b,k.transclude,e)),k(q,b,c,d,a)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Oa(a,b,c,d){if(b)throw ma("multidir",
b.name,c.name,a,xa(d));}function za(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&G.$$addBindingClass(a);return function(a,c){var e=c.parent();b||G.$$addBindingClass(e);G.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){a=K(a||"html");switch(a){case "svg":case "math":var c=W.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function R(a,b){if("srcdoc"==
b)return $.HTML;var c=wa(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return $.RESOURCE_URL}function Pa(a,c,d,e,f){var h=R(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===wa(a))throw ma("selmulti",xa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw ma("nodomevents");var p=g[e];p!==d&&(k=p&&b(p,!0,h,f),d=p);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||
a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function T(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,l;if(a)for(g=0,l=a.length;g<l;g++)if(a[g]==d){a[g++]=c;l=g+e-1;for(var h=a.length;g<h;g++,l++)l<h?a[g]=a[l]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();a.appendChild(d);B(c).data(B(d).data());ta?(Qb=!0,ta.cleanData([d])):delete B.cache[d[B.expando]];d=1;for(e=b.length;d<e;d++)f=b[d],B(f).remove(),
a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function Z(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(l){c(l,xa(d))}}var Yb=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:ya,$addClass:function(a){a&&0<a.length&&I.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&I.removeClass(this.$$element,a)},$updateClass:function(a,
b){var c=Uc(a,b);c&&c.length&&I.addClass(this.$$element,c);(c=Uc(b,a))&&c.length&&I.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Mc(f,a),l=kf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):l&&(this[l]=b,f=l);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=uc(a,"-"));g=wa(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=M(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",l=N(b),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(l)?
h:/(,)/,l=l.split(h),h=Math.floor(l.length/2),k=0;k<h;k++)var q=2*k,g=g+M(N(l[q]),!0),g=g+(" "+N(l[q+1]));l=N(l[2*k]).split(/\s/);g+=M(N(l[0]),!0);2===l.length&&(g+=" "+N(l[1]));this[a]=b=g}!1!==d&&(null===b||b===u?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ja()),e=d[a]||(d[a]=[]);e.push(b);m.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});
return function(){Ya(e,b)}}};var V=b.startSymbol(),na=b.endSymbol(),Sc="{{"==V||"}}"==na?ra:function(a){return a.replace(/\{\{/g,V).replace(/}}/g,na)},U=/^ngAttr[A-Z]/;G.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:A;G.$$addBindingClass=k?function(a){E(a,"ng-binding")}:A;G.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:A;G.$$addScopeClass=k?function(a,b){E(a,b?"ng-isolate-scope":
"ng-scope")}:A;return G}]}function ya(b){return fb(b.replace(Rc,""))}function Uc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Tc(b){b=B(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&qf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){Ma(a,"controller");L(a)?w(b,a):b[a]=c};this.allowGlobals=function(){a=
!0};this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!L(a.$scope))throw S("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,l,k){var n,p,q;l=!0===l;k&&x(k)&&(q=k);if(x(g)){k=g.match(c);if(!k)throw rf("ctrlfmt",g);p=k[1];q=q||k[3];g=b.hasOwnProperty(p)?b[p]:wc(h.$scope,p,!0)||(a?wc(e,p,!0):u);La(g,p,!0)}if(l)return l=(H(g)?g[g.length-1]:g).prototype,n=Object.create(l||null),q&&f(h,q,n,p||g.name),w(function(){d.invoke(g,n,h,p);return n},{instance:n,identifier:q});
n=d.instantiate(g,h,p);q&&f(h,q,n,p||g.name);return n}}]}function Ge(){this.$get=["$window",function(b){return B(b.document)}]}function He(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(x(b)){var c=b.replace(sf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Vc))||(d=(d=c.match(tf))&&uf[d[0]].test(c));d&&(b=pc(c))}}return b}function Wc(b){var a=ja(),c,d,e;if(!b)return a;r(b.split("\n"),function(b){e=b.indexOf(":");c=K(N(b.substr(0,
e)));d=N(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Xc(b){var a=L(b)?b:u;return function(c){a||(a=Wc(b));return c?(c=a[K(c)],void 0===c&&(c=null),c):a}}function Yc(b,a,c,d){if(z(d))return d(b,a,c);r(d,function(d){b=d(b,a,c)});return b}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return L(a)&&"[object File]"!==Ca.call(a)&&"[object Blob]"!==Ca.call(a)&&"[object FormData]"!==Ca.call(a)?ab(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},
post:sa($b),put:sa($b),patch:sa($b)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);b.data=a.data?Yc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?b:h.reject(b)}function d(a){var b,c={};r(a,function(a,d){z(a)?(b=
a(),null!=b&&(c[d]=b)):c[d]=a});return c}if(!ca.isObject(a))throw S("$http")("badreq",a);var e=w({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var c=b.headers,e=w({},a.headers),f,g,c=w({},c.common,c[K(a.method)]);a:for(f in c){a=K(f);for(g in e)if(K(g)===a)continue a;e[f]=c[f]}return d(e)}(a);e.method=vb(e.method);var f=[function(a){var d=a.headers,e=Yc(a.data,Xc(d),u,a.transformRequest);D(e)&&r(d,function(a,b){"content-type"===K(b)&&
delete d[b]});D(a.withCredentials)&&!D(b.withCredentials)&&(a.withCredentials=b.withCredentials);return n(a,e).then(c,c)},u],g=h.when(e);for(r(t,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var l=f.shift(),g=g.then(a,l)}g.success=function(a){La(a,"fn");g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=function(a){La(a,"fn");g.then(null,function(b){a(b.data,
b.status,b.headers,e)});return g};return g}function n(c,f){function l(b,c,d,e){function f(){m(c,b,d,e)}E&&(200<=b&&300>b?E.put(Q,[b,c,Wc(d),e]):E.remove(Q));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function m(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?I.resolve:I.reject)({data:a,status:b,headers:Xc(d),config:c,statusText:e})}function n(a){m(a.data,a.status,sa(a.headers()),a.statusText)}function t(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,1)}var I=h.defer(),M=I.promise,
E,G,O=c.headers,Q=p(c.url,c.params);k.pendingRequests.push(c);M.then(t,t);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(E=L(c.cache)?c.cache:L(b.cache)?b.cache:q);E&&(G=E.get(Q),y(G)?G&&z(G.then)?G.then(n,n):H(G)?m(G[1],G[0],sa(G[2]),G[3]):m(G,200,{},"OK"):E.put(Q,M));D(G)&&((G=Zc(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:u)&&(O[c.xsrfHeaderName||b.xsrfHeaderName]=G),d(c.method,Q,f,l,O,c.timeout,c.withCredentials,c.responseType));return M}function p(a,b){if(!b)return a;
var c=[];Ed(b,function(a,b){null===a||D(a)||(H(a)||(a=[a]),r(a,function(a){L(a)&&(a=ha(a)?a.toISOString():ab(a));c.push(Ea(b)+"="+Ea(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var q=f("$http"),t=[];r(c,function(a){t.unshift(x(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){r(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){k[a]=function(b,c,d){return k(w(d||
{},{method:a,url:b,data:c}))}})})("post","put","patch");k.defaults=b;return k}]}function vf(){return new R.XMLHttpRequest}function Le(){this.$get=["$browser","$window","$document",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;f.type="text/javascript";f.src=a;f.async=!0;n=function(a){f.removeEventListener("load",n,!1);f.removeEventListener("error",n,!1);e.body.removeChild(f);f=null;var g=-1,t="unknown";
a&&("load"!==a.type||d[b].called||(a={type:"error"}),t=a.type,g="error"===a.type?404:200);c&&c(g,t)};f.addEventListener("load",n,!1);f.addEventListener("error",n,!1);e.body.appendChild(f);return n}return function(e,h,l,k,n,p,q,t){function s(){m&&m();C&&C.abort()}function F(a,d,e,f,g){I!==u&&c.cancel(I);m=C=null;a(d,e,f,g);b.$$completeOutstandingRequest(A)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==K(e)){var v="_"+(d.counter++).toString(36);d[v]=function(a){d[v].data=a;d[v].called=!0};
var m=f(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){F(k,a,d[v].data,"",b);d[v]=A})}else{var C=a();C.open(e,h,!0);r(n,function(a,b){y(a)&&C.setRequestHeader(b,a)});C.onload=function(){var a=C.statusText||"",b="response"in C?C.response:C.responseText,c=1223===C.status?204:C.status;0===c&&(c=b?200:"file"==Aa(h).protocol?404:0);F(k,c,b,C.getAllResponseHeaders(),a)};e=function(){F(k,-1,null,null,"")};C.onerror=e;C.onabort=e;q&&(C.withCredentials=!0);if(t)try{C.responseType=t}catch($){if("json"!==
t)throw $;}C.send(l||null)}if(0<p)var I=c(s,p);else p&&z(p.then)&&p.then(s)}}function Ie(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,t,s){function F(c){return c.replace(k,b).replace(n,a)}function v(a){try{var b=a;a=t?e.getTrusted(t,b):e.valueOf(b);var c;if(s&&!y(a))c=a;else if(null==a)c="";else{switch(typeof a){case "string":break;
case "number":a=""+a;break;default:a=ab(a)}c=a}return c}catch(g){c=ac("interr",f,g.toString()),d(c)}}s=!!s;for(var m,C,r=0,I=[],M=[],E=f.length,G=[],O=[];r<E;)if(-1!=(m=f.indexOf(b,r))&&-1!=(C=f.indexOf(a,m+h)))r!==m&&G.push(F(f.substring(r,m))),r=f.substring(m+h,C),I.push(r),M.push(c(r,v)),r=C+l,O.push(G.length),G.push("");else{r!==E&&G.push(F(f.substring(r)));break}if(t&&1<G.length)throw ac("noconcat",f);if(!g||I.length){var Q=function(a){for(var b=0,c=I.length;b<c;b++){if(s&&D(a[b]))return;G[O[b]]=
a[b]}return G.join("")};return w(function(a){var b=0,c=I.length,e=Array(c);try{for(;b<c;b++)e[b]=M[b](a);return Q(e)}catch(g){a=ac("interr",f,g.toString()),d(a)}},{exp:f,expressions:I,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(M,function(c,e){var f=Q(c);z(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),"g"),n=new RegExp(a.replace(/./g,f),"g");g.startSymbol=function(){return b};g.endSymbol=function(){return a};return g}]}function Je(){this.$get=
["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,p=a.clearInterval,q=0,t=y(k)&&!k,s=(t?d:c).defer(),F=s.promise;l=y(l)?l:0;F.then(null,null,e);F.$$intervalId=n(function(){s.notify(q++);0<l&&q>=l&&(s.resolve(q),p(F.$$intervalId),delete f[F.$$intervalId]);t||b.$apply()},h);f[F.$$intervalId]=s;return F}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete f[b.$$intervalId],!0):
!1};return e}]}function Rd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=sb(b[a]);
return b.join("/")}function $c(b,a){var c=Aa(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=aa(c.port)||xf[c.protocol]||null}function ad(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Aa(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=rc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ua(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");
return-1==a?b:b.substr(0,a)}function Gb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b,a,c){this.$$html5=!0;c=c||"";$c(b,this);this.$$parse=function(b){var c=ua(a,b);if(!x(c))throw Hb("ipthprfx",b,a);ad(c,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var b=Pb(this.$$search),c=this.$$hash?"#"+sb(this.$$hash):"";this.$$url=bc(this.$$path)+(b?"?"+b:"")+c;this.$$absUrl=a+this.$$url.substr(1)};this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),
!0;var f,g;(f=ua(b,d))!==u?(g=f,g=(f=ua(c,f))!==u?a+(ua("/",f)||f):b+g):(f=ua(a,d))!==u?g=a+f:a==d+"/"&&(g=a);g&&this.$$parse(g);return!!g}}function dc(b,a,c){$c(b,this);this.$$parse=function(d){var e=ua(b,d)||ua(a,d),f;D(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",D(e)&&(b=d,this.replace())):(f=ua(c,e),D(f)&&(f=e));ad(f,this);d=this.$$path;var e=b,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,""));g.exec(f)||(d=(f=g.exec(d))?f[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var a=
Pb(this.$$search),e=this.$$hash?"#"+sb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+e;this.$$absUrl=b+(this.$$url?c+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function bd(b,a,c){this.$$html5=!0;dc.apply(this,arguments);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=ua(a,d))?f=b+c+g:a===d+"/"&&(f=a);f&&this.$$parse(f);return!!f};this.$$compose=function(){var a=Pb(this.$$search),
e=this.$$hash?"#"+sb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+e;this.$$absUrl=b+c+this.$$url}}function Ib(b){return function(){return this[b]}}function cd(b,a){return function(c){if(D(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Me(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Xa(b)?(a.enabled=b,this):L(b)?(Xa(b.enabled)&&(a.enabled=b.enabled),Xa(b.requireBase)&&
(a.requireBase=b.requireBase),Xa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var p=d.url(),q;if(a.enabled){if(!n&&a.requireBase)throw Hb("nobase");q=p.substring(0,p.indexOf("/",
p.indexOf("//")+2))+(n||"/");n=e.history?cc:bd}else q=Ga(p),n=dc;var t=q.substr(0,Ga(q).lastIndexOf("/")+1);k=new n(q,t,"#"+b);k.$$parseLinkUrl(p,p);k.$$state=d.state();var s=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=B(b.target);"a"!==wa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var l=e.prop("href"),h=e.attr("href")||e.attr("xlink:href");L(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=
Aa(l.animVal).href);s.test(l)||!l||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(l,h)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});Gb(k.absUrl())!=Gb(p)&&d.url(k.absUrl(),!0);var F=!0;d.onUrlChange(function(a,b){D(ua(t,a))?g.location.href=a:(c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,
!1,e)):(F=!1,l(d,e)))}),c.$$phase||c.$digest())});c.$watch(function(){var a=Gb(d.url()),b=Gb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(F||q)F=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=
a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||A;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),
debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function va(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw ga("isecfld",a);return b}function dd(b,a){b+="";if(!x(b))throw ga("iseccst",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw ga("isecfn",a);if(b.window===b)throw ga("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw ga("isecdom",a);if(b===Object)throw ga("isecobj",
a);}return b}function ec(b){return b.constant}function jb(b,a,c,d,e){oa(b,e);oa(a,e);c=c.split(".");for(var f,g=0;1<c.length;g++){f=va(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h);b=oa(h,e)}f=va(c.shift(),e);oa(b[f],e);return b[f]=d}function Qa(b){return"constructor"==b}function ed(b,a,c,d,e,f,g){va(b,f);va(a,f);va(c,f);va(d,f);va(e,f);var h=function(a){return oa(a,f)},l=g||Qa(b)?h:ra,k=g||Qa(a)?h:ra,n=g||Qa(c)?h:ra,p=g||Qa(d)?h:ra,q=g||Qa(e)?h:ra;return function(f,g){var h=g&&g.hasOwnProperty(b)?
g:f;if(null==h)return h;h=l(h[b]);if(!a)return h;if(null==h)return u;h=k(h[a]);if(!c)return h;if(null==h)return u;h=n(h[c]);if(!d)return h;if(null==h)return u;h=p(h[d]);return e?null==h?u:h=q(h[e]):h}}function yf(b,a){return function(c,d){return b(c,d,oa,a)}}function zf(b,a,c){var d=a.expensiveChecks,e=d?Af:Bf,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=u,a=f;while(e<
h);return f};else{var l="";d&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=d;r(g,function(a,b){va(a,c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;if(d||Qa(a))e="eso("+e+", fe)",k=!0;l+="if(s == null) return undefined;\ns="+e+";\n"});l+="return s;";a=new Function("s","l","eso","fe",l);a.toString=ea(l);k&&(a=yf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c,d){return jb(a,d,b,c,b)};return e[b]=f}function fc(b){return z(b.valueOf)?b.valueOf():Cf.call(b)}function Oe(){var b=ja(),
a=ja();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=fc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,
[])),l;if(1===e.length){var h=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,h)||(l=d(a),h=b&&fc(b));return l},b,c)}for(var k=[],q=0,p=e.length;q<p;q++)k[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var h=e[c](a);if(b||(b=!g(h,k[c])))k[c]=h&&fc(h)}b&&(l=d(a));return l},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;z(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=
!0;r(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;z(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function n(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){z(b)&&b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==
h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=[a]);return c}var q={csp:d.csp,expensiveChecks:!1},t={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var m,r,u;switch(typeof d){case "string":u=d=d.trim();var I=g?a:b;m=I[u];m||(":"===d.charAt(0)&&":"===d.charAt(1)&&(r=!0,d=d.substring(2)),g=g?t:q,m=new gc(g),m=(new kb(m,c,g)).parse(d),m.constant?m.$$watchDelegate=n:r?(m=e(m),m.$$watchDelegate=m.literal?k:l):m.inputs&&(m.$$watchDelegate=h),I[u]=m);return p(m,f);
case "function":return p(d,f);default:return p(A,f)}}}]}function Qe(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=["$browser","$exceptionHandler",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&
c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;c.processScheduled=!1;c.pending=u;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{z(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(l){d.reject(l),a(l)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=S("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||
[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(L(b)||z(b))d=b&&b.then;z(d)?(this.promise.$$state.status=
-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(z(b)?
b(c):c)}catch(l){a(l)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return l(e,!1)}return d&&z(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function t(a){if(!z(a))throw h("norslvr",a);if(!(this instanceof t))return new t(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};
p.defer=function(){return new g};p.reject=function(a){var b=new g;b.reject(a);return b.promise};p.when=n;p.all=function(a){var b=new g,c=0,d=H(a)?[]:{};r(a,function(a,e){c++;n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function $e(){this.$get=["$window","$timeout",function(b,a){function c(){for(var a=0;a<n.length;a++){var b=n[a];b&&(n[a]=null,b())}k=n.length=0}function d(a){var b=
n.length;k++;n.push(a);0===b&&(l=h(c));return function(){0<=b&&(b=n[b]=null,0===--k&&l&&(l(),l=null,n.length=0))}}var e=b.requestAnimationFrame||b.webkitRequestAnimationFrame,f=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,g=!!e,h=g?function(a){var b=e(a);return function(){f(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};d.supported=g;var l,k=0,n=[];return d}]}function Pe(){function b(a){function b(){this.$$watchers=this.$$nextSibling=
this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=++rb;this.$$ChildScope=null}b.prototype=a;return b}var a=10,c=S("$rootScope"),d=null,e=null;this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++rb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=
null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function p(a){if(v.$$phase)throw c("inprog",v.$$phase);v.$$phase=a}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function t(){}function s(){for(;u.length;)try{u.shift()()}catch(a){g(a)}e=null}function F(){null===e&&(e=l.defer(function(){v.$apply(s)}))}n.prototype={constructor:n,$new:function(a,c){var d;c=c||this;a?
(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(a||c!=this)&&d.$on("$destroy",k);return d},$watch:function(a,b,c){var e=h(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e);var f=this.$$watchers,g={fn:b,last:t,get:e,exp:a,eq:!!c};d=null;z(b)||(g.fn=A);f||(f=this.$$watchers=[]);f.unshift(g);return function(){Ya(f,
g);d=null}},$watchGroup:function(a,b){function c(){l=!1;h?(h=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,l=!1,h=!0;if(!a.length){var k=!0;g.$evalAsync(function(){k&&b(e,e,g)});return function(){k=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var h=g.$watch(a,function(a,f){e[b]=a;d[b]=f;l||(l=!0,g.$evalAsync(c))});f.push(h)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=
a;var b,d,g,l;if(!D(e)){if(L(e))if(Ta(e))for(f!==p&&(f=p,t=f.length=0,k++),a=e.length,t!==a&&(k++,f.length=t=a),b=0;b<a;b++)l=f[b],g=e[b],d=l!==l&&g!==g,d||l===g||(k++,f[b]=g);else{f!==n&&(f=n={},t=0,k++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],l=f[b],b in f?(d=l!==l&&g!==g,d||l===g||(k++,f[b]=g)):(t++,f[b]=g,k++));if(t>a)for(b in k++,f)e.hasOwnProperty(b)||(t--,delete f[b])}else f!==e&&(f=e,k++);return k}}c.$stateful=!0;var d=this,e,f,g,l=1<b.length,k=0,q=h(a,c),p=[],n={},m=!0,t=0;return this.$watch(q,
function(){m?(m=!1,b(e,e,d)):b(e,g,d);if(l)if(L(e))if(Ta(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)sc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,q,n,r=a,F,P=[],u,y;p("$digest");l.$$checkUrlChange();this===v&&null!==e&&(l.defer.cancel(e),s());d=null;do{n=!1;for(F=this;m.length;){try{y=m.shift(),y.scope.$eval(y.expression,y.locals)}catch(w){g(w)}d=null}a:do{if(k=F.$$watchers)for(q=k.length;q--;)try{if(b=k[q])if((f=b.get(F))!==(h=b.last)&&
!(b.eq?ia(f,h):"number"===typeof f&&"number"===typeof h&&isNaN(f)&&isNaN(h)))n=!0,d=b,b.last=b.eq?Da(f,null):f,b.fn(f,h===t?f:h,F),5>r&&(u=4-r,P[u]||(P[u]=[]),P[u].push({msg:z(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}));else if(b===d){n=!1;break a}}catch(D){g(D)}if(!(k=F.$$childHead||F!==this&&F.$$nextSibling))for(;F!==this&&!(k=F.$$nextSibling);)F=F.$parent}while(F=k);if((n||m.length)&&!r--)throw v.$$phase=null,c("infdig",a,P);}while(n||m.length);for(v.$$phase=null;C.length;)try{C.shift()()}catch(B){g(B)}},
$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==v){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=
this.$applyAsync=A;this.$on=this.$watch=this.$watchGroup=function(){return A};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a,b){v.$$phase||m.length||l.defer(function(){m.length&&v.$digest()});m.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){C.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){g(b)}finally{v.$$phase=
null;try{v.$digest()}catch(c){throw g(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&u.push(b);F()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,l={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){l.defaultPrevented=
!0},defaultPrevented:!1},h=Za([l],arguments,1),k,q;do{d=e.$$listeners[a]||c;l.currentScope=e;k=0;for(q=d.length;k<q;k++)if(d[k])try{d[k].apply(null,h)}catch(p){g(p)}else d.splice(k,1),k--,q--;if(f)return l.currentScope=null,l;e=e.$parent}while(e);l.currentScope=null;return l},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=Za([e],arguments,1),l,h;c=d;){e.currentScope=
c;d=c.$$listeners[a]||[];l=0;for(h=d.length;l<h;l++)if(d[l])try{d[l].apply(null,f)}catch(k){g(k)}else d.splice(l,1),l--,h--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var v=new n,m=v.$$asyncQueue=[],C=v.$$postDigestQueue=[],u=v.$$applyAsyncQueue=[];return v}]}function Sd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=
function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Aa(c).href;return""===f||f.match(e)?c:"unsafe:"+f}}}function Df(b){if("self"===b)return b;if(x(b)){if(-1<b.indexOf("***"))throw Ba("iwcard",b);b=gd(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(Va(b))return new RegExp("^"+b.source+"$");throw Ba("imatcher");}function hd(b){var a=[];y(b)&&r(b,function(b){a.push(Df(b))});
return a}function Te(){this.SCE_CONTEXTS=pa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=hd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&(a=hd(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?Zc(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};
return b}var f=function(a){throw Ba("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[pa.HTML]=e(g);h[pa.CSS]=e(g);h[pa.URL]=e(g);h[pa.JS]=e(g);h[pa.RESOURCE_URL]=e(h[pa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||b===u||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===u||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof
g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var g=Aa(e.toString()),p,q,t=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){t=!0;break}if(t)for(p=0,q=a.length;p<q;p++)if(d(a[p],g)){t=!1;break}if(t)return e;throw Ba("insecurl",e.toString());}if(c===pa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&
8>Ra)throw Ba("iequirks");var d=sa(pa);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=ra);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(pa,function(a,b){var c=K(b);d[fb("parse_as_"+c)]=function(b){return e(a,b)};d[fb("get_trusted_"+c)]=function(b){return f(a,b)};d[fb("trust_as_"+
c)]=function(b){return g(a,b)}});return d}]}function Ue(){this.$get=["$window","$document",function(b,a){var c={},d=aa((/android (\d+)/.exec(K((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit");k=!!("transition"in l||g+"Transition"in l);n=!!("animation"in l||g+"Animation"in
l);!d||k&&n||(k=x(f.body.style.webkitTransition),n=x(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=Ra)return!1;if(D(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:db(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function We(){this.$get=["$templateCache","$http","$q","$sce",function(b,a,c,d){function e(f,g){e.totalPendingRequests++;x(f)&&b.get(f)||(f=d.getTrustedResourceUrl(f));var h=
a.defaults&&a.defaults.transformResponse;H(h)?h=h.filter(function(a){return a!==Zb}):h===Zb&&(h=null);return a.get(f,{cache:b,transformResponse:h})["finally"](function(){e.totalPendingRequests--}).then(function(a){return a.data},function(a){if(!g)throw ma("tpload",f);return c.reject(a)})}e.totalPendingRequests=0;return e}]}function Xe(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var d=
ca.element(a).data("$binding");d&&r(d,function(d){c?(new RegExp("(^|\\s)"+gd(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=
["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){var n=y(k)&&!k,p=(n?d:c).defer(),q=p.promise;l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}n||b.$apply()},l);q.$$timeoutId=l;g[l]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Aa(b){Ra&&(Z.setAttribute("href",b),b=Z.href);
Z.setAttribute("href",b);return{href:Z.href,protocol:Z.protocol?Z.protocol.replace(/:$/,""):"",host:Z.host,search:Z.search?Z.search.replace(/^\?/,""):"",hash:Z.hash?Z.hash.replace(/^#/,""):"",hostname:Z.hostname,port:Z.port,pathname:"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname}}function Zc(b){b=x(b)?Aa(b):b;return b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=ea(R)}function Ec(b){function a(c,d){if(L(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+
"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",jd);a("date",kd);a("filter",Ef);a("json",Ff);a("limitTo",Gf);a("lowercase",Hf);a("number",ld);a("orderBy",md);a("uppercase",If)}function Ef(){return function(b,a,c){if(!H(b))return b;var d;switch(null!==a?typeof a:"null"){case "function":break;case "boolean":case "null":case "number":case "string":d=!0;case "object":a=Jf(a,c,d);break;default:return b}return b.filter(a)}}function Jf(b,
a,c){var d=L(b)&&"$"in b;!0===a?a=ia:z(a)||(a=function(a,b){if(D(a))return!1;if(null===a||null===b)return a===b;if(L(a)||L(b))return!1;a=K(""+a);b=K(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!L(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=null!==b?typeof b:"null",g=null!==a?typeof a:"null";if("string"===g&&"!"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(H(b))return b.some(function(b){return Ha(b,a,c,d)});switch(f){case "object":var h;if(d){for(h in b)if("$"!==
h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return e?!1:Ha(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!z(e)&&!D(e)&&(f="$"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case "function":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){D(d)&&(d=a.CURRENCY_SYM);D(e)&&(e=a.PATTERNS[1].maxFrac);return null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==
b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||L(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",l=[],k=!1;if(-1!==g.indexOf("e")){var n=g.match(/([\d\.]+)e(-?)(\d+)/);n&&"-"==n[2]&&n[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||"").length;D(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(od),k=g[0],g=g[1]||"",p=0,q=a.lgSize,
t=a.gSize;if(k.length>=q+t)for(p=k.length-q,n=0;n<p;n++)0===(p-n)%t&&0!==n&&(h+=c),h+=k.charAt(n);for(n=p;n<k.length;n++)0===(k.length-n)%q&&0!==n&&(h+=c),h+=k.charAt(n);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return l.join("")}function Jb(b,a,c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function U(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=
c;0===e&&-12==c&&(e=12);return Jb(e,a,d)}}function Kb(b,a){return function(c,d){var e=c["get"+b](),f=vb(a?"SHORT"+b:b);return d[f][e]}}function pd(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Jb(a,b)}}function hc(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function kd(b){function a(a){var b;if(b=a.match(c)){a=
new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11]));h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3]));f=aa(b[4]||0)-f;g=aa(b[5]||0)-g;h=aa(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g="",h=[],l,k;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;x(c)&&(c=Kf.test(c)?
aa(c):a(c));Y(c)&&(c=new Date(c));if(!ha(c))return c;for(;e;)(k=Lf.exec(e))?(h=Za(h,k,1),e=h.pop()):(h.push(e),e=null);f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));r(h,function(a){l=Mf[a];g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ff(){return function(b,a){D(a)&&(a=2);return ab(b,a)}}function Gf(){return function(b,a){Y(b)&&(b=b.toString());return H(b)||x(b)?(a=Infinity===Math.abs(Number(a))?Number(a):
aa(a))?0<a?b.slice(0,a):b.slice(a):x(b)?"":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&(a=a.toString(),f(a))?a:""}function h(a,b){var c=typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=
a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Ta(a))return a;c=H(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||ra;if(x(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)});return $a.call(a).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},
d))}}function Ia(b){z(b)&&(b={link:b});b.restrict=b.restrict||"AC";return ea(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Lb;f.$error={};f.$$success={};f.$pending=u;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){r(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Ma(a.$name,
"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});r(f.$$success,function(b,c){f.$setValidity(c,null,a)});Ya(g,a)};sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];
d&&(Ya(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Sa);d.addClass(b,Mb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Sa,Mb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,"ng-submitted");f.$submitted=!0;h.$setSubmitted()}}function ic(b){b.$formatters.push(function(a){return b.$isEmpty(a)?
a:a.toString()})}function lb(b,a,c,d,e,f){var g=K(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=N(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};
a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",n)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Nb(b,a){return function(c,d){var e,f;if(ha(c))return c;if(x(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Nf.test(c))return new Date(c);b.lastIndex=0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,
dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function mb(b,a,c,d){return function(e,f,g,h,l,k,n){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?ha(a)?a:c(a):u}td(e,f,g,h);lb(e,f,g,h,l,k);var t=h&&h.$options&&h.$options.timezone,s;h.$$parserName=b;
h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),"UTC"===t&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):u});h.$formatters.push(function(a){if(a&&!ha(a))throw nb("datefmt",a);if(p(a)){if((s=a)&&"UTC"===t){var b=6E4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return n("date")(a,d,t)}s=null;return""});if(y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||D(r)||c(a)>=r};g.$observe("min",function(a){r=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var v;
h.$validators.max=function(a){return!p(a)||D(v)||c(a)<=v};g.$observe("max",function(a){v=q(a);h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=L(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?u:b})}function ud(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw nb("constexpr",c,d);return b(a)}return e}function jc(b,a){b="ngClass"+b;return["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],
n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(!H(a)){if(x(a))return a.split(" ");if(L(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function k(b){if(!0===a||f.$index%2===a){var k=e(b||[]);if(!n){var t=l(k,1);h.$addClass(t)}else if(!ia(b,
n)){var s=e(n),t=d(k,s),k=d(s,k),t=l(t,1),k=l(k,-1);t&&t.length&&c.addClass(g,t);k&&k.length&&c.removeClass(g,k)}}n=sa(b)}var n;f.$watch(h[b],k,!0);h.$observe("class",function(a){k(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+uc(b,"-"):"";
a(ob+b,!0===c);a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[ob]=e.hasClass(ob));d.$setValidity=function(b,e,f){e===u?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=u));Xa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(xd,!0),d.$valid=d.$invalid=u,c("",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=
!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?u:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Of=/^\/(.+)\/([a-z]*)$/,K=function(b){return x(b)?b.toLowerCase():b},sc=Object.prototype.hasOwnProperty,vb=function(b){return x(b)?b.toUpperCase():b},Ra,B,ta,$a=[].slice,qf=[].splice,Pf=[].push,Ca=Object.prototype.toString,Ja=S("ng"),ca=R.angular||(R.angular={}),eb,rb=0;Ra=W.documentMode;A.$inject=[];ra.$inject=[];var H=
Array.isArray,N=function(b){return x(b)?b.trim():b},gd=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},db=function(){if(y(db.isActive_))return db.isActive_;var b=!(!W.querySelector("[ng-csp]")&&!W.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return db.isActive_=b},tb=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,vc=!1,Qb,qa=1,bb=3,Qd={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};T.expando="ng339";var Ab=
T.cache={},hf=1;T._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\:\-\_]+(.))/g,df=/^moz([A-Z])/,Qf={mouseleave:"mouseout",mouseenter:"mouseover"},Tb=S("jqLite"),gf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sb=/<|&#?\w+;/,ef=/<([\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ka={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option;ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead;ka.th=ka.td;var Ka=T.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===W.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),T(R).on("load",a))},toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=b?B(this[b]):B(this[this.length+b])},length:0,push:Pf,sort:[].sort,
splice:[].splice},Fb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){Fb[K(b)]=b});var Nc={};r("input select option textarea button form details".split(" "),function(b){Nc[b]=!0});var Oc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Vb,removeData:yb},function(b,a){T[a]=b});r({data:Vb,inheritedData:Eb,scope:function(b){return B.data(b,"$scope")||Eb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return B.data(b,
"$isolateScope")||B.data(b,"$isolateScopeNoTemplate")},controller:Jc,injector:function(b){return Eb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Bb,css:function(b,a,c){a=fb(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=b.nodeType;if(d!==bb&&2!==d&&8!==d)if(d=K(a),Fb[d])if(y(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||A).specified?d:u;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=
b.getAttribute(a,2),null===b?u:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(D(b)){var d=a.nodeType;return d===qa||d===bb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(D(a)){if(b.multiple&&"select"===wa(b)){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(D(a))return b.innerHTML;xb(b,!0);b.innerHTML=a},empty:Kc},function(b,a){T.prototype[a]=
function(a,d){var e,f,g=this.length;if(b!==Kc&&(2==b.length&&b!==Bb&&b!==Jc?a:d)===u){if(L(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===u?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:yb,on:function a(c,d,e,f){if(y(f))throw Tb("onargs");if(Fc(c)){var g=zb(c,!0);f=g.events;var h=g.handle;h||(h=g.handle=lf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],
l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Qf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Ic,one:function(a,c,d){a=B(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;xb(a);r(new T(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];r(a.childNodes,
function(a){a.nodeType===qa&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new T(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;r(new T(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=B(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:Lc,detach:function(a){Lc(a,!0)},after:function(a,
c){var d=a,e=a.parentNode;c=new T(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:Db,removeClass:Cb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;D(f)&&(f=!Bb(a,c));(f?Db:Cb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=
zb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:g,target:a},c.type&&(e=w(e,c)),c=sa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,f)})}},function(a,c){T.prototype[c]=function(c,
e,f){for(var g,h=0,l=this.length;h<l;h++)D(g)?(g=a(this[h],c,e,f),y(g)&&(g=B(g))):Hc(g,a(this[h],c,e,f));return y(g)?g:this};T.prototype.bind=T.prototype.on;T.prototype.unbind=T.prototype.off});gb.prototype={put:function(a,c){this[Na(a,this.nextUid)]=c},get:function(a){return this[Na(a,this.nextUid)]},remove:function(a){var c=this[a=Na(a,this.nextUid)];delete this[a];return c}};var Qc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Rf=/,/,Sf=/^\s*(_?)(\S+?)\1\s*$/,Pc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Fa=S("$injector");
cb.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw x(d)&&d||(d=a.name||mf(a)),Fa("strictdi",d);c=a.toString().replace(Pc,"");c=c.match(Qc);r(c[1].split(Rf),function(a){a.replace(Sf,function(a,c,d){e.push(d)})})}a.$inject=e}}else H(a)?(c=a.length-1,La(a[c],"fn"),e=a.slice(0,c)):La(a,"fn",!0);return e};var Tf=S("$animate"),Ce=["$provide",function(a){this.$$selectors={};this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Tf("notcsel",
c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=ja();r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});r(c,function(a,
c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){n||(n=a.defer(),d(function(){n.resolve();n=null}));return n.promise}function k(a,c){if(ca.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,e);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){k(a,c);a.remove();
return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=B(a);c=x(c)?c:H(c)?c.join(" "):"";r(a,function(a){Db(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=B(a);c=x(c)?c:H(c)?c.join(" "):"";r(a,function(a){Cb(a,c)});k(a,d);return l()},setClass:function(a,c,d,e){var k=this,l=!1;a=B(a);var m=a.data("$$animateClasses");
m?e&&m.options&&(m.options=ca.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=H(c)?c:c.split(" ");d=H(d)?d:d.split(" ");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,c);d&&this.$$removeClassImmediately(a,d);
k(a,e);return l()},enabled:A,cancel:A}}]}],ma=S("$compile");xc.$inject=["$provide","$$sanitizeUriProvider"];var Rc=/^((?:x|data)[\:\-_])/i,rf=S("$controller"),Vc="application/json",$b={"Content-Type":Vc+";charset=utf-8"},tf=/^\[|^\{(?!\{)/,uf={"[":/]$/,"{":/}$/},sf=/^\)\]\}',?\n/,ac=S("$interpolate"),Uf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Hb=S("$location"),Vf={$$html5:!1,$$replace:!1,absUrl:Ib("$$absUrl"),url:function(a){if(D(a))return this.$$url;var c=Uf.exec(a);(c[1]||
""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:Ib("$$protocol"),host:Ib("$$host"),port:Ib("$$port"),path:cd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||Y(a))a=a.toString(),this.$$search=rc(a);else if(L(a))a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a;else throw Hb("isrcharg");
break;default:D(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:cd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([bd,dc,cc],function(a){a.prototype=Object.create(Vf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==cc||!this.$$html5)throw Hb("nostate");this.$$state=D(c)?null:c;return this}});var ga=S("$parse"),Wf=Function.prototype.call,Xf=Function.prototype.apply,
Yf=Function.prototype.bind,pb=ja();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;pb[c]=a});pb["this"]=function(a){return a};pb["this"].sharedGetter=!0;var qb=w(ja(),{"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:u},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,
c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,
c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Zf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},gc=function(a){this.options=a};gc.prototype={constructor:gc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,
text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=qb[c],f=qb[d];qb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===
typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw ga("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=K(this.text.charAt(this.index));
if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=this.text.charAt(this.index);if(!this.isIdent(c)&&
!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Zf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===
a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var kb=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};kb.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0});kb.prototype={constructor:kb,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);a.literal=!!a.literal;a.constant=!!a.constant;
return a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in pb?a=pb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):
"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw ga("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw ga("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===f||!(c||d||e||f))return a}return!1},expect:function(a,
c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw ga("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},unaryFn:function(a,c){var d=qb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=qb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=
this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return zf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},
filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){e[0]=l;for(l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(u,e)}return c(l)},{constant:!c.$stateful&&f.every(ec),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a=
this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect("?")&&(c=this.assignment(),this.consume(":"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},logicalOR:function(){for(var a=
this.logicalAND(),c;c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=","===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,this.additive());return a},
additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(kb.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=this.identifier();
return w(function(d,e,f){d=f||a(d,e);return null==d?u:c(d)},{assign:function(d,e,f){var g=a(d,f);g||a.assign(d,g={},f);return c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume("]");return w(function(e,f){var g=a(e,f),h=dd(d(e,f),c);va(h,c);return g?oa(g[h],c):u},{assign:function(e,f,g){var h=va(dd(d(e,g),c),c),l=oa(a(e,g),c);l||a.assign(e,l={},g);return l[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());
while(this.expect(","))}this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?u:g,k=a(g,h,l)||A;if(f)for(var n=d.length;n--;)f[n]=oa(d[n](g,h),e);oa(l,e);if(k){if(k.constructor===k)throw ga("isecfn",e);if(k===Wf||k===Xf||k===Yf)throw ga("isecff",e);}l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]);f&&(f.length=0);return oa(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))
}this.consume("]");return w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(ec),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError("invalid key",d);this.consume(":");c.push(this.expression())}while(this.expect(","))}this.consume("}");return w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=
c[h](d,f);return g},{literal:!0,constant:c.every(ec),inputs:c})}};var Bf=ja(),Af=ja(),Cf=Object.prototype.valueOf,Ba=S("$sce"),pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ma=S("$compile"),Z=W.createElement("a"),id=Aa(R.location.href);Ec.$inject=["$provide"];jd.$inject=["$locale"];ld.$inject=["$locale"];var od=".",Mf={yyyy:U("FullYear",4),yy:U("FullYear",2,0,!0),y:U("FullYear",1),MMMM:Kb("Month"),MMM:Kb("Month",!0),MM:U("Month",2,1),M:U("Month",1,1),dd:U("Date",2),d:U("Date",
1),HH:U("Hours",2),H:U("Hours",1),hh:U("Hours",2,-12),h:U("Hours",1,-12),mm:U("Minutes",2),m:U("Minutes",1),ss:U("Seconds",2),s:U("Seconds",1),sss:U("Milliseconds",3),EEEE:Kb("Day"),EEE:Kb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Jb(Math[0<a?"floor":"ceil"](a/60),2)+Jb(Math.abs(a%60),2))},ww:qd(2),w:qd(1),G:hc,GG:hc,GGG:hc,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},Lf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
Kf=/^\-?\d+$/;kd.$inject=["$locale"];var Hf=ea(K),If=ea(vb);md.$inject=["$parse"];var Td=ea({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===Ca.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),wb={};r(Fb,function(a,c){if("multiple"!=a){var d=ya("ng-"+c);wb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],
function(a){g.$set(c,!!a)})}}}}});r(Oc,function(a,c){wb[c]=function(){return{priority:100,link:function(a,e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Of))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r(["src","srcset","href"],function(a){var c=ya("ng-"+a);wb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ca.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",
g=null);f.$observe(c,function(c){c?(f.$set(h,c),Ra&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Lb={$addControl:A,$$renameControl:function(a,c){a.$name=c},$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A,$setSubmitted:A};rd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:rd,compile:function(d,e){d.addClass(Sa).addClass(ob);var f=e.name?"name":a&&e.ngForm?"ngForm":
!1;return{pre:function(a,d,e,k){if(!("action"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue();k.$setSubmitted()});c.preventDefault()};d[0].addEventListener("submit",n,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",n,!1)},0,!1)})}var p=k.$$parentForm;f&&(jb(a,null,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(jb(a,null,k.$name,u,k.$name),p.$$renameControl(k,c),jb(a,null,k.$name,k,k.$name))}));d.on("$destroy",function(){p.$removeControl(k);
f&&jb(a,null,e[f],u,k.$name);w(k,Lb)})}}}}}]},Ud=yd(),ge=yd(!0),Nf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ag=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zd=/^(\d{4})-(\d{2})-(\d{2})$/,Ad=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,kc=/^(\d{4})-W(\d\d)$/,Bd=/^(\d{4})-(\d\d)$/,
Cd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){lb(a,c,d,e,f,g);ic(e)},date:mb("date",zd,Nb(zd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ad,Nb(Ad,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Cd,Nb(Cd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",kc,function(a,c){if(ha(a))return a;if(x(a)){kc.lastIndex=0;var d=kc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);c&&(d=c.getHours(),g=
c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:mb("month",Bd,Nb(Bd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){td(a,c,d,e);lb(a,c,d,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):u});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw nb("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||
D(h)||a>=h};d.$observe("min",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));h=Y(a)&&!isNaN(a)?a:u;e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||D(l)||a<=l};d.$observe("max",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));l=Y(a)&&!isNaN(a)?a:u;e.$validate()})}},url:function(a,c,d,e,f,g){lb(a,c,d,e,f,g);ic(e);e.$$parserName="url";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){lb(a,c,d,e,f,g);ic(e);
e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){D(d.name)&&c.attr("name",++rb);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,"ngTrueValue",d.ngTrueValue,!0),n=ud(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&
a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ia(a,k)});e.$parsers.push(function(a){return a?k:n})},hidden:A,button:A,submit:A,reset:A,file:A},yc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Dd[K(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\d+)$/,ye=function(){return{restrict:"A",priority:100,compile:function(a,
c){return cg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},Zd=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===u?"":a})}}}}],ae=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));
c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===u?"":a})}}}}],$d=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],xe=ea({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),
be=jc("",!0),de=jc("Odd",0),ce=jc("Even",1),ee=Ia({compile:function(a,c){c.$set("ngCloak",u);a.removeClass("ng-cloak")}}),fe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Dc={},dg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=ya("ng-"+a);Dc[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=
d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=W.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=
ub(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=["$templateRequest","$anchorScroll","$animate",function(a,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",l=f.autoscroll;return function(e,f,p,q,r){var s=0,u,v,m,C=function(){v&&(v.remove(),v=null);u&&(u.$destroy(),u=null);m&&(d.leave(m).then(function(){v=null}),v=m,m=null)};e.$watch(g,function(g){var p=function(){!y(l)||l&&!e.$eval(l)||
c()},M=++s;g?(a(g,!0).then(function(a){if(M===s){var c=e.$new();q.template=a;a=r(c,function(a){C();d.enter(a,null,f).then(p)});u=c;m=a;u.$emit("$includeContentLoaded",g);e.$eval(h)}},function(){M===s&&(C(),e.$emit("$includeContentError",g))}),e.$emit("$includeContentRequested",g)):(C(),q.template=null)})}}}}],Ae=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Gc(f.template,W).childNodes)(c,function(a){d.append(a)},
{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?N(f):f;e.$parsers.push(function(a){if(!D(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?N(a):a)});return c}});e.$formatters.push(function(a){return H(a)?a.join(f):u});e.$isEmpty=function(a){return!a||
!a.length}}}},ob="ng-valid",vd="ng-invalid",Sa="ng-pristine",Mb="ng-dirty",xd="ng-pending",nb=S("ngModel"),eg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=u;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;
this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=u;this.$name=n(d.name||"",!1)(a);var p=f(d.ngModel),q=p.assign,t=p,s=q,F=null,v,m=this;this.$$setOptions=function(a){if((m.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");t=function(a){var d=p(a);z(d)&&(d=c(a));return d};s=function(a,c){z(p(a))?g(a,{$$$p:m.$modelValue}):q(a,m.$modelValue)}}else if(!p.assign)throw nb("nonassign",d.ngModel,xa(e));};this.$render=A;this.$isEmpty=function(a){return D(a)||
""===a||null===a||a!==a};var C=e.inheritedData("$formController")||Lb,w=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:C,$animate:g});this.$setPristine=function(){m.$dirty=!1;m.$pristine=!0;g.removeClass(e,Mb);g.addClass(e,Sa)};this.$setDirty=function(){m.$dirty=!0;m.$pristine=!1;g.removeClass(e,Sa);g.addClass(e,Mb);C.$setDirty()};this.$setUntouched=function(){m.$touched=!1;m.$untouched=!0;g.setClass(e,"ng-untouched","ng-touched")};this.$setTouched=
function(){m.$touched=!0;m.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(F);m.$viewValue=m.$$lastCommittedViewValue;m.$render()};this.$validate=function(){if(!Y(m.$modelValue)||!isNaN(m.$modelValue)){var a=m.$$rawModelValue,c=m.$valid,d=m.$modelValue,e=m.$options&&m.$options.allowInvalid;m.$$runValidators(a,m.$$lastCommittedViewValue,function(f){e||c===f||(m.$modelValue=f?a:u,m.$modelValue!==d&&m.$$writeModelToScope())})}};this.$$runValidators=
function(a,c,d){function e(){var d=!0;r(m.$validators,function(e,f){var h=e(a,c);d=d&&h;g(f,h)});return d?!0:(r(m.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;r(m.$asyncValidators,function(f,h){var l=f(a,c);if(!l||!z(l.then))throw nb("$asyncValidators",l);g(h,u);d.push(l.then(function(){g(h,!0)},function(a){e=!1;g(h,!1)}))});d.length?k.all(d).then(function(){h(e)},A):h(!0)}function g(a,c){l===w&&m.$setValidity(a,c)}function h(a){l===w&&d(a)}w++;var l=w;(function(){var a=
m.$$parserName||"parse";if(v===u)g(a,null);else return v||(r(m.$validators,function(a,c){g(c,null)}),r(m.$asyncValidators,function(a,c){g(c,null)})),g(a,v),v;return!0})()?e()?f():h(!1):h(!1)};this.$commitViewValue=function(){var a=m.$viewValue;h.cancel(F);if(m.$$lastCommittedViewValue!==a||""===a&&m.$$hasNativeValidators)m.$$lastCommittedViewValue=a,m.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=m.$$lastCommittedViewValue;if(v=D(c)?u:!0)for(var d=
0;d<m.$parsers.length;d++)if(c=m.$parsers[d](c),D(c)){v=!1;break}Y(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=t(a));var e=m.$modelValue,f=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=c;f&&(m.$modelValue=c,m.$modelValue!==e&&m.$$writeModelToScope());m.$$runValidators(c,m.$$lastCommittedViewValue,function(a){f||(m.$modelValue=a?c:u,m.$modelValue!==e&&m.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,m.$modelValue);r(m.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};
this.$setViewValue=function(a,c){m.$viewValue=a;m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=m.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e["default"])&&(d=e["default"]));h.cancel(F);d?F=h(function(){m.$commitViewValue()},d):l.$$phase?m.$commitViewValue():a.$apply(function(){m.$commitViewValue()})};a.$watch(function(){var c=t(a);if(c!==m.$modelValue&&(m.$modelValue===m.$modelValue||c===c)){m.$modelValue=
m.$$rawModelValue=c;v=u;for(var d=m.$formatters,e=d.length,f=c;e--;)f=d[e](f);m.$viewValue!==f&&(m.$viewValue=m.$$lastCommittedViewValue=f,m.$render(),m.$$runValidators(c,f,A))}return c})}],ve=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:eg,priority:1,compile:function(c){c.addClass(Sa).addClass("ng-untouched").addClass(ob);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Lb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe("name",
function(a){h.$name!==a&&l.$$renameControl(h,a)});a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\s+|^)default(\s+|$)/,ze=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);
this.$options.updateOn!==u?(this.$options.updateOnDefault=!1,this.$options.updateOn=N(this.$options.updateOn.replace(fg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},le=Ia({terminal:!0,priority:1E3}),me=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function l(a){g.text(a||"")}var k=h.count,n=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(n)||{},t={},n=c.startSymbol(),s=
c.endSymbol(),u=n+k+"-"+p+s,v=ca.noop,m;r(h,function(a,c){var d=e.exec(c);d&&(d=(d[1]?"-":"")+K(d[2]),q[d]=g.attr(h.$attr[c]))});r(q,function(a,e){t[e]=c(a.replace(d,u))});f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===m||d&&isNaN(m)||(v(),v=f.$watch(t[c],l),m=c)})}}}],ne=["$parse","$animate",function(a,c){var d=S("ngRepeat"),e=function(a,c,d,e,k,n,p){a[d]=e;k&&(a[k]=n);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=
0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=W.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var n=k[1],p=k[2],q=k[3],t=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var s=k[3]||k[1],F=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||
/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw d("badident",q);var v,m,C,y,w={$id:Na};t?v=a(t):(C=function(a,c){return Na(c)},y=function(a){return a});return function(a,f,g,k,n){v&&(m=function(c,d,e){F&&(w[F]=c);w[s]=d;w.$index=e;return v(a,w)});var t=ja();a.$watchCollection(p,function(g){var k,p,v=f[0],G,w=ja(),D,I,A,z,H,O,x;q&&(a[q]=g);if(Ta(g))H=g,p=m||C;else{p=m||y;H=[];for(x in g)g.hasOwnProperty(x)&&"$"!=x.charAt(0)&&H.push(x);H.sort()}D=
H.length;x=Array(D);for(k=0;k<D;k++)if(I=g===H?k:H[k],A=g[I],z=p(I,A,k),t[z])O=t[z],delete t[z],w[z]=O,x[k]=O;else{if(w[z])throw r(x,function(a){a&&a.scope&&(t[a.id]=a)}),d("dupes",h,z,A);x[k]={id:z,scope:u,clone:u};w[z]=!0}for(G in t){O=t[G];z=ub(O.clone);c.leave(z);if(z[0].parentNode)for(k=0,p=z.length;k<p;k++)z[k].$$NG_REMOVED=!0;O.scope.$destroy()}for(k=0;k<D;k++)if(I=g===H?k:H[k],A=g[I],O=x[k],O.scope){G=v;do G=G.nextSibling;while(G&&G.$$NG_REMOVED);O.clone[0]!=G&&c.move(ub(O.clone),null,B(v));
v=O.clone[O.clone.length-1];e(O.scope,k,s,A,F,I,D)}else n(function(a,d){O.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,null,B(v));v=f;O.clone=a;w[O.id]=O;e(O.scope,k,s,A,F,I,D)});t=w})}}}}],oe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],he=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?
"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pe=Ia(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)},!0)}),qe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=
0;for(e=k.length;d<e;++d){var s=ub(h[d].clone);k[d].$destroy();(l[d]=a.leave(s)).then(n(l,d))}h.length=0;k.length=0;(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=W.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],re=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,
element:c})}}),se=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),ue=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw S("ngTransclude")("orphan",xa(c));f(function(a){c.empty();c.append(a)})}}),Vd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],gg=S("ngOptions"),te=ea({restrict:"A",
terminal:!0}),Wd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:A};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var l=this,k={},n=e,p;l.databound=d.ngModel;l.init=function(a,c,d){n=a;p=d};l.addOption=function(c,d){Ma(c,'"option value"');
k[c]=!0;n.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],n.$viewValue===a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c="? "+Na(c)+" ?";p.val(c);a.prepend(p);a.val(c);p.prop("selected",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on("$destroy",function(){l.renderUnknownOption=A})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=
d.$viewValue;e.hasOption(a)?(z.parent()&&z.remove(),c.val(a),""===a&&v.prop("selected",!0)):null==a&&v?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){z.parent()&&z.remove();d.$setViewValue(c.val())})})}function n(a,c,d){var e;d.$render=function(){var a=new gb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ia(e,d.$viewValue)||(e=sa(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),
function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){T[A]=d;I&&(T[I]=c);return a(e,T)}function l(a){var c;if(t)if(K&&H(a)){c=new gb([]);for(var d=0;d<a.length;d++)c.put(h(K,null,a[d]),!0)}else c=new gb(a);else K&&(a=h(K,null,a));return function(d,e){var f;f=K?K:x?x:E;return t?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function k(){m||(e.$$postDigest(p),m=!0)}function n(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function p(){m=!1;var a={"":[]},c=[""],d,k,s,u,v;s=g.$viewValue;
u=L(e)||[];var A=I?Object.keys(u).sort():u,x,B,H,E,P={};v=l(s);var N=!1,U,W;R={};for(E=0;H=A.length,E<H;E++){x=E;if(I&&(x=A[E],"$"===x.charAt(0)))continue;B=u[x];d=h(M,x,B)||"";(k=a[d])||(k=a[d]=[],c.push(d));d=v(x,B);N=N||d;B=h(z,x,B);B=y(B)?B:"";W=K?K(e,T):I?A[E]:E;K&&(R[W]=x);k.push({id:W,label:B,selected:d})}t||(w||null===s?a[""].unshift({id:"",label:"",selected:!N}):N||a[""].unshift({id:"?",label:"",selected:!0}));x=0;for(A=c.length;x<A;x++){d=c[x];k=a[d];S.length<=x?(s={element:D.clone().attr("label",
d),label:k.label},u=[s],S.push(u),f.append(s.element)):(u=S[x],s=u[0],s.label!=d&&s.element.attr("label",s.label=d));N=null;E=0;for(H=k.length;E<H;E++)d=k[E],(v=u[E+1])?(N=v.element,v.label!==d.label&&(n(P,v.label,!1),n(P,d.label,!0),N.text(v.label=d.label),N.prop("label",v.label)),v.id!==d.id&&N.val(v.id=d.id),N[0].selected!==d.selected&&(N.prop("selected",v.selected=d.selected),Ra&&N.prop("selected",v.selected))):(""===d.id&&w?U=w:(U=C.clone()).val(d.id).prop("selected",d.selected).attr("selected",
d.selected).prop("label",d.label).text(d.label),u.push(v={element:U,label:d.label,id:d.id,selected:d.selected}),n(P,d.label,!0),N?N.after(U):s.element.append(U),N=U);for(E++;u.length>E;)d=u.pop(),n(P,d.label,!1),d.element.remove()}for(;S.length>x;){k=S.pop();for(E=1;E<k.length;++E)n(P,k[E].label,!1);k[0].element.remove()}r(P,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=s.match(d)))throw gg("iexp",s,xa(f));var z=c(v[2]||v[1]),A=v[4]||v[6],B=/ as /.test(v[0])&&v[1],x=B?c(B):
null,I=v[5],M=c(v[3]||""),E=c(v[2]?v[1]:A),L=c(v[7]),K=v[8]?c(v[8]):null,R={},S=[[{element:f,label:""}]],T={};w&&(a(w)(e),w.removeClass("ng-scope"),w.remove());f.empty();f.on("change",function(){e.$apply(function(){var a=L(e)||[],c;if(t)c=[],r(f.val(),function(d){d=K?R[d]:d;c.push("?"===d?u:""===d?null:h(x?x:E,d,a[d]))});else{var d=K?R[f.val()]:f.val();c="?"===d?u:""===d?null:h(x?x:E,d,a[d])}g.$setViewValue(c);p()})});g.$render=p;e.$watchCollection(L,k);e.$watchCollection(function(){var a=L(e),c;
if(a&&H(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(z,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(z,d,a[d]));return c},k);t&&e.$watchCollection(function(){return g.$modelValue},k)}if(l[1]){var q=l[0];l=l[1];var t=h.multiple,s=h.ngOptions,w=!1,v,m=!1,C=B(W.createElement("option")),D=B(W.createElement("optgroup")),z=C.clone();h=0;for(var A=g.children(),x=A.length;h<x;h++)if(""===A[h].value){v=w=A.eq(h);break}q.init(l,w,z);t&&(l.$isEmpty=function(a){return!a||0===a.length});
s?p(e,g,l):t?n(e,g,l):k(e,g,l,q)}}}}],Yd=["$interpolate",function(a){var c={addOption:A,removeOption:A};return{restrict:"E",priority:100,compile:function(d,e){if(D(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),n=k.data("$selectController")||k.parent().data("$selectController");n&&n.databound||(n=c);f?a.$watch(f,function(a,c){e.$set("value",a);c!==a&&n.removeOption(c);n.addOption(a,d)}):n.addOption(e.value,d);d.on("$destroy",function(){n.removeOption(e.value)})}}}}],
Xd=ea({restrict:"E",terminal:!1}),Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){x(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw S("ngPattern")("noregexp",g,a,xa(c));f=
a||u;e.$validate()});e.$validators.pattern=function(a,c){return e.$isEmpty(c)||D(f)||f.test(c)}}}}},Cc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=aa(a);f=isNaN(a)?-1:a;e.$validate()});e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Bc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=aa(a)||0;e.$validate()});e.$validators.minlength=
function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};R.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Nd(),Pd(ca),B(W).ready(function(){Jd(W,tc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
//# sourceMappingURL=angular.min.js.map

/*
 AngularJS v1.3.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(N,f,W){'use strict';f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,r,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?r.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){r.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,r){var g=r[0].body;return function(r){return f(function(){r(g.offsetWidth)})}}]).config(["$provide","$animateProvider",function(X,r){function g(f){for(var n=0;n<f.length;n++){var g=
f[n];if(1==g.nodeType)return g}}function ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,ca=r.$$selectors,aa=f.isArray,da=f.isString,ga=f.isObject,w={running:!0},u;X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,I,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b));return b.disabled||b.running&&b.structural}
function D(a){var c,b=N.defer();b.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function J(a){if(ga(a))return a.tempClasses&&da(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],k=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===
e?(b||"addClass"==c.event)&&k.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))});return 0<f.length+k.length&&[f.join(" "),k.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(".");(Y.transitions||Y.animations)&&c.push(M.get(ca[""]));for(var d=0;d<a.length;d++){var f=a[d],l=ca[f];l&&!b[f]&&(c.push(M.get(l)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,
fn:b}),fa.push({event:a,fn:c}),!0}function l(c,k,x){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(k){(k[f]||t)();if(++m<E.length)break a;k=null}x()}};switch(c.event){case "setClass":k.push(c.fn(a,e,A,p,d));break;case "animate":k.push(c.fn(a,b,d.from,d.to,p));break;case "addClass":k.push(c.fn(a,e||b,p,d));break;case "removeClass":k.push(c.fn(a,A||b,p,d));break;default:k.push(c.fn(a,p,d))}});k&&0===k.length&&x()}var k=a[0];if(k){d&&(d.to=d.to||{},d.from=
d.from||{});var e,A;aa(b)&&(e=b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var x="setClass"==c,E=x||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(B(p)){var G=t,m=[],fa=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");n(T(p),function(a){!h(a,c)&&x&&(h(a,"addClass"),h(a,"removeClass"))});return{node:k,event:c,className:b,isClassBased:E,isSetClassOperation:x,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){G=a;l(fa,m,function(){G=
t;a()})},after:function(a){g=a;l(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),G(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function H(a,c,b,d,h,l,k,e){function A(e){var k="$animate:"+e;g&&g[k]&&0<g[k].length&&I(function(){b.triggerHandler(k,{event:a,className:c})})}function x(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,l())}function G(){if(!G.hasBeenRun){m&&m.applyStyles();G.hasBeenRun=!0;k&&k.tempClasses&&n(k.tempClasses,
function(a){u.removeClass(b,a)});var x=b.data("$$ngAnimateState");x&&(m&&m.isClassBased?C(b,c):(I(function(){var e=b.data("$$ngAnimateState")||{};ea==e.index&&C(b,c,a)}),b.data("$$ngAnimateState",x)));A("close");e()}}var m=U(b,a,c,k);if(!m)return p(),x(),E(),G(),t;a=m.event;c=m.className;var g=f.element._data(m.node),g=g&&g.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),x(),E(),G(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)"setClass"==
q.event?(s.push(q),C(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),C(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={};C(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c));if(h)return p(),x(),E(),A("close"),e(),t;L=d.active||{};s=d.totalActive||0;if("leave"==a)b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),
C(a,"ng-leave"))});u.addClass(b,"ng-animate");k&&k.tempClasses&&n(k.tempClasses,function(a){u.addClass(b,a)});var ea=K++;s++;L[c]=m;b.data("$$ngAnimateState",{last:m,active:L,index:ea,totalActive:s});x();m.before(function(e){var k=b.data("$$ngAnimateState");e=e||!k||!k.active[c]||m.isClassBased&&k.active[c].event!=a;p();!0===e?G():(E(),m.after(G))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),
n(a,function(a){a=f.element(a);(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})})}function C(a,c){if(ba(a,y))w.disabled||(w.running=!1,w.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState")}}function z(a,c){if(w.disabled)return!0;if(ba(a,y))return w.running;var b,d,g;do{if(0===c.length)break;var l=ba(c,y),
k=l?w:c.data("$$ngAnimateState")||{};if(k.disabled)return!0;l&&(g=!0);!1!==b&&(l=c.data("$$ngAnimateChildren"),f.isDefined(l)&&(b=l));d=d||k.running||k.last&&!k.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data("$$ngAnimateState",w);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){w.running=!1})}))}),K=0,V=r.classNameFilter(),B=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,
c,b,d,h){d=d||"ng-inline-animate";h=J(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return H("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=J(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return H("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=J(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return H("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,
c,b,d){d=J(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return H("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=J(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,l=a.data("$$animateClasses"),k=!!l;l||(l={classes:{}});h=l.classes;c=aa(c)?c:c.split(" ");n(c,
function(a){a&&a.length&&(h[a]=!0)});b=aa(b)?b:b.split(" ");n(b,function(a){a&&a.length&&(h[a]=!1)});if(k)return d&&l.options&&(l.options=f.extend(l.options||{},d)),l.promise;a.data("$$animateClasses",l={classes:h,options:d});return l.promise=D(function(e){var k,b,c,d=g(a);d&&(k=a.data("$$animateClasses"),a.removeData("$$animateClasses"),c=a.parent(),b=d.parentNode);if(!b||b.$$NG_REMOVED||d.$$NG_REMOVED)e();else{b=a.data("$$ngAnimateState")||{};var f=S(a,k,b.active);return f?H("setClass",f,a,c,null,
function(){f[0]&&O.$$addClassImmediately(a,f[0]);f[1]&&O.$$removeClassImmediately(a,f[1])},k.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)C(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0;c.data("$$ngAnimateState",b)}break;case 1:w.disabled=!a;break;default:a=!w.disabled}return!!a}}}]);r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,w,M,Y){function y(){b||(b=Y(function(){c=[];b=null;B={}}))}
function I(a,e){b&&b();c.push(e);b=Y(function(){n(c,function(a){a()});c=[];b=null;B={}})}function P(a,e){var b=g(a);a=f.element(b);l.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(l);l=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?B[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+"Duration"]),c);d=Math.max(Q(a[z+"Delay"]),
d);g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(B[e]=b)}return b}function Q(a){var e=0;a=da(a)?a.split(/\s*,\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a);f=h+
"-"+g(e).getAttribute("class");var p=f+" "+c,h=B[p]?++B[p].total:0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!B[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},l=Z(e,p);f=l.transitionDuration;l=l.animationDuration;if(b&&0===f&&0===l)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<l&&0<m.animationDelay&&0===m.animationDuration;e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||
[]});p=g(e);c&&(J(p,!0),d&&e.css(d));b&&(p.style[K+"PlayState"]="paused");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,l);u.removeClass(e,t);z&&M.cancel(z);H(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-I,0)>=B&&b>=y&&c()}var m=g(e);a=e.data("$$ngAnimateCSS3Data");if(-1!=m.getAttribute("class").indexOf(b)&&
a){var l="",t="";n(b.split(" "),function(a,b){var e=(0<b?" ":"")+a;l+=e+"-active";t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var w=0;0<v.animationDelay&&0===v.animationDuration&&(w=v.animationDelay*q,s.push(C+"animation-play-state"));r=Math.round(100*Math.max(r,w))/100}r||(u.addClass(e,l),a.blockTransition&&J(m,!1));var F=Z(e,a.cacheKey+" "+l),y=Math.max(F.transitionDuration,F.animationDuration);if(0===
y)u.removeClass(e,l),H(e,b),c();else{!r&&d&&0<Object.keys(d).length&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),B=1E3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var I=Date.now(),D=V+" "+$,q=1E3*(r+1.5*(q+y)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&J(m,!1);0<F.animationDuration&&(m.style[K+
"PlayState"]="");u.addClass(e,l);u.removeClass(e,t);d&&(0===F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function J(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&H(b,c)}}function T(a,b,c,d,f){if(b.data("$$ngAnimateCSS3Data"))return D(a,b,c,d,f);H(b,c);d()}function U(a,b,c,d,f){var g=
S(a,b,c,f.from);if(g){var h=g;I(b,function(){h=T(a,b,c,d,f.to)});return function(a){(h||t)(a)}}y();d()}function H(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";a=aa(a)?a:a.split(/\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var C="",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(C="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):
(z="transition",$="transitionend");N.onanimationend===W&&N.onwebkitanimationend!==W?(C="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var B={},a=0,c=[],b,d=null,h=0,l=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U("animate",a,b,f,g)},enter:function(a,b,c){c=c||{};return U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){c=c||{};return U("leave",a,"ng-leave",b,c)},move:function(a,b,c){c=c||{};return U("move",a,"ng-move",
b,c)},beforeSetClass:function(a,b,c,d,f){f=f||{};b=q(c,"-remove")+" "+q(b,"-add");if(f=S("setClass",a,b,f.from))return I(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S("addClass",a,q(b,"-add"),d.from))return I(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S("removeClass",a,q(b,"-remove"),d.from))return I(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,"-remove");b=q(b,"-add");return T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T("addClass",
a,q(b,"-add"),c,d.to)},removeClass:function(a,b,c,d){d=d||{};return T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

/*
 AngularJS v1.3.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(p,g,n){'use strict';g.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,b){var c={},f={},h,k=!1,l=g.copy,m=g.isUndefined;b.addPollFn(function(){var a=b.cookies();h!=a&&(h=a,l(a,f),l(a,c),k&&e.$apply())})();k=!0;e.$watch(function(){var a,d,e;for(a in f)m(c[a])&&(b.cookies(a,n),delete f[a]);for(a in c)d=c[a],g.isString(d)||(d=""+d,c[a]=d),d!==f[a]&&(b.cookies(a,d),f[a]=d,e=!0);if(e)for(a in d=b.cookies(),c)c[a]!==d[a]&&(m(d[a])?(delete c[a],delete f[a]):c[a]=
f[a]=d[a])});return c}]).factory("$cookieStore",["$cookies",function(e){return{get:function(b){return(b=e[b])?g.fromJson(b):b},put:function(b,c){e[b]=g.toJson(c)},remove:function(b){delete e[b]}}}])})(window,window.angular);
//# sourceMappingURL=angular-cookies.min.js.map

angular.module('digestHud', [])

.provider('digestHud', ['$provide', function($provide) {
  'use strict';

  function WatchTiming(key) {
    this.key = key;
    this.reset();
  }

  WatchTiming.prototype.reset = function() {
    this.watch = 0;
    this.handle = 0;
    this.overhead = 0;
    this.total = 0;
    this.cycleTotal = 0;
    this.cycleStart = null;
    this.subTotal = 0;
  };

  WatchTiming.prototype.startCycle = function(start) {
    timingStack.push(this);
    this.cycleStart = start;
    this.cycleTotal = 0;
    this.subTotal = 0;
  };

  WatchTiming.prototype.countTime = function(counter, duration) {
    this[counter] += duration - this.subTotal;
    this.cycleTotal += duration;
    this.subTotal = 0;
  };

  WatchTiming.prototype.endCycle = function() {
    if (!this.cycleStart) return;
    var duration = Date.now() - this.cycleStart;
    this.overhead += duration - this.cycleTotal;
    this.cycleStart = null;
    timingStack.pop();
    if (timingStack.length) {
      timingStack[timingStack.length - 1].subTotal += duration;
    } else {
      overheadTiming.overhead -= duration;
    }
  };

  WatchTiming.prototype.sum = function() {
    this.total = this.watch + this.handle + this.overhead;
  };

  WatchTiming.prototype.format = function(grandTotal) {
    return percentage(this.total / grandTotal) + '\u2003(' +
      percentage(this.watch / grandTotal) + ' + ' +
      percentage(this.handle / grandTotal) + ' + ' +
      percentage(this.overhead / grandTotal) +
      ')\u2003' + this.key;
  };

  function flushTimingCycle() {
    if (timingStack.length) timingStack[timingStack.length - 1].endCycle();
  }

  var digestTimings = [];
  var watchTimings = {};
  var timingStack;
  var overheadTiming = createTiming('$$ng-overhead');
  var digestHud = this;
  var inDigest = false;
  var hudElement;
  var defaultHudPosition = 'bottom right';
  var customHudPosition;
  var $parse;

  this.numTopWatches = 20;
  this.numDigestStats = 25;

  this.enable = function() {
    var toggle = false;
    var detailsText = '';

    hudElement = $('<div></div>');
    var buttonsElement = $(
      '<div>' +
      '<span id="digestHud-refresh">refresh</span> &bull; ' +
      '<span id="digestHud-reset">reset</span> ' +
      '</div>').appendTo(hudElement);
    var summaryElement = $('<div></div>').appendTo(hudElement);
    var detailsElement = $('<div></div>').appendTo(hudElement);
    var showDetails = false;
    hudElement.on('click', function() {
      showDetails = !showDetails;
      buttonsElement.toggle(showDetails);
      detailsElement.toggle(showDetails);
      if (showDetails) refreshDetails();
    });

    hudElement.on('copy', function(ev) {
      ev.originalEvent.clipboardData.setData('text/plain', detailsText);
      ev.preventDefault();
    });

    buttonsElement.find('#digestHud-refresh').on('click', refreshDetails);
    buttonsElement.find('#digestHud-reset').on('click', resetTimings);
    buttonsElement.on('click', function(ev) {ev.stopPropagation();});

    hudElement.on('mousedown mouseup click', function(ev) {ev.stopPropagation();});
    hudElement.css({
      position: 'fixed',
      backgroundColor: 'rgba(0, 0, 0, 0.65)',
      color: 'white',
      padding: '2px 5px',
      fontSize: 'small',
      cursor: 'default',
      zIndex: '1000000'
    });

    this.setHudPosition(customHudPosition || defaultHudPosition);

    buttonsElement.css({
      float: 'right',
      display: 'none'
    });
    buttonsElement.children().css({
      cursor: 'pointer'
    });
    detailsElement.css({
      whiteSpace: 'pre',
      minWidth: '30em',
      maxWidth: '50em',
      display: 'none'
    });
    $('body').append(hudElement);

    function refreshDetails() {
      var grandTotal = 0, topTotal = 0;

      var topWatchTimings = Object.keys(watchTimings).map(function(k){
        return watchTimings[k];
      }).map(function(timing) {
        timing.sum(); grandTotal += timing.total;
        return timing;
      }).sort(function(a, b) {
        var x = a.total; var y = b.total;
         return ((x < y) ? 1 : ((x > y) ? -1 : 0));
      }).slice(0, digestHud.numTopWatches);

      var lines = topWatchTimings.map(function(timing) {
        topTotal += timing.total;
        return timing.format(grandTotal);
      });
      var rows = lines.map(function(text) {
        var row = $('<div></div>');
        row.css({
          overflow: 'hidden',
          textOverflow: 'ellipsis'
        });
        row.text(text.replace(/[ \n]+/g, ' '));
        row.attr('title', text.slice(29));
        return row;
      });
      detailsElement.empty();
      $('<div>\u2007Total\u2007\u2007\u2007Watch\u2007Work\u2007Overhead\u2007\u2007Function</div>')
        .css({borderBottom: '1px solid'}).appendTo(detailsElement);
      detailsElement.append(rows);
      var footer = 'Top ' + topWatchTimings.length + ' items account for ' +
        percentage(topTotal / grandTotal) + ' of ' + grandTotal + 'ms of digest processing time.';
      $('<div></div>').text(footer).appendTo(detailsElement);
      detailsText = 'Total  Watch   Work Overhead  Function\n' + lines.map(function(text) {
        return text.replace(/[ \n]+/g, ' ');
      }).join('\n') + '\n' + footer + '\n';
    }

    function resetTimings() {
      digestTimings = [];

      Object.keys(watchTimings).map(function(k){
        return watchTimings[k];
      }).forEach(function(watchTiming) {
        watchTiming.reset();
      });
    }

    $provide.decorator('$rootScope', ['$delegate', function($delegate) {
      var proto = Object.getPrototypeOf($delegate);
      var originalDigest = proto.$digest;
      var originalEvalAsync = proto.$evalAsync;
      var originalApplyAsync = proto.$applyAsync;
      var originalPostDigest = proto.$$postDigest;
      var originalWatch = proto.$watch;
      var originalWatchGroup = proto.$watchGroup;
      // $watchCollection delegates to $watch, no extra processing necessary
      proto.$digest = instrumentedDigest;
      proto.$evalAsync = instrumentedEvalAsync;
      proto.$applyAsync = instrumentedApplyAsync;
      proto.$$postDigest = instrumentedPostDigest;
      proto.$watch = instrumentedWatch;
      proto.$watchGroup = instrumentedWatchGroup;

      var watchTiming;

      function instrumentedDigest() {
        // jshint validthis:true
        timingStack = [];
        this.$$postDigest(flushTimingCycle);
        var start = Date.now();
        inDigest = true;
        try {
          originalDigest.call(this);
        } finally {
          inDigest = false;
        }
        var duration = Date.now() - start;
        overheadTiming.overhead += duration;
        toggle = !toggle;
        digestTimings.push(duration);
        if (digestTimings.length > digestHud.numDigestStats) digestTimings.shift();
        var len = digestTimings.length;
        var sorted = digestTimings.slice().sort(function(a, b) {return a - b;});
        var median = len % 2 ?
          sorted[(len - 1) / 2] : Math.round((sorted[len / 2] + sorted[len / 2 - 1]) / 2);
        var description =
          'digest ' + sorted[0] + 'ms ' + median + 'ms ' + sorted[len - 1] + 'ms ' +
          (toggle ? '\u25cf' : '\u25cb');
        summaryElement.text(description);
      }

      function instrumentedEvalAsync(expression, locals) {
        // jshint validthis:true
        var timing = createTiming('$evalAsync(' + formatExpression(expression) + ')');
        originalEvalAsync.call(
          this, wrapExpression(expression, timing, 'handle', true, true), locals);
      }

      function instrumentedApplyAsync(expression) {
        // jshint validthis:true
        var timing = createTiming('$applyAsync(' + formatExpression(expression) + ')');
        originalApplyAsync.call(this, wrapExpression(expression, timing, 'handle', false, true));
      }

      function instrumentedPostDigest(fn) {
        // jshint validthis:true
        if (timingStack.length) {
          fn = wrapExpression(fn, timingStack[timingStack.length - 1], 'overhead', true, true);
        }
        originalPostDigest.call(this, fn);
      }

      function instrumentedWatch(watchExpression, listener, objectEquality) {
        // jshint validthis:true
        var watchTimingSet = false;
        if (!watchTiming) {
          // Capture watch timing (and its key) once, before we descend in $$watchDelegates.
          watchTiming = createTiming(formatExpression(watchExpression));
          watchTimingSet = true;
        }
        try {
          if (angular.isString(watchExpression)) {
            if (!$parse) {
              angular.injector(['ng']).invoke(['$parse', function(parse) {$parse = parse;}]);
            }
            watchExpression = $parse(watchExpression);
          }
          if (watchExpression && watchExpression.$$watchDelegate) {
            return originalWatch.call(this, watchExpression, listener, objectEquality);
          } else {
            return originalWatch.call(
              this, wrapExpression(watchExpression, watchTiming, 'watch', true, false),
              wrapListener(listener, watchTiming), objectEquality);
          }
        } finally {
          if (watchTimingSet) watchTiming = null;
        }
      }

      function instrumentedWatchGroup(watchExpressions, listener) {
        // jshint validthis:true
        var watchTimingSet = false;
        if (!watchTiming) {
          // $watchGroup delegates to $watch for each expression, so just make sure to set the group's
          // aggregate key as the override first.
          watchTiming = createTiming(
            '[' + watchExpressions.map(formatExpression).join(', ') + ']');
          watchTimingSet = true;
        }
        try {
          return originalWatchGroup.call(this, watchExpressions, listener);
        } finally {
          if (watchTimingSet) watchTiming = null;
        }
      }

      return $delegate;
    }]);

    $provide.decorator('$parse', ['$delegate', function($delegate) {
      return function(expression) {
        var result = $delegate.apply(this, arguments);
        if (angular.isString(expression)) result.exp = expression;
        return result;
      };
    }]);

    $provide.decorator('$q', ['$delegate', function($delegate) {
      var proto = Object.getPrototypeOf($delegate.defer().promise);
      var originalThen = proto.then;
      var originalFinally = proto.finally;
      proto.then = instrumentedThen;
      proto.finally = instrumentedFinally;

      function instrumentedThen(onFulfilled, onRejected, progressBack) {
        // jshint validthis:true
        return originalThen.call(
          this,
          wrapExpression(
            onFulfilled, createTiming('$q(' + formatExpression(onFulfilled) + ')'), 'handle',
            false, true),
          wrapExpression(
            onRejected, createTiming('$q(' + formatExpression(onRejected) + ')'), 'handle',
            false, true),
          wrapExpression(
            progressBack, createTiming('$q(' + formatExpression(progressBack) + ')'), 'handle',
            false, true)
        );
      }

      function instrumentedFinally(callback, progressBack) {
        // jshint validthis:true
        return originalFinally.call(
          this,
          wrapExpression(
            callback, createTiming('$q(' + formatExpression(callback) + ')'), 'handle',
            false, true),
          wrapExpression(
            progressBack, createTiming('$q(' + formatExpression(callback) + ')'), 'handle',
            false, true)
        );
      }

      return $delegate;
    }]);

    var originalBind = angular.bind;
    angular.bind = function(self, fn, args) {
      var result = originalBind.apply(this, arguments);
      result.exp = formatExpression(fn);
      return result;
    };
  };

  this.setHudPosition = function(position) {
    if (hudElement) {
      // reset all to defaults
      var styles = {
        top: 'auto',
        right: 'auto',
        bottom: 'auto',
        left: 'auto'
      };
      position = position ? '' + position : defaultHudPosition;
      position.split(' ').map(function(prop) { styles[prop] = 0; });
      hudElement.css(styles);
    } else {
      // save and apply on enabled
      customHudPosition = position;
    }
  };

  function percentage(value) {
    if (value >= 1) return (value * 100).toFixed(1) + '%';
    return ('\u2007\u2007' + (value * 100).toFixed(1) + '%').slice(-5);
  }

  function formatExpression(watchExpression) {
    if (!watchExpression) return '';
    if (angular.isString(watchExpression)) return watchExpression;
    if (angular.isString(watchExpression.exp)) return watchExpression.exp;
    if (watchExpression.name) return 'function ' + watchExpression.name + '() {\u2026}';
    return watchExpression.toString();
  }

  function wrapExpression(expression, timing, counter, flushCycle, endCycle) {
    if (!expression && !flushCycle) return expression;
    if (!$parse) angular.injector(['ng']).invoke(['$parse', function(parse) {$parse = parse;}]);
    var actualExpression = angular.isString(expression) ? $parse(expression) : expression;
    return function instrumentedExpression() {
      if (flushCycle) flushTimingCycle();
      if (!actualExpression) return;
      if (!inDigest) return actualExpression.apply(this, arguments);
      var start = Date.now();
      timing.startCycle(start);
      try {
        return actualExpression.apply(this, arguments);
      } finally {
        timing.countTime(counter, Date.now() - start);
        if (endCycle) timing.endCycle();
      }
    };
  }

  function wrapListener(listener, timing) {
    if (!listener) return listener;
    return function instrumentedListener() {
      var start = Date.now();
      try {
        return listener.apply(this, arguments);
      } finally {
        timing.countTime('handle', Date.now() - start);
      }
    };
  }

  function createTiming(key) {
    var timing = watchTimings[key];
    if (!timing) timing = watchTimings[key] = new WatchTiming(key);
    return timing;
  }

  this.$get = function() {};
}]);


/*
 * angular-elastic v2.4.2
 * (c) 2014 Monospaced http://monospaced.com
 * License: MIT
 */

angular.module('monospaced.elastic', [])

  .constant('msdElasticConfig', {
    append: ''
  })

  .directive('msdElastic', [
    '$timeout', '$window', 'msdElasticConfig',
    function($timeout, $window, config) {
      'use strict';

      return {
        require: 'ngModel',
        restrict: 'A, C',
        link: function(scope, element, attrs, ngModel) {

          // cache a reference to the DOM element
          var ta = element[0],
              $ta = element;

          // ensure the element is a textarea, and browser is capable
          if (ta.nodeName !== 'TEXTAREA' || !$window.getComputedStyle) {
            return;
          }

          // set these properties before measuring dimensions
          $ta.css({
            'overflow': 'hidden',
            'overflow-y': 'hidden',
            'word-wrap': 'break-word'
          });

          // force text reflow
          var text = ta.value;
          ta.value = '';
          ta.value = text;

          var append = attrs.msdElastic ? attrs.msdElastic.replace(/\\n/g, '\n') : config.append,
              $win = angular.element($window),
              mirrorInitStyle = 'position: absolute; top: -999px; right: auto; bottom: auto;' +
                                'left: 0; overflow: hidden; -webkit-box-sizing: content-box;' +
                                '-moz-box-sizing: content-box; box-sizing: content-box;' +
                                'min-height: 0 !important; height: 0 !important; padding: 0;' +
                                'word-wrap: break-word; border: 0;',
              $mirror = angular.element('<textarea tabindex="-1" ' +
                                        'style="' + mirrorInitStyle + '"/>').data('elastic', true),
              mirror = $mirror[0],
              taStyle = getComputedStyle(ta),
              resize = taStyle.getPropertyValue('resize'),
              borderBox = taStyle.getPropertyValue('box-sizing') === 'border-box' ||
                          taStyle.getPropertyValue('-moz-box-sizing') === 'border-box' ||
                          taStyle.getPropertyValue('-webkit-box-sizing') === 'border-box',
              boxOuter = !borderBox ? {width: 0, height: 0} : {
                            width:  parseInt(taStyle.getPropertyValue('border-right-width'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-right'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-left'), 10) +
                                    parseInt(taStyle.getPropertyValue('border-left-width'), 10),
                            height: parseInt(taStyle.getPropertyValue('border-top-width'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-top'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-bottom'), 10) +
                                    parseInt(taStyle.getPropertyValue('border-bottom-width'), 10)
                          },
              minHeightValue = parseInt(taStyle.getPropertyValue('min-height'), 10),
              heightValue = parseInt(taStyle.getPropertyValue('height'), 10),
              minHeight = Math.max(minHeightValue, heightValue) - boxOuter.height,
              maxHeight = parseInt(taStyle.getPropertyValue('max-height'), 10),
              mirrored,
              active,
              copyStyle = ['font-family',
                           'font-size',
                           'font-weight',
                           'font-style',
                           'letter-spacing',
                           'line-height',
                           'text-transform',
                           'word-spacing',
                           'text-indent'];

          // exit if elastic already applied (or is the mirror element)
          if ($ta.data('elastic')) {
            return;
          }

          // Opera returns max-height of -1 if not set
          maxHeight = maxHeight && maxHeight > 0 ? maxHeight : 9e4;

          // append mirror to the DOM
          if (mirror.parentNode !== document.body) {
            angular.element(document.body).append(mirror);
          }

          // set resize and apply elastic
          $ta.css({
            'resize': (resize === 'none' || resize === 'vertical') ? 'none' : 'horizontal'
          }).data('elastic', true);

          /*
           * methods
           */

          function initMirror() {
            var mirrorStyle = mirrorInitStyle;

            mirrored = ta;
            // copy the essential styles from the textarea to the mirror
            taStyle = getComputedStyle(ta);
            angular.forEach(copyStyle, function(val) {
              mirrorStyle += val + ':' + taStyle.getPropertyValue(val) + ';';
            });
            mirror.setAttribute('style', mirrorStyle);
          }

          function adjust() {
            var taHeight,
                taComputedStyleWidth,
                mirrorHeight,
                width,
                overflow;

            if (mirrored !== ta) {
              initMirror();
            }

            // active flag prevents actions in function from calling adjust again
            if (!active) {
              active = true;

              mirror.value = ta.value + append; // optional whitespace to improve animation
              mirror.style.overflowY = ta.style.overflowY;

              taHeight = ta.style.height === '' ? 'auto' : parseInt(ta.style.height, 10);

              taComputedStyleWidth = getComputedStyle(ta).getPropertyValue('width');

              // ensure getComputedStyle has returned a readable 'used value' pixel width
              if (taComputedStyleWidth.substr(taComputedStyleWidth.length - 2, 2) === 'px') {
                // update mirror width in case the textarea width has changed
                width = parseInt(taComputedStyleWidth, 10) - boxOuter.width;
                mirror.style.width = width + 'px';
              }

              mirrorHeight = mirror.scrollHeight;

              if (mirrorHeight > maxHeight) {
                mirrorHeight = maxHeight;
                overflow = 'scroll';
              } else if (mirrorHeight < minHeight) {
                mirrorHeight = minHeight;
              }
              mirrorHeight += boxOuter.height;
              ta.style.overflowY = overflow || 'hidden';

              if (taHeight !== mirrorHeight) {
                ta.style.height = mirrorHeight + 'px';
                scope.$emit('elastic:resize', $ta);
              }

              // small delay to prevent an infinite loop
              $timeout(function() {
                active = false;
              }, 1);

            }
          }

          function forceAdjust() {
            active = false;
            adjust();
          }

          /*
           * initialise
           */

          // listen
          if ('onpropertychange' in ta && 'oninput' in ta) {
            // IE9
            ta['oninput'] = ta.onkeyup = adjust;
          } else {
            ta['oninput'] = adjust;
          }

          $win.bind('resize', forceAdjust);

          scope.$watch(function() {
            return ngModel.$modelValue;
          }, function(newValue) {
            forceAdjust();
          });

          scope.$on('elastic:adjust', function() {
            initMirror();
            forceAdjust();
          });

          $timeout(adjust);

          /*
           * destroy
           */

          scope.$on('$destroy', function() {
            $mirror.remove();
            $win.unbind('resize', forceAdjust);
          });
        }
      };
    }
  ]);

/**
 * angular-elastic-input
 * A directive for AngularJS which automatically resizes the width of input field according to the content, while typing.
 * @version: 2.0.2
 * @author: Jacek Pulit <jacek.pulit@gmail.com>
 * @license: MIT License
 * @build: Monday, May 4th, 2015, 8:35:59 PM GMT+0200
 */
(function(){
"use strict";angular.module("puElasticInput",[]).directive("puElasticInput",function(){return{restrict:"A",scope:{model:"=ngModel"},link:function(a,b,c){function d(){f.text(b.val()||c.placeholder),b.css("width",f.outerWidth()+1)}var e=angular.element("#pu-elastic-input-wrapper");e.length||(e=angular.element('<div id="pu-elastic-input-wrapper" style="position:fixed; top:-999px; left:0;"></div>'),angular.element("body").append(e));var f=angular.element('<span style="white-space:pre;"></span>'),g="none"===b.css("maxWidth")?b.parent().innerWidth():b.css("maxWidth");b.css("minWidth",c.puElasticInputMinwidth||b.css("minWidth")),b.css("maxWidth",c.puElasticInputMaxwidth||g),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","boxSizing","borderRightWidth","borderLeftWidth","borderLeftStyle","borderRightStyle","paddingLeft","paddingRight","marginLeft","marginRight"],function(a){f.css(a,b.css(a))}),e.append(f),d(),c.ngModel?a.$watch("model",function(){d()}):b.on("keydown keyup focus input propertychange change",function(){d()}),a.$on("$destroy",function(){f.remove()})}}});
})();

/*
 angular-file-upload v1.1.6
 https://github.com/nervgh/angular-file-upload
*/

!function(a,b){return"function"==typeof define&&define.amd?void define("angular-file-upload",["angular"],function(a){return b(a)}):b(a)}("undefined"==typeof angular?null:angular,function(a){var b=a.module("angularFileUpload",[]);return b.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(b,c,d,e,f){function g(c){var d=a.copy(b);a.extend(this,d,c,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function h(b){var c=a.isElement(b),d=c?b.value:b,e=a.isString(d)?"FakePath":"Object",f="_createFrom"+e;this[f](d)}function i(b,c,d){var e=a.isElement(c),f=e?a.element(c):null,h=e?null:c;a.extend(this,{url:b.url,alias:b.alias,headers:a.copy(b.headers),formData:a.copy(b.formData),removeAfterUpload:b.removeAfterUpload,withCredentials:b.withCredentials,method:b.method},d,{uploader:b,file:new g.FileLikeObject(c),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:h,_input:f}),f&&this._replaceNode(f)}function j(b){a.extend(this,b),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function k(a){k.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function l(a){l.super_.apply(this,arguments)}function m(a){m.super_.apply(this,arguments)}return g.prototype.isHTML5=!(!e.File||!e.FormData),g.prototype.addToQueue=function(b,c,d){var e=this.isArrayLikeObject(b)?b:[b],f=this._getFilters(d),h=this.queue.length,i=[];a.forEach(e,function(a){var b=new g.FileLikeObject(a);if(this._isValidFile(b,f,c)){var d=new g.FileItem(this,a,c);i.push(d),this.queue.push(d),this._onAfterAddingFile(d)}else{var e=f[this._failFilterIndex];this._onWhenAddingFileFailed(b,e,c)}},this),this.queue.length!==h&&(this._onAfterAddingAll(i),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},g.prototype.removeFromQueue=function(a){var b=this.getIndexOfItem(a),c=this.queue[b];c.isUploading&&c.cancel(),this.queue.splice(b,1),c._destroy(),this.progress=this._getTotalProgress()},g.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},g.prototype.uploadItem=function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhrTransport":"_iframeTransport";c._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[d](c))},g.prototype.cancelItem=function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhr":"_form";c&&c.isUploading&&c[d].abort()},g.prototype.uploadAll=function(){var b=this.getNotUploadedItems().filter(function(a){return!a.isUploading});b.length&&(a.forEach(b,function(a){a._prepareToUploading()}),b[0].upload())},g.prototype.cancelAll=function(){var b=this.getNotUploadedItems();a.forEach(b,function(a){a.cancel()})},g.prototype.isFile=function(a){var b=e.File;return b&&a instanceof b},g.prototype.isFileLikeObject=function(a){return a instanceof g.FileLikeObject},g.prototype.isArrayLikeObject=function(b){return a.isObject(b)&&"length"in b},g.prototype.getIndexOfItem=function(b){return a.isNumber(b)?b:this.queue.indexOf(b)},g.prototype.getNotUploadedItems=function(){return this.queue.filter(function(a){return!a.isUploaded})},g.prototype.getReadyItems=function(){return this.queue.filter(function(a){return a.isReady&&!a.isUploading}).sort(function(a,b){return a.index-b.index})},g.prototype.destroy=function(){a.forEach(this._directives,function(b){a.forEach(this._directives[b],function(a){a.destroy()},this)},this)},g.prototype.onAfterAddingAll=function(a){},g.prototype.onAfterAddingFile=function(a){},g.prototype.onWhenAddingFileFailed=function(a,b,c){},g.prototype.onBeforeUploadItem=function(a){},g.prototype.onProgressItem=function(a,b){},g.prototype.onProgressAll=function(a){},g.prototype.onSuccessItem=function(a,b,c,d){},g.prototype.onErrorItem=function(a,b,c,d){},g.prototype.onCancelItem=function(a,b,c,d){},g.prototype.onCompleteItem=function(a,b,c,d){},g.prototype.onCompleteAll=function(){},g.prototype._getTotalProgress=function(a){if(this.removeAfterUpload)return a||0;var b=this.getNotUploadedItems().length,c=b?this.queue.length-b:this.queue.length,d=100/this.queue.length,e=(a||0)*d/100;return Math.round(c*d+e)},g.prototype._getFilters=function(b){if(a.isUndefined(b))return this.filters;if(a.isArray(b))return b;var c=b.match(/[^\s,]+/g);return this.filters.filter(function(a){return-1!==c.indexOf(a.name)},this)},g.prototype._render=function(){c.$$phase||c.$apply()},g.prototype._folderFilter=function(a){return!(!a.size&&!a.type)},g.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},g.prototype._isValidFile=function(a,b,c){return this._failFilterIndex=-1,b.length?b.every(function(b){return this._failFilterIndex++,b.fn.call(this,a,c)},this):!0},g.prototype._isSuccessCode=function(a){return a>=200&&300>a||304===a},g.prototype._transformResponse=function(b,c){var e=this._headersGetter(c);return a.forEach(d.defaults.transformResponse,function(a){b=a(b,e)}),b},g.prototype._parseHeaders=function(b){var c,d,e,f={};return b?(a.forEach(b.split("\n"),function(a){e=a.indexOf(":"),c=a.slice(0,e).trim().toLowerCase(),d=a.slice(e+1).trim(),c&&(f[c]=f[c]?f[c]+", "+d:d)}),f):f},g.prototype._headersGetter=function(a){return function(b){return b?a[b.toLowerCase()]||null:a}},g.prototype._xhrTransport=function(b){var c=b._xhr=new XMLHttpRequest,d=new FormData,e=this;if(e._onBeforeUploadItem(b),a.forEach(b.formData,function(b){a.forEach(b,function(a,b){d.append(b,a)})}),"number"!=typeof b._file.size)throw new TypeError("The file specified is no longer valid");d.append(b.alias,b._file,b.file.name),c.upload.onprogress=function(a){var c=Math.round(a.lengthComputable?100*a.loaded/a.total:0);e._onProgressItem(b,c)},c.onload=function(){var a=e._parseHeaders(c.getAllResponseHeaders()),d=e._transformResponse(c.response,a),f=e._isSuccessCode(c.status)?"Success":"Error",g="_on"+f+"Item";e[g](b,d,c.status,a),e._onCompleteItem(b,d,c.status,a)},c.onerror=function(){var a=e._parseHeaders(c.getAllResponseHeaders()),d=e._transformResponse(c.response,a);e._onErrorItem(b,d,c.status,a),e._onCompleteItem(b,d,c.status,a)},c.onabort=function(){var a=e._parseHeaders(c.getAllResponseHeaders()),d=e._transformResponse(c.response,a);e._onCancelItem(b,d,c.status,a),e._onCompleteItem(b,d,c.status,a)},c.open(b.method,b.url,!0),c.withCredentials=b.withCredentials,a.forEach(b.headers,function(a,b){c.setRequestHeader(b,a)}),c.send(d),this._render()},g.prototype._iframeTransport=function(b){var c=a.element('<form style="display: none;" />'),d=a.element('<iframe name="iframeTransport'+Date.now()+'">'),e=b._input,f=this;b._form&&b._form.replaceWith(e),b._form=c,f._onBeforeUploadItem(b),e.prop("name",b.alias),a.forEach(b.formData,function(b){a.forEach(b,function(b,d){var e=a.element('<input type="hidden" name="'+d+'" />');e.val(b),c.append(e)})}),c.prop({action:b.url,method:"POST",target:d.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),d.bind("load",function(){try{var a=d[0].contentDocument.body.innerHTML}catch(c){}var e={response:a,status:200,dummy:!0},g={},h=f._transformResponse(e.response,g);f._onSuccessItem(b,h,e.status,g),f._onCompleteItem(b,h,e.status,g)}),c.abort=function(){var a,g={status:0,dummy:!0},h={};d.unbind("load").prop("src","javascript:false;"),c.replaceWith(e),f._onCancelItem(b,a,g.status,h),f._onCompleteItem(b,a,g.status,h)},e.after(c),c.append(e).append(d),c[0].submit(),this._render()},g.prototype._onWhenAddingFileFailed=function(a,b,c){this.onWhenAddingFileFailed(a,b,c)},g.prototype._onAfterAddingFile=function(a){this.onAfterAddingFile(a)},g.prototype._onAfterAddingAll=function(a){this.onAfterAddingAll(a)},g.prototype._onBeforeUploadItem=function(a){a._onBeforeUpload(),this.onBeforeUploadItem(a)},g.prototype._onProgressItem=function(a,b){var c=this._getTotalProgress(b);this.progress=c,a._onProgress(b),this.onProgressItem(a,b),this.onProgressAll(c),this._render()},g.prototype._onSuccessItem=function(a,b,c,d){a._onSuccess(b,c,d),this.onSuccessItem(a,b,c,d)},g.prototype._onErrorItem=function(a,b,c,d){a._onError(b,c,d),this.onErrorItem(a,b,c,d)},g.prototype._onCancelItem=function(a,b,c,d){a._onCancel(b,c,d),this.onCancelItem(a,b,c,d)},g.prototype._onCompleteItem=function(b,c,d,e){b._onComplete(c,d,e),this.onCompleteItem(b,c,d,e);var f=this.getReadyItems()[0];return this.isUploading=!1,a.isDefined(f)?void f.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},g.isFile=g.prototype.isFile,g.isFileLikeObject=g.prototype.isFileLikeObject,g.isArrayLikeObject=g.prototype.isArrayLikeObject,g.isHTML5=g.prototype.isHTML5,g.inherit=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.super_=b},g.FileLikeObject=h,g.FileItem=i,g.FileDirective=j,g.FileSelect=k,g.FileDrop=l,g.FileOver=m,h.prototype._createFromFakePath=function(a){this.lastModifiedDate=null,this.size=null,this.type="like/"+a.slice(a.lastIndexOf(".")+1).toLowerCase(),this.name=a.slice(a.lastIndexOf("/")+a.lastIndexOf("\\")+2)},h.prototype._createFromObject=function(b){this.lastModifiedDate=a.copy(b.lastModifiedDate),this.size=b.size,this.type=b.type,this.name=b.name},i.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(a){this.uploader._onCompleteItem(this,"",0,[]),this.uploader._onErrorItem(this,"",0,[])}},i.prototype.cancel=function(){this.uploader.cancelItem(this)},i.prototype.remove=function(){this.uploader.removeFromQueue(this)},i.prototype.onBeforeUpload=function(){},i.prototype.onProgress=function(a){},i.prototype.onSuccess=function(a,b,c){},i.prototype.onError=function(a,b,c){},i.prototype.onCancel=function(a,b,c){},i.prototype.onComplete=function(a,b,c){},i.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},i.prototype._onProgress=function(a){this.progress=a,this.onProgress(a)},i.prototype._onSuccess=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(a,b,c)},i.prototype._onError=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(a,b,c)},i.prototype._onCancel=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(a,b,c)},i.prototype._onComplete=function(a,b,c){this.onComplete(a,b,c),this.removeAfterUpload&&this.remove()},i.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},i.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},i.prototype._replaceNode=function(a){var b=f(a.clone())(a.scope());b.prop("value",null),a.css("display","none"),a.after(b)},j.prototype.events={},j.prototype.bind=function(){for(var a in this.events){var b=this.events[a];this.element.bind(a,this[b])}},j.prototype.unbind=function(){for(var a in this.events)this.element.unbind(a,this.events[a])},j.prototype.destroy=function(){var a=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(a,1),this.unbind()},j.prototype._saveLinks=function(){for(var a in this.events){var b=this.events[a];this[b]=this[b].bind(this)}},g.inherit(k,j),k.prototype.events={$destroy:"destroy",change:"onChange"},k.prototype.prop="select",k.prototype.getOptions=function(){},k.prototype.getFilters=function(){},k.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},k.prototype.onChange=function(){var a=this.uploader.isHTML5?this.element[0].files:this.element[0],b=this.getOptions(),c=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(a,b,c),this.isEmptyAfterSelection()&&this.element.prop("value",null)},g.inherit(l,j),l.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},l.prototype.prop="drop",l.prototype.getOptions=function(){},l.prototype.getFilters=function(){},l.prototype.onDrop=function(b){var c=this._getTransfer(b);if(c){var d=this.getOptions(),e=this.getFilters();this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(c.files,d,e)}},l.prototype.onDragOver=function(b){var c=this._getTransfer(b);this._haveFiles(c.types)&&(c.dropEffect="copy",this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._addOverClass,this))},l.prototype.onDragLeave=function(b){b.currentTarget===this.element[0]&&(this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._removeOverClass,this))},l.prototype._getTransfer=function(a){return a.dataTransfer?a.dataTransfer:a.originalEvent.dataTransfer},l.prototype._preventAndStop=function(a){a.preventDefault(),a.stopPropagation()},l.prototype._haveFiles=function(a){return a?a.indexOf?-1!==a.indexOf("Files"):a.contains?a.contains("Files"):!1:!1},l.prototype._addOverClass=function(a){a.addOverClass()},l.prototype._removeOverClass=function(a){a.removeOverClass()},g.inherit(m,j),m.prototype.events={$destroy:"destroy"},m.prototype.prop="over",m.prototype.overClass="nv-file-over",m.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},m.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},m.prototype.getOverClass=function(){return this.overClass},g}]).directive("nvFileSelect",["$parse","FileUploader",function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');var g=new b.FileSelect({uploader:f,element:d});g.getOptions=a(e.options).bind(g,c),g.getFilters=function(){return e.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');if(f.isHTML5){var g=new b.FileDrop({uploader:f,element:d});g.getOptions=a(e.options).bind(g,c),g.getFilters=function(){return e.filters}}}}}]).directive("nvFileOver",["FileUploader",function(a){return{link:function(b,c,d){var e=b.$eval(d.uploader);if(!(e instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');var f=new a.FileOver({uploader:e,element:c});f.getOverClass=function(){return d.overClass||this.overClass}}}}]),b});
//# sourceMappingURL=angular-file-upload.min.map

/*!
 * angular-loading-bar v0.7.1
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2015 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){k||(k=a.get("$animate"));var e=b.find(n).eq(0);c.cancel(m),r||(d.$broadcast("cfpLoadingBar:started"),r=!0,u&&k.enter(o,e,angular.element(e[0].lastChild)),t&&k.enter(q,e,angular.element(e[0].lastChild)),f(v))}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,c.cancel(l),l=c(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.includeSpinner,u=this.includeBar,v=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();

/*
 AngularJS v1.4.8
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(u,n,v){'use strict';var r="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),p=function(a,c){if(-1!==c.indexOf(a[0].nodeName))return!0};n.module("ngAria",["ng"]).provider("$aria",function(){function a(a,f,l,m){return function(d,e,b){var g=b.$normalize(f);!c[g]||p(e,l)||b[g]||d.$watch(b[a],function(b){b=m?!b:!!b;e.attr(f,b)})}}var c={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};
this.config=function(a){c=n.extend(c,a)};this.$get=function(){return{config:function(a){return c[a]},$$watchExpr:a}}}).directive("ngShow",["$aria",function(a){return a.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(a){return a.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngModel",["$aria",function(a){function c(c,m,d){return a.config(m)&&!d.attr(c)}function k(a,c){return!c.attr("role")&&c.attr("type")===a&&"INPUT"!==c[0].nodeName}function f(a,c){var d=
a.type,e=a.role;return"checkbox"===(d||e)||"menuitemcheckbox"===e?"checkbox":"radio"===(d||e)||"menuitemradio"===e?"radio":"range"===d||"progressbar"===e||"slider"===e?"range":"textbox"===(d||e)||"TEXTAREA"===c[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(l,m){var d=f(m,l);return{pre:function(a,b,c,h){"checkbox"===d&&"checkbox"!==c.type&&(h.$isEmpty=function(b){return!1===b})},post:function(e,b,g,h){function f(){return h.$modelValue}function m(){return q?
(q=!1,function(a){a=g.value==h.$viewValue;b.attr("aria-checked",a);b.attr("tabindex",0-!a)}):function(a){b.attr("aria-checked",g.value==h.$viewValue)}}function l(){b.attr("aria-checked",!h.$isEmpty(h.$viewValue))}var q=c("tabindex","tabindex",b)&&!p(b,r);switch(d){case "radio":case "checkbox":k(d,b)&&b.attr("role",d);c("aria-checked","ariaChecked",b)&&e.$watch(f,"radio"===d?m():l);q&&b.attr("tabindex",0);break;case "range":k(d,b)&&b.attr("role","slider");if(a.config("ariaValue")){var n=!b.attr("aria-valuemin")&&
(g.hasOwnProperty("min")||g.hasOwnProperty("ngMin")),s=!b.attr("aria-valuemax")&&(g.hasOwnProperty("max")||g.hasOwnProperty("ngMax")),t=!b.attr("aria-valuenow");n&&g.$observe("min",function(a){b.attr("aria-valuemin",a)});s&&g.$observe("max",function(a){b.attr("aria-valuemax",a)});t&&e.$watch(f,function(a){b.attr("aria-valuenow",a)})}q&&b.attr("tabindex",0);break;case "multiline":c("aria-multiline","ariaMultiline",b)&&b.attr("aria-multiline",!0)}h.$validators.required&&c("aria-required","ariaRequired",
b)&&e.$watch(function(){return h.$error.required},function(a){b.attr("aria-required",!!a)});c("aria-invalid","ariaInvalid",b)&&e.$watch(function(){return h.$invalid},function(a){b.attr("aria-invalid",!!a)})}}}}}]).directive("ngDisabled",["$aria",function(a){return a.$$watchExpr("ngDisabled","aria-disabled",[])}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(a,c,k,f){c.attr("aria-live")||c.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",
function(a,c){return{restrict:"A",compile:function(k,f){var l=c(f.ngClick,null,!0);return function(c,d,e){if(!p(d,r)&&(a.config("bindRoleForClick")&&!d.attr("role")&&d.attr("role","button"),a.config("tabindex")&&!d.attr("tabindex")&&d.attr("tabindex",0),a.config("bindKeypress")&&!e.ngKeypress))d.on("keypress",function(a){function d(){l(c,{$event:a})}var e=a.which||a.keyCode;32!==e&&13!==e||c.$apply(d)})}}}}]).directive("ngDblclick",["$aria",function(a){return function(c,k,f){!a.config("tabindex")||
k.attr("tabindex")||p(k,r)||k.attr("tabindex",0)}}])})(window,window.angular);
//# sourceMappingURL=angular-aria.min.js.map

/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.10.1
 */
!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.bottomSheet","material.components.backdrop","material.components.card","material.components.checkbox","material.components.content","material.components.button","material.components.divider","material.components.chips","material.components.dialog","material.components.fabSpeedDial","material.components.fabActions","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){e.decorator("$$rAF",["$delegate",n]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function n(e){return e.throttle=function(t){var n,o,r,i;return function(){n=arguments,i=this,r=t,o||(o=!0,e(function(){r.apply(i,Array.prototype.slice.call(n)),o=!1}))}},e}t.module("material.core",["material.core.gestures","material.core.theming"]).config(e),e.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e,n,o,r,i){var a;return a={translate3d:function(e,t,o,r){function i(n){return e.removeClass(r.transitionInClass).addClass(r.transitionOutClass).css(n||t),a.waitTransitionEnd(e)}return e.css(t),n(function(){e.css(o).addClass(r.transitionInClass)}),a.waitTransitionEnd(e).then(function(){return i})},waitTransitionEnd:function(e,t){var n=3e3;return o(function(o,a){function d(t){t&&t.target!==e[0]||(t&&r.cancel(c),e.off(i.CSS.TRANSITIONEND,d),o())}t=t||{};var c=r(d,t.timeout||n);e.on(i.CSS.TRANSITIONEND,d)})},calculateZoomToOrigin:function(n,o){var r=o.element,i="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",d=t.bind(null,e.supplant,i),c=d({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(r){var l=a.clientRect(r)||a.copyRect(o.bounds),m=a.copyRect(n[0].getBoundingClientRect()),s=a.centerPointFor(m),u=a.centerPointFor(l);c=d({centerX:u.x-s.x,centerY:u.y-s.y,scaleX:Math.min(.5,l.width/m.width),scaleY:Math.min(.5,l.height/m.height)})}return c},toTransformCss:function(e,n){var o={};return t.forEach(i.CSS.TRANSFORM.split(" "),function(t){o[t]=e}),n&&(o.transition="all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important"),o},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),o=function(e){return e&&e.width>0&&e.height>0};return o(n)?a.copyRect(n):null},centerPointFor:function(e){return{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}}}}t.module("material.core").factory("$$mdAnimate",["$$rAF","$q","$timeout","$mdConstant",function(t,n,o,r){return function(i){return e(i,t,n,o,r)}}])}(),function(){function e(e){function t(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var n=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{sm:"(max-width: 599px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 959px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1199px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$sniffer"]}(),function(){function e(e,n){function o(){return[].concat(E)}function r(){return E.length}function i(e){return E.length&&e>-1&&e<E.length}function a(e){return e?i(u(e)+1):!1}function d(e){return e?i(u(e)-1):!1}function c(e){return i(e)?E[e]:null}function l(e,t){return E.filter(function(n){return n[e]===t})}function m(e,n){return e?(t.isNumber(n)||(n=E.length),E.splice(n,0,e),u(e)):-1}function s(e){p(e)&&E.splice(u(e),1)}function u(e){return E.indexOf(e)}function p(e){return e&&u(e)>-1}function f(){return E.length?E[0]:null}function h(){return E.length?E[E.length-1]:null}function b(e,o,r,a){r=r||g;for(var d=u(o);;){if(!i(d))return null;var c=d+(e?-1:1),l=null;if(i(c)?l=E[c]:n&&(l=e?h():f(),c=u(l)),null===l||c===a)return null;if(r(l))return l;t.isUndefined(a)&&(a=c),d=c}}var g=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var E=e||[];return{items:o,count:r,inRange:i,contains:p,indexOf:u,itemAt:c,findBy:l,add:m,remove:s,first:f,last:h,next:t.bind(null,b,!1),previous:t.bind(null,b,!0),hasPrevious:d,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,o){function r(e){var n=u[e];t.isUndefined(n)&&(n=u[e]=i(e));var o=f[n];return t.isUndefined(o)&&(o=a(n)),o}function i(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=p[e]=o.matchMedia(e);return t.addListener(d),f[t.media]=!!t.matches}function d(e){n.$evalAsync(function(){f[e.media]=!!e.matches})}function c(e){return p[e]}function l(t,n){for(var o=0;o<e.MEDIA_PRIORITY.length;o++){var r=e.MEDIA_PRIORITY[o];if(p[u[r]].matches){var i=s(t,n+"-"+r);if(t[i])return t[i]}}return t[s(t,n)]}function m(n,o,r){var i=[];return n.forEach(function(n){var a=s(o,n);o[a]&&i.push(o.$observe(a,t.bind(void 0,r,null)));for(var d in e.MEDIA){if(a=s(o,n+"-"+d),!o[a])return;i.push(o.$observe(a,t.bind(void 0,r,d)))}}),function(){i.forEach(function(e){e()})}}function s(e,t){return h[t]||(h[t]=e.$normalize(t))}var u={},p={},f={},h={};return r.getResponsiveAttribute=l,r.getQuery=c,r.watchResponsiveAttributes=m,r}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){var o=0;t.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$compile","$window","$mdConstant","$$rAF","$rootScope","$$mdAnimate",function(r,i,a,d,c,l,m,s,u,p){function f(e){return e[0]||e}var h={dom:{},now:e.performance?t.bind(e.performance,e.performance.now):Date.now,clientRect:function(e,t,n){var o=f(e);t=f(t||o.offsetParent||document.body);var r=o.getBoundingClientRect(),i=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-i.left,top:r.top-i.top,width:r.width,height:r.height}},offsetRect:function(e,t){return h.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},scrollTop:function(e){e=t.element(e||i[0].body);var o=e[0]==i[0].body?i[0].body:n,r=o?o.scrollTop+o.parentElement.scrollTop:0;return r||Math.abs(e[0].getBoundingClientRect().top)},disableScrollAround:function(e,n){function o(e){function n(e){}function o(e){e.preventDefault()}e=t.element(e||d)[0];var r=50,a=t.element('<div class="md-scroll-mask" style="z-index: '+r+'">  <div class="md-scroll-mask-bar"></div></div>');return e.appendChild(a[0]),a.on("wheel",o),a.on("touchmove",o),i.on("keydown",n),function(){a.off("wheel"),a.off("touchmove"),a[0].parentNode.removeChild(a[0]),i.off("keydown",n),delete h.disableScrollAround._enableScrolling}}function r(){var e=d.parentNode,t=e.getAttribute("style")||"",n=d.getAttribute("style")||"",o=h.scrollTop(d),r=d.clientWidth;return d.scrollHeight>d.clientHeight&&(a(d,{position:"fixed",width:"100%",top:-o+"px"}),a(e,{overflowY:"scroll"})),d.clientWidth<r&&a(d,{overflow:"hidden"}),function(){d.setAttribute("style",n),e.setAttribute("style",t),d.scrollTop=o}}function a(e,t){for(var n in t)e.style[n]=t[n]}if(h.disableScrollAround._count=h.disableScrollAround._count||0,++h.disableScrollAround._count,h.disableScrollAround._enableScrolling)return h.disableScrollAround._enableScrolling;e=t.element(e);var d=i[0].body,c=r(),l=o(n);return h.disableScrollAround._enableScrolling=function(){--h.disableScrollAround._count||(c(),l(),delete h.disableScrollAround._enableScrolling)}},enableScrolling:function(){var e=this.disableScrollAround._enableScrolling;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function r(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",r))},!0);var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),o.$material=!0,o.$focus=!0,n.dispatchEvent(o)},createBackdrop:function(e,t){return c(h.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var o=n.split("."),r=t;try{for(var i in o)r=r[o[i]]}catch(a){r=e}return"string"==typeof r||"number"==typeof r?r:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,o,r){var i;return function(){var d=o,c=Array.prototype.slice.call(arguments);a.cancel(i),i=a(function(){i=n,e.apply(d,c)},t||10,r)}},throttle:function(e,t){var n;return function(){var o=this,r=arguments,i=h.now();(!n||i-n>t)&&(e.apply(o,r),n=i)}},time:function(e){var t=h.now();return e(),h.now()-t},nextUid:function(){return""+o++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,o){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),o&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},extractElementByName:function(e,n){for(var o=0,r=e.length;r>o;o++)if(e[o].nodeName.toLowerCase()===n)return t.element(e[o]);return e},initOptionalProperties:function(e,n,o){o=o||{},t.forEach(e.$$isolateBindings,function(r,i){if(r.optional&&t.isUndefined(e[i])){var a=t.isDefined(n[r.attrName]);e[i]=t.isDefined(o[i])?o[i]:a}})},nextTick:function(e,t){function n(){var e=o.queue,t=o.digest;o.queue=[],o.timeout=null,o.digest=!1,e.forEach(function(e){e()}),t&&u.$digest()}var o=h.nextTick,r=o.timeout,i=o.queue||[];return i.push(e),null==t&&(t=!0),o.digest=o.digest||t,o.queue=i,r||(o.timeout=a(n,0,!1))}};return h.dom.animator=p(h),h}]),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,o){function r(e,o,r){var i=e[0]||e;!i||i.hasAttribute(o)&&0!==i.getAttribute(o).length||c(i,o)||(r=t.isString(r)?r.trim():"",r.length?e.attr(o,r):n.warn('ARIA: Attribute "',o,'", required for accessibility, is missing on node:',i))}function i(t,n,o){e(function(){r(t,n,o())})}function a(e,t){i(e,t,function(){return d(e)})}function d(e){return e.text().trim()}function c(e,t){function n(e){var t=e.currentStyle?e.currentStyle:o.getComputedStyle(e);return"none"===t.display}var r=e.hasChildNodes(),i=!1;if(r)for(var a=e.childNodes,d=0;d<a.length;d++){var c=a[d];1===c.nodeType&&c.hasAttribute(t)&&(n(c)||(i=!0))}return i}return{expect:r,expectAsync:i,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,n,o,r,i,a){this.compile=function(d){var c=d.templateUrl,l=d.template||"",m=d.controller,s=d.controllerAs,u=t.extend({},d.resolve||{}),p=t.extend({},d.locals||{}),f=d.transformTemplate||t.identity,h=d.bindToController;return t.forEach(u,function(e,n){u[n]=t.isString(e)?o.get(e):o.invoke(e)}),t.extend(u,p),u.$template=c?n.get(c,{cache:a}).then(function(e){return e.data}):e.when(l),e.all(u).then(function(e){var n=f(e.$template),o=d.element||t.element("<div>").html(n.trim()).contents(),a=r(o);return{locals:e,element:o,link:function(n){if(e.$scope=n,m){var r=i(m,e,!0);h&&t.extend(r.instance,e);var d=r();o.data("$ngControllerController",d),o.children().data("$ngControllerController",d),s&&(n[s]=d)}return a(n)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function o(n,o,r){function i(e,t,n){var o=p[t.replace(/^\$md./,"")];if(!o)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(p).join(", "));return o.registerElement(e,n)}function a(e,o){var r=new n(e);return t.extend(r,o),p[e]=r,h}var c=navigator.userAgent||navigator.vendor||e.opera,m=c.match(/ipad|iphone|ipod/i),s=c.match(/android/i),u="undefined"!=typeof e.jQuery&&t.element===e.jQuery,h={handler:a,register:i,isHijackingClicks:(m||s)&&!u&&!f};return h.isHijackingClicks&&h.handler("click",{options:{maxDistance:6},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,"click")}}),h.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=r(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,o=this.state.pos.y-t.y;Math.sqrt(n*n+o*o)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,o;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,o=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,o=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=d(e),l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):o&&this.cancel())},dispatchDragMove:o.throttle(function(e){this.state.isRunning&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n="left"==t.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}})}function r(e){this.name=e,this.state={}}function i(){function n(e,n,o){o=o||s;var r=new t.element.Event(n);r.$material=!0,r.pointer=o,r.srcEvent=e,t.extend(r,{clientX:o.x,clientY:o.y,screenX:o.x,screenY:o.y,pageX:o.x,pageY:o.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(o.target).trigger(r)}function o(t,n,o){o=o||s;var r;"click"===n?(r=document.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,e,t.detail,o.x,o.y,o.x,o.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(n,!0,!0,{})),r.$material=!0,r.pointer=o,r.srcEvent=t,o.target.dispatchEvent(r)}var i="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return r.prototype={options:{},dispatchEvent:i?n:o,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var o=this.getNearestParent(e.target),r=o&&o.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,r),registeredParent:o},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[o.name],e.off("$destroy",n)}var o=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},r}function a(e,n){function o(e,t){var o;for(var r in p)o=p[r],o instanceof n&&("start"===e&&o.cancel(),o[e](t,s))}function r(e){if(!s){var t=+Date.now();u&&!c(e,u)&&t-u.endTime<1500||(s=d(e),o("start",e))}}function i(e){s&&c(e,s)&&(l(e,s),o("move",e))}function a(e){s&&c(e,s)&&(l(e,s),s.endTime=+Date.now(),o("end",e),u=s,s=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!h&&e.isHijackingClicks&&(document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||(e.preventDefault(),e.stopPropagation())},!0),h=!0);var m="mousedown touchstart pointerdown",f="mousemove touchmove pointermove",b="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(m,r).on(f,i).on(b,a).on("$$mdGestureReset",function(){u=s=null})}function d(e){var t=m(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function c(e,t){return e&&t&&e.type.charAt(0)===t.type}function l(e,t){var n=m(e),o=t.x=n.pageX,r=t.y=n.pageY;t.distanceX=o-t.startX,t.distanceY=r-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function m(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var s,u,p={},f=!1,h=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",i).run(a),n.prototype={skipClickHijack:function(){return f=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new o(e,t,n)}]},o.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(a),l}function o(e,t){return d[e]=t,l}function r(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return c.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},l}function i(n,o){function r(e){return e=e||{},e._options&&(e=e._options),m.show(t.extend({},l,e))}function i(t,n){var r={};return r[e]=s,o.invoke(t||function(){return n},{},r)}var a,l,m=n(),s={hide:m.hide,cancel:m.cancel,show:r};return a=c.methods||[],l=i(c.optionsFactory,{}),t.forEach(d,function(e,t){s[t]=e}),t.forEach(c.presets,function(e,n){function o(e){this._options=t.extend({},r,e)}var r=i(e.optionsFactory,{}),d=(e.methods||[]).concat(a);if(t.extend(r,{$type:n}),t.forEach(d,function(e){o.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var c="show"+n.charAt(0).toUpperCase()+n.slice(1);s[c]=function(e){var t=s[n](e);return s.show(t)}}s[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new o)[e.argOption](n):new o(n)}}),s}var a=["onHide","onShow","onRemove"],d={},c={presets:{}},l={setDefaults:n,addPreset:r,addMethod:o,$get:i};return l.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),i.$inject=["$$interimElement","$injector"],l}function o(e,o,r,i,a,d,c,l,m,s){function u(e){return e&&t.isString(e)?e.replace(/\{\{/g,p).replace(/}}/g,f):e}var p=c.startSymbol(),f=c.endSymbol(),h="{{"===p&&"}}"===f,b=h?t.identity:u;return function(){function c(e){var t=new p(e),n=E.length?f.hide():o.when(!0);return n["finally"](function(){E.push(t),t.show()["catch"](function(e){})}),t.deferred.promise}function s(e){var t=E.shift();return t?(t.remove(e||g,!1)["catch"](function(e){}),t.deferred.promise):o.when(e)}function u(e){var t=E.shift();return t?(t.remove(e||h,!0)["catch"](function(e){}),t.deferred.promise):o.when(e)}function p(c){function s(){return o(function(e,t){function n(e){A.deferred.reject(e),t(e)}h(c).then(function(t){T=g(t,c),C=M(T,c).then(e,n)})})}function u(e,t){return c.cancelAutoHide&&c.cancelAutoHide(),o(function(n,r){function i(){A.deferred.resolve(e),n(e)}function a(e){A.deferred.reject(e),r(e)}o.when(C)["finally"](function(){$(c.element,c).then(function(){t&&a(e)||i()},a)})})}function p(e){return e=e||{},e.template&&(e.template=b(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return d.enter(t,n.parent)},onRemove:function(e,t){return t&&d.leave(t)||o.when()}},e)}function h(e){var t=e.skipCompile?null:l.compile(e);return t||o(function(t){t({locals:{},link:function(){return e.element}})})}function g(e,n){t.extend(e.locals,n);var o=e.link(n.scope);return n.element=o,n.parent=E(o,n),n.themable&&m(o),o}function E(n,o){var r=o.parent;if(r=t.isFunction(r)?r(o.scope,n,o):t.element(t.isString(r)?e[0].querySelector(r):r),!(r||{}).length){var i;return a[0]&&a[0].querySelector&&(i=a[0].querySelector(":not(svg) > body")),i||(i=a[0]),"#comment"==i.nodeName&&(i=e[0].body),t.element(i)}return r}function v(){var e,o=t.noop;c.hideDelay&&(e=i(f.hide,c.hideDelay),o=function(){i.cancel(e)}),c.cancelAutoHide=function(){o(),c.cancelAutoHide=n}}function M(e,n){var r=n.onComplete||t.noop;return o(function(t,i){try{o.when(n.onShow(n.scope,e,n)).then(function(){r(n.scope,e,n),v(),t(e)},i)}catch(a){i(a.message)}})}function $(e,n){var r=n.onRemoving||t.noop;return o(function(t,i){try{var a=o.when(e?n.onRemove(n.scope,e,n):!0);r(e,a),a.then(function(){!n.preserveScope&&n.scope.$destroy(),t(e)},i)}catch(d){i(d.message)}})}var A,T,C=o.when(!0);return c=p(c),A={options:c,deferred:o.defer(),show:s,remove:u}}var f,h=!1,g=!0,E=[];return f={show:c,hide:s,cancel:u}}}return e.$get=o,o.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming","$log"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){function e(e,n){function o(e){return e&&""!==e}var r,i=[],a={};return r={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return i},get:function(e){if(!o(e))return null;var t,n,r;for(t=0,n=i.length;n>t;t++)if(r=i[t],r.$$mdHandle===e)return r;return null},register:function(e,n){function o(){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}function r(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,i.push(e),r(),o):t.noop},when:function(e){if(o(e)){var t=n.defer(),i=r.get(e);return i?t.resolve(i):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){!function(){function e(e){function n(n,r,i){var a=o(r);return e.attach(n,r,t.extend(a,i))}function o(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:n}}t.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,o,r){return e.attach(n,o,t.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}return{attach:n}}t.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,o,r){return e.attach(n,o,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,o,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,o):e.attach(t,o)}}}function n(e,n,o){function r(r,i,a){function d(){var e=i.data("$mdRippleContainer");return e?e:(e=t.element('<div class="md-ripple-container">'),i.append(e),i.data("$mdRippleContainer",e),e)}function c(e){function t(e){var t="#"===e.charAt(0)?e.substr(1):e,n=t.length/3,o=t.substr(0,n),r=t.substr(n,n),i=t.substr(2*n);return 1===n&&(o+=o,r+=r,i+=i),"rgba("+parseInt(o,16)+","+parseInt(r,16)+","+parseInt(i,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===e.indexOf("rgb")?n(e):0===e.indexOf("#")?t(e):void 0}function l(e,t){E.splice(E.indexOf(e),1),0===E.length&&d().css({backgroundColor:""}),n(function(){e.remove()},t,!1)}function m(e){var t=E.indexOf(e),n=v[t]||{},o=E.length>1?!1:$,r=E.length>1?!1:A;o||n.animating||r?e.addClass("md-ripple-visible"):e&&(e.removeClass("md-ripple-visible"),a.outline&&e.css({width:h+"px",height:h+"px",marginLeft:-1*h+"px",marginTop:-1*h+"px"}),l(e,a.outline?450:650))}function s(r,l){function s(e){var n=t.element('<div class="md-ripple" data-counter="'+g++ +'">');return E.unshift(n),v.unshift({animating:!0}),f.append(n),e&&n.css(e),n}function u(e,t){var n,o,r,i=f.prop("offsetWidth"),d=f.prop("offsetHeight");return a.isMenuItem?o=Math.sqrt(Math.pow(i,2)+Math.pow(d,2)):a.outline?(r=T.getBoundingClientRect(),e-=r.left,t-=r.top,i=Math.max(e,i-e),d=Math.max(t,d-t),o=2*Math.sqrt(Math.pow(i,2)+Math.pow(d,2))):(n=a.fullRipple?1.1:.8,o=Math.sqrt(Math.pow(i,2)+Math.pow(d,2))*n,a.fitRipple&&(o=Math.min(d,i,o))),o}function p(e,t,n){function o(e){return e.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}var r=T.getBoundingClientRect(),i={backgroundColor:o(y),borderColor:o(y),width:e+"px",height:e+"px"};return a.outline?(i.width=0,i.height=0):i.marginLeft=i.marginTop=e*-.5+"px",a.center?i.left=i.top="50%":(i.left=Math.round((t-r.left)/f.prop("offsetWidth")*100)+"%",i.top=Math.round((n-r.top)/f.prop("offsetHeight")*100)+"%"),i}y=c(i.attr("md-ink-ripple"))||c(e.getComputedStyle(a.colorElement[0]).color||"rgb(0, 0, 0)");var f=d(),b=u(r,l),M=p(b,r,l),$=s(M),A=E.indexOf($),C=v[A]||{};return h=b,C.animating=!0,o.nextTick(function(){a.dimBackground&&f.css({backgroundColor:y}),$.addClass("md-ripple-placed md-ripple-scaled"),$.css(a.outline?{borderWidth:.5*b+"px",marginLeft:b*-.5+"px",marginTop:b*-.5+"px"}:{left:"50%",top:"50%"}),m($),n(function(){C.animating=!1,m($)},a.outline?450:225,!1)}),$}function u(e){f()&&(s(e.pointer.x,e.pointer.y),A=!0)}function p(){A=!1;var e=E[E.length-1];o.nextTick(function(){m(e)})}function f(){function e(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}var t=T.parentNode,n=t&&t.parentNode,o=n&&n.parentNode;return!(e(T)||e(t)||e(n)||e(o))}if(i.controller("mdNoInk"))return t.noop;a=t.extend({colorElement:i,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,fullRipple:!0,isMenuItem:!1,fitRipple:!1},a);var h,b=i.controller("mdInkRipple")||{},g=0,E=[],v=[],M=i.attr("md-highlight"),$=!1,A=!1,T=i[0],C=i.attr("md-ripple-size"),y=c(i.attr("md-ink-ripple"))||c(a.colorElement.length&&e.getComputedStyle(a.colorElement[0]).color||"rgb(0, 0, 0)");switch(C){case"full":a.fullRipple=!0;break;case"partial":a.fullRipple=!1}return a.mousedown&&i.on("$md.pressdown",u).on("$md.pressup",p),b.createRipple=s,M&&r.$watch(M,function(e){$=e,$&&!E.length&&o.nextTick(function(){s(0,0)}),t.forEach(E,m)}),function(){i.off("$md.pressdown",u).off("$md.pressup",p),d().remove()}}return{attach:r}}function o(){return function(){return{controller:t.noop}}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",o()).directive("mdNoBar",o()).directive("mdNoStretch",o()),e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$window","$timeout","$mdUtil"]}(),function(){!function(){function e(e){function n(n,o,r){return e.attach(n,o,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}t.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",
A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function o(e,t){return t=t||{},m[e]=a(e,t),g}function r(e,n){return a(e,t.extend({},m[e]||{},n))}function a(e,t){var n=C.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function d(e,n){if(s[e])return s[e];n=n||"default";var o="string"==typeof n?s[n]:n,r=new c(e);return o&&t.forEach(o.colors,function(e,n){r.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),s[e]=r,r}function c(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==o.isDark){o.isDark=e,o.foregroundPalette=o.isDark?f:p,o.foregroundShadow=o.isDark?h:b;var n=o.isDark?T:A,r=o.isDark?A:T;return t.forEach(n,function(e,t){var n=o.colors[t],i=r[t];if(n)for(var a in n.hues)n.hues[a]===i[a]&&(n.hues[a]=e[a])}),o}}var o=this;o.name=e,o.colors={},o.dark=n,n(!1),M.forEach(function(e){var n=(o.isDark?T:A)[e];o[e+"Palette"]=function(r,i){var a=o.colors[e]={name:r,hues:t.extend({},n,i)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",o.name).replace("%3",r).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==C.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",o.name).replace("%3",e).replace("%4",r).replace("%5",C.join(", ")))}),o},o[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),o[e+"Palette"].apply(o,t)}})}function u(e,o){function r(e){return e===n||""===e?!0:i.THEMES[e]!==n}function i(t,o){o===n&&(o=t,t=n),t===n&&(t=e),i.inherit(o,o)}return i.inherit=function(n,i){function a(e){r(e)||o.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e),d&&n.data("$mdThemeController",d)}var d=i.controller("mdTheme"),c=n.attr("md-theme-watch");if((v||t.isDefined(c))&&"false"!=c){var l=e.$watch(function(){return d&&d.$mdTheme||E},a);n.on("$destroy",l)}else{var m=d&&d.$mdTheme||E;a(m)}},i.THEMES=t.extend({},s),i.defaultTheme=function(){return E},i.registered=r,i}m={},s={};var g,E="default",v=!1;return t.extend(m,e),u.$inject=["$rootScope","$log"],g={definePalette:o,extendPalette:r,theme:d,setDefaultTheme:function(e){E=e},alwaysWatchTheme:function(e){v=e},$get:u,_LIGHT_DEFAULT_HUES:A,_DARK_DEFAULT_HUES:T,_PALETTES:m,_THEMES:s,_parseRules:i,_rgba:l}}function o(e,t,n){return{priority:100,link:{pre:function(o,r,i){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};r.data("$mdThemeController",a),a.$setTheme(t(i.mdTheme)(o)),i.$observe("mdTheme",a.$setTheme)}}}}function r(e){return e}function i(e,n,o){d(e,n),o=o.replace(/THEME_NAME/g,e.name);var r=[],i=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),c=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),s=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,u=m[i.name];return o=o.replace(s,function(t,n,o,r){return"foreground"===n?"shadow"==o?e.foregroundShadow:e.foregroundPalette[o]||e.foregroundPalette[1]:(0===o.indexOf("hue")&&(o=e.colors[n].hues[o]),l((m[e.colors[n].name][o]||"").value,r))}),t.forEach(i.hues,function(t,n){var i=o.replace(c,function(e,n,o,r,i){return l(u[t]["color"===r?"value":"contrast"],i)});"default"!==n&&(i=i.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name&&(i=i.replace(/\.md-default-theme/g,"")),r.push(i)}),r}function a(e){function n(e){var n=e.contrastDefaultColor,o=e.contrastLightColors||[],r=e.contrastStrongLightColors||[],i=e.contrastDarkColors||[];"string"==typeof o&&(o=o.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof i&&(i=i.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,d){function l(){return"light"===n?i.indexOf(d)>-1?g:r.indexOf(d)>-1?v:E:o.indexOf(d)>-1?r.indexOf(d)>-1?v:E:g}if(!t.isObject(a)){var m=c(a);if(!m)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",d));e[d]={value:m,contrast:l()}}})}var o=document.getElementsByTagName("head")[0],r=o?o.firstElementChild:null,a=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(r&&0!==a.length){t.forEach(m,n);var d={},l=a.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),p=new RegExp("md-("+M.join("|")+")","g");M.forEach(function(e){d[e]=""}),l.forEach(function(e){for(var t,n=(e.match(p),0);t=M[n];n++)if(e.indexOf(".md-"+t)>-1)return d[t]+=e;for(n=0;t=M[n];n++)if(e.indexOf(t)>-1)return d[t]+=e;return d[$]+=e}),t.forEach(s,function(e){u[e.name]||(M.forEach(function(t){for(var n=i(e,t,d[t]);n.length;){var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(n.shift())),o.insertBefore(a,r)}}),e.colors.primary.name==e.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),u[e.name]=!0)})}}function d(e,t){if(!m[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(m).join(", ")))}function c(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,o=e.substr(0,n),r=e.substr(n,n),i=e.substr(2*n);return 1===n&&(o+=o,r+=r,i+=i),[parseInt(o,16),parseInt(r,16),parseInt(i,16)]}}function l(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",o).directive("mdThemable",r).provider("$mdTheming",e).run(a);var m,s,u={},p={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},f={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},h="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",b="",g=c("rgba(0,0,0,0.87)"),E=c("rgba(255,255,255,0.87"),v=c("rgb(255,255,255)"),M=["primary","accent","warn","background"],$="primary",A={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},T={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};M.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};A[e]||(A[e]=t),T[e]||(T[e]=t)});var C=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];e.$inject=["$mdColorPalette"],o.$inject=["$mdTheming","$interpolate","$log"],r.$inject=["$mdTheming"],a.$inject=["$injector"]}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){function e(){return{restrict:"E"}}function n(e){function n(e,n,i,a,d,c,l){function m(o,r,l){r=i.extractElementByName(r,"md-bottom-sheet"),p=i.createBackdrop(o,"md-bottom-sheet-backdrop md-opaque"),p.on("click",function(){i.nextTick(d.cancel,!0)}),a.inherit(p,l.parent),e.enter(p,l.parent,null);var m=new u(r,l.parent);return l.bottomSheet=m,l.targetEvent&&t.element(l.targetEvent.target).blur(),a.inherit(m.element,l.parent),l.disableParentScroll&&(l.lastOverflow=l.parent.css("overflow"),l.parent.css("overflow","hidden")),e.enter(m.element,l.parent).then(function(){var e=t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));e.focus(),l.escapeToClose&&(l.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&i.nextTick(d.cancel,!0)},c.on("keyup",l.rootElementKeyupCallback))})}function s(n,o,r){var i=r.bottomSheet;return e.leave(p),e.leave(i.element).then(function(){r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),i.cleanup(),r.targetEvent&&t.element(r.targetEvent.target).focus()})}function u(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function c(t){var o=t.pointer.distanceY;5>o&&(o=Math.max(-r,o/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(r+o)+"px,0)")}function m(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>o)){var r=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(r/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),i.nextTick(d.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var s=l.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",c).on("$md.dragend",m),{element:e,cleanup:function(){s(),t.off("$md.dragstart",a).off("$md.drag",c).off("$md.dragend",m)}}}var p;return{themable:!0,targetEvent:null,onShow:m,onRemove:s,escapeToClose:!0,disableParentScroll:!0}}var o=.5,r=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),n.$inject=["$$interimElementProvider"]}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,t,n,o,r,i,a){function d(d,l,m){var s=o.getComputedStyle(a[0].body);if("fixed"==s.position){var u=parseInt(s.height,10)+Math.abs(parseInt(s.top,10));l.css({height:u+"px"})}t.pin&&t.pin(l,n),i(function(){var t=l.parent()[0];if(t){var n=o.getComputedStyle(t);"static"==n.position&&r.warn(c)}e.inherit(l,l.parent())})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:d}}])}(),function(){function e(e){return{restrict:"E",link:function(t,n,o){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,o,r,i,a,d){function c(n,c){return c.type="checkbox",c.tabindex=c.tabindex||"0",n.attr("role",c.type),function(n,c,m,s){function u(e,t,o){m[e]&&n.$watch(m[e],function(e){o[e]&&c.attr(t,o[e])})}function p(e){var t=e.which||e.keyCode;(t===r.KEY_CODE.SPACE||t===r.KEY_CODE.ENTER)&&(e.preventDefault(),c.hasClass("md-focused")||c.addClass("md-focused"),f(e))}function f(e){c[0].hasAttribute("disabled")||n.$apply(function(){var t=m.ngChecked?m.checked:!s.$viewValue;s.$setViewValue(t,e&&e.type),s.$render()})}function h(){s.$viewValue?c.addClass(l):c.removeClass(l)}s=s||a.fakeNgModel(),i(c),m.ngChecked&&n.$watch(n.$eval.bind(n,m.ngChecked),s.$setViewValue.bind(s)),u("ngDisabled","tabindex",{"true":"-1","false":m.tabindex}),o.expectWithText(c,"aria-label"),e.link.pre(n,{on:t.noop,0:{}},m,[s]),n.mouseActive=!1,c.on("click",f).on("keypress",p).on("mousedown",function(){n.mouseActive=!0,d(function(){n.mouseActive=!1},100)}).on("focus",function(){n.mouseActive===!1&&c.addClass("md-focused")}).on("blur",function(){c.removeClass("md-focused")}),s.$render=h}}e=e[0];var l="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:c}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,o,r){o[0];e(o),t.$broadcast("$mdContentLoaded",o),n(o[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,o,r){function i(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){return i(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function d(a,d,c){var l=d[0];n(d),e.attach(a,d);var m=l.textContent.trim();m||o.expect(d,"aria-label"),i(c)&&t.isDefined(c.ngDisabled)&&a.$watch(c.ngDisabled,function(e){d.attr("tabindex",e?-1:0)}),d.on("click",function(e){c.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,d.on("mousedown",function(){a.mouseActive=!0,r(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&d.addClass("md-focused")}).on("blur",function(){d.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:d}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e,n){return{restrict:"E",link:function(o,r,i){n(r),e(function(){function e(){r.toggleClass("md-content-overflow",o.scrollHeight>o.clientHeight)}var n,o=r[0].querySelector("md-dialog-content");o&&(n=o.getElementsByTagName("img"),e(),t.element(n).on("load",e))})}}}function n(e){function n(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">',' <md-dialog-content role="document" tabIndex="-1">','   <h2 class="md-title">{{ dialog.title }}</h2>',"   <p>{{ dialog.content }}</p>"," </md-dialog-content>",' <div class="md-actions">','   <md-button ng-if="dialog.$type == \'confirm\'"     ng-click="dialog.abort()" class="md-primary">',"     {{ dialog.cancel }}","   </md-button>",'   <md-button ng-click="dialog.hide()" class="md-primary">',"     {{ dialog.ok }}","   </md-button>"," </div>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function o(e,n,o,r,i,a,d,c){function l(e,n,r){function i(){function e(){var e=n[0].querySelector(".dialog-close");if(!e){var o=n[0].querySelectorAll(".md-actions button");e=o[o.length-1]}return t.element(e)}if(r.focusOnOpen){var o="alert"===r.$type?n.find("md-dialog-content"):e();o.focus()}}return n=o.extractElementByName(n,"md-dialog"),t.element(a[0].body).addClass("md-dialog-is-showing"),s(n,r),f(n.find("md-dialog"),r),p(e,n,r),g(n,r).then(function(){u(n,r),h(n,r),i()})}function m(e,n,o){return o.deactivateListeners(),o.unlockScreenReader(),o.hideBackdrop(),E(n,o)["finally"](function(){t.element(a[0].body).removeClass("md-dialog-is-showing"),n.remove(),o.origin.focus()})}function s(e,n){var r={element:null,bounds:null,focus:t.noop};n.origin=t.extend({},r,n.origin||{});var i=t.element((n.targetEvent||{}).target);i&&i.length&&(n.origin.element=i,n.origin.bounds=i[0].getBoundingClientRect(),n.origin.focus=function(){i.focus()}),n.parent=t.element(n.parent||c),n.disableParentScroll&&(n.restoreScroll=o.disableScrollAround(e,n.parent))}function u(t,n){var i=[],a=function(){var t="alert"==n.$type?e.hide:e.cancel;o.nextTick(t,!0)};if(n.escapeToClose){var d=n.parent,c=function(e){e.keyCode===r.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),a())};t.on("keyup",c),d.on("keyup",c),i.push(function(){t.off("keyup",c),d.off("keyup",c)})}if(n.clickOutsideToClose){var d=t,l=function(e){e.target===d[0]&&(e.stopPropagation(),e.preventDefault(),a())};d.on("click",l),i.push(function(){d.off("click",l)})}n.deactivateListeners=function(){i.forEach(function(e){e()}),n.deactivateListeners=null}}function p(e,t,n){n.hasBackdrop&&(n.backdrop=o.createBackdrop(e,"md-dialog-backdrop md-opaque"),i.enter(n.backdrop,n.parent)),n.hideBackdrop=function(){n.backdrop&&i.leave(n.backdrop),n.disableParentScroll&&n.restoreScroll(),n.hideBackdrop=null}}function f(e,t){var r="alert"===t.$type?"alertdialog":"dialog",i=e.find("md-dialog-content"),a=e.attr("id")||"dialog_"+o.nextUid();e.attr({role:r,tabIndex:"-1"}),0===i.length&&(i=e),i.attr("id",a),e.attr("aria-describedby",a),t.ariaLabel?n.expect(e,"aria-label",t.ariaLabel):n.expectAsync(e,"aria-label",function(){var e=i.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")})}function h(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,r=0;r<t.length;r++)e===t[r]||v(t[r],["SCRIPT","STYLE"])||t[r].setAttribute("aria-hidden",o);n(e=e.parentNode)}}var o=!0;n(e[0]),t.unlockScreenReader=function(){o=!1,n(e[0]),t.unlockScreenReader=null}}function b(e,t){var n="fixed"==d.getComputedStyle(a[0].body).position,r=t.backdrop?d.getComputedStyle(t.backdrop[0]):null,i=r?Math.ceil(Math.abs(parseInt(r.height,10))):0;return e.css({top:(n?o.scrollTop(t.parent)/2:0)+"px",height:i?i+"px":"100%"}),e}function g(e,t){t.parent.append(e),b(e,t);var n=e.find("md-dialog"),r=o.dom.animator,i=r.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},d=r.toTransformCss(i(n,t.origin)),c=r.toTransformCss("");return r.translate3d(n,d,c,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,e(r.toTransformCss(i(n,t.origin)))},!0})}function E(e,t){return t.reverseAnimate()}function v(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}return{hasBackdrop:!0,isolateScope:!0,onShow:l,onRemove:m,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,focusOnOpen:!0,disableParentScroll:!0,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}}}return n.$inject=["$mdDialog","$mdTheming"],o.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:o}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:n}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:n})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",n),e.$inject=["$$rAF","$mdTheming"],n.$inject=["$$interimElementProvider"]}(),function(){!function(){function e(){function e(e,t){t.prepend('<div class="md-css-variables"></div>')}function t(e,t,n,o){function r(){d.direction=d.direction||"down",d.isOpen=d.isOpen||!1}function i(){t.on("mouseenter",d.mouseenter),t.on("mouseleave",d.mouseleave)}function a(){e.$watch("vm.direction",function(e,o){n.removeClass(t,"md-"+o),n.addClass(t,"md-"+e)}),e.$watch("vm.isOpen",function(e){var o=e?"md-is-open":"",r=e?"":"md-is-open";n.setClass(t,o,r)})}var d=this;d.open=function(){e.$evalAsync("vm.isOpen = true")},d.close=function(){!d.moused&&e.$evalAsync("vm.isOpen = false")},d.mouseenter=function(){d.moused=!0,d.open()},d.mouseleave=function(){d.moused=!1,d.close()},r(),i(),a(),o.nextTick(function(){n.addClass(t,"md-noop")})}return t.$inject=["$scope","$element","$animate","$mdUtil"],{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:t,controllerAs:"vm",link:e}}function n(){function e(e){var n=e[0],o=e.controller("mdFabSpeedDial"),r=n.querySelectorAll(".md-fab-action-item"),i=n.querySelector(".md-css-variables"),a=i.style.zIndex;t.forEach(r,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=r.length-t+a}),o.isOpen||t.forEach(r,function(e,t){var n,r,i=e.style;switch(o.direction){case"up":n=e.scrollHeight*(t+1),r="Y";break;case"down":n=-e.scrollHeight*(t+1),r="Y";break;case"left":n=e.scrollWidth*(t+1),r="X";break;case"right":n=-e.scrollWidth*(t+1),r="X"}var a="translate"+r+"("+n+"px)";i.transform=i.webkitTransform=a})}return{addClass:function(t,n,o){t.hasClass("md-fling")&&(e(t),o())},removeClass:function(t,n,o){e(t),o()}}}function o(){function e(e){var o=e[0],r=e.controller("mdFabSpeedDial"),i=o.querySelectorAll(".md-fab-action-item");t.forEach(i,function(e,t){var o=e.style,a=t*n;o.opacity=r.isOpen?1:0,o.transform=o.webkitTransform=r.isOpen?"scale(1)":"scale(0)",o.transitionDelay=(r.isOpen?a:i.length-a)+"ms"})}var n=65;return{addClass:function(t,n,o){e(t),o()},removeClass:function(t,n,o){e(t),o()}}}t.module("material.components.fabSpeedDial",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",e).animation(".md-fling",n).animation(".md-scale",o).service("mdFabSpeedDialFlingAnimation",n).service("mdFabSpeedDialScaleAnimation",o)}()}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var o=e.children();return o.attr("ng-repeat")?o.addClass("md-fab-action-item"):o.wrap('<div class="md-fab-action-item">'),function(e,n,o,r){var i=r[0]||r[1];i&&t.forEach(n.children(),function(e){e=t.element(e).children()[0],t.element(e).on("focus",i.open),t.element(e).on("blur",i.close)})}}}}t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function n(){function e(e,t,n){var o=this;o.isOpen=o.isOpen||!1,o.open=function(){o.isOpen=!0,e.$apply()},o.close=function(){o.isOpen=!1,e.$apply()},t.addClass("md-fab-toolbar"),t.on("mouseenter",o.open),t.on("mouseleave",o.close),e.$watch("vm.isOpen",function(e){var o=e?"md-is-open":"",r=e?"":"md-is-open";n.setClass(t,o,r)})}function t(e,t,n){t.find("md-fab-trigger").find("button").attr("tabindex","-1"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return e.$inject=["$scope","$element","$animate"],{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{isOpen:"=?mdOpen"},bindToController:!0,controller:e,controllerAs:"vm",link:t}}function o(){function n(n,o,r){var i=n[0],a=n.controller("mdFabToolbar"),d=i.querySelector(".md-fab-toolbar-background"),c=i.querySelector("md-fab-trigger button"),l=i.querySelector("md-fab-trigger button md-icon"),m=n.find("md-fab-actions").children();if(c&&d){var s=e.getComputedStyle(c).getPropertyValue("background-color"),u=i.offsetWidth,p=(i.offsetHeight,2*u);d.style.backgroundColor=s,d.style.borderRadius=u+"px",a.isOpen?(d.style.width=p+"px",d.style.height=p+"px",d.style.top=-(p/2)+"px",n.hasClass("md-left")&&(d.style.left=-(p/2)+"px",d.style.right=null),n.hasClass("md-right")&&(d.style.right=-(p/2)+"px",d.style.left=null),d.style.transitionDelay="0ms",l&&(l.style.transitionDelay=".3s"),t.forEach(m,function(e,t){e.style.transitionDelay=25*(m.length-t)+"ms"})):(d.style.width=c.offsetWidth+"px",d.style.height=c.offsetHeight+"px",d.style.top="0px",n.hasClass("md-left")&&(d.style.left="0px",d.style.right=null),n.hasClass("md-right")&&(d.style.right="0px",d.style.left=null),d.style.transitionDelay="200ms",l&&(l.style.transitionDelay="0ms"),t.forEach(m,function(e,t){e.style.transitionDelay=25*t+"ms"}))}}return{addClass:function(e,t,o){n(e,t,o),o()},removeClass:function(e,t,o){n(e,t,o),o()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",o).service("mdFabToolbarAnimation",o)}()}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(e,n,o,r){var i=r[0]||r[1];i&&t.forEach(n.children(),function(e){t.element(e).on("focus",i.open),t.element(e).on("blur",i.close)})}}}t.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",e)}()}(),function(){function e(e,o,r,i){function a(n,a,d,c){function l(){for(var e in o.MEDIA)i(e),i.getQuery(o.MEDIA[e]).addListener(T);return i.watchResponsiveAttributes(["md-cols","md-row-height"],d,s)}function m(){c.layoutDelegate=t.noop,C();for(var e in o.MEDIA)i.getQuery(o.MEDIA[e]).removeListener(T)}function s(e){null==e?c.invalidateLayout():i(e)&&c.invalidateLayout()}function u(e){var o=b(),i={tileSpans:g(o),colCount:E(),rowMode:$(),rowHeight:M(),gutter:v()};if(e||!t.equals(i,y)){var d=r(i.colCount,i.tileSpans,o).map(function(e,n){return{grid:{element:a,style:h(i.colCount,n,i.gutter,i.rowMode,i.rowHeight)},tiles:e.map(function(e,n){return{element:t.element(o[n]),style:f(e.position,e.spans,i.colCount,i.rowCount,i.gutter,i.rowMode,i.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:d}}),y=i}}function p(e){return w+e+k}function f(e,t,n,o,r,i,a){var d=1/n*100,c=(n-1)/n,l=x({share:d,gutterShare:c,gutter:r}),m={left:N({unit:l,offset:e.col,gutter:r}),width:_({unit:l,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(i){case"fixed":m.top=N({unit:a,offset:e.row,gutter:r}),m.height=_({unit:a,span:t.row,gutter:r});break;case"ratio":var s=d/a,u=x({share:s,gutterShare:c,gutter:r});m.paddingTop=_({unit:u,span:t.row,gutter:r}),m.marginTop=N({unit:u,offset:e.row,gutter:r});break;case"fit":var p=(o-1)/o,s=1/o*100,u=x({share:s,gutterShare:p,gutter:r});m.top=N({unit:u,offset:e.row,gutter:r}),m.height=_({unit:u,span:t.row,gutter:r})}return m}function h(e,t,n,o,r){var i={height:"",paddingBottom:""};switch(o){case"fixed":i.height=_({unit:r,span:t,gutter:n});break;case"ratio":var a=1===e?0:(e-1)/e,d=1/e*100,c=d*(1/r),l=x({share:c,gutterShare:a,gutter:n});i.paddingBottom=_({unit:l,span:t,gutter:n});break;case"fit":}return i}function b(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName})}function g(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(i.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(i.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function E(){var e=parseInt(i.getResponsiveAttribute(d,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function v(){return A(i.getResponsiveAttribute(d,"md-gutter")||1)}function M(){var e=i.getResponsiveAttribute(d,"md-row-height");switch($()){case"fixed":return A(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function $(){var e=i.getResponsiveAttribute(d,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function A(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),c.layoutDelegate=u;var T=t.bind(c,c.invalidateLayout),C=l();n.$on("$destroy",m);var y,w=e.startSymbol(),k=e.endSymbol(),x=e(p("share")+"% - ("+p("gutter")+" * "+p("gutterShare")+")"),N=e("calc(("+p("unit")+" + "+p("gutter")+") * "+p("offset")+")"),_=e("calc(("+p("unit")+") * "+p("span")+" + ("+p("span")+" - 1) * "+p("gutter")+")")}return{restrict:"E",controller:n,
scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function o(e){function n(t,n){var o,a,d,c,l,m;return c=e.time(function(){a=r(t,n)}),o={layoutInfo:function(){return a},map:function(t){return l=e.time(function(){var e=o.layoutInfo();d=t(e.positioning,e.rowCount)}),o},reflow:function(t){return m=e.time(function(){var e=t||i;e(d.grid,d.tiles)}),o},performance:function(){return{tileCount:n.length,layoutTime:c,mapTime:l,reflowTime:m,totalTime:c+l+m}}}}function o(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function r(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,m=0;m-a<t.col;)d>=e?o():(a=l.indexOf(0,d),-1!==a&&-1!==(m=i(a+1))?d=m+1:(a=m=0,o()));return r(a,t.col,t.row),d=a+t.col,{col:a,row:c}}function o(){d=0,c++,r(0,e,-1)}function r(e,t,n){for(var o=e;e+t>o;o++)l[o]=Math.max(l[o]+n,0)}function i(e){var t;for(t=e;t<l.length;t++)if(0!==l[t])return t;return t===l.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var d=0,c=0,l=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:c+Math.max.apply(Math,l)}}var i=o;return n.animateWith=function(e){i=t.isFunction(e)?e:o},n}function r(e){function n(n,o,r,i){o.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,t.bind(i,i.invalidateLayout));i.invalidateTiles(),n.$on("$destroy",function(){a(),i.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&i.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function i(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",i).directive("mdGridTileHeader",i).factory("$mdGridLayout",o),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$mdUtil"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},o.$inject=["$mdUtil"],r.$inject=["$mdMedia"]}(),function(){function e(e,t,n){function o(o,r,i){function a(){var e=r.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}function d(){function t(){return!o.fontIcon&&!o.fontSet&&!i.hasOwnProperty("class")}o.svgIcon||o.svgSrc||(o.fontIcon&&r.addClass("md-font "+o.fontIcon),o.fontSet&&r.addClass(e.fontSet(o.fontSet)),t()&&r.addClass(e.fontSet()))}t(r),d();var c=i.alt||o.fontIcon||o.svgIcon||r.text(),l=i.$normalize(i.$attr.mdSvgIcon||i.$attr.mdSvgSrc||"");i["aria-label"]||(""==c||a()?r.text()||n.expect(r,"aria-hidden","true"):(n.expect(r,"aria-label",c),n.expect(r,"role","img"))),l&&i.$observe(l,function(t){r.empty(),t&&e(t).then(function(e){r.append(e)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:o}}t.module("material.components.icon",["material.core"]).directive("mdIcon",e),e.$inject=["$mdIcon","$mdTheming","$mdAria"]}(),function(){function e(){}function n(e,t){this.url=e,this.viewBoxSize=t||r.defaultViewBoxSize}function o(e,n,o,r,i){function a(e){return e=e||"",E[e]?o.when(E[e].clone()):v.test(e)?s(e).then(c(e)):(-1==e.indexOf(":")&&(e="$default:"+e),l(e)["catch"](m)["catch"](u)["catch"](p).then(c(e)))}function d(n){var o=t.isUndefined(n)||!(n&&n.length);if(o)return e.defaultFontSet;var r=n;return t.forEach(e.fontSets,function(e){e.alias==n&&(r=e.fontSet||r)}),r}function c(t){return function(n){return E[t]=f(n)?n:new h(n,e[t]),E[t].clone()}}function l(t){var n=e[t];return n?s(n.url).then(function(e){return new h(e,n)}):o.reject(t)}function m(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),r=e.querySelector("#"+n);return r?new h(r,i):o.reject(t)}var r=t.substring(0,t.lastIndexOf(":"))||"$default",i=e[r];return i?s(i.url).then(n):o.reject(t)}function s(e){return n.get(e,{cache:i}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})}function u(e){var n;return t.isString(e)&&(n="icon "+e+" not found",r.warn(n)),o.reject(n||e)}function p(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return r.warn(n),o.reject(n)}function f(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function h(e,n){"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function b(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function g(){return this.element.cloneNode(!0)}var E={},v=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return h.prototype={clone:g,prepare:b},a.fontSet=d,a}t.module("material.components.icon").provider("$mdIcon",e);var r={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};e.prototype={icon:function(e,t,o){return-1==e.indexOf(":")&&(e="$default:"+e),r[e]=new n(t,o),this},iconSet:function(e,t,o){return r[e]=new n(t,o),this},defaultIconSet:function(e,t){var o="$default";return r[o]||(r[o]=new n(e,t)),r[o].viewBoxSize=t||r.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return r.defaultViewBoxSize=e,this},fontSet:function(e,t){return r.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return r.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return r.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,i){return this.preloadIcons(i),o(r,e,t,n,i)}]}}(),function(){function e(e,t){function n(t,n,o){e(n)}function o(e,n,o){var r=this;r.isErrorGetter=o.mdIsError&&t(o.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=n,r.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},r.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},r.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)},e.$watch(function(){return r.label&&r.input},function(e){e&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}return o.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:o}}function n(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,o){o&&!n.mdNoFloat&&(o.label=t,e.$on("$destroy",function(){o.label=null}))}}}function o(e,n,o){function r(r,i,a,d){function c(e){return s.setHasValue(!u.$isEmpty(e)),e}function l(){s.setHasValue(i.val().length>0||(i[0].validity||{}).badInput)}function m(){function o(e){return h(),e}function a(){if(m.style.height=m.offsetHeight+"px",i.addClass("md-no-flex"),isNaN(p)){l.style.height="auto",l.scrollTop=0;var e=d();e&&(l.style.height=e+"px")}else{l.setAttribute("rows",1),f||(l.style.minHeight="0",f=i.prop("clientHeight"),l.style.minHeight=null);var t=Math.max(p,Math.round(l.scrollHeight/f));l.setAttribute("rows",t)}i.removeClass("md-no-flex"),m.style.height="auto"}function d(){var e=l.scrollHeight-l.offsetHeight;return l.offsetHeight+(e>0?e:0)}function c(e){l.scrollTop=0;var t=l.scrollHeight-l.offsetHeight,n=l.offsetHeight+t;l.style.height=n+"px"}if(!t.isDefined(i.attr("md-no-autogrow"))){var l=i[0],m=s.element[0],p=0/0,f=null;l.hasAttribute("rows")&&(p=parseInt(l.getAttribute("rows")));var h=e.debounce(a,1);u?(u.$formatters.push(o),u.$viewChangeListeners.push(o)):h(),i.on("keydown input",h),isNaN(p)&&(i.attr("rows","1"),i.on("scroll",c)),t.element(n).on("resize",h),r.$on("$destroy",function(){t.element(n).off("resize",h)})}}var s=d[0],u=d[1]||e.fakeNgModel(),p=t.isDefined(a.readonly);if(s){if(s.input)throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");s.input=i,s.label||o.expect(i,"aria-label",i.attr("placeholder")),i.addClass("md-input"),i.attr("id")||i.attr("id","input_"+e.nextUid()),"textarea"===i[0].tagName.toLowerCase()&&m();var f=s.isErrorGetter||function(){return u.$invalid&&u.$touched};r.$watch(f,s.setInvalid),u.$parsers.push(c),u.$formatters.push(c),i.on("input",l),p||i.on("focus",function(e){s.setFocused(!0)}).on("blur",function(e){s.setFocused(!1),l()}),r.$on("$destroy",function(){s.setFocused(!1),s.setHasValue(!1),s.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:r}}function r(e){function n(n,o,r,i){function a(e){return m.text((o.val()||e||"").length+"/"+d),e}var d,c=i[0],l=i[1],m=t.element('<div class="md-char-counter">');r.$set("ngTrim","false"),l.element.append(m),c.$formatters.push(a),c.$viewChangeListeners.push(a),o.on("input keydown",function(){a()}),n.$watch(r.mdMaxlength,function(n){d=n,t.isNumber(n)&&n>0?(m.parent().length||e.enter(m,l.element,t.element(l.element[0].lastElementChild)),a()):e.leave(m)}),c.$validators["md-maxlength"]=function(e,n){return!t.isNumber(d)||0>d?!0:(e||o.val()||n||"").length<=d}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:n}}function i(e){function n(n,o,r,i){if(i&&!t.isDefined(i.element.attr("md-no-float"))){var a=r.placeholder;if(o.removeAttr("placeholder"),0==i.element.find("label").length){if(i.input&&"MD-SELECT"!=i.input[0].nodeName){var d='<label ng-click="delegateClick()">'+a+"</label>";i.element.addClass("md-icon-float"),i.element.prepend(d)}}else"MD-SELECT"!=o[0].nodeName&&e.warn("The placeholder='"+a+"' will be ignored since this md-input-container has a child label element.")}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}t.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",n).directive("input",o).directive("textarea",o).directive("mdMaxlength",r).directive("placeholder",i),e.$inject=["$mdTheming","$parse"],o.$inject=["$mdUtil","$window","$mdAria"],r.$inject=["$animate"],i.$inject=["$log"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,o){var r=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(i,a){function d(){for(var e,t,n=["md-switch","md-checkbox"],o=0;t=n[o];++o)if((e=i.find(t)[0])&&!e.hasAttribute("aria-label")){var r=i.find("p")[0];if(!r)return;e.setAttribute("aria-label","Toggle "+r.textContent)}}function c(n){var o;if("div"==n)o=t.element('<div class="md-no-style md-list-item-inner">'),o.append(i.contents()),i.addClass("md-proxy-focus");else{o=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var r=["ng-click","aria-label","ng-disabled"];t.forEach(r,function(e){i[0].hasAttribute(e)&&(o[0].setAttribute(e,i[0].getAttribute(e)),i[0].removeAttribute(e))}),o.children().eq(0).append(i.contents())}if(i[0].setAttribute("tabindex","-1"),i.append(o),p&&p.hasAttribute("ng-click")){e.expect(p,"aria-label");var d=t.element('<md-button class="md-secondary-container md-icon-button">');d.attr("ng-click",p.getAttribute("ng-click")),p.removeAttribute("ng-click"),p.setAttribute("tabindex","-1"),p.classList.remove("md-secondary"),d.append(p),p=d[0]}p&&(p.hasAttribute("ng-click")||a.ngClick&&l(p))&&(i.addClass("md-with-secondary"),i.append(p))}function l(e){return-1!=r.indexOf(e.nodeName.toLowerCase())}function m(e,i,a,d){function c(){var e=i.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(r,function(e){t.forEach(s.querySelectorAll(e),function(e){m.push(e)})})}function l(){(m.length||u)&&(i.addClass("md-clickable"),d.attachRipple(e,t.element(i[0].querySelector(".md-no-style"))))}var m=[],s=i[0].firstElementChild,u=s&&s.hasAttribute("ng-click");c(),l(),i.hasClass("md-proxy-focus")&&m.length&&t.forEach(m,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,o(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&i.addClass("md-focused"),n.on("blur",function t(){i.removeClass("md-focused"),n.off("blur",t)})})}),u||m.length||s&&s.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&s&&(s.click(),e.preventDefault(),e.stopPropagation())}}),i.off("click"),i.off("keypress"),m.length&&s&&i.children().eq(0).on("click",function(e){s.contains(e.target)&&t.forEach(m,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var s,u,p=i[0].querySelector(".md-secondary");if(i[0].setAttribute("role","listitem"),a.ngClick)c("button");else{for(var f,h=0;f=r[h];++h)if(u=i[0].querySelector(f)){s=!0;break}s?c("div"):i[0].querySelector("md-button")||i.addClass("md-no-proxy")}return d(),m}}}function o(e,t,n){function o(e,t){var o={};n.attach(e,t,o)}var r=this;r.attachRipple=o}t.module("material.components.list",["material.core"]).controller("MdListController",o).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$timeout"],o.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){function e(e){function n(e){e.addClass("md-menu");var t=e.children()[0];if(t.hasAttribute("ng-click")||(t=t.querySelector("[ng-click]")),t&&t.setAttribute("aria-haspopup","true"),2!=e.children().length)throw Error("Invalid HTML for md-menu. Expected two children elements.");return o}function o(e,n,o,r){var i=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),a=n.children()[1];i.append(a),r.init(i),e.$on("$destroy",function(){i.remove(),r.close()})}return{restrict:"E",require:"mdMenu",controller:"mdMenuCtrl",scope:!0,compile:n}}function n(e,t,n,o){var r,i,a=this;this.init=function(e){r=e,i=n[0].querySelector("[ng-click]")},this.open=function(t){t&&t.stopPropagation(),a.isOpen=!0,i.setAttribute("aria-expanded","true"),e.show({scope:o,mdMenuCtrl:a,element:r,target:n[0]})},o.$mdOpenMenu=this.open,this.close=function(t){a.isOpen&&(a.isOpen=!1,i.setAttribute("aria-expanded","false"),e.hide(),t||n.children()[0].focus())},this.positionMode=function(){var e=(t.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(t.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}t.module("material.components.menu",["material.core","material.components.backdrop"]).directive("mdMenu",e).controller("mdMenuCtrl",n),e.$inject=["$mdMenu"],n.$inject=["$mdMenu","$attrs","$element","$scope"]}(),function(){function o(o){function r(o,r,a,d,c,l){function m(e,n,i){function l(){if(!i.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(i,{alreadyOpen:!1,isRemoved:!1,target:t.element(i.target),parent:t.element(i.parent),menuContentEl:t.element(n[0].querySelector("md-menu-content")),backdrop:i.hasBackdrop&&a.createBackdrop(e,"md-menu-backdrop md-click-catcher")})}function m(){i.resizeFn=function(){f(n,i)},t.element(r).on("resize",i.resizeFn),t.element(r).on("orientationchange",i.resizeFn)}function u(){i.parent.append(n),n.removeClass("md-leave"),o(function(){o(function(){f(n,i),o(function(){n.addClass("md-active"),i.alreadyOpen=!0,n[0].style[c.CSS.TRANSFORM]=""})})})}function p(){n.addClass("md-clickable"),i.backdrop&&i.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.$apply(function(){i.mdMenuCtrl.close(!0)})}),i.menuContentEl.on("keydown",function(t){e.$apply(function(){switch(t.keyCode){case c.KEY_CODE.ESCAPE:i.mdMenuCtrl.close();break;case c.KEY_CODE.UP_ARROW:s(t,i.menuContentEl,i,-1);break;case c.KEY_CODE.DOWN_ARROW:s(t,i.menuContentEl,i,1)}})});var t=function(t){function n(){e.$apply(function(){i.mdMenuCtrl.close()})}function o(e,t){if(!e)return!1;for(var n,o=0;n=t[o];++o)for(var r,i=[n,"data-"+n,"x-"+n],a=0;r=i[a];++a)if(e.hasAttribute(r))return!0;return!1}var r=t.target;do{if(r==i.menuContentEl[0])return;if(o(r,["ng-click","ng-href","ui-sref"])){r.hasAttribute("disabled")||n();break}}while(r=r.parentNode)};i.menuContentEl[0].addEventListener("click",t,!0);var o=i.menuContentEl[0].querySelector("[md-menu-focus-target]");return o||(o=i.menuContentEl[0].firstElementChild.firstElementChild),o.focus(),function(){n.removeClass("md-clickable"),i.backdrop.off("click"),i.menuContentEl.off("keydown"),i.menuContentEl[0].removeEventListener("click",t,!0)}}return l(i),d.inherit(i.menuContentEl,i.target),m(),i.disableParentScroll&&(i.restoreScroll=a.disableScrollAround(i.element)),i.backdrop&&(d.inherit(i.backdrop,i.parent),i.parent.append(i.backdrop)),u(),h.waitTransitionEnd(n,{timeout:370})["finally"](function(e){return i.cleanupInteraction=p(),e})}function s(e,t,n,o){for(var r=a.getClosest(e.target,"MD-MENU-ITEM"),i=a.nodesToArray(t[0].children),d=i.indexOf(r),c=d+o;c>=0&&c<i.length;c+=o){var l=i[c].firstElementChild||i[c],m=u(l);if(m)break}}function u(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),l[0].activeElement==e?!0:!1):void 0}function p(e,o,i){return i.isRemoved=!0,o.addClass("md-leave"),i.cleanupInteraction(),t.element(r).off("resize",i.resizeFn),t.element(r).off("orientationchange",i.resizeFn),i.resizeFn=n,h.waitTransitionEnd(o,{timeout:370})["finally"](function(){o.removeClass("md-active"),i.backdrop&&i.backdrop.remove(),o[0].parentNode===i.parent[0]&&i.parent[0].removeChild(o[0]),i.restoreScroll&&i.restoreScroll()})}function f(t,n){function o(e){e.top=Math.max(Math.min(e.top,g.bottom-m.offsetHeight),g.top),e.left=Math.max(Math.min(e.left,g.right-m.offsetWidth),g.left)}function r(){for(var t=0;t<s.children.length;++t)if("none"!=e.getComputedStyle(s.children[t]).display)return s.children[t]}if(!n.isRemoved){var a,d,l,m=t[0],s=t[0].firstElementChild,u=s.getBoundingClientRect(),p=n.parent[0],f=p.getBoundingClientRect(),h=n.target[0].querySelector("[md-menu-origin]")||n.target[0],b=h.getBoundingClientRect(),g={left:f.left+i,top:Math.max(f.top,0)+i,bottom:Math.max(f.bottom,Math.max(f.top,0)+f.height)-i,right:f.right-i},E=n.mdMenuCtrl.positionMode();if("target"==E.top||"target"==E.left||"target-right"==E.left){if(a=r(),!a)throw Error("Error positioning menu. No visible children.");a=a.firstElementChild||a,a=a.querySelector("[md-menu-align-target]")||a,d=a.getBoundingClientRect(),l={top:parseFloat(m.style.top||0),left:parseFloat(m.style.left||0)}}var v={},M="top ";switch(E.top){case"target":v.top=l.top+b.top-d.top;break;default:throw new Error('Invalid target mode "'+E.top+'" specified for md-menu on Y axis.')}switch(E.left){case"target":v.left=l.left+b.left-d.left,M+="left";break;case"target-right":v.left=b.right-u.width+(u.right-d.right),M+="right";break;default:throw new Error('Invalid target mode "'+E.left+'" specified for md-menu on X axis.')}var $=n.mdMenuCtrl.offsets();v.top+=$.top,v.left+=$.left,o(v),t.css({top:v.top+"px",left:v.left+"px"}),m.style[c.CSS.TRANSFORM_ORIGIN]=M,n.alreadyOpen||(m.style[c.CSS.TRANSFORM]="scale("+Math.min(b.width/m.offsetWidth,1)+","+Math.min(b.height/m.offsetHeight,1)+")")}}var h=a.dom.animator;return{parent:"body",onShow:m,onRemove:p,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,themable:!0}}var i=8;return r.$inject=["$$rAF","$window","$mdUtil","$mdTheming","$mdConstant","$document"],o("$mdMenu").setDefaults({methods:["target"],options:r})}t.module("material.components.menu").provider("$mdMenu",o),o.$inject=["$$interimElementProvider"]}(),function(){function e(e,t){function n(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),o}function o(n,o,i){t(o);var a=o[0],d=i.mdDiameter||48,c=d/48;a.style[e.CSS.TRANSFORM]="scale("+c+")",i.$observe("value",function(e){var t=r(e);o.attr("aria-valuenow",t)})}function r(e){return Math.max(0,Math.min(e||0,100))}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:n}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdConstant","$mdTheming"]}(),function(){function e(e,o,r){function i(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(i,a,c){r(a);var l=a[0].querySelector(".md-bar1").style,m=a[0].querySelector(".md-bar2").style,s=t.element(a[0].querySelector(".md-container"));c.$observe("value",function(e){if("query"!=c.mdMode){var t=d(e);a.attr("aria-valuenow",t),m[o.CSS.TRANSFORM]=n[t]}}),c.$observe("mdBufferValue",function(e){l[o.CSS.TRANSFORM]=n[d(e)]}),e(function(){s.addClass("md-ready")})}function d(e){return e>100?100:0>e?0:Math.ceil(e||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:i}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"];var n=function(){function e(e){var t=e/100,n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}for(var t=new Array(101),n=0;101>n;n++)t[n]=e(n);return t}()}(),function(){function e(e,n,o,r){function i(i,a,d,c){function l(){a.hasClass("md-focused")||a.addClass("md-focused")}function m(o){var r=o.which||o.keyCode;switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:o.preventDefault(),s.selectPrevious(),l();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:o.preventDefault(),s.selectNext(),l();break;case n.KEY_CODE.ENTER:var i=t.element(e.getClosest(a[0],"form"));i.length>0&&i.triggerHandler("submit")}}o(a);var s=c[0],u=c[1]||e.fakeNgModel();s.init(u),i.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",m).on("mousedown",function(e){i.mouseActive=!0,r(function(){i.mouseActive=!1},100)}).on("focus",function(){i.mouseActive===!1&&s.$element.addClass("md-focused")}).on("blur",function(){s.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function d(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return c(this.$element,1)},selectPrevious:function(){return c(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function c(n,o){var r=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var i=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),d=r[0>o?"previous":"next"](a,i)||r.first();t.element(d).triggerHandler("click")}}return a.prototype=d(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:i}}}function n(e,t,n){function o(o,i,a,d){function c(e){i[0].hasAttribute("disabled")||o.$apply(function(){d.setViewValue(a.value,e&&e.type)})}function l(){var e=d.getViewValue()==a.value;e!==s&&(s=e,i.attr("aria-checked",e),e?(i.addClass(r),d.setActiveDescendant(i.attr("id"))):i.removeClass(r))}function m(n,o){function r(){return a.id||"radio_"+t.nextUid()}o.ariaId=r(),n.attr({id:o.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var s;n(i),m(i,o),d.add(l),a.$observe("value",l),i.on("click",c).on("$destroy",function(){d.remove(l)})}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:o}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,o,r,i,a,d,c){function l(a,l){var m=t.element("<md-select-value><span></span></md-select-value>");if(m.append('<span class="md-select-icon" aria-hidden="true"></span>'),m.addClass("md-select-value"),m[0].hasAttribute("id")||m.attr("id","select_value_label_"+o.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),l.mdOnOpen&&a.find("md-content").prepend(t.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent()),l.name){var s=t.element('<select class="md-visually-hidden">');s.attr({name:"."+l.name,"ng-model":l.ngModel,"aria-hidden":"true",tabindex:"-1"});var u=a.find("md-option");t.forEach(u,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),s.append(n)}),a.parent().append(s)}var p='<div class="md-select-menu-container"><md-select-menu '+(t.isDefined(l.multiple)?"multiple":"")+">"+a.html()+"</md-select-menu></div>";return a.empty().append(m),l.tabindex=l.tabindex||"0",function(a,l,m,s){function u(){var e=l.attr("placeholder");!e&&$&&$.label&&(e=$.label.text()),i.expect(l,"aria-label",e)}function f(){x&&(_=_||x.find("md-select-menu").controller("mdSelectMenu"),A.setLabelText(_.selectedLabels()))}function h(){$&&$.setHasValue(_.selectedLabels().length>0||(l[0].validity||{}).badInput)}function b(){x=t.element(p);var e=x.find("md-select-menu");e.data("$ngModelController",T),e.data("$mdSelectController",A),N=a.$new(),r.inherit(x,l),x[0].setAttribute("class",x[0].getAttribute("class")+" "+l.attr("md-container-class")),x=d(x)(N),_=x.find("md-select-menu").controller("mdSelectMenu")}function g(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),E(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var o=_.optNodeForKeyboardSearch(e);if(!o)return;var r=t.element(o).controller("mdOption");_.isMultiple||_.deselect(Object.keys(_.selected)[0]),_.select(r.hashKey,r.value),_.refreshViewValue(),T.$render()}}function E(){a.$apply("isOpen = true"),e.show({scope:N,preserveScope:!0,skipCompile:!0,element:x,target:l[0],hasBackdrop:!0,loadingAsync:m.mdOnOpen?a.$eval(m.mdOnOpen)||!0:!1}).then(function(){v=!1})}var v,M,$=s[0],A=s[1],T=s[2],C=s[3],y=l.find("md-select-value"),w=t.isDefined(m.readonly);if($){if($.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");$.input=l,$.label||i.expect(l,"aria-label",l.attr("placeholder"));var k=$&&$.isErrorGetter||function(){return T.$invalid&&T.$touched};a.$watch(k,$.setInvalid)}var x,N,_;if(b(),r(l),m.name&&C){var H=l.parent()[0].querySelector('select[name=".'+m.name+'"]'),S=t.element(H).controller();S&&C.$removeControl(S)}var I=T.$render;T.$render=function(){I(),f(),h()},A.setLabelText=function(e){A.setIsPlaceholder(!e);var t=m.placeholder||($&&$.label?$.label.text():"");e=e||t||"";var n=y.children().eq(0);n.text(e)},A.setIsPlaceholder=function(e){e?(y.addClass("md-select-placeholder"),$&&$.label&&$.label.addClass("md-placeholder md-static")):(y.removeClass("md-select-placeholder"),$&&$.label&&$.label.removeClass("md-placeholder"))},w||l.on("focus",function(e){$&&$.element.hasClass("md-input-has-value")&&$.setFocused(!0)}).on("blur",function(e){$&&$.setFocused(!1),h()}),A.triggerClose=function(){c(m.mdOnClose)(a)},a.$$postDigest(function(){u(),f()});var O;m.$observe("ngMultiple",function(e){O&&O();var t=c(e);O=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?l.attr("multiple","multiple"):l.removeAttr("multiple"),x&&(_.setMultiple(e),I=T.$render,T.$render=function(){I(),f()},_.refreshViewValue(),T.$render()))})}),m.$observe("disabled",function(e){"string"==typeof e&&(e=!0),(M===n||M!==e)&&(M=e,e?(l.attr({tabindex:-1,"aria-disabled":"true"}),l.off("click",E),l.off("keydown",g)):(l.attr({tabindex:m.tabindex,"aria-disabled":"false"}),l.on("click",E),l.on("keydown",g)))}),m.disabled||m.ngDisabled||(l.attr({tabindex:m.tabindex,"aria-disabled":"false"}),l.on("click",E),l.on("keydown",g));var D={role:"combobox","aria-expanded":"false"};l[0].hasAttribute("id")||(D.id="select_"+o.nextUid()),l.attr(D),a.$on("$destroy",function(){v?e.hide()["finally"](function(){x.remove()}):x.remove(),$&&($.setFocused(!1),$.setHasValue(!1),$.input=null)})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:l,controller:function(){}}}function o(e,o,r){function i(e,n,i,a){function d(){n.attr({id:"select_menu_"+o.nextUid(),role:"listbox","aria-multiselectable":m.isMultiple?"true":"false"})}function c(e){(13==e.keyCode||32==e.keyCode)&&l(e)}function l(n){var r=o.getClosest(n.target,"md-option"),i=r&&t.element(r).data("$mdOptionController");if(r&&i){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=m.hashGetter(i.value),d=t.isDefined(m.selected[a]);e.$apply(function(){m.isMultiple?d?m.deselect(a):m.select(a,i.value):d||(m.deselect(Object.keys(m.selected)[0]),m.select(a,i.value)),m.refreshViewValue()})}}var m=a[0],s=a[1];r(n),n.on("click",l),n.on("keypress",c),s&&m.init(s),d()}function a(r,i,a){function d(){var e=m.ngModel.$modelValue||m.ngModel.$viewValue;if(t.isArray(e)){var n=Object.keys(m.selected),o=e.map(m.hashGetter),r=n.filter(function(e){return-1===o.indexOf(e)});r.forEach(m.deselect),o.forEach(function(t,n){m.select(t,e[n])})}}function l(){var e=m.ngModel.$viewValue||m.ngModel.$modelValue;Object.keys(m.selected).forEach(m.deselect),m.select(m.hashGetter(e),e)}var m=this;m.isMultiple=t.isDefined(i.multiple),m.selected={},m.options={},r.$watch(function(){return m.options},function(){m.ngModel.$render()},!0);var s;m.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var o=m.ngModel;m.isMultiple=e,
s&&s(),m.isMultiple?(o.$validators["md-multiple"]=n,o.$render=d,r.$watchCollection(i.ngModel,function(e){n(e)&&d(e)})):(delete o.$validators["md-multiple"],o.$render=l)};var u,p,f,h="",b=300;m.optNodeForKeyboardSearch=function(e){u&&clearTimeout(u),u=setTimeout(function(){u=n,h="",f=n,p=n},b),h+=String.fromCharCode(e.keyCode);var o=new RegExp("^"+h,"i");p||(p=a.find("md-option"),f=new Array(p.length),t.forEach(p,function(e,t){f[t]=e.textContent.trim()}));for(var r=0;r<f.length;++r)if(o.test(f[r]))return p[r]},m.init=function(n){if(m.ngModel=n,n.$options&&n.$options.trackBy){var o={},i=e(n.$options.trackBy);m.hashGetter=function(e,t){return o.$value=e,i(t||r,o)}}else m.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++c)):e};m.setMultiple(m.isMultiple)},m.selectedLabels=function(){var e=o.nodesToArray(a[0].querySelectorAll("md-option[selected]"));return e.length?e.map(function(e){return e.textContent}).join(", "):""},m.select=function(e,t){var n=m.options[e];n&&n.setSelected(!0),m.selected[e]=t},m.deselect=function(e){var t=m.options[e];t&&t.setSelected(!1),delete m.selected[e]},m.addOption=function(e,n){if(t.isDefined(m.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');m.options[e]=n,t.isDefined(m.selected[e])&&(m.select(e,n.value),m.refreshViewValue())},m.removeOption=function(e){delete m.options[e]},m.refreshViewValue=function(){var e,t=[];for(var n in m.selected)t.push((e=m.options[n])?e.value:m.selected[n]);m.ngModel.$setViewValue(m.isMultiple?t:t[0])}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:a,link:{pre:i}}}function r(e,n){function o(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),r}function r(o,r,i,a){function d(e,t){var n=m.hashGetter(t,o),r=m.hashGetter(e,o);l.hashKey=r,l.value=e,m.removeOption(n,l),m.addOption(r,l)}function c(){var e={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),r.attr(e)}var l=a[0],m=a[1];t.isDefined(i.ngValue)?o.$watch(i.ngValue,d):t.isDefined(i.value)?d(i.value):o.$watch(function(){return r.text()},d),i.$observe("disabled",function(e){e?r.attr("tabindex","-1"):r.attr("tabindex","0")}),o.$$postDigest(function(){i.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(m.isMultiple||m.deselect(Object.keys(m.selected)[0]),m.select(l.hashKey,l.value)):m.deselect(l.hashKey),m.refreshViewValue(),m.ngModel.$render())})}),e.attach(o,r),c(),o.$on("$destroy",function(){m.removeOption(l.hashKey,l)})}function i(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return i.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:i,compile:o}}function i(){function e(e,n){var o=e.find("label");o.length||(o=t.element("<label>"),e.prepend(o)),n.label&&o.text(n.label)}return{restrict:"E",compile:e}}function a(e){function o(e,o,a,c,l,m,s,u){function p(r,i,d){function u(){d.target.attr("aria-expanded","true")}function p(){function t(e){f=d.selectEl[0].getElementsByTagName("md-option");var t,o=c.nodesToArray(f),r=o.indexOf(d.focusedNode);do-1===r?r=0:"next"===e&&r<o.length-1?r++:"prev"===e&&r>0&&r--,t=o[r],t.hasAttribute("disabled")&&(t=n);while(!t&&r<o.length-1&&r>0);t&&t.focus(),d.focusedNode=t}function r(){t("next")}function a(){t("prev")}function l(){m.isMultiple||(d.restoreFocus=!0,c.nextTick(function(){e.hide(m.ngModel.$viewValue)},!0))}if(!d.isRemoved){var m=d.selectEl.controller("mdSelectMenu")||{};i.addClass("md-clickable"),d.backdrop&&d.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),d.restoreFocus=!1,c.nextTick(e.hide,!0)}),d.selectEl.on("keydown",function(t){switch(t.keyCode){case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:var n=c.getClosest(t.target,"md-option");n&&(d.selectEl.triggerHandler({type:"click",target:n}),t.preventDefault());break;case o.KEY_CODE.TAB:case o.KEY_CODE.ESCAPE:t.preventDefault(),d.restoreFocus=!0,c.nextTick(e.hide,!0)}}),d.selectEl.on("keydown",function(e){switch(e.keyCode){case o.KEY_CODE.UP_ARROW:return a();case o.KEY_CODE.DOWN_ARROW:return r();default:if(e.keyCode>=31&&e.keyCode<=90){var t=d.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(e);d.focusedNode=t||d.focusedNode,t&&t.focus()}}}),d.selectEl.on("click",l),d.selectEl.on("keydown",function(e){(32==e.keyCode||13==e.keyCode)&&l()})}}if(!d.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+d.target+'"!');t.extend(d,{isRemoved:!1,target:t.element(d.target),parent:t.element(d.parent),selectEl:i.find("md-select-menu"),contentEl:i.find("md-content"),backdrop:d.hasBackdrop&&c.createBackdrop(r,"md-select-backdrop md-click-catcher")}),d.resizeFn=function(){a(function(){a(function(){h(r,i,d)})})},t.element(m).on("resize",d.resizeFn),t.element(m).on("orientationchange",d.resizeFn),u(),i.removeClass("md-leave");var f=d.selectEl[0].getElementsByTagName("md-option");return d.loadingAsync&&d.loadingAsync.then?d.loadingAsync.then(function(){r.$$loadingAsyncDone=!0,a(function(){a(function(){d.isRemoved||h(r,i,d)})})}):d.loadingAsync&&(r.$$loadingAsyncDone=!0),d.disableParentScroll&&!c.getClosest(d.target,"MD-DIALOG")?d.restoreScroll=c.disableScrollAround(d.element):d.disableParentScroll=!1,d.backdrop&&(l.inherit(d.backdrop,d.target),d.parent.append(d.backdrop)),d.parent.append(i),a(function(){a(function(){d.isRemoved||h(r,i,d)})}),d.isRemoved?s.reject(!0):b.waitTransitionEnd(d.selectEl,{timeout:470})["finally"](function(){p()})}function f(e,o,r){r.isRemoved=!0,r.target.attr("aria-expanded","false"),r.selectEl.off("keydown"),t.element(m).off("resize",r.resizeFn),t.element(m).off("orientationchange",r.resizefn),r.resizeFn=n,o.addClass("md-leave").removeClass("md-clickable");var i=r.selectEl.controller("mdSelect");return i&&i.setLabelText(r.selectEl.controller("mdSelectMenu").selectedLabels()),r.backdrop&&r.backdrop.remove(),b.waitTransitionEnd(o,{timeout:370})["finally"](function(){i&&i.triggerClose(),o.removeClass("md-active"),o[0].parentNode===r.parent[0]&&r.parent[0].removeChild(o[0]),r.disableParentScroll&&r.restoreScroll(),r.restoreFocus&&r.target.focus()})}function h(e,t,n){var l,s=t[0],u=n.target[0].firstElementChild,p=n.parent[0],f=n.selectEl[0],h=n.contentEl[0],b=p.getBoundingClientRect(),g=u.getBoundingClientRect(),E=!1,v={left:b.left+d,top:d,bottom:b.height-d,right:b.width-d-(c.floatingScrollbars()?16:0)},M={top:g.top-v.top,left:g.left-v.left,right:v.right-(g.left+g.width),bottom:v.bottom-(g.top+g.height)},$=b.width-2*d,A=h.scrollHeight>h.offsetHeight,T=f.querySelector("md-option[selected]"),C=f.getElementsByTagName("md-option"),y=f.getElementsByTagName("md-optgroup");l=T?T:y.length?y[0]:C.length?C[0]:h.firstElementChild||h,h.offsetWidth>$&&(h.style["max-width"]=$+"px"),E&&(h.style["min-width"]=g.width+"px"),A&&f.classList.add("md-overflow");var w=l;"MD-OPTGROUP"===(w.tagName||"").toUpperCase()&&(w=C[0]||h.firstElementChild||h,l=w);var k=f.getBoundingClientRect(),x=i(l);if(l){var N=m.getComputedStyle(l);x.paddingLeft=parseInt(N.paddingLeft,10)||0,x.paddingRight=parseInt(N.paddingRight,10)||0}if(A){var _=h.offsetHeight/2;h.scrollTop=x.top+x.height/2-_,M.top<_?h.scrollTop=Math.min(x.top,h.scrollTop+_-M.top):M.bottom<_&&(h.scrollTop=Math.max(x.top+x.height-k.height,h.scrollTop-_+M.bottom))}var H,S,I;E?(H=g.left,S=g.top+g.height,I="50% 0",S+k.height>v.bottom&&(S=g.top-k.height,I="50% 100%")):(H=g.left+x.left-x.paddingLeft+2,S=Math.floor(g.top+g.height/2-x.height/2-x.top+h.scrollTop)+2,I=x.left+g.width/2+"px "+(x.top+x.height/2-h.scrollTop)+"px 0px",s.style.minWidth=g.width+x.paddingLeft+x.paddingRight+"px");var O=s.getBoundingClientRect();s.style.left=r(v.left,H,v.right-O.width)+"px",s.style.top=r(v.top,S,v.bottom-O.height)+"px",f.style[o.CSS.TRANSFORM_ORIGIN]=I,f.style[o.CSS.TRANSFORM]="scale("+Math.min(g.width/k.width,1)+","+Math.min(g.height/k.height,1)+")",a(function(){t.addClass("md-active"),f.style[o.CSS.TRANSFORM]="",w&&!w.hasAttribute("disabled")&&(n.focusedNode=w,w.focus())})}var b=c.dom.animator;return{parent:"body",onShow:p,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,themable:!0}}function r(e,t,n){return Math.max(e,Math.min(t,n))}function i(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}return o.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$window","$q","$compile"],e("$mdSelect").setDefaults({methods:["target"],options:o})}var d=8,c=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",o).directive("mdOption",r).directive("mdOptgroup",i).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"],o.$inject=["$parse","$mdUtil","$mdTheming"],r.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,n){return function(o){function r(){return e.when(o).then(function(e){return d=e,e})}var i,a="SideNav '"+o+"' is not available!",d=e.get(o);return d||e.notFoundError(o),i={isOpen:function(){return d&&d.isOpen()},isLockedOpen:function(){return d&&d.isLockedOpen()},toggle:function(){return d?d.toggle():n.reject(a)},open:function(){return d?d.open():n.reject(a)},close:function(){return d?d.close():n.reject(a)},then:function(e){var o=d?n.when(d):r();return o.then(e||t.noop)}}}}function o(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,o){o.focusElement(t)}}}function r(e,o,r,i,a,d,c,l,m,s){function u(d,u,p,f){function h(e,t){d.isLockedOpen=e,e===t?u.toggleClass("md-locked-open",!!e):a[e?"addClass":"removeClass"](u,"md-locked-open"),w.toggleClass("md-locked-open",!!e)}function b(e){var t=u.parent(),n=f.focusElement();return t[e?"on":"off"]("keydown",v),w[e?"on":"off"]("click",M),e&&(A=s[0].activeElement),g(e),T=m.all([e?a.enter(w,t):a.leave(w),a[e?"removeClass":"addClass"](u,"md-closed")]).then(function(){d.isOpen&&n&&n.focus()})}function g(e){var o=u.parent();e&&!$?($=o.css("overflow"),o.css("overflow","hidden")):t.isDefined($)&&(o.css("overflow",$),$=n)}function E(e){if(d.isOpen==e)return m.when(!0);var t=m.defer();return d.isOpen=e,o.nextTick(function(){T.then(function(e){d.isOpen||(A&&A.focus(),A=null),t.resolve(e)})}),t.promise}function v(e){var t=e.keyCode===r.KEY_CODE.ESCAPE;return t?M(e):m.when(!0)}function M(e){return e.preventDefault(),e.stopPropagation(),f.close()}var $,A=null,T=m.when(!0),C=c(p.mdIsLockedOpen),y=function(){return C(d.$parent,{$media:function(t){return l.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})},w=o.createBackdrop(d,"md-sidenav-backdrop md-opaque ng-enter");u.on("$destroy",f.destroy),i.inherit(w,u),d.$watch(y,h),d.$watch("isOpen",b),f.$toggleOpen=E,f.focusElement(f.focusElement()||u)}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),u}}}function i(e,n,o,r,i){var a,d=this;d.isOpen=function(){return!!e.isOpen},d.isLockedOpen=function(){return!!e.isLockedOpen},d.open=function(){return d.$toggleOpen(!0)},d.close=function(){return d.$toggleOpen(!1)},d.toggle=function(){return d.$toggleOpen(!e.isOpen)},d.focusElement=function(e){return t.isDefined(e)&&(a=e),a},d.$toggleOpen=function(t){return i.when(e.isOpen=t)},d.destroy=r.register(d,o.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",r).directive("mdSidenavFocus",o).controller("$mdSidenavController",i),e.$inject=["$mdComponentRegistry","$q"],r.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"],i.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,o,r,i,a,d,c,l){function m(e,t){return e.attr({tabIndex:0,role:"slider"}),o.expect(e,"aria-label"),s}function s(o,m,s,u){function p(){v(),T(),E()}function f(e){G=parseFloat(e),m.attr("aria-valuemin",e),p()}function h(e){X=parseFloat(e),m.attr("aria-valuemax",e),p()}function b(e){Q=parseFloat(e),E()}function g(e){m.attr("aria-disabled",!!e)}function E(){if(t.isDefined(s.mdDiscrete)&&!t.isUndefined(Q)){if(0>=Q){var e="Slider step value must be greater than zero when in discrete mode";throw l.error(e),new Error(e)}var o=Math.floor((X-G)/Q);if(!Z){Z=t.element('<canvas style="position:absolute;">'),U.append(Z);var r=n.getComputedStyle(U[0]);J=Z[0].getContext("2d"),J.fillStyle=r.backgroundColor||"black"}var i=M();Z[0].width=i.width,Z[0].height=i.height;for(var a,d=0;o>=d;d++)a=Math.floor(i.width*(d/o)),J.fillRect(a-1,0,2,i.height)}}function v(){ee=q[0].getBoundingClientRect()}function M(){return Y(),ee}function $(e){if(!m[0].hasAttribute("disabled")){var t;e.keyCode===i.KEY_CODE.LEFT_ARROW?t=-Q:e.keyCode===i.KEY_CODE.RIGHT_ARROW&&(t=Q),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),o.$evalAsync(function(){A(u.$viewValue+t)}))}}function A(e){u.$setViewValue(C(y(e)))}function T(){isNaN(u.$viewValue)&&(u.$viewValue=u.$modelValue);var e=(u.$viewValue-G)/(X-G);o.modelValue=u.$viewValue,m.attr("aria-valuenow",u.$viewValue),w(e),z.text(u.$viewValue)}function C(e){return t.isNumber(e)?Math.max(G,Math.min(X,e)):void 0}function y(e){if(t.isNumber(e)){var n=Math.round(e/Q)*Q;return Math.round(1e3*n)/1e3}}function w(e){V.css("width",100*e+"%"),j.css("left",100*e+"%"),m.toggleClass("md-min",0===e)}function k(e){if(!F()){m.addClass("active"),m[0].focus(),v();var t=R(D(e.pointer.x)),n=C(y(t));o.$apply(function(){A(n),w(L(n))})}}function x(e){if(!F()){m.removeClass("dragging active");var t=R(D(e.pointer.x)),n=C(y(t));o.$apply(function(){A(n),T()})}}function N(e){F()||(te=!0,e.stopPropagation(),m.addClass("dragging"),S(e))}function _(e){te&&(e.stopPropagation(),S(e))}function H(e){te&&(e.stopPropagation(),te=!1)}function S(e){ne?O(e.pointer.x):I(e.pointer.x)}function I(e){o.$evalAsync(function(){A(R(D(e)))})}function O(e){var t=R(D(e)),n=C(y(t));w(D(e)),z.text(n)}function D(e){return Math.max(0,Math.min(1,(e-ee.left)/ee.width))}function R(e){return G+e*(X-G)}function L(e){return(e-G)/(X-G)}a(m),u=u||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var P=s.ngDisabled&&c(s.ngDisabled),F=P?function(){return P(o.$parent)}:t.noop,B=t.element(m[0].querySelector(".md-thumb")),z=t.element(m[0].querySelector(".md-thumb-text")),j=B.parent(),q=t.element(m[0].querySelector(".md-track-container")),V=t.element(m[0].querySelector(".md-track-fill")),U=t.element(m[0].querySelector(".md-track-ticks")),Y=r.throttle(v,5e3);t.isDefined(s.min)?s.$observe("min",f):f(0),t.isDefined(s.max)?s.$observe("max",h):h(100),t.isDefined(s.step)?s.$observe("step",b):b(1);var W=t.noop;s.ngDisabled&&(W=o.$parent.$watch(s.ngDisabled,g)),d.register(m,"drag"),m.on("keydown",$).on("$md.pressdown",k).on("$md.pressup",x).on("$md.dragstart",N).on("$md.drag",_).on("$md.dragend",H),setTimeout(p);var K=e.throttle(p);t.element(n).on("resize",K),o.$on("$destroy",function(){t.element(n).off("resize",K),W()}),u.$render=T,u.$viewChangeListeners.push(T),u.$formatters.push(C),u.$formatters.push(y);var G,X,Q,Z,J,ee={};v();var te=!1,ne=t.isDefined(s.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:m}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]}(),function(){function e(e,o,r,i,a){function d(e){function t(e,t){t.addClass("md-sticky-clone"),t.css("top",b+"px");var n={element:e,clone:t};return h.items.push(n),p.parent().prepend(n.clone),f(),function(){h.items.forEach(function(t,n){t.element[0]===e[0]&&(h.items.splice(n,1),t.clone.remove())}),f()}}function r(){h.items.forEach(d),h.items=h.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=p.prop("scrollTop"),n=h.items.length-1;n>=0;n--)if(t>h.items[n].top){e=h.items[n];break}m(e)}function d(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==p[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px"),a.floatingScrollbars()&&e.clone.css("margin-right","0")}function c(){var e=p.prop("scrollTop"),t=e>(c.prevScrollTop||0);c.prevScrollTop=e,0===e?m(null):t&&h.next?h.next.top-e<=0?m(h.next):h.current&&(h.next.top-e<=h.next.height?u(h.current,h.next.top-h.next.height-e):u(h.current,null)):!t&&h.current&&(e<h.current.top&&m(h.prev),h.current&&h.next&&(e>=h.next.top-h.current.height?u(h.current,h.next.top-e-h.current.height):u(h.current,null)))}function m(e){if(h.current!==e){h.current&&(u(h.current,null),s(h.current,null)),e&&s(e,"active"),h.current=e;var t=h.items.indexOf(e);h.next=h.items[t+1],h.prev=h.items[t-1],s(h.next,"next"),s(h.prev,"prev")}}function s(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function u(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(o.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(o.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var p=e.$element,f=i.throttle(r);l(p),p.on("$scrollstart",f),p.on("$scroll",c);var h,b=p.prop("offsetTop");return h={prev:null,current:null,next:null,items:[],add:t,refreshElements:r}}function c(n){var o,r=t.element("<div>");e[0].body.appendChild(r[0]);for(var i=["sticky","-webkit-sticky"],a=0;a<i.length;++a)if(r.css({position:i[a],top:0,"z-index":2}),r.css("position")==i[a]){o=i[a];break}return r.remove(),o}function l(e){function t(){+a.now()-o>r?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),i(t))}var n,o,r=200;e.on("scroll touchmove",function(){n||(n=!0,i(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),o=+a.now()})}var m=c();return function(e,t,n){var o=t.controller("mdContent");if(o)if(m)t.css({position:m,top:0,"z-index":2});else{var r=o.$element.data("$$sticky");r||(r=d(o),o.$element.data("$$sticky",r));var i=r.add(t,n||t.clone());e.$on("$destroy",i)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){function e(e,n,o){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><div class="md-subheader-inner"><span class="md-subheader-content"></span></div></h2>',compile:function(r,i,a){return function(r,i,d){function c(e){return t.element(e[0].querySelector(".md-subheader-content"))}o(i);var l=i[0].outerHTML;a(r,function(e){c(i).append(e)}),i.hasClass("md-no-sticky")||a(r,function(o){var a=n(t.element(l))(r);c(a).append(o),e(r,i,a)})}}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){function e(e){function t(e){function t(t,r,i){var a=e(i[n]);r.on(o,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,o="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight"))}(),function(){function e(e,n,o,r,i,a,d,c){function l(e,n){var r=m.compile(e,n);return e.addClass("md-dragging"),function(e,n,l,m){function s(t){h(e)||(t.stopPropagation(),n.addClass("md-dragging"),E={width:b.prop("offsetWidth")},n.removeClass("transition"))}function u(e){if(E){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/E.width,n=m.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),b.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),E.translate=n}}function p(e){if(E){e.stopPropagation(),n.removeClass("md-dragging"),b.css(i.CSS.TRANSFORM,"");var t=m.$viewValue?E.translate<.5:E.translate>.5;t&&f(!m.$viewValue),E=null}}function f(t){e.$apply(function(){m.$setViewValue(t),m.$render()})}m=m||o.fakeNgModel();var h=a(l.ngDisabled),b=t.element(n[0].querySelector(".md-thumb-container")),g=t.element(n[0].querySelector(".md-container"));d(function(){n.removeClass("md-dragging")}),r(e,n,l,m),t.isDefined(l.ngDisabled)&&e.$watch(h,function(e){n.attr("tabindex",e?-1:0)}),c.register(g,"drag"),g.on("$md.dragstart",s).on("$md.drag",u).on("$md.dragend",p);var E}}var m=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:l}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(){return{restrict:"E"}}function n(e){function t(e,t,o){function r(r,i,d){return i=o.extractElementByName(i,"md-toast"),n=d.content,i.addClass(d.position.split(" ").map(function(e){return"md-"+e}).join(" ")),d.parent.addClass(a(d.position)),d.onSwipe=function(e,n){i.addClass("md-"+e.type.replace("$md.","")),o.nextTick(t.cancel)},i.on("$md.swipeleft $md.swiperight",d.onSwipe),e.enter(i,d.parent)}function i(t,n,o){return n.off("$md.swipeleft $md.swiperight",o.onSwipe),o.parent.removeClass(a(o.position)),e.leave(n)}function a(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}return{onShow:r,onRemove:i,position:"bottom left",themable:!0,hideDelay:3e3}}var n,o="ok",r=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:t}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(t){var r=this;t.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){e.hide(o)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return r}]}).addMethod("updateContent",function(e){n=e});return t.$inject=["$animate","$mdToast","$mdUtil"],r}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,o,r,i){var a=t.bind(null,o.supplant,"translate3d(0,{0}px,0)");return{restrict:"E",controller:t.noop,link:function(d,c,l){function m(){function t(t,n){c.parent()[0]===n.parent()[0]&&(u&&u.off("scroll",b),n.on("scroll",b),n.attr("scroll-shrink","true"),u=n,e(r))}function r(){s=c.prop("offsetHeight");var e=-s*h+"px";u.css("margin-top",e),u.css("margin-bottom",e),m()}function m(e){var t=e?e.target.scrollTop:f;g(),p=Math.min(s/h,Math.max(0,p+t-f)),c.css(n.CSS.TRANSFORM,a([-p*h])),u.css(n.CSS.TRANSFORM,a([(s-p)*h])),f=t,o.nextTick(function(){var e=c.hasClass("md-whiteframe-z1");e&&!p?i.removeClass(c,"md-whiteframe-z1"):!e&&p&&i.addClass(c,"md-whiteframe-z1")})}var s,u,p=0,f=0,h=l.mdShrinkSpeedFactor||.5,b=e.throttle(m),g=o.debounce(r,5e3);d.$on("$mdContentLoaded",t)}r(c),t.isDefined(l.mdScrollShrink)&&m()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]}(),function(){function e(e,n,o,r,i,a,d,c,l){function m(m,p,f){function h(){t.isDefined(f.mdDelay)||(m.delay=s)}function b(){m.$on("$destroy",function(){m.visible=!1,p.remove(),t.element(n).off("resize",I)}),m.$watch("visible",function(e){e?C():y()})}function g(){k.attr("aria-label")||k.text().trim()||k.attr("aria-label",p.text().trim())}function E(){p.detach(),p.attr("role","tooltip")}function v(){for(var e=p.parent();e&&$("pointer-events","none",e[0]);)e=e.parent();return e}function M(){for(var e=p.parent()[0];e&&e!==d[0]&&e!==document.body;)e=e.parentNode;return e}function $(e,o,r){e=f.$normalize(e),r=r||p[0];var i=n.getComputedStyle(r);return t.isDefined(i[e])&&i[e]==o}function A(){var e=!1,o=function(){k.on("blur mouseleave touchend touchcancel",i),T(!0)},i=function(){var t=m.hasOwnProperty("autohide")?m.autohide:f.hasOwnProperty("mdAutohide");(t||e||r[0].activeElement!==k[0])&&(k.off("blur mouseleave touchend touchcancel",i),T(!1)),e=!1};k.on("mousedown",function(){e=!0}),k.on("focus mouseenter touchstart",o),t.element(n).on("resize",I)}function T(t){T.value=!!t,T.queued||(t?(T.queued=!0,e(function(){m.visible=T.value,T.queued=!1},m.delay)):i.nextTick(function(){m.visible=!1}))}function C(){return S.append(p),$("display","none")?(m.visible=!1,void p.detach()):(w(),void t.forEach([p,x,N],function(e){c.addClass(e,"md-show")}))}function y(){l.all([c.removeClass(N,"md-show"),c.removeClass(x,"md-show"),c.removeClass(p,"md-show")]).then(function(){m.visible||p.detach()})}function w(){function e(){var e="left"===_||"right"===_?2*Math.sqrt(Math.pow(o.width,2)+Math.pow(o.height/2,2)):2*Math.sqrt(Math.pow(o.width/2,2)+Math.pow(o.height,2)),t="left"===_?{left:100,top:50}:"right"===_?{left:0,top:50}:"top"===_?{left:50,top:100}:{left:50,top:0};x.css({width:e+"px",height:e+"px",left:t.left+"%",top:t.top+"%"})}function t(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,S.prop("scrollWidth")-o.width-u),t.left=Math.max(t.left,u),t.top=Math.min(t.top,S.prop("scrollHeight")-o.height-u),t.top=Math.max(t.top,u),t}function n(e){return"left"===e?{left:r.left-o.width-u,top:r.top+r.height/2-o.height/2}:"right"===e?{left:r.left+r.width+u,top:r.top+r.height/2-o.height/2}:"top"===e?{left:r.left+r.width/2-o.width/2,top:r.top-o.height-u}:{left:r.left+r.width/2-o.width/2,top:r.top+r.height+u}}var o=i.offsetRect(p,S),r=i.offsetRect(k,S),a=n(_);_?a=t(a):a.top>p.prop("offsetParent").scrollHeight-o.height-u&&(a=t(n("top"))),p.css({top:a.top+"px",left:a.left+"px"}),e()}a(p);var k=v(),x=t.element(p[0].getElementsByClassName("md-background")[0]),N=t.element(p[0].getElementsByClassName("md-content")[0]),_=f.mdDirection,H=M(),S=t.element(H||document.body),I=o.throttle(function(){m.visible&&w()});h(),E(),A(),b(),g()}var s=300,u=8;return{restrict:"E",transclude:!0,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:m}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){function e(){return{controller:o,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function o(e,n,o,r){this.$scope=n,this.$element=o,this.$attrs=r,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.scroller=o[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0],e(t.bind(this,this.updateSize)),r.ngHide&&n.$watch(r.ngHide,t.bind(this,function(n){n||e(t.bind(this,this.updateSize))}))}function r(e){return{controller:i,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var o=n.mdVirtualRepeat,r=o.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),i=r[1],a=e(r[2]),d=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,o,r){o[0].link_(o[1],r,i,a,d)}}}}function i(e,t,n,o,r,i){this.$scope=e,this.$element=t,this.$attrs=n,this.$browser=o,this.$document=r,this.$$rAF=i,this.browserCheckUrlChange=o.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(n.mdItemSize)||null,this.isFirstRender=!0,this.itemsLength=0,this.blocks={},this.pooledBlocks=[]}t.module("material.components.virtualRepeat",["material.core"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",r);var a=1533917,d=3;o.$inject=["$$rAF","$scope","$element","$attrs"],o.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},o.prototype.isHorizontal=function(){return this.horizontal},o.prototype.getSize=function(){return this.size},o.prototype.setSize_=function(e){this.size=e,this.$element[0].style[this.isHorizontal()?"width":"height"]=e+"px"},o.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.repeater&&this.repeater.containerUpdated())},o.prototype.getScrollSize=function(){return this.scrollSize},o.prototype.sizeScroller_=function(e){var t=this.isHorizontal()?"width":"height",n=this.isHorizontal()?"height":"width";if(a>e)this.sizer.style[t]=e+"px";else{this.sizer.innerHTML="",this.sizer.style[t]="auto",this.sizer.style[n]="auto";var o=Math.floor(e/a),r=document.createElement("div");r.style[t]=a+"px",r.style[n]="1px";for(var i=0;o>i;i++)this.sizer.appendChild(r.cloneNode(!1));r.style[t]=e-o*a+"px",this.sizer.appendChild(r)}},o.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());this.autoShrink&&t!==this.size&&(t<(this.originalSize||this.size)?(this.originalSize||(this.originalSize=this.size),this.setSize_(t)):this.originalSize&&(this.setSize_(this.originalSize),this.originalSize=null))},o.prototype.setScrollSize=function(e){this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},o.prototype.getScrollOffset=function(){return this.scrollOffset},o.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},o.prototype.resetScroll=function(){this.scrollTo(0)},o.prototype.handleScroll_=function(){var e=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(e!==this.scrollOffset){var t=this.repeater.getItemSize();if(t){var n=Math.max(0,Math.floor(e/t)-d),o=this.isHorizontal()?"translateX(":"translateY(";o+=n*t+"px)",this.scrollOffset=e,
this.offsetter.style.webkitTransform=o,this.offsetter.style.transform=o,this.repeater.containerUpdated()}}},r.$inject=["$parse"],i.$inject=["$scope","$element","$attrs","$browser","$document","$$rAF"],i.Block,i.prototype.link_=function(e,t,n,o,r){this.container=e,this.transclude=t,this.repeatName=n,this.repeatListExpression=o,this.extraName=r,this.sized=!1,this.container.register(this)},i.prototype.readItemSize_=function(){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()},i.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,this.virtualRepeatUpdate_))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&this.virtualRepeatUpdate_(this.items,this.items))):void this.$$rAF(t.bind(this,this.readItemSize_))},i.prototype.getItemSize=function(){return this.itemSize},i.prototype.virtualRepeatUpdate_=function(e,n){var o=e?e.length:0,r=!1;if(o!==this.itemsLength&&(r=!0,this.itemsLength=o),this.items&&o<this.items.length&&0!==this.container.getScrollOffset())return this.items=e,void this.container.resetScroll();if(this.items=e,e!==n&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(o*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var i=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):0;this.container.scrollTo(i*this.itemSize)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,d,c=[],l=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)d=this.getBlock_(a),this.updateBlock_(d,a),c.push(d);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var m=a-1;a<this.newEndIndex;a++)d=this.getBlock_(a),this.updateBlock_(d,a),l.push(d);c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling),l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.blocks[m]&&this.blocks[m].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex},i.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,o){n={element:t,"new":!0,scope:o},this.updateScope_(o,e),this.parentNode.appendChild(t[0])})),n},i.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$scope.$root.$$phase||e.scope.$digest())},i.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},i.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},i.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},i.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newEndIndex=Math.min(e,this.newStartIndex+t+d),this.newStartIndex=Math.max(0,this.newStartIndex-d)}}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,o,a,d,c,l,m,s,u,p){function f(){a.initOptionalProperties(e,u,{searchText:null,selectedItem:null}),c(o),E(),a.nextTick(function(){M(),g(),b()})}function h(){function e(){var e=ne.ul.getBoundingClientRect(),n={};e.right>o.right-i&&(n.left=t.right-e.width+"px"),ne.$.ul.css(n)}if(!ne)return a.nextTick(h,!1);var t=ne.wrap.getBoundingClientRect(),n=ne.snap.getBoundingClientRect(),o=ne.root.getBoundingClientRect(),d=n.bottom-o.top,c=o.bottom-n.top,l=t.left-o.left,m=t.width,s={left:l+"px",minWidth:m+"px",maxWidth:Math.max(t.right-o.left,o.right-t.left)-i+"px"};d>c&&o.height-t.bottom-i<r?(s.top="auto",s.bottom=c+"px",s.maxHeight=Math.min(r,t.top-o.top-i)+"px"):(s.top=d+"px",s.bottom="auto",s.maxHeight=Math.min(r,o.bottom-t.bottom-i)+"px"),ne.$.ul.css(s),a.nextTick(e,!1)}function b(){ne.$.root.length&&(c(ne.$.ul),ne.$.ul.detach(),ne.$.root.append(ne.$.ul),m.pin&&m.pin(ne.$.ul,s))}function g(){e.autofocus&&ne.input.focus()}function E(){var n=parseInt(e.delay,10)||0;u.$observe("disabled",function(e){J.isDisabled=e}),u.$observe("required",function(e){J.isRequired=null!==e}),e.$watch("searchText",n?a.debounce(I,n):I),e.$watch("selectedItem",k),t.element(l).on("resize",h),e.$on("$destroy",v)}function v(){t.element(l).off("resize",h),ne.$.ul.remove()}function M(){ne={main:o[0],ul:o.find("ul")[0],input:o.find("input")[0],wrap:o.find("md-autocomplete-wrap")[0],root:document.body},ne.li=ne.ul.getElementsByTagName("li"),ne.snap=$(),ne.$=A(ne)}function $(){for(var e=o;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return ne.wrap}function A(e){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t.element(e[o]));return n}function T(e,t){!e&&t?(h(),ne&&a.nextTick(function(){a.disableScrollAround(ne.ul)},!1)):e&&!t&&a.nextTick(function(){a.enableScrolling()},!1)}function C(){re=!0}function y(){re=!1,ae||(J.hidden=!0)}function w(){ne.input.focus()}function k(t,n){t&&P(t).then(function(o){e.searchText=o,_(t,n)}),t!==n&&x()}function x(){t.isFunction(e.itemChange)&&e.itemChange(F(e.selectedItem))}function N(){t.isFunction(e.textChange)&&e.textChange()}function _(e,t){ie.forEach(function(n){n(e,t)})}function H(e){-1==ie.indexOf(e)&&ie.push(e)}function S(e){var t=ie.indexOf(e);-1!=t&&ie.splice(t,1)}function I(t,n){J.index=B(),t!==n&&P(e.selectedItem).then(function(o){t!==o&&(e.selectedItem=null,t!==n&&N(),q()?Q():(J.loading=!1,J.matches=[],J.hidden=z(),K()))})}function O(){ae=!1,re||(J.hidden=!0)}function D(){ae=!0,t.isString(e.searchText)||(e.searchText=""),e.minLength>0||(J.hidden=z(),J.hidden||Q())}function R(e){switch(e.keyCode){case d.KEY_CODE.DOWN_ARROW:if(J.loading)return;e.stopPropagation(),e.preventDefault(),J.index=Math.min(J.index+1,J.matches.length-1),X(),K();break;case d.KEY_CODE.UP_ARROW:if(J.loading)return;e.stopPropagation(),e.preventDefault(),J.index=J.index<0?J.matches.length-1:Math.max(0,J.index-1),X(),K();break;case d.KEY_CODE.TAB:case d.KEY_CODE.ENTER:if(J.hidden||J.loading||J.index<0||J.matches.length<1)return;e.stopPropagation(),e.preventDefault(),U(J.index);break;case d.KEY_CODE.ESCAPE:e.stopPropagation(),e.preventDefault(),Y(),J.matches=[],J.hidden=!0,J.index=B()}}function L(){return t.isNumber(e.minLength)?e.minLength:1}function P(t){function n(t){return t&&e.itemText?e.itemText(F(t)):null}return p.when(n(t)||t)}function F(e){if(!e)return n;var t={};return J.itemName&&(t[J.itemName]=e),t}function B(){return e.autoselect?0:-1}function z(){if (!q() && !J.matches.length) return true;}function j(){return P(J.matches[J.index])}function q(){return t.isDefined(e.searchText)&&e.searchText.length>=L()}function V(e,t,n){Object.defineProperty(J,e,{get:function(){return n},set:function(e){var o=n;n=e,t(e,o)}})}function U(t){a.nextTick(function(){P(J.matches[t]).then(function(e){var t=ne.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=J.matches[t],J.loading=!1,J.hidden=!0,J.index=0,J.matches=[]})},!1)}function Y(){e.searchText="",U(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),ne.input.dispatchEvent(t),ne.input.focus()}function W(n){function o(t){oe[i]=t,n===e.searchText&&(J.matches=t,J.hidden=z(),e.selectOnMatch&&Z(),K(),h())}var r=e.$parent.$eval(te),i=n.toLowerCase();t.isArray(r)?o(r):r&&a.nextTick(function(){J.loading=!0,r.success&&r.success(o),r.then&&r.then(o),r["finally"]&&r["finally"](function(){J.loading=!1})})}function K(){j().then(function(e){J.messages=[G(),e]})}function G(){if(de===J.matches.length)return"";switch(de=J.matches.length,J.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+J.matches.length+" matches available."}}function X(){if(ne.li[J.index]){var e=ne.li[J.index],t=e.offsetTop,n=t+e.offsetHeight,o=ne.ul.clientHeight;t<ne.ul.scrollTop?ne.ul.scrollTop=t:n>ne.ul.scrollTop+o&&(ne.ul.scrollTop=n-o)}}function Q(){var t=e.searchText,n=t.toLowerCase();!e.noCache&&oe[n]?(J.matches=oe[n],K()):W(t),ae&&(J.hidden=z())}function Z(){var t=e.searchText,n=J.matches,o=n[0];1===n.length&&P(o).then(function(e){t==e&&U(0)})}var J=this,ee=e.itemsExpr.split(/ in /i),te=ee[1],ne=null,oe={},re=!1,ie=[],ae=!1,de=0;return V("hidden",T,!0),J.scope=e,J.parent=e.$parent,J.itemName=ee[0],J.matches=[],J.loading=!1,J.hidden=!0,J.index=null,J.messages=[],J.id=a.nextUid(),J.isDisabled=null,J.isRequired=null,J.keydown=R,J.blur=O,J.focus=D,J.clear=Y,J.select=U,J.listEnter=C,J.listLeave=y,J.mouseUp=w,J.getCurrentDisplayValue=j,J.registerSelectedItemWatcher=H,J.unregisterSelectedItemWatcher=S,f()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var o=41,r=5.5*o,i=8;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]}(),function(){function e(){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},template:function(e,t){function n(){var t=e.find("md-item-template").remove(),n=t.length?t.html():e.html();return t.length||e.empty(),n}function o(){var t=e.find("md-not-found").remove(),n=t.length?t.html():"";return n?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                       && !$mdAutocompleteCtrl.hidden"                   ng-hide="$mdAutocompleteCtrl.hidden"                   md-autocomplete-parent-scope>'+n+"</li>":""}function r(){return t.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+d+"</div>            </md-input-container>":'            <input flex type="search"                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var i=o(),a=n(),d=e.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+r()+'          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading && !$mdAutocompleteCtrl.hidden"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-hide="$mdAutocompleteCtrl.hidden"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+a+"            </li>            "+i+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,n,o){function r(e,t){i(e,t),n.on("$destroy",a)}function i(t,n){function r(){return o(n)(e)}m.watchers.push(e.$watch(t,function(e){m.term=e,d(e,m.template)})),m.watchers.push(e.$watch(r,function(e){m.template=e,d(m.term,e)}))}function a(){m.watchers.forEach(function(e){e()})}function d(){if(null!==m.term&&null!==m.template){var r=o(m.template)(e),i=t.element("<div>").text(r).html(),a=n.attr("md-highlight-flags")||"",d=l(m.term,a),c=i.replace(d,'<span class="highlight">$&</span>');n.html(c)}}function c(e){return e?e.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&"):e}function l(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(c(n),t.replace(/[\$\^]/g,""))}var m=this;m.term=null,m.template=null,m.watchers=[],m.init=r}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$interpolate"]}(),function(){function e(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl",compile:function(e,t){var n=e.html();return function(e,t,o,r){r.init(o.mdHighlightText,n)}}}}t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function e(e,t){function n(n,o,r){var i=n.$parent.$mdAutocompleteCtrl,a=i.parent.$new(!1,i.parent),d=i.scope.$eval(r.mdAutocompleteListItem);a[d]=n.item,e(o.contents())(a),o.attr({role:"option",id:"item_"+t.nextUid()})}return{terminal:!0,link:n,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteListItem",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e){function t(t,n,o){var r=t.$parent.$mdAutocompleteCtrl;e(n.contents())(r.parent),o.hasOwnProperty("mdAutocompleteReplace")&&(n.after(n.contents()),n.remove())}return{restrict:"A",terminal:!0,link:t,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile"]}(),function(){function e(e){function o(o,r){return o.append(n),function(n,o,r,i){o.addClass("md-chip"),e(o),i&&t.element(o[0].querySelector(".md-chip-content")).on("blur",function(){i.selectedChip=-1})}}return{restrict:"E",require:"^?mdChips",compile:o}}t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming"]}(),function(){function e(e){function t(t,n,o,r){n.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,ariaHidden:!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e,t){function n(t,n,o){var r=t.$parent.$mdChipsCtrl,i=r.parent.$new(!1,r.parent);i.$$replacedScope=t,i.$chip=t.$chip,i.$mdChipsCtrl=r,n.html(r.$scope.$eval(o.mdChipTransclude)),e(n.contents())(i)}return{restrict:"EA",terminal:!0,link:n,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,t,n,o,r){this.$timeout=r,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=o,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useMdOnAppend=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();switch(e.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!t)break;e.preventDefault(),this.appendChip(t),this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(t)break;e.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){this.items.indexOf(e)+1||(this.useMdOnAppend&&this.mdOnAppend&&(e=this.mdOnAppend({$chip:e})),this.items.push(e))},e.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){this.items.splice(e,1)},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?this.selectedChip=e:this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var o=this.$scope,r=this;e.attr({tabindex:0}).on("keydown",function(e){o.$apply(t.bind(r,function(){r.inputKeydown(e)}))}).on("focus",t.bind(r,r.onInputFocus)).on("blur",t.bind(r,r.onInputBlur))},e.prototype.configureAutocomplete=function(e){e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,d,c){function l(n,l){function m(e){if(l.ngModel){var t=s[0].querySelector(e);return t&&t.outerHTML}}var s=l.$mdUserTemplate;l.$mdUserTemplate=null;var u=m("md-chips>*[md-chip-remove]")||i,p=m("md-chips>md-chip-template")||r,f=m("md-chips>md-autocomplete")||m("md-chips>input")||o,h=s.find("md-chip");return s[0].querySelector("md-chip-template>*[md-chip-remove]")&&d.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,r,i,d){t.initOptionalProperties(n,l),e(r);var m=d[0];if(m.chipContentsTemplate=p,m.chipRemoveTemplate=u,m.chipInputTemplate=f,r.attr({ariaHidden:!0,tabindex:-1}).on("focus",function(){m.onFocus()}),l.ngModel&&(m.configureNgModel(r.controller("ngModel")),i.mdOnAppend&&m.useMdOnAppendExpression(),f!=o&&c(function(){0===f.indexOf("<md-autocomplete")&&m.configureAutocomplete(r.find("md-autocomplete").controller("mdAutocomplete")),m.configureUserInput(r.find("input"))})),h.length>0){var s=a(h)(n.$parent);c(function(){r.find("md-chips-wrap").prepend(s)})}}}return{template:function(e,t){t.$mdUserTemplate=e.clone();return n},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:l,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',o='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",i='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function o(n,o){return function(n,r,i,a){t.initOptionalProperties(n,o),e(r),r.attr("tabindex","-1")}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:o,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(){function e(e,n,o,r){if(r){var i=n.parent()[0].getElementsByTagName("md-tab"),a=Array.prototype.indexOf.call(i,n[0]),d=n.find("md-tab-body").eq(0).remove(),c=n.find("md-tab-label").eq(0).remove(),l=r.insertTab({scope:e,parent:e.$parent,index:a,element:n,template:d.html(),label:c.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(l.getIndex())}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return Array.prototype.indexOf.call(i,n[0])},function(e){l.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(l)})}}return{require:"^?mdTabs",terminal:!0,compile:function(n,o){var r=n.find("md-tab-label"),i=n.find("md-tab-body");if(0==r.length&&(r=t.element("<md-tab-label></md-tab-label>"),o.label?r.text(o.label):r.append(n.contents())),0==i.length){var a=n.contents().detach();i=t.element("<md-tab-body></md-tab-body>"),i.append(a)}return n.append(r),i.html()&&n.append(i),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,o){o&&o.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var o=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){o(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,n,o,r,i,a,d,c,l,m){function s(){ie.selectedIndex=ie.selectedIndex||0,u(),f(),p(),m(n),a.nextTick(function(){ee(),X(),te(),ie.tabs[ie.selectedIndex]&&ie.tabs[ie.selectedIndex].scope.select(),me=!0,U()})}function u(){var e=c.$mdTabsTemplate,n=t.element(de.data);n.html(e),l(n.contents())(ie.parent),delete c.$mdTabsTemplate}function p(){t.element(o).on("resize",S),e.$on("$destroy",g)}function f(){e.$watch("$mdTabsCtrl.selectedIndex",y)}function h(e,t){var n=c.$normalize("md-"+e);t&&V(e,t),c.$observe(n,function(t){ie[e]=t})}function b(e,t){function n(t){ie[e]="false"!==t}var o=c.$normalize("md-"+e);t&&V(e,t),c.hasOwnProperty(o)&&n(c[o]),c.$observe(o,n)}function g(){le=!0,t.element(o).off("resize",S)}function E(e){t.element(de.wrapper).toggleClass("md-stretch-tabs",B()),te()}function v(e){ie.shouldCenterTabs=z()}function M(e,t){e!==t&&a.nextTick(ie.updateInkBarStyles)}function $(e,t){e!==t&&(ie.maxTabWidth=Y(),ie.shouldCenterTabs=z(),a.nextTick(function(){ie.maxTabWidth=Y(),X(ie.selectedIndex)}))}function A(e){n[e?"removeClass":"addClass"]("md-no-tab-content")}function T(n){var o=ie.shouldCenterTabs?"":"-"+n+"px";t.element(de.paging).css(r.CSS.TRANSFORM,"translate3d("+o+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function C(e,t){e!==t&&de.tabs[e]&&(X(),G())}function y(t,n){t!==n&&(ie.selectedIndex=q(t),ie.lastSelectedIndex=n,ie.updateInkBarStyles(),ee(),X(t),e.$broadcast("$mdTabsChanged"),ie.tabs[n]&&ie.tabs[n].scope.deselect(),ie.tabs[t]&&ie.tabs[t].scope.select())}function w(){w.watcher||(w.watcher=e.$watch(function(){a.nextTick(function(){w.watcher&&n.prop("offsetParent")&&(w.watcher(),w.watcher=null,S())},!1)}))}function k(e){switch(e.keyCode){
case r.KEY_CODE.LEFT_ARROW:e.preventDefault(),K(-1,!0);break;case r.KEY_CODE.RIGHT_ARROW:e.preventDefault(),K(1,!0);break;case r.KEY_CODE.SPACE:case r.KEY_CODE.ENTER:e.preventDefault(),ae||(ie.selectedIndex=ie.focusIndex)}ie.lastClick=!1}function x(e){ae||(ie.focusIndex=ie.selectedIndex=e),ie.lastClick=!0,a.nextTick(function(){ie.tabs[e].element.triggerHandler("click")},!1)}function N(e){ie.shouldPaginate&&(e.preventDefault(),ie.offsetLeft=oe(ie.offsetLeft-e.wheelDelta))}function _(){var e,t,n=de.canvas.clientWidth,o=n+ie.offsetLeft;for(e=0;e<de.tabs.length&&(t=de.tabs[e],!(t.offsetLeft+t.offsetWidth>o));e++);ie.offsetLeft=oe(t.offsetLeft)}function H(){var e,t;for(e=0;e<de.tabs.length&&(t=de.tabs[e],!(t.offsetLeft+t.offsetWidth>=ie.offsetLeft));e++);ie.offsetLeft=oe(t.offsetLeft+t.offsetWidth-de.canvas.clientWidth)}function S(){e.$apply(function(){ie.lastSelectedIndex=ie.selectedIndex,ie.offsetLeft=oe(ie.offsetLeft),a.nextTick(ie.updateInkBarStyles,!1),a.nextTick(U)})}function I(e){t.element(de.inkBar).toggleClass("ng-hide",e)}function O(e){n.toggleClass("md-dynamic-height",e)}function D(e){if(!le){var t=ie.selectedIndex,n=ie.tabs.splice(e.getIndex(),1)[0];J(),ie.selectedIndex===t&&(n.scope.deselect(),ie.tabs[ie.selectedIndex]&&ie.tabs[ie.selectedIndex].scope.select()),a.nextTick(function(){U(),ie.offsetLeft=oe(ie.offsetLeft)})}}function R(e,n){var o=me,r={getIndex:function(){return ie.tabs.indexOf(i)},isActive:function(){return this.getIndex()===ie.selectedIndex},isLeft:function(){return this.getIndex()<ie.selectedIndex},isRight:function(){return this.getIndex()>ie.selectedIndex},shouldRender:function(){return!ie.noDisconnect||this.isActive()},hasFocus:function(){return!ie.lastClick&&ie.hasFocus&&this.getIndex()===ie.focusIndex},id:a.nextUid()},i=t.extend(r,e);return t.isDefined(n)?ie.tabs.splice(n,0,i):ie.tabs.push(i),Q(),Z(),a.nextTick(function(){U(),o&&ie.autoselect&&a.nextTick(function(){a.nextTick(function(){x(ie.tabs.indexOf(i))})})}),i}function L(){var e={};return e.wrapper=n[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=n[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=n[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function P(){return ie.offsetLeft>0}function F(){var e=de.tabs[de.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>de.canvas.clientWidth+ie.offsetLeft}function B(){switch(ie.stretchTabs){case"always":return!0;case"never":return!1;default:return!ie.shouldPaginate&&o.matchMedia("(max-width: 600px)").matches}}function z(){return ie.centerTabs&&!ie.shouldPaginate}function j(){if(ie.noPagination||!me)return!1;var e=Math.min(n.prop("clientWidth"),ie.maxTabWidth);return t.forEach(de.dummies,function(t){e-=t.offsetWidth}),0>e}function q(e){if(-1===e)return-1;var t,n,o=Math.max(ie.tabs.length-e,e);for(t=0;o>=t;t++){if(n=ie.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=ie.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function V(e,t,n){Object.defineProperty(ie,e,{get:function(){return n},set:function(e){var o=n;n=e,t&&t(e,o)}})}function U(){ie.shouldPaginate=j()}function Y(){return n.prop("clientWidth")}function W(){var e=ie.tabs[ie.selectedIndex],t=ie.tabs[ie.focusIndex];ie.tabs=ie.tabs.sort(function(e,t){return e.index-t.index}),ie.selectedIndex=ie.tabs.indexOf(e),ie.focusIndex=ie.tabs.indexOf(t)}function K(e,t){var n,o=t?"focusIndex":"selectedIndex",r=ie[o];for(n=r+e;ie.tabs[n]&&ie.tabs[n].scope.disabled;n+=e);ie.tabs[n]&&(ie[o]=n)}function G(){de.dummies[ie.focusIndex].focus()}function X(e){if(null==e&&(e=ie.focusIndex),de.tabs[e]&&!ie.shouldCenterTabs){var t=de.tabs[e],n=t.offsetLeft,o=t.offsetWidth+n;ie.offsetLeft=Math.max(ie.offsetLeft,oe(o-de.canvas.clientWidth)),ie.offsetLeft=Math.min(ie.offsetLeft,oe(n))}}function Q(){ce.forEach(function(e){a.nextTick(e)}),ce=[]}function Z(){var e=!1;t.forEach(ie.tabs,function(t){t.template&&(e=!0)}),ie.hasContent=e}function J(){ie.selectedIndex=q(ie.selectedIndex),ie.focusIndex=q(ie.focusIndex)}function ee(){if(!ie.dynamicHeight)return n.css("height","");if(!ie.tabs.length)return ce.push(ee);var e=de.contents[ie.selectedIndex],t=e?e.offsetHeight:0,o=de.wrapper.offsetHeight,r=t+o,i=n.prop("clientHeight");i!==r&&(ae=!0,d.animate(n,{height:i+"px"},{height:r+"px"}).then(function(){n.css("height",""),ae=!1}))}function te(){if(de.tabs[ie.selectedIndex]){if(!ie.tabs.length)return ce.push(ie.updateInkBarStyles);if(!n.prop("offsetParent"))return w();var e,o=ie.selectedIndex,r=de.paging.offsetWidth,i=de.tabs[o],d=i.offsetLeft,c=r-d-i.offsetWidth;ie.shouldCenterTabs&&(e=Array.prototype.slice.call(de.tabs).reduce(function(e,t){return e+t.offsetWidth},0),r>e&&a.nextTick(te,!1)),ne(),t.element(de.inkBar).css({left:d+"px",right:c+"px"})}}function ne(){var e=ie.selectedIndex,n=ie.lastSelectedIndex,o=t.element(de.inkBar);t.isNumber(n)&&o.toggleClass("md-left",n>e).toggleClass("md-right",e>n)}function oe(e){if(!de.tabs.length||!ie.shouldPaginate)return 0;var t=de.tabs[de.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-de.canvas.clientWidth,e)}function re(e,n){var o={colorElement:t.element(de.inkBar)};i.attach(e,n,o)}var ie=this,ae=!1,de=L(),ce=[],le=!1,me=!1;h("stretchTabs",E),V("focusIndex",C,ie.selectedIndex||0),V("offsetLeft",T,0),V("hasContent",A,!1),V("maxTabWidth",M,Y()),V("shouldPaginate",$,!1),b("noInkBar",I),b("dynamicHeight",O),b("noPagination"),b("swipeContent"),b("noDisconnect"),b("autoselect"),b("centerTabs",v),b("enableDisconnect"),ie.scope=e,ie.parent=e.$parent,ie.tabs=[],ie.lastSelectedIndex=null,ie.hasFocus=!1,ie.lastClick=!0,ie.shouldCenterTabs=z(),ie.updatePagination=a.debounce(U,100),ie.redirectFocus=G,ie.attachRipple=re,ie.insertTab=R,ie.removeTab=D,ie.select=x,ie.scroll=N,ie.nextPage=_,ie.previousPage=H,ie.keydown=k,ie.canPageForward=F,ie.canPageBack=P,ie.refreshIndex=J,ie.incrementIndex=K,ie.updateInkBarStyles=a.debounce(te,100),ie.updateTabOrder=a.debounce(W,100),s()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animate","$attrs","$compile","$mdTheming"]}(),function(){function e(){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'        <md-tabs-wrapper>          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate,                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ $mdTabsCtrl.maxTabWidth + \'px\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{::tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="::tab.label"                  md-scope="::tab.parent"></md-tab-item>              <md-ink-bar></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  class="md-tab"                  tabindex="-1"                  id="tab-item-{{::tab.id}}"                  role="tab"                  aria-controls="tab-content-{{::tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="::tab.label"                  md-scope="::tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0">          <md-tab-content              id="tab-content-{{::tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{::tab.id}}"              md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)"              md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight              }">            <div                md-template="::tab.template"                md-connected-if="tab.isActive()"                md-scope="::tab.parent"                ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div>          </md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){function n(n,o,r,i){function a(){n.$watch("connected",function(e){e===!1?d():c()}),n.$on("$destroy",c)}function d(){i.enableDisconnect&&t.disconnectScope(l)}function c(){i.enableDisconnect&&t.reconnectScope(l)}if(i){var l=i.enableDisconnect?n.compileScope.$new():n.compileScope;return o.html(n.template),e(o.contents())(l),o.on("DOMSubtreeModified",function(){i.updatePagination(),i.updateInkBarStyles()}),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTemplate",e),e.$inject=["$compile","$mdUtil"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-0.48}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme.ng-enter {    background-color: '{{background-900-0.0}}'; }    md-backdrop.md-opaque.md-THEME_NAME-theme.ng-enter.md-opaque.md-THEME_NAME-theme.ng-enter-active {      background-color: '{{background-900-0.48}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme.ng-leave.md-opaque.md-THEME_NAME-theme.ng-leave-active {    background-color: '{{background-900-0.0}}'; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");

}()}(window,window.angular);

/*
 AngularJS v1.3.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(r,f,s){'use strict';f.module("ngMessages",[]).directive("ngMessages",["$compile","$animate","$templateRequest",function(q,k,l){return{restrict:"AE",controller:function(){this.$renderNgMessageClasses=f.noop;var b=[];this.registerMessage=function(d,a){for(var c=0;c<b.length;c++)if(b[c].type==a.type){if(d!=c){var g=b[d];b[d]=b[c];d<b.length?b[c]=g:b.splice(0,c)}return}b.splice(d,0,a)};this.renderMessages=function(d,a){d=d||{};var c;f.forEach(b,function(b){var e;if(e=!c||a)e=d[b.type],e=null!==
e&&!1!==e&&e;e?(b.attach(),c=!0):b.detach()});this.renderElementClasses(c)}},require:"ngMessages",link:function(b,d,a,c){c.renderElementClasses=function(b){b?k.setClass(d,"ng-active","ng-inactive"):k.setClass(d,"ng-inactive","ng-active")};var g=f.isString(a.ngMessagesMultiple)||f.isString(a.multiple),e;b.$watchCollection(a.ngMessages||a["for"],function(b){e=b;c.renderMessages(b,g)});(a=a.ngMessagesInclude||a.include)&&l(a).then(function(a){var h;a=f.element("<div/>").html(a);f.forEach(a.children(),
function(a){a=f.element(a);h?h.after(a):d.prepend(a);h=a;q(a)(b)});c.renderMessages(e,g)})}}}]).directive("ngMessage",["$animate",function(f){return{require:"^ngMessages",transclude:"element",terminal:!0,restrict:"AE",link:function(k,l,b,d,a){for(var c,g,e=l[0],n=e.parentNode,h=0,p=0;h<n.childNodes.length;h++){var m=n.childNodes[h];if(8==m.nodeType&&0<=m.nodeValue.indexOf("ngMessage")){if(m===e){c=p;break}p++}}d.registerMessage(c,{type:b.ngMessage||b.when,attach:function(){g||a(k,function(a){f.enter(a,
null,l);g=a})},detach:function(a){g&&(f.leave(g),g=null)}})}}}])})(window,window.angular);
//# sourceMappingURL=angular-messages.min.js.map

//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, function () { 'use strict';

    var hookCallback;

    function utils_hooks__hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return Object.prototype.toString.call(input) === '[object Array]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function create_utc__createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    function valid__isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            m._isValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated;

            if (m._strict) {
                m._isValid = m._isValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }
        }
        return m._isValid;
    }

    function valid__createInvalid (flags) {
        var m = create_utc__createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    var momentProperties = utils_hooks__hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (typeof from._isAMomentObject !== 'undefined') {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (typeof from._i !== 'undefined') {
            to._i = from._i;
        }
        if (typeof from._f !== 'undefined') {
            to._f = from._f;
        }
        if (typeof from._l !== 'undefined') {
            to._l = from._l;
        }
        if (typeof from._strict !== 'undefined') {
            to._strict = from._strict;
        }
        if (typeof from._tzm !== 'undefined') {
            to._tzm = from._tzm;
        }
        if (typeof from._isUTC !== 'undefined') {
            to._isUTC = from._isUTC;
        }
        if (typeof from._offset !== 'undefined') {
            to._offset = from._offset;
        }
        if (typeof from._pf !== 'undefined') {
            to._pf = getParsingFlags(from);
        }
        if (typeof from._locale !== 'undefined') {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i in momentProperties) {
                prop = momentProperties[i];
                val = from[prop];
                if (typeof val !== 'undefined') {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            utils_hooks__hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            return Math.ceil(number);
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function Locale() {
    }

    var locales = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return null;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && typeof module !== 'undefined' &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                require('./locale/' + name);
                // because defineLocale currently also sets the global locale, we
                // want to undo that for lazy loaded locales
                locale_locales__getSetGlobalLocale(oldLocale);
            } catch (e) { }
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function locale_locales__getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (typeof values === 'undefined') {
                data = locale_locales__getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, values) {
        if (values !== null) {
            values.abbr = name;
            locales[name] = locales[name] || new Locale();
            locales[name].set(values);

            // backwards compat for now: also set the locale
            locale_locales__getSetGlobalLocale(name);

            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    // returns locale data
    function locale_locales__getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                get_set__set(this, unit, value);
                utils_hooks__hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get_set__get(this, unit);
            }
        };
    }

    function get_set__get (mom, unit) {
        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();
    }

    function get_set__set (mom, unit, value) {
        return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }

    // MOMENTS

    function getSet (units, value) {
        var unit;
        if (typeof units === 'object') {
            for (unit in units) {
                this.set(unit, units[unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (typeof this[units] === 'function') {
                return this[units](value);
            }
        }
        return this;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '';
            for (i = 0; i < length; i++) {
                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;

    var regexes = {};

    function isFunction (sth) {
        // https://github.com/moment/moment/issues/2325
        return typeof sth === 'function' &&
            Object.prototype.toString.call(sth) === '[object Function]';
    }


    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }).replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (typeof callback === 'number') {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;

    function daysInMonth(year, month) {
        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  matchWord);
    addRegexToken('MMMM', matchWord);

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m) {
        return this._months[m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m) {
        return this._monthsShort[m.month()];
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = create_utc__createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        // TODO: Move this out of here!
        if (typeof value === 'string') {
            value = mom.localeData().monthsParse(value);
            // TODO: Another silent failure?
            if (typeof value !== 'number') {
                return mom;
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            utils_hooks__hooks.updateOffset(this, true);
            return this;
        } else {
            return get_set__get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    function warn(msg) {
        if (utils_hooks__hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (firstTime) {
                warn(msg + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    utils_hooks__hooks.suppressDeprecationWarnings = false;

    var from_string__isoRegex = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d{2}-\d{2}/],
        ['YYYY-MM-DD', /\d{4}-\d{2}-\d{2}/],
        ['GGGG-[W]WW-E', /\d{4}-W\d{2}-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d{2}/],
        ['YYYY-DDD', /\d{4}-\d{3}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /(T| )\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss', /(T| )\d\d:\d\d:\d\d/],
        ['HH:mm', /(T| )\d\d:\d\d/],
        ['HH', /(T| )\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = from_string__isoRegex.exec(string);

        if (match) {
            getParsingFlags(config).iso = true;
            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(string)) {
                    config._f = isoDates[i][0];
                    break;
                }
            }
            for (i = 0, l = isoTimes.length; i < l; i++) {
                if (isoTimes[i][1].exec(string)) {
                    // match[6] should be 'T' or space
                    config._f += (match[6] || ' ') + isoTimes[i][0];
                    break;
                }
            }
            if (string.match(matchOffset)) {
                config._f += 'Z';
            }
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
            utils_hooks__hooks.createFromInputFallback(config);
        }
    }

    utils_hooks__hooks.createFromInputFallback = deprecate(
        'moment construction falls back to js Date. This is ' +
        'discouraged and will be removed in upcoming major ' +
        'release. Please refer to ' +
        'https://github.com/moment/moment/issues/1407 for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    function createDate (y, m, d, h, M, s, ms) {
        //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var date = new Date(y, m, d, h, M, s, ms);

        //the date constructor doesn't accept years < 1970
        if (y < 1970) {
            date.setFullYear(y);
        }
        return date;
    }

    function createUTCDate (y) {
        var date = new Date(Date.UTC.apply(null, arguments));
        if (y < 1970) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    utils_hooks__hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', false);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // firstDayOfWeek       0 = sun, 6 = sat
    //                      the day of the week that starts the week
    //                      (usually sunday or monday)
    // firstDayOfWeekOfYear 0 = sun, 6 = sat
    //                      the first week is the week that contains the first
    //                      of this day of the week
    //                      (eg. ISO weeks use thursday (4))
    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
        var end = firstDayOfWeekOfYear - firstDayOfWeek,
            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),
            adjustedMoment;


        if (daysToDayOfWeek > end) {
            daysToDayOfWeek -= 7;
        }

        if (daysToDayOfWeek < end - 7) {
            daysToDayOfWeek += 7;
        }

        adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek, 'd');
        return {
            week: Math.ceil(adjustedMoment.dayOfYear() / 7),
            year: adjustedMoment.year()
        };
    }

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 1st is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {
        var week1Jan = 6 + firstDayOfWeek - firstDayOfWeekOfYear, janX = createUTCDate(year, 0, 1 + week1Jan), d = janX.getUTCDay(), dayOfYear;
        if (d < firstDayOfWeek) {
            d += 7;
        }

        weekday = weekday != null ? 1 * weekday : firstDayOfWeek;

        dayOfYear = 1 + week1Jan + 7 * (week - 1) - d + weekday;

        return {
            year: dayOfYear > 0 ? year : year - 1,
            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear
        };
    }

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        var now = new Date();
        if (config._useUTC) {
            return [now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()];
        }
        return [now.getFullYear(), now.getMonth(), now.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse)) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);
            week = defaults(w.w, 1);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < dow) {
                    ++week;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from begining of week
                weekday = w.e + dow;
            } else {
                // default to begining of week
                weekday = dow;
            }
        }
        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);

        config._a[YEAR] = temp.year;
        config._dayOfYear = temp.dayOfYear;
    }

    utils_hooks__hooks.ISO_8601 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === utils_hooks__hooks.ISO_8601) {
            configFromISO(config);
            return;
        }

        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (getParsingFlags(config).bigHour === true &&
                config._a[HOUR] <= 12 &&
                config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!valid__isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = [i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond];

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || locale_locales__getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return valid__createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        } else if (isDate(input)) {
            config._d = input;
        } else {
            configFromInput(config);
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (input === undefined) {
            config._d = new Date();
        } else if (isDate(input)) {
            config._d = new Date(+input);
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (typeof(input) === 'object') {
            configFromObject(config);
        } else if (typeof(input) === 'number') {
            // from milliseconds
            config._d = new Date(input);
        } else {
            utils_hooks__hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (typeof(locale) === 'boolean') {
            strict = locale;
            locale = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function local__createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
         'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',
         function () {
             var other = local__createLocal.apply(null, arguments);
             return other < this ? this : other;
         }
     );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',
        function () {
            var other = local__createLocal.apply(null, arguments);
            return other > this ? this : other;
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return local__createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 36e5; // 1000 * 60 * 60
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = locale_locales__getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchOffset);
    addRegexToken('ZZ', matchOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(string) {
        var matches = ((string || '').match(matchOffset) || []);
        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(+res._d + diff);
            utils_hooks__hooks.updateOffset(res, false);
            return res;
        } else {
            return local__createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    utils_hooks__hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime) {
        var offset = this._offset || 0,
            localAdjust;
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(input);
            }
            if (Math.abs(input) < 16) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    utils_hooks__hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm) {
            this.utcOffset(this._tzm);
        } else if (typeof this._i === 'string') {
            this.utcOffset(offsetFromString(this._i));
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        input = input ? local__createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (typeof this._isDSTShifted !== 'undefined') {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return !this._isUTC;
    }

    function isUtcOffset () {
        return this._isUTC;
    }

    function isUtc () {
        return this._isUTC && this._offset === 0;
    }

    var aspNetRegex = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    var create__isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;

    function create__createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (typeof input === 'number') {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])        * sign,
                h  : toInt(match[HOUR])        * sign,
                m  : toInt(match[MINUTE])      * sign,
                s  : toInt(match[SECOND])      * sign,
                ms : toInt(match[MILLISECOND]) * sign
            };
        } else if (!!(match = create__isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                d : parseIso(match[4], sign),
                h : parseIso(match[5], sign),
                m : parseIso(match[6], sign),
                s : parseIso(match[7], sign),
                w : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    create__createDuration.fn = Duration.prototype;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = create__createDuration(val, period);
            add_subtract__addSubtract(this, dur, direction);
            return this;
        };
    }

    function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = duration._days,
            months = duration._months;
        updateOffset = updateOffset == null ? true : updateOffset;

        if (milliseconds) {
            mom._d.setTime(+mom._d + milliseconds * isAdding);
        }
        if (days) {
            get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);
        }
        if (months) {
            setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);
        }
        if (updateOffset) {
            utils_hooks__hooks.updateOffset(mom, days || months);
        }
    }

    var add_subtract__add      = createAdder(1, 'add');
    var add_subtract__subtract = createAdder(-1, 'subtract');

    function moment_calendar__calendar (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || local__createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            diff = this.diff(sod, 'days', true),
            format = diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
        return this.format(formats && formats[format] || this.localeData().calendar(format, this, local__createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var inputMs;
        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');
        if (units === 'millisecond') {
            input = isMoment(input) ? input : local__createLocal(input);
            return +this > +input;
        } else {
            inputMs = isMoment(input) ? +input : +local__createLocal(input);
            return inputMs < +this.clone().startOf(units);
        }
    }

    function isBefore (input, units) {
        var inputMs;
        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');
        if (units === 'millisecond') {
            input = isMoment(input) ? input : local__createLocal(input);
            return +this < +input;
        } else {
            inputMs = isMoment(input) ? +input : +local__createLocal(input);
            return +this.clone().endOf(units) < inputMs;
        }
    }

    function isBetween (from, to, units) {
        return this.isAfter(from, units) && this.isBefore(to, units);
    }

    function isSame (input, units) {
        var inputMs;
        units = normalizeUnits(units || 'millisecond');
        if (units === 'millisecond') {
            input = isMoment(input) ? input : local__createLocal(input);
            return +this === +input;
        } else {
            inputMs = +local__createLocal(input);
            return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));
        }
    }

    function diff (input, units, asFloat) {
        var that = cloneWithOffset(input, this),
            zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4,
            delta, output;

        units = normalizeUnits(units);

        if (units === 'year' || units === 'month' || units === 'quarter') {
            output = monthDiff(this, that);
            if (units === 'quarter') {
                output = output / 3;
            } else if (units === 'year') {
                output = output / 12;
            }
        } else {
            delta = this - that;
            output = units === 'second' ? delta / 1e3 : // 1000
                units === 'minute' ? delta / 6e4 : // 1000 * 60
                units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60
                units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
                units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
                delta;
        }
        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        return -(wholeMonthDiff + adjust);
    }

    utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function moment_format__toISOString () {
        var m = this.clone().utc();
        if (0 < m.year() && m.year() <= 9999) {
            if ('function' === typeof Date.prototype.toISOString) {
                // native implementation is ~50x faster, use it when we can
                return this.toDate().toISOString();
            } else {
                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
            }
        } else {
            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        }
    }

    function format (inputString) {
        var output = formatMoment(this, inputString || utils_hooks__hooks.defaultFormat);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }
        return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
    }

    function fromNow (withoutSuffix) {
        return this.from(local__createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }
        return create__createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
    }

    function toNow (withoutSuffix) {
        return this.to(local__createLocal(), withoutSuffix);
    }

    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = locale_locales__getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    function startOf (units) {
        units = normalizeUnits(units);
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (units) {
        case 'year':
            this.month(0);
            /* falls through */
        case 'quarter':
        case 'month':
            this.date(1);
            /* falls through */
        case 'week':
        case 'isoWeek':
        case 'day':
            this.hours(0);
            /* falls through */
        case 'hour':
            this.minutes(0);
            /* falls through */
        case 'minute':
            this.seconds(0);
            /* falls through */
        case 'second':
            this.milliseconds(0);
        }

        // weeks are a special case
        if (units === 'week') {
            this.weekday(0);
        }
        if (units === 'isoWeek') {
            this.isoWeekday(1);
        }

        // quarters are also special
        if (units === 'quarter') {
            this.month(Math.floor(this.month() / 3) * 3);
        }

        return this;
    }

    function endOf (units) {
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond') {
            return this;
        }
        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
    }

    function to_type__valueOf () {
        return +this._d - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(+this / 1000);
    }

    function toDate () {
        return this._offset ? new Date(+this) : this._d;
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function moment_valid__isValid () {
        return valid__isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);
    });

    // HELPERS

    function weeksInYear(year, dow, doy) {
        return weekOfYear(local__createLocal([year, 11, 31 + dow - doy]), dow, doy).week;
    }

    // MOMENTS

    function getSetWeekYear (input) {
        var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
        return input == null ? year : this.add((input - year), 'y');
    }

    function getSetISOWeekYear (input) {
        var year = weekOfYear(this, 1, 4).year;
        return input == null ? year : this.add((input - year), 'y');
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    addFormatToken('Q', 0, 0, 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0], 10);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   matchWord);
    addRegexToken('ddd',  matchWord);
    addRegexToken('dddd', matchWord);

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config) {
        var weekday = config._locale.weekdaysParse(input);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    // LOCALES

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m) {
        return this._weekdays[m.day()];
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return this._weekdaysShort[m.day()];
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return this._weekdaysMin[m.day()];
    }

    function localeWeekdaysParse (weekdayName) {
        var i, mom, regex;

        this._weekdaysParse = this._weekdaysParse || [];

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            if (!this._weekdaysParse[i]) {
                mom = local__createLocal([2000, 1]).day(i);
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.
        return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, function () {
        return this.hours() % 12 || 12;
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour he wants. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var momentPrototype__proto = Moment.prototype;

    momentPrototype__proto.add          = add_subtract__add;
    momentPrototype__proto.calendar     = moment_calendar__calendar;
    momentPrototype__proto.clone        = clone;
    momentPrototype__proto.diff         = diff;
    momentPrototype__proto.endOf        = endOf;
    momentPrototype__proto.format       = format;
    momentPrototype__proto.from         = from;
    momentPrototype__proto.fromNow      = fromNow;
    momentPrototype__proto.to           = to;
    momentPrototype__proto.toNow        = toNow;
    momentPrototype__proto.get          = getSet;
    momentPrototype__proto.invalidAt    = invalidAt;
    momentPrototype__proto.isAfter      = isAfter;
    momentPrototype__proto.isBefore     = isBefore;
    momentPrototype__proto.isBetween    = isBetween;
    momentPrototype__proto.isSame       = isSame;
    momentPrototype__proto.isValid      = moment_valid__isValid;
    momentPrototype__proto.lang         = lang;
    momentPrototype__proto.locale       = locale;
    momentPrototype__proto.localeData   = localeData;
    momentPrototype__proto.max          = prototypeMax;
    momentPrototype__proto.min          = prototypeMin;
    momentPrototype__proto.parsingFlags = parsingFlags;
    momentPrototype__proto.set          = getSet;
    momentPrototype__proto.startOf      = startOf;
    momentPrototype__proto.subtract     = add_subtract__subtract;
    momentPrototype__proto.toArray      = toArray;
    momentPrototype__proto.toObject     = toObject;
    momentPrototype__proto.toDate       = toDate;
    momentPrototype__proto.toISOString  = moment_format__toISOString;
    momentPrototype__proto.toJSON       = moment_format__toISOString;
    momentPrototype__proto.toString     = toString;
    momentPrototype__proto.unix         = unix;
    momentPrototype__proto.valueOf      = to_type__valueOf;

    // Year
    momentPrototype__proto.year       = getSetYear;
    momentPrototype__proto.isLeapYear = getIsLeapYear;

    // Week Year
    momentPrototype__proto.weekYear    = getSetWeekYear;
    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;

    // Quarter
    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;

    // Month
    momentPrototype__proto.month       = getSetMonth;
    momentPrototype__proto.daysInMonth = getDaysInMonth;

    // Week
    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;
    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;
    momentPrototype__proto.weeksInYear    = getWeeksInYear;
    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;

    // Day
    momentPrototype__proto.date       = getSetDayOfMonth;
    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;
    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;
    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;
    momentPrototype__proto.dayOfYear  = getSetDayOfYear;

    // Hour
    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;

    // Minute
    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;

    // Second
    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;

    // Millisecond
    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;

    // Offset
    momentPrototype__proto.utcOffset            = getSetOffset;
    momentPrototype__proto.utc                  = setOffsetToUTC;
    momentPrototype__proto.local                = setOffsetToLocal;
    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;
    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;
    momentPrototype__proto.isDST                = isDaylightSavingTime;
    momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;
    momentPrototype__proto.isLocal              = isLocal;
    momentPrototype__proto.isUtcOffset          = isUtcOffset;
    momentPrototype__proto.isUtc                = isUtc;
    momentPrototype__proto.isUTC                = isUtc;

    // Timezone
    momentPrototype__proto.zoneAbbr = getZoneAbbr;
    momentPrototype__proto.zoneName = getZoneName;

    // Deprecations
    momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779', getSetZone);

    var momentPrototype = momentPrototype__proto;

    function moment__createUnix (input) {
        return local__createLocal(input * 1000);
    }

    function moment__createInZone () {
        return local__createLocal.apply(null, arguments).parseZone();
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function locale_calendar__calendar (key, mom, now) {
        var output = this._calendar[key];
        return typeof output === 'function' ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    function preParsePostFormat (string) {
        return string;
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relative__relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (typeof output === 'function') ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);
    }

    function locale_set__set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (typeof prop === 'function') {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _ordinalParseLenient.
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
    }

    var prototype__proto = Locale.prototype;

    prototype__proto._calendar       = defaultCalendar;
    prototype__proto.calendar        = locale_calendar__calendar;
    prototype__proto._longDateFormat = defaultLongDateFormat;
    prototype__proto.longDateFormat  = longDateFormat;
    prototype__proto._invalidDate    = defaultInvalidDate;
    prototype__proto.invalidDate     = invalidDate;
    prototype__proto._ordinal        = defaultOrdinal;
    prototype__proto.ordinal         = ordinal;
    prototype__proto._ordinalParse   = defaultOrdinalParse;
    prototype__proto.preparse        = preParsePostFormat;
    prototype__proto.postformat      = preParsePostFormat;
    prototype__proto._relativeTime   = defaultRelativeTime;
    prototype__proto.relativeTime    = relative__relativeTime;
    prototype__proto.pastFuture      = pastFuture;
    prototype__proto.set             = locale_set__set;

    // Month
    prototype__proto.months       =        localeMonths;
    prototype__proto._months      = defaultLocaleMonths;
    prototype__proto.monthsShort  =        localeMonthsShort;
    prototype__proto._monthsShort = defaultLocaleMonthsShort;
    prototype__proto.monthsParse  =        localeMonthsParse;

    // Week
    prototype__proto.week = localeWeek;
    prototype__proto._week = defaultLocaleWeek;
    prototype__proto.firstDayOfYear = localeFirstDayOfYear;
    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;

    // Day of Week
    prototype__proto.weekdays       =        localeWeekdays;
    prototype__proto._weekdays      = defaultLocaleWeekdays;
    prototype__proto.weekdaysMin    =        localeWeekdaysMin;
    prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;
    prototype__proto.weekdaysShort  =        localeWeekdaysShort;
    prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;
    prototype__proto.weekdaysParse  =        localeWeekdaysParse;

    // Hours
    prototype__proto.isPM = localeIsPM;
    prototype__proto._meridiemParse = defaultLocaleMeridiemParse;
    prototype__proto.meridiem = localeMeridiem;

    function lists__get (format, index, field, setter) {
        var locale = locale_locales__getLocale();
        var utc = create_utc__createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function list (format, index, field, count, setter) {
        if (typeof format === 'number') {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return lists__get(format, index, field, setter);
        }

        var i;
        var out = [];
        for (i = 0; i < count; i++) {
            out[i] = lists__get(format, i, field, setter);
        }
        return out;
    }

    function lists__listMonths (format, index) {
        return list(format, index, 'months', 12, 'month');
    }

    function lists__listMonthsShort (format, index) {
        return list(format, index, 'monthsShort', 12, 'month');
    }

    function lists__listWeekdays (format, index) {
        return list(format, index, 'weekdays', 7, 'day');
    }

    function lists__listWeekdaysShort (format, index) {
        return list(format, index, 'weekdaysShort', 7, 'day');
    }

    function lists__listWeekdaysMin (format, index) {
        return list(format, index, 'weekdaysMin', 7, 'day');
    }

    locale_locales__getSetGlobalLocale('en', {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports
    utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);
    utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);

    var mathAbs = Math.abs;

    function duration_abs__abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function duration_add_subtract__addSubtract (duration, input, value, direction) {
        var other = create__createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function duration_add_subtract__add (input, value) {
        return duration_add_subtract__addSubtract(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function duration_add_subtract__subtract (input, value) {
        return duration_add_subtract__addSubtract(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'year') {
            days   = this._days   + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            return units === 'month' ? months : months / 12;
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function duration_as__valueOf () {
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asYears        = makeAs('y');

    function duration_get__get (units) {
        units = normalizeUnits(units);
        return this[units + 's']();
    }

    function makeGetter(name) {
        return function () {
            return this._data[name];
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        s: 45,  // seconds to minute
        m: 45,  // minutes to hour
        h: 22,  // hours to day
        d: 26,  // days to month
        M: 11   // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {
        var duration = create__createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds < thresholds.s && ['s', seconds]  ||
                minutes === 1          && ['m']           ||
                minutes < thresholds.m && ['mm', minutes] ||
                hours   === 1          && ['h']           ||
                hours   < thresholds.h && ['hh', hours]   ||
                days    === 1          && ['d']           ||
                days    < thresholds.d && ['dd', days]    ||
                months  === 1          && ['M']           ||
                months  < thresholds.M && ['MM', months]  ||
                years   === 1          && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set a threshold for relative time strings
    function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        return true;
    }

    function humanize (withSuffix) {
        var locale = this.localeData();
        var output = duration_humanize__relativeTime(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var iso_string__abs = Math.abs;

    function iso_string__toISOString() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        var seconds = iso_string__abs(this._milliseconds) / 1000;
        var days         = iso_string__abs(this._days);
        var months       = iso_string__abs(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds;
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        return (total < 0 ? '-' : '') +
            'P' +
            (Y ? Y + 'Y' : '') +
            (M ? M + 'M' : '') +
            (D ? D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? h + 'H' : '') +
            (m ? m + 'M' : '') +
            (s ? s + 'S' : '');
    }

    var duration_prototype__proto = Duration.prototype;

    duration_prototype__proto.abs            = duration_abs__abs;
    duration_prototype__proto.add            = duration_add_subtract__add;
    duration_prototype__proto.subtract       = duration_add_subtract__subtract;
    duration_prototype__proto.as             = as;
    duration_prototype__proto.asMilliseconds = asMilliseconds;
    duration_prototype__proto.asSeconds      = asSeconds;
    duration_prototype__proto.asMinutes      = asMinutes;
    duration_prototype__proto.asHours        = asHours;
    duration_prototype__proto.asDays         = asDays;
    duration_prototype__proto.asWeeks        = asWeeks;
    duration_prototype__proto.asMonths       = asMonths;
    duration_prototype__proto.asYears        = asYears;
    duration_prototype__proto.valueOf        = duration_as__valueOf;
    duration_prototype__proto._bubble        = bubble;
    duration_prototype__proto.get            = duration_get__get;
    duration_prototype__proto.milliseconds   = milliseconds;
    duration_prototype__proto.seconds        = seconds;
    duration_prototype__proto.minutes        = minutes;
    duration_prototype__proto.hours          = hours;
    duration_prototype__proto.days           = days;
    duration_prototype__proto.weeks          = weeks;
    duration_prototype__proto.months         = months;
    duration_prototype__proto.years          = years;
    duration_prototype__proto.humanize       = humanize;
    duration_prototype__proto.toISOString    = iso_string__toISOString;
    duration_prototype__proto.toString       = iso_string__toISOString;
    duration_prototype__proto.toJSON         = iso_string__toISOString;
    duration_prototype__proto.locale         = locale;
    duration_prototype__proto.localeData     = localeData;

    // Deprecations
    duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);
    duration_prototype__proto.lang = lang;

    // Side effect imports

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    utils_hooks__hooks.version = '2.10.6';

    setHookCallback(local__createLocal);

    utils_hooks__hooks.fn                    = momentPrototype;
    utils_hooks__hooks.min                   = min;
    utils_hooks__hooks.max                   = max;
    utils_hooks__hooks.utc                   = create_utc__createUTC;
    utils_hooks__hooks.unix                  = moment__createUnix;
    utils_hooks__hooks.months                = lists__listMonths;
    utils_hooks__hooks.isDate                = isDate;
    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;
    utils_hooks__hooks.invalid               = valid__createInvalid;
    utils_hooks__hooks.duration              = create__createDuration;
    utils_hooks__hooks.isMoment              = isMoment;
    utils_hooks__hooks.weekdays              = lists__listWeekdays;
    utils_hooks__hooks.parseZone             = moment__createInZone;
    utils_hooks__hooks.localeData            = locale_locales__getLocale;
    utils_hooks__hooks.isDuration            = isDuration;
    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;
    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;
    utils_hooks__hooks.defineLocale          = defineLocale;
    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;
    utils_hooks__hooks.normalizeUnits        = normalizeUnits;
    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;

    var _moment = utils_hooks__hooks;

    return _moment;

}));

"format amd";!function(){"use strict";function a(a,b){return a.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",b).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(b,c,d,e,f){return function(g,h,i){function j(){var a;if(p)a=p;else if(e.serverTime){var b=(new Date).getTime(),d=b-w+e.serverTime;a=c(d)}else a=c();return a}function k(){q&&(b.clearTimeout(q),q=null)}function l(a){var c=j().diff(a,"day"),d=u&&c>=u;if(h.text(d?a.format(v):a.from(j(),s)),t&&!h.attr("title")&&h.attr("title",a.local().format(t)),!d){var e=Math.abs(j().diff(a,"minute")),f=3600;1>e?f=1:60>e?f=30:180>e&&(f=300),q=b.setTimeout(function(){l(a)},1e3*f)}}function m(a){z&&h.attr("datetime",a)}function n(){if(k(),o){var a=d.preprocessDate(o,x,r);l(a),m(a.toISOString())}}var o,p,q=null,r=f.format,s=e.withoutSuffix,t=e.titleFormat,u=e.fullDateThreshold,v=e.fullDateFormat,w=(new Date).getTime(),x=f.preprocess,y=i.amTimeAgo,z="TIME"===h[0].nodeName.toUpperCase();g.$watch(y,function(a){return"undefined"==typeof a||null===a||""===a?(k(),void(o&&(h.text(""),m(""),o=null))):(o=a,void n())}),a.isDefined(i.amFrom)&&g.$watch(i.amFrom,function(a){p="undefined"==typeof a||null===a||""===a?null:c(a),n()}),a.isDefined(i.amWithoutSuffix)&&g.$watch(i.amWithoutSuffix,function(a){"boolean"==typeof a?(s=a,n()):s=e.withoutSuffix}),i.$observe("amFormat",function(a){"undefined"!=typeof a&&(r=a,n())}),i.$observe("amPreprocess",function(a){x=a,n()}),i.$observe("amFullDateThreshold",function(a){u=a,n()}),i.$observe("amFullDateFormat",function(a){v=a,n()}),g.$on("$destroy",function(){k()}),g.$on("amMoment:localeChanged",function(){n()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(b,c,d,e){this.preprocessors={utc:b.utc,unix:b.unix},this.changeLocale=function(d,e){var f=b.locale(d,e);return a.isDefined(d)&&c.$broadcast("amMoment:localeChanged"),f},this.changeTimezone=function(a){e.timezone=a,c.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(c,f,g){return a.isUndefined(f)&&(f=e.preprocess),this.preprocessors[f]?this.preprocessors[f](c,g):(f&&d.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(c))&&isFinite(c)?b(parseInt(c,10)):b(c,g))},this.applyTimezone=function(a,b){return(b=b||e.timezone)?(b.match(/^Z|[+-]\d\d:?\d\d$/i)?a=a.utcOffset(b):a.tz?a=a.tz(b):d.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?"),a):a}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var f=a(c);return f.isValid()?b.applyTimezone(f,e).calendar():""}return d.$stateful=c.statefulFilters,d}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f,g,h){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,g);var i=a(c);if(!i.isValid())return"";var j;if("undefined"==typeof d||null===d)j=a();else if(d=b.preprocessDate(d,h),j=a(d),!j.isValid())return"";return b.applyTimezone(i).diff(b.applyTimezone(j),e,f)}return d.$stateful=c.statefulFilters,d}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(d,e,f,g,h){var i=h||c.format;if("undefined"==typeof d||null===d)return"";d=b.preprocessDate(d,f,i);var j=a(d);return j.isValid()?b.applyTimezone(j,g).format(e):""}return d.$stateful=c.statefulFilters,d}]).filter("amDurationFormat",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a.duration(b,c).humanize(d)}return c.$stateful=b.statefulFilters,c}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f){var g,h;return"undefined"==typeof c||null===c?"":(c=b.preprocessDate(c,d),g=a(c),g.isValid()?(h=a(f),"undefined"!=typeof f&&h.isValid()?b.applyTimezone(g).from(h,e):b.applyTimezone(g).fromNow(e)):"")}return d.$stateful=c.statefulFilters,d}]).filter("amSubtract",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a(b).subtract(parseInt(c,10),d)}return c.$stateful=b.statefulFilters,c}]).filter("amAdd",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a(b).add(parseInt(c,10),d)}return c.$stateful=b.statefulFilters,c}])}"function"==typeof define&&define.amd?define(["angular","moment"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("moment")),module.exports="angularMoment"):a(angular,("undefined"!=typeof global?global:window).moment)}();
//# sourceMappingURL=angular-moment.min.js.map

/*
 AngularJS v1.4.8
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(n,h,p){'use strict';function E(a){var f=[];r(f,h.noop).chars(a);return f.join("")}function g(a,f){var d={},c=a.split(","),b;for(b=0;b<c.length;b++)d[f?h.lowercase(c[b]):c[b]]=!0;return d}function F(a,f){function d(a,b,d,l){b=h.lowercase(b);if(s[b])for(;e.last()&&t[e.last()];)c("",e.last());u[b]&&e.last()==b&&c("",b);(l=v[b]||!!l)||e.push(b);var m={};d.replace(G,function(b,a,f,c,d){m[a]=q(f||c||d||"")});f.start&&f.start(b,m,l)}function c(b,a){var c=0,d;if(a=h.lowercase(a))for(c=e.length-
1;0<=c&&e[c]!=a;c--);if(0<=c){for(d=e.length-1;d>=c;d--)f.end&&f.end(e[d]);e.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,k,e=[],m=a,l;for(e.last=function(){return e[e.length-1]};a;){l="";k=!0;if(e.last()&&w[e.last()])a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+e.last()+"[^>]*>","i"),function(a,b){b=b.replace(H,"$1").replace(I,"$1");f.chars&&f.chars(q(b));return""}),c("",e.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",
b)===b&&(f.comment&&f.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(x.test(a)){if(b=a.match(x))a=a.replace(b[0],""),k=!1}else if(J.test(a)){if(b=a.match(y))a=a.substring(b[0].length),b[0].replace(y,c),k=!1}else K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+="<",a=a.substring(1)));k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),f.chars&&f.chars(q(l)))}if(a==m)throw L("badparse",a);m=a}c()}function q(a){if(!a)return"";A.innerHTML=
a.replace(/</g,"&lt;");return A.textContent}function B(a){return a.replace(/&/g,"&amp;").replace(M,function(a){var d=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(N,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a,f){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,e){a=h.lowercase(a);!d&&w[a]&&(d=a);d||!0!==C[a]||(c("<"),c(a),h.forEach(k,function(d,e){var k=h.lowercase(e),g="img"===a&&"src"===k||
"background"===k;!0!==O[k]||!0===D[k]&&!f(d,g)||(c(" "),c(e),c('="'),c(B(d)),c('"'))}),c(e?"/>":">"))},end:function(a){a=h.lowercase(a);d||!0!==C[a]||(c("</"),c(a),c(">"));a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr("$sanitize"),z=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,
I=/<!\[CDATA\[(.*?)]]\x3e/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,v=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");p=g("rp,rt");var u=h.extend({},p,n),s=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),t=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
n=g("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var w=g("script,style"),C=h.extend({},v,s,t,u,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var O=h.extend({},D,p,n),A=document.createElement("pre");h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(f){var d=[];F(f,r(d,function(c,b){return!/^unsafe/.test(a(c,b))}));return d.join("")}}]});h.module("ngSanitize").filter("linky",["$sanitize",function(a){var f=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(c,b){function k(a){a&&g.push(E(a))}function e(a,
c){g.push("<a ");h.isDefined(b)&&g.push('target="',b,'" ');g.push('href="',a.replace(/"/g,"&quot;"),'">');k(c);g.push("</a>")}if(!c)return c;for(var m,l=c,g=[],n,p;m=l.match(f);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),e(n,m[0].replace(d,"")),l=l.substring(p+m[0].length);k(l);return a(g.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active"),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,r,o,l,u,i){"use strict";var c={},a=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},s=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return s(e)||a(e)?e:e[0]};c.duScrollTo=function(t,n,r,o){var l;if(angular.isElement(t)?l=this.duScrollToElement:angular.isDefined(r)&&(l=this.duScrollToAnimated),l)return l.apply(this,arguments);var u=d(this);return a(u)?e.scrollTo(t,n):(u.scrollLeft=t,void(u.scrollTop=n))};var f,p;c.duScrollToAnimated=function(e,l,u,c){u&&!c&&(c=o);var a=this.duScrollLeft(),s=this.duScrollTop(),d=Math.round(e-a),m=Math.round(l-s),S=null,g=0,h=this,v=function(e){(!e||g&&e.which>0)&&(i&&h.unbind(i,v),n(f),p.reject(),f=null)};if(f&&v(),p=t.defer(),0===u||!d&&!m)return 0===u&&h.duScrollTo(e,l),p.resolve(),p.promise;var y=function(e){null===S&&(S=e),g=e-S;var t=g>=u?1:c(g/u);h.scrollTo(a+Math.ceil(d*t),s+Math.ceil(m*t)),1>t?f=r(y):(i&&h.unbind(i,v),f=null,p.resolve())};return h.duScrollTo(a,s),i&&h.bind(i,v),f=r(y),p.promise},c.duScrollToElement=function(e,t,n,r){var o=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=u);var l=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return s(o)&&(l-=o.getBoundingClientRect().top),this.duScrollTo(0,l,n,r)},c.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var o=d(this);return a(o)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},c.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var o=d(this);return a(o)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},c.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||l,r)},c.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||l,n)},c.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||l,n)},angular.forEach(c,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var o,l=n.substr(0,1).toUpperCase()+n.substr(1),u=0;u<t.length;u++)if(o=t[u]+l,e[o])return e[o];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,r=function(e,r){var o=(new Date).getTime(),l=Math.max(0,16-(o-n)),u=t(function(){e(o+l)},l);return n=o+l,u};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,r,o,l,u,i,c){"use strict";var a=function(o){var a=!1,s=!1,d=function(){s=!1;var t,u=o.container,a=u[0],d=0;"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE?(d=a.getBoundingClientRect().top,t=Math.round(a.scrollTop+a.clientHeight)>=a.scrollHeight):t=Math.round(n.pageYOffset+n.innerHeight)>=r[0].body.scrollHeight;var f,p,m,S,g,h,v=i&&t?"bottom":"top";for(S=o.spies,p=o.currentlyActive,m=void 0,f=0;f<S.length;f++)g=S[f],h=g.getTargetPosition(),h&&(i&&t||h.top+g.offset-d<20&&(l||-1*h.top+d)<h.height)&&(!m||m[v]<h[v])&&(m={spy:g},m[v]=h[v]);m&&(m=m.spy),p===m||l&&!m||(p&&(p.$element.removeClass(c),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),m&&(m.$element.addClass(c),e.$broadcast("duScrollspy:becameActive",m.$element,angular.element(m.getTargetElement()))),o.currentlyActive=m)};return u?function(){a?s=!0:(d(),a=t(function(){a=!1,s&&d()},u,!1))}:d},s={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=a(n),s[t]=n,e.$on("$destroy",function(){f(e)}),t},f=function(e){var t=e.$id,n=s[t],r=n.container;r&&r.off("scroll",n.handler),delete s[t]},p=d(e),m=function(e){return s[e.$id]?s[e.$id]:e.$parent?m(e.$parent):s[p]},S=function(e){var t,n,r=e.$scope;if(r)return m(r);for(n in s)if(t=s[n],-1!==t.spies.indexOf(e))return t},g=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},h=function(e){var t=S(e);t&&(t.spies.push(e),t.container&&g(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=o.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},v=function(e){var t=S(e);e===t.currentlyActive&&(t.currentlyActive=null);var n=t.spies.indexOf(e);-1!==n&&t.spies.splice(n,1),e.$element=null};return{addSpy:h,removeSpy:v,createContext:d,destroyContext:f,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function(e){return t[e.$id]?e.$id:e.$parent?r(e.$parent):void 0},o=function(n){var o=r(n);return o?t[o]:e},l=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:o,setContainer:n,removeContainer:l}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(r,o,l){o.on("click",function(o){if(l.href&&-1!==l.href.indexOf("#")||""!==l.duSmoothScroll){var u=l.href?l.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):l.duSmoothScroll,i=document.getElementById(u)||document.getElementsByName(u)[0];if(i&&i.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var c=l.offset?parseInt(l.offset,10):t,a=l.duration?parseInt(l.duration,10):e,s=n.getContainer(r);s.duScrollToElement(angular.element(i),isNaN(c)?0:c,isNaN(a)?0:a)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,o){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,o){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){"use strict";var o=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(l,u,i){var c,a=i.ngHref||i.href;if(a&&-1!==a.indexOf("#")?c=a.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duScrollspy?c=i.duScrollspy:i.duSmoothScroll&&(c=i.duSmoothScroll),c){var s=n(function(){var n=new o(c,l,u,-(i.offset?parseInt(i.offset,10):t));e.addSpy(n),l.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var a=r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));l.$on("$destroy",function(){e.removeSpy(n),a()})},0,!1);l.$on("$destroy",function(){n.cancel(s)})}}}}]);
//# sourceMappingURL=angular-scroll.min.js.map

/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return N(new(N(function(){},{prototype:a})),b)}function e(a){return M(arguments,function(b){b!==a&&M(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return M(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return N({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return M(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return M(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=L(a),d=c?[]:{};return M(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=L(a)?[]:{};return M(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=N(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,J(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);M(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return K(a)&&a.then&&a.$$promises}if(!K(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return M(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!H(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;M(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!K(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=N({},d),u=1+q.length/3,v=!1;if(H(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),N(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return H(a.template)?this.fromString(a.template,b):H(a.templateUrl)?this.fromUrl(a.templateUrl,b):H(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return I(a)?a(b):a},this.fromUrl=function(c,d){return I(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new P.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=P.type(h||"string")||d(P.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=N({params:{}},K(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new P.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){N(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return I(a)||L(a)&&I(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){N(this,a||{})}P=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!H(a)||"string"==typeof a},pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return H(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return H(a)&&(m=a),m},this.strictMode=function(a){return H(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!H(a))return q;if(a!==!0&&a!==!1&&!J(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,N(f(),b))},this.isMatcher=function(a){if(!K(a))return!1;var b=!0;return M(r.prototype,function(c,d){I(c)&&(b=b&&H(a[d])&&I(a[d]))}),b},this.type=function(a,b,c){if(!H(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(N({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},M(x,function(a,b){u[b]=new s(N({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),M(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=K(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof s?b.type:new s(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return N(b,c,d).array}function m(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!H(c)||null==c)return q;if(c===!0||J(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=L(a.replace)?a.replace:[],J(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function r(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function t(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),H(a)?w.type.$normalize(a):r()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=m(d,y),A=p(d,x,y,z);N(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:t,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,N(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),M(b,function(b){M(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return M(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return M(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return H(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(J(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){o&&d.url()===o;o=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!I(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(J(a)){var b=a;a=function(){return b}}else if(!I(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=J(b);if(J(a)&&(a=d.compile(a)),!h&&!I(b)&&!L(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),N(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:J(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),N(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=J(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!J(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):J(b.parent)?b.parent:K(b.parent)&&J(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)I(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return J(a)&&!H(b)?C[a]:I(b)&&J(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return K(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return M(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(I(d.controllerProvider)||L(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,N({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!H(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!H(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,I=[];if(f.reload){if(J(f.reload)||K(f.reload)){if(K(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var L=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!L)throw new Error("No such reload state '"+(J(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==L;)G=I[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=I[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,O(y.params,n),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),p.update(),C;for(var M=e.when(G),P=D;P<z.length;P++,F=z[P])G=I[P]=d(G),M=v(F,c,F===b,M,G,f);var Q=y.transition=M.then(function(){var d,e,g;if(y.transition!==Q)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),y.transition!==Q?A:(y.$current=b,y.current=b.self,y.params=c,O(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==Q?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return Q},y.is=function(a,b,d){d=N({relative:y.$current},d||{});var e=m(a,d.relative);return H(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=N({relative:y.$current},d||{}),J(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return H(e)?H(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=N({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!H(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new P.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(H(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=N({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(J(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new P.ParamSet;return M(a.params||{},function(a,c){b[c]||(b[c]=new P.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?N(a.parent.params.$$new(),a.ownParams):new P.ParamSet},views:function(a){var b={};return M(H(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?N({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=N(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=B(g.uiSref,a.current.name),j=null,k=C(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function E(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,C(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function F(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function G(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var H=b.isDefined,I=b.isFunction,J=b.isString,K=b.isObject,L=b.isArray,M=b.forEach,N=b.extend,O=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var P;r.prototype.concat=function(a,b){var c={caseInsensitive:P.caseInsensitive(),strict:P.strictMode(),squash:P.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,N(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},r.prototype.parameters=function(a){return H(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=L(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else J(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;L(r)||(r=[r]),r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return L(a)?a:H(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x),y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),D.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",D).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),F.$inject=["$state"],G.$inject=["$state"],b.module("ui.router.state").filter("isState",F).filter("includedByState",G)}(window,window.angular);

"use strict";angular.module("unsavedChanges",["lazyModel"]).provider("unsavedWarningsConfig",function(){var f=this;var e=false;var b=true;var d=["$locationChangeStart","$stateChangeStart"];var c="You will lose unsaved changes if you leave this page";var a="You will lose unsaved changes if you reload this page";Object.defineProperty(f,"navigateMessage",{get:function(){return c},set:function(g){c=g}});Object.defineProperty(f,"reloadMessage",{get:function(){return a},set:function(g){a=g}});Object.defineProperty(f,"useTranslateService",{get:function(){return b},set:function(g){b=!!(g)}});Object.defineProperty(f,"routeEvent",{get:function(){return d},set:function(g){if(typeof g==="string"){g=[g]}d=g}});Object.defineProperty(f,"logEnabled",{get:function(){return e},set:function(g){e=!!(g)}});this.$get=["$injector",function(h){function i(j){if(h.has("$translate")&&b){return h.get("$translate")(j)}else{return false}}var g={log:function(){if(console.log&&e&&arguments.length){var j=[].slice.call(arguments);if(typeof console.log==="object"){log.apply.call(console.log,console,j)}else{console.log.apply(console,j)}}}};Object.defineProperty(g,"useTranslateService",{get:function(){return b}});Object.defineProperty(g,"reloadMessage",{get:function(){return i(a)||a}});Object.defineProperty(g,"navigateMessage",{get:function(){return i(c)||c}});Object.defineProperty(g,"routeEvent",{get:function(){return d}});Object.defineProperty(g,"logEnabled",{get:function(){return e}});return g}]}).service("unsavedWarningSharedService",["$rootScope","unsavedWarningsConfig","$injector",function(j,c,k){var i=this;var a=[];var g=true;var d=[angular.noop];this.allForms=function(){return a};var f={navigate:c.navigateMessage,reload:c.reloadMessage};function h(){g=true;angular.forEach(a,function(m,l){c.log("Form : "+m.$name+" dirty : "+m.$dirty);if(m.$dirty){g=false}});return g}this.init=function(l){if(a.length===0){e()}c.log("Registering form",l);a.push(l)};this.removeForm=function(m){var l=a.indexOf(m);if(l===-1){return}a.splice(l,1);c.log("Removing form from watch list",m);if(a.length===0){b()}};function b(){c.log("No more forms, tearing down");angular.forEach(d,function(l){l()});window.onbeforeunload=null}this.confirmExit=function(){if(!h()){return f.reload}b()};function e(){c.log("Setting up");window.onbeforeunload=i.confirmExit;var l=c.routeEvent;angular.forEach(l,function(m){var n=j.$on(m,function(p,o,q){c.log("user is moving with "+m);if(!h()){c.log("a form is dirty");if(!confirm(f.navigate)){c.log("user wants to cancel leaving");p.preventDefault()}else{c.log("user doesn't care about loosing stuff")}}else{c.log("all forms are clean")}});d.push(n)})}}]).directive("unsavedWarningClear",["unsavedWarningSharedService",function(a){return{scope:true,require:"^form",priority:3000,link:function(d,c,b,e){c.bind("click",function(f){e.$setPristine()})}}}]).directive("unsavedWarningForm",["unsavedWarningSharedService",function(a){return{require:"form",link:function(d,c,b,e){a.init(e);c.bind("submit",function(f){if(e.$valid){e.$setPristine()}});d.$on("$destroy",function(){a.removeForm(e)})}}}]);angular.module("lazyModel",[]).directive("lazyModel",["$parse","$compile",function(b,a){return{restrict:"A",priority:500,terminal:true,require:"^form",scope:true,compile:function c(g,e){var f=b(e.lazyModel);var h=f.assign;g.attr("ng-model","buffer");g.removeAttr("lazy-model");return{pre:function(i,j){i.buffer=f(i.$parent);a(j)(i)},post:function d(j,l,i,m){var k=l.parent();while(k[0].tagName!=="FORM"){k=k.parent()}k.bind("submit",function(){if(m.$valid){j.$apply(function(){h(j.$parent,j.buffer)})}});k.bind("reset",function(n){n.preventDefault();j.$apply(function(){j.buffer=f(j.$parent)})})}}}}}]);

/**
 * @license MIT
 * @fileOverview Favico animations
 * @author Miroslav Magda, http://blog.ejci.net
 * @version 0.3.10
 */

/**
 * Create new favico instance
 * @param {Object} Options
 * @return {Object} Favico object
 * @example
 * var favico = new Favico({
 *    bgColor : '#d00',
 *    textColor : '#fff',
 *    fontFamily : 'sans-serif',
 *    fontStyle : 'bold',
 *    position : 'down',
 *    type : 'circle',
 *    animation : 'slide',
 *    dataUrl: function(url){},
 *    win: top
 * });
 */
(function () {

	var Favico = (function (opt) {
		'use strict';
		opt = (opt) ? opt : {};
		var _def = {
			bgColor: '#d00',
			textColor: '#fff',
			fontFamily: 'sans-serif', //Arial,Verdana,Times New Roman,serif,sans-serif,...
			fontStyle: 'bold', //normal,italic,oblique,bold,bolder,lighter,100,200,300,400,500,600,700,800,900
			type: 'circle',
			position: 'down', // down, up, left, leftup (upleft)
			animation: 'slide',
			elementId: false,
			dataUrl: false,
			win: window
		};
		var _opt, _orig, _h, _w, _canvas, _context, _img, _ready, _lastBadge, _running, _readyCb, _stop, _browser, _animTimeout, _drawTimeout, _doc;

		_browser = {};
		_browser.ff = typeof InstallTrigger != 'undefined';
		_browser.chrome = !!window.chrome;
		_browser.opera = !!window.opera || navigator.userAgent.indexOf('Opera') >= 0;
		_browser.ie = /*@cc_on!@*/false;
		_browser.safari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;
		_browser.supported = (_browser.chrome || _browser.ff || _browser.opera);

		var _queue = [];
		_readyCb = function () {
		};
		_ready = _stop = false;
		/**
		 * Initialize favico
		 */
		var init = function () {
			//merge initial options
			_opt = merge(_def, opt);
			_opt.bgColor = hexToRgb(_opt.bgColor);
			_opt.textColor = hexToRgb(_opt.textColor);
			_opt.position = _opt.position.toLowerCase();
			_opt.animation = (animation.types['' + _opt.animation]) ? _opt.animation : _def.animation;

			_doc = _opt.win.document;

			var isUp = _opt.position.indexOf('up') > -1;
			var isLeft = _opt.position.indexOf('left') > -1;

			//transform animation
			if (isUp || isLeft) {
				for (var i = 0; i < animation.types['' + _opt.animation].length; i++) {
					var step = animation.types['' + _opt.animation][i];

					if (isUp) {
						if (step.y < 0.6) {
							step.y = step.y - 0.4;
						} else {
							step.y = step.y - 2 * step.y + (1 - step.w);
						}
					}

					if (isLeft) {
						if (step.x < 0.6) {
							step.x = step.x - 0.4;
						} else {
							step.x = step.x - 2 * step.x + (1 - step.h);
						}
					}

					animation.types['' + _opt.animation][i] = step;
				}
			}
			_opt.type = (type['' + _opt.type]) ? _opt.type : _def.type;

			_orig = link.getIcon();
			//create temp canvas
			_canvas = document.createElement('canvas');
			//create temp image
			_img = document.createElement('img');
			if (_orig.hasAttribute('href')) {
				_img.setAttribute('crossOrigin', 'anonymous');
				//get width/height
				_img.onload = function () {
					_h = (_img.height > 0) ? _img.height : 32;
					_w = (_img.width > 0) ? _img.width : 32;
					_canvas.height = _h;
					_canvas.width = _w;
					_context = _canvas.getContext('2d');
					icon.ready();
				};
				_img.setAttribute('src', _orig.getAttribute('href'));
			} else {
				_img.onload = function () {
					_h = 32;
					_w = 32;
					_img.height = _h;
					_img.width = _w;
					_canvas.height = _h;
					_canvas.width = _w;
					_context = _canvas.getContext('2d');
					icon.ready();
				};
				_img.setAttribute('src', '');
			}

		};
		/**
		 * Icon namespace
		 */
		var icon = {};
		/**
		 * Icon is ready (reset icon) and start animation (if ther is any)
		 */
		icon.ready = function () {
			_ready = true;
			icon.reset();
			_readyCb();
		};
		/**
		 * Reset icon to default state
		 */
		icon.reset = function () {
			//reset
			if (!_ready) {
				return;
			}
			_queue = [];
			_lastBadge = false;
			_running = false;
			_context.clearRect(0, 0, _w, _h);
			_context.drawImage(_img, 0, 0, _w, _h);
			//_stop=true;
			link.setIcon(_canvas);
			//webcam('stop');
			//video('stop');
			window.clearTimeout(_animTimeout);
			window.clearTimeout(_drawTimeout);
		};
		/**
		 * Start animation
		 */
		icon.start = function () {
			if (!_ready || _running) {
				return;
			}
			var finished = function () {
				_lastBadge = _queue[0];
				_running = false;
				if (_queue.length > 0) {
					_queue.shift();
					icon.start();
				} else {

				}
			};
			if (_queue.length > 0) {
				_running = true;
				var run = function () {
					// apply options for this animation
					['type', 'animation', 'bgColor', 'textColor', 'fontFamily', 'fontStyle'].forEach(function (a) {
						if (a in _queue[0].options) {
							_opt[a] = _queue[0].options[a];
						}
					});
					animation.run(_queue[0].options, function () {
						finished();
					}, false);
				};
				if (_lastBadge) {
					animation.run(_lastBadge.options, function () {
						run();
					}, true);
				} else {
					run();
				}
			}
		};

		/**
		 * Badge types
		 */
		var type = {};
		var options = function (opt) {
			opt.n = ((typeof opt.n) === 'number') ? Math.abs(opt.n | 0) : opt.n;
			opt.x = _w * opt.x;
			opt.y = _h * opt.y;
			opt.w = _w * opt.w;
			opt.h = _h * opt.h;
			opt.len = ("" + opt.n).length;
			return opt;
		};
		/**
		 * Generate circle
		 * @param {Object} opt Badge options
		 */
		type.circle = function (opt) {
			opt = options(opt);
			var more = false;
			if (opt.len === 2) {
				opt.x = opt.x - opt.w * 0.4;
				opt.w = opt.w * 1.4;
				more = true;
			} else if (opt.len >= 3) {
				opt.x = opt.x - opt.w * 0.65;
				opt.w = opt.w * 1.65;
				more = true;
			}
			_context.clearRect(0, 0, _w, _h);
			_context.drawImage(_img, 0, 0, _w, _h);
			_context.beginPath();
			_context.font = _opt.fontStyle + " " + Math.floor(opt.h * (opt.n > 99 ? 0.85 : 1)) + "px " + _opt.fontFamily;
			_context.textAlign = 'center';
			if (more) {
				_context.moveTo(opt.x + opt.w / 2, opt.y);
				_context.lineTo(opt.x + opt.w - opt.h / 2, opt.y);
				_context.quadraticCurveTo(opt.x + opt.w, opt.y, opt.x + opt.w, opt.y + opt.h / 2);
				_context.lineTo(opt.x + opt.w, opt.y + opt.h - opt.h / 2);
				_context.quadraticCurveTo(opt.x + opt.w, opt.y + opt.h, opt.x + opt.w - opt.h / 2, opt.y + opt.h);
				_context.lineTo(opt.x + opt.h / 2, opt.y + opt.h);
				_context.quadraticCurveTo(opt.x, opt.y + opt.h, opt.x, opt.y + opt.h - opt.h / 2);
				_context.lineTo(opt.x, opt.y + opt.h / 2);
				_context.quadraticCurveTo(opt.x, opt.y, opt.x + opt.h / 2, opt.y);
			} else {
				_context.arc(opt.x + opt.w / 2, opt.y + opt.h / 2, opt.h / 2, 0, 2 * Math.PI);
			}
			_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';
			_context.fill();
			_context.closePath();
			_context.beginPath();
			_context.stroke();
			_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';
			//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));
			if ((typeof opt.n) === 'number' && opt.n > 999) {
				_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));
			} else {
				_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));
			}
			_context.closePath();
		};
		/**
		 * Generate rectangle
		 * @param {Object} opt Badge options
		 */
		type.rectangle = function (opt) {
			opt = options(opt);
			var more = false;
			if (opt.len === 2) {
				opt.x = opt.x - opt.w * 0.4;
				opt.w = opt.w * 1.4;
				more = true;
			} else if (opt.len >= 3) {
				opt.x = opt.x - opt.w * 0.65;
				opt.w = opt.w * 1.65;
				more = true;
			}
			_context.clearRect(0, 0, _w, _h);
			_context.drawImage(_img, 0, 0, _w, _h);
			_context.beginPath();
			_context.font = _opt.fontStyle + " " + Math.floor(opt.h * (opt.n > 99 ? 0.9 : 1)) + "px " + _opt.fontFamily;
			_context.textAlign = 'center';
			_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';
			_context.fillRect(opt.x, opt.y, opt.w, opt.h);
			_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';
			//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));
			if ((typeof opt.n) === 'number' && opt.n > 999) {
				_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));
			} else {
				_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));
			}
			_context.closePath();
		};

		/**
		 * Set badge
		 */
		var badge = function (number, opts) {
			opts = ((typeof opts) === 'string' ? {
				animation: opts
			} : opts) || {};
			_readyCb = function () {
				try {
					if (typeof (number) === 'number' ? (number > 0) : (number !== '')) {
						var q = {
							type: 'badge',
							options: {
								n: number
							}
						};
						if ('animation' in opts && animation.types['' + opts.animation]) {
							q.options.animation = '' + opts.animation;
						}
						if ('type' in opts && type['' + opts.type]) {
							q.options.type = '' + opts.type;
						}
						['bgColor', 'textColor'].forEach(function (o) {
							if (o in opts) {
								q.options[o] = hexToRgb(opts[o]);
							}
						});
						['fontStyle', 'fontFamily'].forEach(function (o) {
							if (o in opts) {
								q.options[o] = opts[o];
							}
						});
						_queue.push(q);
						if (_queue.length > 100) {
							throw new Error('Too many badges requests in queue.');
						}
						icon.start();
					} else {
						icon.reset();
					}
				} catch (e) {
					throw new Error('Error setting badge. Message: ' + e.message);
				}
			};
			if (_ready) {
				_readyCb();
			}
		};

		/**
		 * Set image as icon
		 */
		var image = function (imageElement) {
			_readyCb = function () {
				try {
					var w = imageElement.width;
					var h = imageElement.height;
					var newImg = document.createElement('img');
					var ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);
					newImg.setAttribute('crossOrigin', 'anonymous');
					newImg.onload=function(){
						_context.clearRect(0, 0, _w, _h);
						_context.drawImage(newImg, 0, 0, _w, _h);
						link.setIcon(_canvas);
					};
					newImg.setAttribute('src', imageElement.getAttribute('src'));
					newImg.height = (h / ratio);
					newImg.width = (w / ratio);
				} catch (e) {
					throw new Error('Error setting image. Message: ' + e.message);
				}
			};
			if (_ready) {
				_readyCb();
			}
		};
		/**
		 * Set video as icon
		 */
		var video = function (videoElement) {
			_readyCb = function () {
				try {
					if (videoElement === 'stop') {
						_stop = true;
						icon.reset();
						_stop = false;
						return;
					}
					//var w = videoElement.width;
					//var h = videoElement.height;
					//var ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);
					videoElement.addEventListener('play', function () {
						drawVideo(this);
					}, false);

				} catch (e) {
					throw new Error('Error setting video. Message: ' + e.message);
				}
			};
			if (_ready) {
				_readyCb();
			}
		};
		/**
		 * Set video as icon
		 */
		var webcam = function (action) {
			//UR
			if (!window.URL || !window.URL.createObjectURL) {
				window.URL = window.URL || {};
				window.URL.createObjectURL = function (obj) {
					return obj;
				};
			}
			if (_browser.supported) {
				var newVideo = false;
				navigator.getUserMedia = navigator.getUserMedia || navigator.oGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;
				_readyCb = function () {
					try {
						if (action === 'stop') {
							_stop = true;
							icon.reset();
							_stop = false;
							return;
						}
						newVideo = document.createElement('video');
						newVideo.width = _w;
						newVideo.height = _h;
						navigator.getUserMedia({
							video: true,
							audio: false
						}, function (stream) {
							newVideo.src = URL.createObjectURL(stream);
							newVideo.play();
							drawVideo(newVideo);
						}, function () {
						});
					} catch (e) {
						throw new Error('Error setting webcam. Message: ' + e.message);
					}
				};
				if (_ready) {
					_readyCb();
				}
			}

		};

		/**
		 * Draw video to context and repeat :)
		 */
		function drawVideo(video) {
			if (video.paused || video.ended || _stop) {
				return false;
			}
			//nasty hack for FF webcam (Thanks to Julian Ćwirko, kontakt@redsunmedia.pl)
			try {
				_context.clearRect(0, 0, _w, _h);
				_context.drawImage(video, 0, 0, _w, _h);
			} catch (e) {

			}
			_drawTimeout = setTimeout(function () {
				drawVideo(video);
			}, animation.duration);
			link.setIcon(_canvas);
		}

		var link = {};
		/**
		 * Get icon from HEAD tag or create a new <link> element
		 */
		link.getIcon = function () {
			var elm = false;
			//get link element
			var getLink = function () {
				var link = _doc.getElementsByTagName('head')[0].getElementsByTagName('link');
				for (var l = link.length, i = (l - 1); i >= 0; i--) {
					if ((/(^|\s)icon(\s|$)/i).test(link[i].getAttribute('rel'))) {
						return link[i];
					}
				}
				return false;
			};
			if (_opt.element) {
				elm = _opt.element;
			} else if (_opt.elementId) {
				//if img element identified by elementId
				elm = _doc.getElementById(_opt.elementId);
				elm.setAttribute('href', elm.getAttribute('src'));
			} else {
				//if link element
				elm = getLink();
				if (elm === false) {
					elm = _doc.createElement('link');
					elm.setAttribute('rel', 'icon');
					_doc.getElementsByTagName('head')[0].appendChild(elm);
				}
			}
			elm.setAttribute('type', 'image/png');
			return elm;
		};
		link.setIcon = function (canvas) {
			var url = canvas.toDataURL('image/png');
			if (_opt.dataUrl) {
				//if using custom exporter
				_opt.dataUrl(url);
			}
			if (_opt.element) {
				_opt.element.setAttribute('href', url);
				_opt.element.setAttribute('src', url);
			} else if (_opt.elementId) {
				//if is attached to element (image)
				var elm = _doc.getElementById(_opt.elementId);
				elm.setAttribute('href', url);
				elm.setAttribute('src', url);
			} else {
				//if is attached to fav icon
				if (_browser.ff || _browser.opera) {
					//for FF we need to "recreate" element, atach to dom and remove old <link>
					//var originalType = _orig.getAttribute('rel');
					var old = _orig;
					_orig = _doc.createElement('link');
					//_orig.setAttribute('rel', originalType);
					if (_browser.opera) {
						_orig.setAttribute('rel', 'icon');
					}
					_orig.setAttribute('rel', 'icon');
					_orig.setAttribute('type', 'image/png');
					_doc.getElementsByTagName('head')[0].appendChild(_orig);
					_orig.setAttribute('href', url);
					if (old.parentNode) {
						old.parentNode.removeChild(old);
					}
				} else {
					_orig.setAttribute('href', url);
				}
			}
		};

		//http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-5624139
		//HEX to RGB convertor
		function hexToRgb(hex) {
			var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
			hex = hex.replace(shorthandRegex, function (m, r, g, b) {
				return r + r + g + g + b + b;
			});
			var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
			return result ? {
				r: parseInt(result[1], 16),
				g: parseInt(result[2], 16),
				b: parseInt(result[3], 16)
			} : false;
		}

		/**
		 * Merge options
		 */
		function merge(def, opt) {
			var mergedOpt = {};
			var attrname;
			for (attrname in def) {
				mergedOpt[attrname] = def[attrname];
			}
			for (attrname in opt) {
				mergedOpt[attrname] = opt[attrname];
			}
			return mergedOpt;
		}

		/**
		 * Cross-browser page visibility shim
		 * http://stackoverflow.com/questions/12536562/detect-whether-a-window-is-visible
		 */
		function isPageHidden() {
			return _doc.hidden || _doc.msHidden || _doc.webkitHidden || _doc.mozHidden;
		}

		/**
		 * @namespace animation
		 */
		var animation = {};
		/**
		 * Animation "frame" duration
		 */
		animation.duration = 40;
		/**
		 * Animation types (none,fade,pop,slide)
		 */
		animation.types = {};
		animation.types.fade = [{
			x: 0.4,
			y: 0.4,
			w: 0.6,
			h: 0.6,
			o: 0.0
		}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.1
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.2
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.3
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.4
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.5
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.6
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.7
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.8
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 0.9
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 1.0
			}];
		animation.types.none = [{
			x: 0.4,
			y: 0.4,
			w: 0.6,
			h: 0.6,
			o: 1
		}];
		animation.types.pop = [{
			x: 1,
			y: 1,
			w: 0,
			h: 0,
			o: 1
		}, {
				x: 0.9,
				y: 0.9,
				w: 0.1,
				h: 0.1,
				o: 1
			}, {
				x: 0.8,
				y: 0.8,
				w: 0.2,
				h: 0.2,
				o: 1
			}, {
				x: 0.7,
				y: 0.7,
				w: 0.3,
				h: 0.3,
				o: 1
			}, {
				x: 0.6,
				y: 0.6,
				w: 0.4,
				h: 0.4,
				o: 1
			}, {
				x: 0.5,
				y: 0.5,
				w: 0.5,
				h: 0.5,
				o: 1
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 1
			}];
		animation.types.popFade = [{
			x: 0.75,
			y: 0.75,
			w: 0,
			h: 0,
			o: 0
		}, {
				x: 0.65,
				y: 0.65,
				w: 0.1,
				h: 0.1,
				o: 0.2
			}, {
				x: 0.6,
				y: 0.6,
				w: 0.2,
				h: 0.2,
				o: 0.4
			}, {
				x: 0.55,
				y: 0.55,
				w: 0.3,
				h: 0.3,
				o: 0.6
			}, {
				x: 0.50,
				y: 0.50,
				w: 0.4,
				h: 0.4,
				o: 0.8
			}, {
				x: 0.45,
				y: 0.45,
				w: 0.5,
				h: 0.5,
				o: 0.9
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 1
			}];
		animation.types.slide = [{
			x: 0.4,
			y: 1,
			w: 0.6,
			h: 0.6,
			o: 1
		}, {
				x: 0.4,
				y: 0.9,
				w: 0.6,
				h: 0.6,
				o: 1
			}, {
				x: 0.4,
				y: 0.9,
				w: 0.6,
				h: 0.6,
				o: 1
			}, {
				x: 0.4,
				y: 0.8,
				w: 0.6,
				h: 0.6,
				o: 1
			}, {
				x: 0.4,
				y: 0.7,
				w: 0.6,
				h: 0.6,
				o: 1
			}, {
				x: 0.4,
				y: 0.6,
				w: 0.6,
				h: 0.6,
				o: 1
			}, {
				x: 0.4,
				y: 0.5,
				w: 0.6,
				h: 0.6,
				o: 1
			}, {
				x: 0.4,
				y: 0.4,
				w: 0.6,
				h: 0.6,
				o: 1
			}];
		/**
		 * Run animation
		 * @param {Object} opt Animation options
		 * @param {Object} cb Callabak after all steps are done
		 * @param {Object} revert Reverse order? true|false
		 * @param {Object} step Optional step number (frame bumber)
		 */
		animation.run = function (opt, cb, revert, step) {
			var animationType = animation.types[isPageHidden() ? 'none' : _opt.animation];
			if (revert === true) {
				step = (typeof step !== 'undefined') ? step : animationType.length - 1;
			} else {
				step = (typeof step !== 'undefined') ? step : 0;
			}
			cb = (cb) ? cb : function () {
			};
			if ((step < animationType.length) && (step >= 0)) {
				type[_opt.type](merge(opt, animationType[step]));
				_animTimeout = setTimeout(function () {
					if (revert) {
						step = step - 1;
					} else {
						step = step + 1;
					}
					animation.run(opt, cb, revert, step);
				}, animation.duration);

				link.setIcon(_canvas);
			} else {
				cb();
				return;
			}
		};
		//auto init
		init();
		return {
			badge: badge,
			video: video,
			image: image,
			webcam: webcam,
			reset: icon.reset,
			browser: {
				supported: _browser.supported
			}
		};
	});

	// AMD / RequireJS
	if (typeof define !== 'undefined' && define.amd) {
		define([], function () {
			return Favico;
		});
	}
	// CommonJS
	else if (typeof module !== 'undefined' && module.exports) {
		module.exports = Favico;
	}
	// included directly via <script> tag
	else {
		this.Favico = Favico;
	}

})();

/**
 * @license
 * lodash 3.8.0 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./lodash.js`
 */
;(function(){function n(n,t){if(n!==t){var r=n===n,e=t===t;if(n>t||!r||n===w&&e)return 1;if(n<t||!e||t===w&&r)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return p(n,r);r-=1;for(var e=n.length;++r<e;)if(n[r]===t)return r;return-1}function e(n){return typeof n=="function"||false}function u(n){return typeof n=="string"?n:null==n?"":n+""}function o(n){return n.charCodeAt(0)}function i(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););
return r}function f(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function a(t,r){return n(t.a,r.a)||t.b-r.b}function c(n){return $n[n]}function l(n){return Ln[n]}function s(n){return"\\"+Mn[n]}function p(n,t,r){var e=n.length;for(t+=r?0:-1;r?t--:++t<e;){var u=n[t];if(u!==u)return t}return-1}function h(n){return!!n&&typeof n=="object"}function _(n){return 160>=n&&9<=n&&13>=n||32==n||160==n||5760==n||6158==n||8192<=n&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n);

}function v(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;)n[r]===t&&(n[r]=z,o[++u]=r);return o}function g(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function y(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function d(n){return zn[n]}function m(_){function $n(n){if(h(n)&&!(To(n)||n instanceof Bn)){if(n instanceof zn)return n;if(Ge.call(n,"__chain__")&&Ge.call(n,"__wrapped__"))return Lr(n)}return new zn(n)}function Ln(){}function zn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],
this.__chain__=!!t}function Bn(n){this.__wrapped__=n,this.__actions__=null,this.__dir__=1,this.__filtered__=false,this.__iteratees__=null,this.__takeCount__=Iu,this.__views__=null}function Mn(){this.__data__={}}function Dn(n){var t=n?n.length:0;for(this.data={hash:du(null),set:new lu};t--;)this.push(n[t])}function Pn(n,t){var r=n.data;return(typeof t=="string"||se(t)?r.set.has(t):r.hash[t])?0:-1}function qn(n,t){var r=-1,e=n.length;for(t||(t=Ue(e));++r<e;)t[r]=n[r];return t}function Kn(n,t){for(var r=-1,e=n.length;++r<e&&false!==t(n[r],r,n););
return n}function Vn(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return false;return true}function Gn(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;){var i=n[r];t(i,r,n)&&(o[++u]=i)}return o}function Jn(n,t){for(var r=-1,e=n.length,u=Ue(e);++r<e;)u[r]=t(n[r],r,n);return u}function Xn(n,t,r,e){var u=-1,o=n.length;for(e&&o&&(r=n[++u]);++u<o;)r=t(r,n[u],u,n);return r}function Hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return true;return false}function Qn(n,t){return n===w?t:n}function nt(n,t,r,e){
return n!==w&&Ge.call(e,r)?n:t}function tt(n,t,r){var e=Ko(t);fu.apply(e,Zu(t));for(var u=-1,o=e.length;++u<o;){var i=e[u],f=n[i],a=r(f,t[i],i,n,t);(a===a?a===f:f!==f)&&(f!==w||i in n)||(n[i]=a)}return n}function rt(n,t){for(var r=-1,e=null==n,u=!e&&jr(n),o=u&&n.length,i=t.length,f=Ue(i);++r<i;){var a=t[r];f[r]=u?kr(a,o)?n[a]:w:e?w:n[a]}return f}function et(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var o=t[e];r[o]=n[o]}return r}function ut(n,t,r){var e=typeof n;return"function"==e?t===w?n:zt(n,t,r):null==n?Re:"object"==e?wt(n):t===w?Te(n):bt(n,t);

}function ot(n,t,r,e,u,o,i){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==w)return f;if(!se(n))return n;if(e=To(n)){if(f=wr(n),!t)return qn(n,f)}else{var a=Xe.call(n),c=a==K;if(a!=Y&&a!=B&&(!c||u))return Nn[a]?xr(n,a,t):u?n:{};if(f=br(c?{}:n),!t)return $u(f,n)}for(o||(o=[]),i||(i=[]),u=o.length;u--;)if(o[u]==n)return i[u];return o.push(n),i.push(f),(e?Kn:ht)(n,function(e,u){f[u]=ot(e,t,r,u,n,o,i)}),f}function it(n,t,r){if(typeof n!="function")throw new Pe(L);return su(function(){n.apply(w,r)},t)}function ft(n,t){
var e=n?n.length:0,u=[];if(!e)return u;var o=-1,i=mr(),f=i==r,a=f&&200<=t.length?qu(t):null,c=t.length;a&&(i=Pn,f=false,t=a);n:for(;++o<e;)if(a=n[o],f&&a===a){for(var l=c;l--;)if(t[l]===a)continue n;u.push(a)}else 0>i(t,a,0)&&u.push(a);return u}function at(n,t){var r=true;return zu(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ct(n,t){var r=[];return zu(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function lt(n,t,r,e){var u;return r(n,function(n,r,o){return t(n,r,o)?(u=e?r:n,false):void 0}),u}function st(n,t,r){
for(var e=-1,u=n.length,o=-1,i=[];++e<u;){var f=n[e];if(h(f)&&jr(f)&&(r||To(f)||ae(f))){t&&(f=st(f,t,r));for(var a=-1,c=f.length;++a<c;)i[++o]=f[a]}else r||(i[++o]=f)}return i}function pt(n,t){Mu(n,t,me)}function ht(n,t){return Mu(n,t,Ko)}function _t(n,t){return Du(n,t,Ko)}function vt(n,t){for(var r=-1,e=t.length,u=-1,o=[];++r<e;){var i=t[r];No(n[i])&&(o[++u]=i)}return o}function gt(n,t,r){if(null!=n){r!==w&&r in Fr(n)&&(t=[r]),r=-1;for(var e=t.length;null!=n&&++r<e;)n=n[t[r]];return r&&r==e?n:w}
}function yt(n,t,r,e,u,o){if(n===t)return true;var i=typeof n,f=typeof t;if("function"!=i&&"object"!=i&&"function"!=f&&"object"!=f||null==n||null==t)n=n!==n&&t!==t;else n:{var i=yt,f=To(n),a=To(t),c=M,l=M;f||(c=Xe.call(n),c==B?c=Y:c!=Y&&(f=ge(n))),a||(l=Xe.call(t),l==B?l=Y:l!=Y&&ge(t));var s=c==Y,a=l==Y,l=c==l;if(!l||f||s){if(!e&&(c=s&&Ge.call(n,"__wrapped__"),a=a&&Ge.call(t,"__wrapped__"),c||a)){n=i(c?n.value():n,a?t.value():t,r,e,u,o);break n}if(l){for(u||(u=[]),o||(o=[]),c=u.length;c--;)if(u[c]==n){
n=o[c]==t;break n}u.push(n),o.push(t),n=(f?_r:gr)(n,t,i,r,e,u,o),u.pop(),o.pop()}else n=false}else n=vr(n,t,c)}return n}function dt(n,t,r,e,u){for(var o=-1,i=t.length,f=!u;++o<i;)if(f&&e[o]?r[o]!==n[t[o]]:!(t[o]in n))return false;for(o=-1;++o<i;){var a=t[o],c=n[a],l=r[o];if(f&&e[o]?a=c!==w||a in n:(a=u?u(c,l,a):w,a===w&&(a=yt(l,c,u,true))),!a)return false}return true}function mt(n,t){var r=-1,e=jr(n)?Ue(n.length):[];return zu(n,function(n,u,o){e[++r]=t(n,u,o)}),e}function wt(n){var t=Ko(n),r=t.length;if(!r)return Ie(true);

if(1==r){var e=t[0],u=n[e];if(Cr(u))return function(n){return null==n?false:n[e]===u&&(u!==w||e in Fr(n))}}for(var o=Ue(r),i=Ue(r);r--;)u=n[t[r]],o[r]=u,i[r]=Cr(u);return function(n){return null!=n&&dt(Fr(n),t,o,i)}}function bt(n,t){var r=To(n),e=Er(n)&&Cr(t),u=n+"";return n=$r(n),function(o){if(null==o)return false;var i=u;if(o=Fr(o),!(!r&&e||i in o)){if(o=1==n.length?o:gt(o,It(n,0,-1)),null==o)return false;i=Pr(n),o=Fr(o)}return o[i]===t?t!==w||i in o:yt(t,o[i],null,true)}}function xt(n,t,r,e,u){if(!se(n))return n;

var o=jr(t)&&(To(t)||ge(t));if(!o){var i=Ko(t);fu.apply(i,Zu(t))}return Kn(i||t,function(f,a){if(i&&(a=f,f=t[a]),h(f)){e||(e=[]),u||(u=[]);n:{for(var c=a,l=e,s=u,p=l.length,_=t[c];p--;)if(l[p]==_){n[c]=s[p];break n}var p=n[c],v=r?r(p,_,c,n,t):w,g=v===w;g&&(v=_,jr(_)&&(To(_)||ge(_))?v=To(p)?p:jr(p)?qn(p):[]:Fo(_)||ae(_)?v=ae(p)?ye(p):Fo(p)?p:{}:g=false),l.push(_),s.push(v),g?n[c]=xt(v,_,r,l,s):(v===v?v!==p:p===p)&&(n[c]=v)}}else c=n[a],l=r?r(c,f,a,n,t):w,(s=l===w)&&(l=f),!o&&l===w||!s&&(l===l?l===c:c!==c)||(n[a]=l);

}),n}function At(n){return function(t){return null==t?w:t[n]}}function jt(n){var t=n+"";return n=$r(n),function(r){return gt(r,n,t)}}function kt(n,t){for(var r=n?t.length:0;r--;){var e=parseFloat(t[r]);if(e!=u&&kr(e)){var u=e;pu.call(n,e,1)}}}function Ot(n,t){return n+uu(Ou()*(t-n+1))}function Et(n,t,r,e,u){return u(n,function(n,u,o){r=e?(e=false,n):t(r,n,u,o)}),r}function It(n,t,r){var e=-1,u=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===w||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,
r=Ue(u);++e<u;)r[e]=n[e+t];return r}function Rt(n,t){var r;return zu(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Ct(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function Wt(t,r,e){var u=dr(),o=-1;return r=Jn(r,function(n){return u(n)}),t=mt(t,function(n){return{a:Jn(r,function(t){return t(n)}),b:++o,c:n}}),Ct(t,function(t,r){var u;n:{u=-1;for(var o=t.a,i=r.a,f=o.length,a=e.length;++u<f;){var c=n(o[u],i[u]);if(c){u=u<a?c*(e[u]?1:-1):c;break n}}u=t.b-r.b}return u})}function St(n,t){
var r=0;return zu(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function Tt(n,t){var e=-1,u=mr(),o=n.length,i=u==r,f=i&&200<=o,a=f?qu():null,c=[];a?(u=Pn,i=false):(f=false,a=t?[]:c);n:for(;++e<o;){var l=n[e],s=t?t(l,e,n):l;if(i&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else 0>u(a,s,0)&&((t||f)&&a.push(s),c.push(l))}return c}function Ut(n,t){for(var r=-1,e=t.length,u=Ue(e);++r<e;)u[r]=n[t[r]];return u}function Nt(n,t,r,e){for(var u=n.length,o=e?u:-1;(e?o--:++o<u)&&t(n[o],o,n););
return r?It(n,e?0:o,e?o+1:u):It(n,e?o+1:0,e?u:o)}function Ft(n,t){var r=n;r instanceof Bn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var r=[r],o=t[e];fu.apply(r,o.args),r=o.func.apply(o.thisArg,r)}return r}function $t(n,t,r){var e=0,u=n?n.length:e;if(typeof t=="number"&&t===t&&u<=Wu){for(;e<u;){var o=e+u>>>1,i=n[o];(r?i<=t:i<t)?e=o+1:u=o}return u}return Lt(n,t,Re,r)}function Lt(n,t,r,e){t=r(t);for(var u=0,o=n?n.length:0,i=t!==t,f=t===w;u<o;){var a=uu((u+o)/2),c=r(n[a]),l=c===c;(i?l||e:f?l&&(e||c!==w):e?c<=t:c<t)?u=a+1:o=a;

}return xu(o,Cu)}function zt(n,t,r){if(typeof n!="function")return Re;if(t===w)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)};case 5:return function(r,e,u,o,i){return n.call(t,r,e,u,o,i)}}return function(){return n.apply(t,arguments)}}function Bt(n){return tu.call(n,0)}function Mt(n,t,r){for(var e=r.length,u=-1,o=bu(n.length-e,0),i=-1,f=t.length,a=Ue(o+f);++i<f;)a[i]=t[i];

for(;++u<e;)a[r[u]]=n[u];for(;o--;)a[i++]=n[u++];return a}function Dt(n,t,r){for(var e=-1,u=r.length,o=-1,i=bu(n.length-u,0),f=-1,a=t.length,c=Ue(i+a);++o<i;)c[o]=n[o];for(i=o;++f<a;)c[i+f]=t[f];for(;++e<u;)c[i+r[e]]=n[o++];return c}function Pt(n,t){return function(r,e,u){var o=t?t():{};if(e=dr(e,u,3),To(r)){u=-1;for(var i=r.length;++u<i;){var f=r[u];n(o,f,e(f,u,r),r)}}else zu(r,function(t,r,u){n(o,t,e(t,r,u),u)});return o}}function qt(n){return fe(function(t,r){var e=-1,u=null==t?0:r.length,o=2<u&&r[u-2],i=2<u&&r[2],f=1<u&&r[u-1];

for(typeof o=="function"?(o=zt(o,f,5),u-=2):(o=typeof f=="function"?f:null,u-=o?1:0),i&&Or(r[0],r[1],i)&&(o=3>u?null:o,u=1);++e<u;)(i=r[e])&&n(t,i,o);return t})}function Kt(n,t){return function(r,e){var u=r?Yu(r):0;if(!Rr(u))return n(r,e);for(var o=t?u:-1,i=Fr(r);(t?o--:++o<u)&&false!==e(i[o],o,i););return r}}function Vt(n){return function(t,r,e){var u=Fr(t);e=e(t);for(var o=e.length,i=n?o:-1;n?i--:++i<o;){var f=e[i];if(false===r(u[f],f,u))break}return t}}function Yt(n,t){function r(){return(this&&this!==Yn&&this instanceof r?e:n).apply(t,arguments);

}var e=Gt(n);return r}function Zt(n){return function(t){var r=-1;t=Oe(be(t));for(var e=t.length,u="";++r<e;)u=n(u,t[r],r);return u}}function Gt(n){return function(){var t=Lu(n.prototype),r=n.apply(t,arguments);return se(r)?r:t}}function Jt(n){function t(r,e,u){return u&&Or(r,e,u)&&(e=null),r=hr(r,n,null,null,null,null,null,e),r.placeholder=t.placeholder,r}return t}function Xt(n,t){return function(r,e,u){u&&Or(r,e,u)&&(e=null);var i=dr(),f=null==e;if(i===ut&&f||(f=false,e=i(e,u,3)),f){if(e=To(r),e||!ve(r))return n(e?r:Nr(r));

e=o}return yr(r,e,t)}}function Ht(n,r){return function(e,u,o){return u=dr(u,o,3),To(e)?(u=t(e,u,r),-1<u?e[u]:w):lt(e,u,n)}}function Qt(n){return function(r,e,u){return r&&r.length?(e=dr(e,u,3),t(r,e,n)):-1}}function nr(n){return function(t,r,e){return r=dr(r,e,3),lt(t,r,n,true)}}function tr(n){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var r,e=n?t:-1,u=0,o=Ue(t);n?e--:++e<t;){var i=o[u++]=arguments[e];if(typeof i!="function")throw new Pe(L);var f=r?"":Vu(i);

r="wrapper"==f?new zn([]):r}for(e=r?-1:t;++e<t;)i=o[e],f=Vu(i),r=(u="wrapper"==f?Ku(i):null)&&Ir(u[0])&&u[1]==(R|k|E|C)&&!u[4].length&&1==u[9]?r[Vu(u[0])].apply(r,u[3]):1==i.length&&Ir(i)?r[f]():r.thru(i);return function(){var n=arguments;if(r&&1==n.length&&To(n[0]))return r.plant(n[0]).value();for(var e=0,n=o[e].apply(this,n);++e<t;)n=o[e].call(this,n);return n}}}function rr(n,t){return function(r,e,u){return typeof e=="function"&&u===w&&To(r)?n(r,e):t(r,zt(e,u,3))}}function er(n){return function(t,r,e){
return(typeof r!="function"||e!==w)&&(r=zt(r,e,3)),n(t,r,me)}}function ur(n){return function(t,r,e){return(typeof r!="function"||e!==w)&&(r=zt(r,e,3)),n(t,r)}}function or(n){return function(t,r,e){var u={};return r=dr(r,e,3),ht(t,function(t,e,o){o=r(t,e,o),e=n?o:e,t=n?t:o,u[e]=t}),u}}function ir(n){return function(t,r,e){return t=u(t),(n?t:"")+lr(t,r,e)+(n?"":t)}}function fr(n){var t=fe(function(r,e){var u=v(e,t.placeholder);return hr(r,n,null,e,u)});return t}function ar(n,t){return function(r,e,u,o){
var i=3>arguments.length;return typeof e=="function"&&o===w&&To(r)?n(r,e,u,i):Et(r,dr(e,o,4),u,i,t)}}function cr(n,t,r,e,u,o,i,f,a,c){function l(){for(var b=arguments.length,j=b,k=Ue(b);j--;)k[j]=arguments[j];if(e&&(k=Mt(k,e,u)),o&&(k=Dt(k,o,i)),_||y){var j=l.placeholder,O=v(k,j),b=b-O.length;if(b<c){var R=f?qn(f):null,b=bu(c-b,0),C=_?O:null,O=_?null:O,W=_?k:null,k=_?null:k;return t|=_?E:I,t&=~(_?I:E),g||(t&=~(x|A)),k=[n,t,r,W,C,k,O,R,a,b],R=cr.apply(w,k),Ir(n)&&Gu(R,k),R.placeholder=j,R}}if(j=p?r:this,
h&&(n=j[m]),f)for(R=k.length,b=xu(f.length,R),C=qn(k);b--;)O=f[b],k[b]=kr(O,R)?C[O]:w;return s&&a<k.length&&(k.length=a),(this&&this!==Yn&&this instanceof l?d||Gt(n):n).apply(j,k)}var s=t&R,p=t&x,h=t&A,_=t&k,g=t&j,y=t&O,d=!h&&Gt(n),m=n;return l}function lr(n,t,r){return n=n.length,t=+t,n<t&&mu(t)?(t-=n,r=null==r?" ":r+"",je(r,ru(t/r.length)).slice(0,t)):""}function sr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=Ue(f+c);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Yn&&this instanceof u?i:n).apply(o?r:this,l);

}var o=t&x,i=Gt(n);return u}function pr(n){return function(t,r,e,u){var o=dr(e);return o===ut&&null==e?$t(t,r,n):Lt(t,r,o(e,u,1),n)}}function hr(n,t,r,e,u,o,i,f){var a=t&A;if(!a&&typeof n!="function")throw new Pe(L);var c=e?e.length:0;if(c||(t&=~(E|I),e=u=null),c-=u?u.length:0,t&I){var l=e,s=u;e=u=null}var p=a?null:Ku(n);return r=[n,t,r,e,u,l,s,o,i,f],p&&(e=r[1],t=p[1],f=e|t,u=t==R&&e==k||t==R&&e==C&&r[7].length<=p[8]||t==(R|C)&&e==k,(f<R||u)&&(t&x&&(r[2]=p[2],f|=e&x?0:j),(e=p[3])&&(u=r[3],r[3]=u?Mt(u,e,p[4]):qn(e),
r[4]=u?v(r[3],z):qn(p[4])),(e=p[5])&&(u=r[5],r[5]=u?Dt(u,e,p[6]):qn(e),r[6]=u?v(r[5],z):qn(p[6])),(e=p[7])&&(r[7]=qn(e)),t&R&&(r[8]=null==r[8]?p[8]:xu(r[8],p[8])),null==r[9]&&(r[9]=p[9]),r[0]=p[0],r[1]=f),t=r[1],f=r[9]),r[9]=null==f?a?0:n.length:bu(f-c,0)||0,(p?Pu:Gu)(t==x?Yt(r[0],r[2]):t!=E&&t!=(x|E)||r[4].length?cr.apply(w,r):sr.apply(w,r),r)}function _r(n,t,r,e,u,o,i){var f=-1,a=n.length,c=t.length,l=true;if(a!=c&&(!u||c<=a))return false;for(;l&&++f<a;){var s=n[f],p=t[f],l=w;if(e&&(l=u?e(p,s,f):e(s,p,f)),
l===w)if(u)for(var h=c;h--&&(p=t[h],!(l=s&&s===p||r(s,p,e,u,o,i))););else l=s&&s===p||r(s,p,e,u,o,i)}return!!l}function vr(n,t,r){switch(r){case D:case P:return+n==+t;case q:return n.name==t.name&&n.message==t.message;case V:return n!=+n?t!=+t:n==+t;case Z:case G:return n==t+""}return false}function gr(n,t,r,e,u,o,i){var f=Ko(n),a=f.length,c=Ko(t).length;if(a!=c&&!u)return false;for(var c=u,l=-1;++l<a;){var s=f[l],p=u?s in t:Ge.call(t,s);if(p){var h=n[s],_=t[s],p=w;e&&(p=u?e(_,h,s):e(h,_,s)),p===w&&(p=h&&h===_||r(h,_,e,u,o,i));

}if(!p)return false;c||(c="constructor"==s)}return c||(r=n.constructor,e=t.constructor,!(r!=e&&"constructor"in n&&"constructor"in t)||typeof r=="function"&&r instanceof r&&typeof e=="function"&&e instanceof e)?true:false}function yr(n,t,r){var e=r?Iu:Eu,u=e,o=u;return zu(n,function(n,i,f){i=t(n,i,f),((r?i<u:i>u)||i===e&&i===o)&&(u=i,o=n)}),o}function dr(n,t,r){var e=$n.callback||Ee,e=e===Ee?ut:e;return r?e(n,t,r):e}function mr(n,t,e){var u=$n.indexOf||Dr,u=u===Dr?r:u;return n?u(n,t,e):u}function wr(n){var t=n.length,r=new n.constructor(t);

return t&&"string"==typeof n[0]&&Ge.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function br(n){return n=n.constructor,typeof n=="function"&&n instanceof n||(n=Be),new n}function xr(n,t,r){var e=n.constructor;switch(t){case J:return Bt(n);case D:case P:return new e(+n);case X:case H:case Q:case nn:case tn:case rn:case en:case un:case on:return t=n.buffer,new e(r?Bt(t):t,n.byteOffset,n.length);case V:case G:return new e(n);case Z:var u=new e(n.source,kn.exec(n));u.lastIndex=n.lastIndex}return u;

}function Ar(n,t,r){return null==n||Er(t,n)||(t=$r(t),n=1==t.length?n:gt(n,It(t,0,-1)),t=Pr(t)),t=null==n?n:n[t],null==t?w:t.apply(n,r)}function jr(n){return null!=n&&Rr(Yu(n))}function kr(n,t){return n=+n,t=null==t?Tu:t,-1<n&&0==n%1&&n<t}function Or(n,t,r){if(!se(r))return false;var e=typeof t;return("number"==e?jr(r)&&kr(t,r.length):"string"==e&&t in r)?(t=r[t],n===n?n===t:t!==t):false}function Er(n,t){var r=typeof n;return"string"==r&&dn.test(n)||"number"==r?true:To(n)?false:!yn.test(n)||null!=t&&n in Fr(t);

}function Ir(n){var t=Vu(n);return!!t&&n===$n[t]&&t in Bn.prototype}function Rr(n){return typeof n=="number"&&-1<n&&0==n%1&&n<=Tu}function Cr(n){return n===n&&!se(n)}function Wr(n,t){n=Fr(n);for(var r=-1,e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u}function Sr(n,t){var r={};return pt(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function Tr(n){var t;if(!h(n)||Xe.call(n)!=Y||!(Ge.call(n,"constructor")||(t=n.constructor,typeof t!="function"||t instanceof t)))return false;var r;return pt(n,function(n,t){
r=t}),r===w||Ge.call(n,r)}function Ur(n){for(var t=me(n),r=t.length,e=r&&n.length,u=$n.support,u=e&&Rr(e)&&(To(n)||u.nonEnumArgs&&ae(n)),o=-1,i=[];++o<r;){var f=t[o];(u&&kr(f,e)||Ge.call(n,f))&&i.push(f)}return i}function Nr(n){return null==n?[]:jr(n)?se(n)?n:Be(n):we(n)}function Fr(n){return se(n)?n:Be(n)}function $r(n){if(To(n))return n;var t=[];return u(n).replace(mn,function(n,r,e,u){t.push(e?u.replace(An,"$1"):r||n)}),t}function Lr(n){return n instanceof Bn?n.clone():new zn(n.__wrapped__,n.__chain__,qn(n.__actions__));

}function zr(n,t,r){return n&&n.length?((r?Or(n,t,r):null==t)&&(t=1),It(n,0>t?0:t)):[]}function Br(n,t,r){var e=n?n.length:0;return e?((r?Or(n,t,r):null==t)&&(t=1),t=e-(+t||0),It(n,0,0>t?0:t)):[]}function Mr(n){return n?n[0]:w}function Dr(n,t,e){var u=n?n.length:0;if(!u)return-1;if(typeof e=="number")e=0>e?bu(u+e,0):e;else if(e)return e=$t(n,t),n=n[e],(t===t?t===n:n!==n)?e:-1;return r(n,t,e||0)}function Pr(n){var t=n?n.length:0;return t?n[t-1]:w}function qr(n){return zr(n,1)}function Kr(n,t,e,u){
if(!n||!n.length)return[];null!=t&&typeof t!="boolean"&&(u=e,e=Or(n,t,u)?null:t,t=false);var o=dr();if((o!==ut||null!=e)&&(e=o(e,u,3)),t&&mr()==r){t=e;var i;e=-1,u=n.length;for(var o=-1,f=[];++e<u;){var a=n[e],c=t?t(a,e,n):a;e&&i===c||(i=c,f[++o]=a)}n=f}else n=Tt(n,e);return n}function Vr(n){if(!n||!n.length)return[];var t=-1,r=0;n=Gn(n,function(n){return jr(n)?(r=bu(n.length,r),true):void 0});for(var e=Ue(r);++t<r;)e[t]=Jn(n,At(t));return e}function Yr(n,t,r){return n&&n.length?(n=Vr(n),null==t?n:(t=zt(t,r,4),
Jn(n,function(n){return Xn(n,t,w,true)}))):[]}function Zr(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||To(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function Gr(n){return n=$n(n),n.__chain__=true,n}function Jr(n,t,r){return t.call(r,n)}function Xr(n,t,r){var e=To(n)?Vn:at;return r&&Or(n,t,r)&&(t=null),(typeof t!="function"||r!==w)&&(t=dr(t,r,3)),e(n,t)}function Hr(n,t,r){var e=To(n)?Gn:ct;return t=dr(t,r,3),e(n,t)}function Qr(n,t,r,e){var u=n?Yu(n):0;return Rr(u)||(n=we(n),
u=n.length),u?(r=typeof r!="number"||e&&Or(t,r,e)?0:0>r?bu(u+r,0):r||0,typeof n=="string"||!To(n)&&ve(n)?r<u&&-1<n.indexOf(t,r):-1<mr(n,t,r)):false}function ne(n,t,r){var e=To(n)?Jn:mt;return t=dr(t,r,3),e(n,t)}function te(n,t,r){return(r?Or(n,t,r):null==t)?(n=Nr(n),t=n.length,0<t?n[Ot(0,t-1)]:w):(n=re(n),n.length=xu(0>t?0:+t||0,n.length),n)}function re(n){n=Nr(n);for(var t=-1,r=n.length,e=Ue(r);++t<r;){var u=Ot(0,t);t!=u&&(e[t]=e[u]),e[u]=n[t]}return e}function ee(n,t,r){var e=To(n)?Hn:Rt;return r&&Or(n,t,r)&&(t=null),
(typeof t!="function"||r!==w)&&(t=dr(t,r,3)),e(n,t)}function ue(n,t){var r;if(typeof t!="function"){if(typeof n!="function")throw new Pe(L);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}}function oe(n,t,r){function e(){var r=t-(wo()-c);0>=r||r>t?(f&&eu(f),r=p,f=s=p=w,r&&(h=wo(),a=n.apply(l,i),s||f||(i=l=null))):s=su(e,r)}function u(){s&&eu(s),f=s=p=w,(v||_!==t)&&(h=wo(),a=n.apply(l,i),s||f||(i=l=null))}function o(){if(i=arguments,c=wo(),l=this,p=v&&(s||!g),
!1===_)var r=g&&!s;else{f||g||(h=c);var o=_-(c-h),y=0>=o||o>_;y?(f&&(f=eu(f)),h=c,a=n.apply(l,i)):f||(f=su(u,o))}return y&&s?s=eu(s):s||t===_||(s=su(e,t)),r&&(y=true,a=n.apply(l,i)),!y||s||f||(i=l=null),a}var i,f,a,c,l,s,p,h=0,_=false,v=true;if(typeof n!="function")throw new Pe(L);if(t=0>t?0:+t||0,true===r)var g=true,v=false;else se(r)&&(g=r.leading,_="maxWait"in r&&bu(+r.maxWait||0,t),v="trailing"in r?r.trailing:v);return o.cancel=function(){s&&eu(s),f&&eu(f),f=s=p=w},o}function ie(n,t){function r(){var e=arguments,u=r.cache,o=t?t.apply(this,e):e[0];

return u.has(o)?u.get(o):(e=n.apply(this,e),u.set(o,e),e)}if(typeof n!="function"||t&&typeof t!="function")throw new Pe(L);return r.cache=new ie.Cache,r}function fe(n,t){if(typeof n!="function")throw new Pe(L);return t=bu(t===w?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bu(r.length-t,0),o=Ue(u);++e<u;)o[e]=r[t+e];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,r[0],o);case 2:return n.call(this,r[0],r[1],o)}for(u=Ue(t+1),e=-1;++e<t;)u[e]=r[e];return u[t]=o,n.apply(this,u);

}}function ae(n){return h(n)&&jr(n)&&Xe.call(n)==B}function ce(n){return!!n&&1===n.nodeType&&h(n)&&-1<Xe.call(n).indexOf("Element")}function le(n){return h(n)&&typeof n.message=="string"&&Xe.call(n)==q}function se(n){var t=typeof n;return"function"==t||!!n&&"object"==t}function pe(n){return null==n?false:Xe.call(n)==K?Qe.test(Ze.call(n)):h(n)&&En.test(n)}function he(n){return typeof n=="number"||h(n)&&Xe.call(n)==V}function _e(n){return h(n)&&Xe.call(n)==Z}function ve(n){return typeof n=="string"||h(n)&&Xe.call(n)==G;

}function ge(n){return h(n)&&Rr(n.length)&&!!Un[Xe.call(n)]}function ye(n){return et(n,me(n))}function de(n){return vt(n,me(n))}function me(n){if(null==n)return[];se(n)||(n=Be(n));for(var t=n.length,t=t&&Rr(t)&&(To(n)||Fu.nonEnumArgs&&ae(n))&&t||0,r=n.constructor,e=-1,r=typeof r=="function"&&r.prototype===n,u=Ue(t),o=0<t;++e<t;)u[e]=e+"";for(var i in n)o&&kr(i,t)||"constructor"==i&&(r||!Ge.call(n,i))||u.push(i);return u}function we(n){return Ut(n,Ko(n))}function be(n){return(n=u(n))&&n.replace(In,c).replace(xn,"");

}function xe(n){return(n=u(n))&&bn.test(n)?n.replace(wn,"\\$&"):n}function Ae(n,t,r){return r&&Or(n,t,r)&&(t=0),ku(n,t)}function je(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!mu(t))return r;do t%2&&(r+=n),t=uu(t/2),n+=n;while(t);return r}function ke(n,t,r){var e=n;return(n=u(n))?(r?Or(e,t,r):null==t)?n.slice(g(n),y(n)+1):(t+="",n.slice(i(n,t),f(n,t)+1)):n}function Oe(n,t,r){return r&&Or(n,t,r)&&(t=null),n=u(n),n.match(t||Wn)||[]}function Ee(n,t,r){return r&&Or(n,t,r)&&(t=null),h(n)?Ce(n):ut(n,t)}function Ie(n){
return function(){return n}}function Re(n){return n}function Ce(n){return wt(ot(n,true))}function We(n,t,r){if(null==r){var e=se(t),u=e&&Ko(t);((u=u&&u.length&&vt(t,u))?u.length:e)||(u=false,r=t,t=n,n=this)}u||(u=vt(t,Ko(t)));var o=true,e=-1,i=No(n),f=u.length;false===r?o=false:se(r)&&"chain"in r&&(o=r.chain);for(;++e<f;){r=u[e];var a=t[r];n[r]=a,i&&(n.prototype[r]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=qn(this.__actions__)).push({func:t,args:arguments,
thisArg:n}),e.__chain__=r,e}return r=[this.value()],fu.apply(r,arguments),t.apply(n,r)}}(a))}return n}function Se(){}function Te(n){return Er(n)?At(n):jt(n)}_=_?Zn.defaults(Yn.Object(),_,Zn.pick(Yn,Tn)):Yn;var Ue=_.Array,Ne=_.Date,Fe=_.Error,$e=_.Function,Le=_.Math,ze=_.Number,Be=_.Object,Me=_.RegExp,De=_.String,Pe=_.TypeError,qe=Ue.prototype,Ke=Be.prototype,Ve=De.prototype,Ye=(Ye=_.window)&&Ye.document,Ze=$e.prototype.toString,Ge=Ke.hasOwnProperty,Je=0,Xe=Ke.toString,He=_._,Qe=Me("^"+xe(Xe).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nu=pe(nu=_.ArrayBuffer)&&nu,tu=pe(tu=nu&&new nu(0).slice)&&tu,ru=Le.ceil,eu=_.clearTimeout,uu=Le.floor,ou=pe(ou=Be.getOwnPropertySymbols)&&ou,iu=pe(iu=Be.getPrototypeOf)&&iu,fu=qe.push,au=pe(au=Be.preventExtensions)&&au,cu=Ke.propertyIsEnumerable,lu=pe(lu=_.Set)&&lu,su=_.setTimeout,pu=qe.splice,hu=pe(hu=_.Uint8Array)&&hu,_u=pe(_u=_.WeakMap)&&_u,vu=function(){
try{var n=pe(n=_.Float64Array)&&n,t=new n(new nu(10),0,1)&&n}catch(r){}return t}(),gu=function(){var n=au&&pe(n=Be.assign)&&n;try{if(n){var t=au({1:0});t[0]=1}}catch(r){try{n(t,"xo")}catch(e){}return!t[1]&&n}return false}(),yu=pe(yu=Ue.isArray)&&yu,du=pe(du=Be.create)&&du,mu=_.isFinite,wu=pe(wu=Be.keys)&&wu,bu=Le.max,xu=Le.min,Au=pe(Au=Ne.now)&&Au,ju=pe(ju=ze.isFinite)&&ju,ku=_.parseInt,Ou=Le.random,Eu=ze.NEGATIVE_INFINITY,Iu=ze.POSITIVE_INFINITY,Ru=Le.pow(2,32)-1,Cu=Ru-1,Wu=Ru>>>1,Su=vu?vu.BYTES_PER_ELEMENT:0,Tu=Le.pow(2,53)-1,Uu=_u&&new _u,Nu={},Fu=$n.support={};

!function(n){function t(){this.x=n}var r=arguments,e=[];t.prototype={valueOf:n,y:n};for(var u in new t)e.push(u);Fu.funcDecomp=/\bthis\b/.test(function(){return this}),Fu.funcNames=typeof $e.name=="string";try{Fu.dom=11===Ye.createDocumentFragment().nodeType}catch(o){Fu.dom=false}try{Fu.nonEnumArgs=!cu.call(r,1)}catch(i){Fu.nonEnumArgs=true}}(1,0),$n.templateSettings={escape:_n,evaluate:vn,interpolate:gn,variable:"",imports:{_:$n}};var $u=gu||function(n,t){return null==t?n:et(t,Zu(t),et(t,Ko(t),n))},Lu=function(){
function n(){}return function(t){if(se(t)){n.prototype=t;var r=new n;n.prototype=null}return r||_.Object()}}(),zu=Kt(ht),Bu=Kt(_t,true),Mu=Vt(),Du=Vt(true),Pu=Uu?function(n,t){return Uu.set(n,t),n}:Re;tu||(Bt=nu&&hu?function(n){var t=n.byteLength,r=vu?uu(t/Su):0,e=r*Su,u=new nu(t);if(r){var o=new vu(u,0,r);o.set(new vu(n,0,r))}return t!=e&&(o=new hu(u,e),o.set(new hu(n,e))),u}:Ie(null));var qu=du&&lu?function(n){return new Dn(n)}:Ie(null),Ku=Uu?function(n){return Uu.get(n)}:Se,Vu=function(){return Fu.funcNames?"constant"==Ie.name?At("name"):function(n){
for(var t=n.name,r=Nu[t],e=r?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==n)return u.name}return t}:Ie("")}(),Yu=At("length"),Zu=ou?function(n){return ou(Fr(n))}:Ie([]),Gu=function(){var n=0,t=0;return function(r,e){var u=wo(),o=U-(u-t);if(t=u,0<o){if(++n>=T)return r}else n=0;return Pu(r,e)}}(),Ju=fe(function(n,t){return jr(n)?ft(n,st(t,false,true)):[]}),Xu=Qt(),Hu=Qt(true),Qu=fe(function(t,r){r=st(r);var e=rt(t,r);return kt(t,r.sort(n)),e}),no=pr(),to=pr(true),ro=fe(function(n){return Tt(st(n,false,true));

}),eo=fe(function(n,t){return jr(n)?ft(n,t):[]}),uo=fe(Vr),oo=fe(function(n){var t=n.length,r=n[t-2],e=n[t-1];return 2<t&&typeof r=="function"?t-=2:(r=1<t&&typeof e=="function"?(--t,e):w,e=w),n.length=t,Yr(n,r,e)}),io=fe(function(n,t){return rt(n,st(t))}),fo=Pt(function(n,t,r){Ge.call(n,r)?++n[r]:n[r]=1}),ao=Ht(zu),co=Ht(Bu,true),lo=rr(Kn,zu),so=rr(function(n,t){for(var r=n.length;r--&&false!==t(n[r],r,n););return n},Bu),po=Pt(function(n,t,r){Ge.call(n,r)?n[r].push(t):n[r]=[t]}),ho=Pt(function(n,t,r){
n[r]=t}),_o=fe(function(n,t,r){var e=-1,u=typeof t=="function",o=Er(t),i=jr(n)?Ue(n.length):[];return zu(n,function(n){var f=u?t:o&&null!=n&&n[t];i[++e]=f?f.apply(n,r):Ar(n,t,r)}),i}),vo=Pt(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),go=ar(Xn,zu),yo=ar(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},Bu),mo=fe(function(n,t){if(null==n)return[];var r=t[2];return r&&Or(t[0],t[1],r)&&(t.length=1),Wt(n,st(t),[])}),wo=Au||function(){return(new Ne).getTime();

},bo=fe(function(n,t,r){var e=x;if(r.length)var u=v(r,bo.placeholder),e=e|E;return hr(n,e,t,r,u)}),xo=fe(function(n,t){t=t.length?st(t):de(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=hr(n[u],x,n)}return n}),Ao=fe(function(n,t,r){var e=x|A;if(r.length)var u=v(r,Ao.placeholder),e=e|E;return hr(t,e,n,r,u)}),jo=Jt(k),ko=Jt(O),Oo=fe(function(n,t){return it(n,1,t)}),Eo=fe(function(n,t,r){return it(n,t,r)}),Io=tr(),Ro=tr(true),Co=fr(E),Wo=fr(I),So=fe(function(n,t){return hr(n,C,null,null,null,st(t));

}),To=yu||function(n){return h(n)&&Rr(n.length)&&Xe.call(n)==M};Fu.dom||(ce=function(n){return!!n&&1===n.nodeType&&h(n)&&!Fo(n)});var Uo=ju||function(n){return typeof n=="number"&&mu(n)},No=e(/x/)||hu&&!e(hu)?function(n){return Xe.call(n)==K}:e,Fo=iu?function(n){if(!n||Xe.call(n)!=Y)return false;var t=n.valueOf,r=pe(t)&&(r=iu(t))&&iu(r);return r?n==r||iu(n)==r:Tr(n)}:Tr,$o=qt(function(n,t,r){return r?tt(n,t,r):$u(n,t)}),Lo=fe(function(n){var t=n[0];return null==t?t:(n.push(Qn),$o.apply(w,n))}),zo=nr(ht),Bo=nr(_t),Mo=er(Mu),Do=er(Du),Po=ur(ht),qo=ur(_t),Ko=wu?function(n){
var t=null!=n&&n.constructor;return typeof t=="function"&&t.prototype===n||typeof n!="function"&&jr(n)?Ur(n):se(n)?wu(n):[]}:Ur,Vo=or(true),Yo=or(),Zo=qt(xt),Go=fe(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=Jn(st(t),De),Wr(n,ft(me(n),t));var r=zt(t[0],t[1],3);return Sr(n,function(n,t,e){return!r(n,t,e)})}),Jo=fe(function(n,t){return null==n?{}:"function"==typeof t[0]?Sr(n,zt(t[0],t[1],3)):Wr(n,st(t))}),Xo=Zt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t);

}),Ho=Zt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Qo=ir(),ni=ir(true);8!=ku(Sn+"08")&&(Ae=function(n,t,r){return(r?Or(n,t,r):null==t)?t=0:t&&(t=+t),n=ke(n),ku(n,t||(On.test(n)?16:10))});var ti=Zt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),ri=Zt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),ei=fe(function(n,t){try{return n.apply(w,t)}catch(r){return le(r)?r:new Fe(r)}}),ui=fe(function(n,t){return function(r){return Ar(r,n,t)}}),oi=fe(function(n,t){
return function(r){return Ar(n,r,t)}}),ii=Xt(function(n){for(var t=-1,r=n.length,e=Eu;++t<r;){var u=n[t];u>e&&(e=u)}return e}),fi=Xt(function(n){for(var t=-1,r=n.length,e=Iu;++t<r;){var u=n[t];u<e&&(e=u)}return e},true);return $n.prototype=Ln.prototype,zn.prototype=Lu(Ln.prototype),zn.prototype.constructor=zn,Bn.prototype=Lu(Ln.prototype),Bn.prototype.constructor=Bn,Mn.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Mn.prototype.get=function(n){return"__proto__"==n?w:this.__data__[n];

},Mn.prototype.has=function(n){return"__proto__"!=n&&Ge.call(this.__data__,n)},Mn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Dn.prototype.push=function(n){var t=this.data;typeof n=="string"||se(n)?t.set.add(n):t.hash[n]=true},ie.Cache=Mn,$n.after=function(n,t){if(typeof t!="function"){if(typeof n!="function")throw new Pe(L);var r=n;n=t,t=r}return n=mu(n=+n)?n:0,function(){return 1>--n?t.apply(this,arguments):void 0}},$n.ary=function(n,t,r){return r&&Or(n,t,r)&&(t=null),
t=n&&null==t?n.length:bu(+t||0,0),hr(n,R,null,null,null,null,t)},$n.assign=$o,$n.at=io,$n.before=ue,$n.bind=bo,$n.bindAll=xo,$n.bindKey=Ao,$n.callback=Ee,$n.chain=Gr,$n.chunk=function(n,t,r){t=(r?Or(n,t,r):null==t)?1:bu(+t||1,1),r=0;for(var e=n?n.length:0,u=-1,o=Ue(ru(e/t));r<e;)o[++u]=It(n,r,r+=t);return o},$n.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var o=n[t];o&&(u[++e]=o)}return u},$n.constant=Ie,$n.countBy=fo,$n.create=function(n,t,r){var e=Lu(n);return r&&Or(n,t,r)&&(t=null),
t?$u(e,t):e},$n.curry=jo,$n.curryRight=ko,$n.debounce=oe,$n.defaults=Lo,$n.defer=Oo,$n.delay=Eo,$n.difference=Ju,$n.drop=zr,$n.dropRight=Br,$n.dropRightWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3),true,true):[]},$n.dropWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3),true):[]},$n.fill=function(n,t,r,e){var u=n?n.length:0;if(!u)return[];for(r&&typeof r!="number"&&Or(n,t,r)&&(r=0,e=u),u=n.length,r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===w||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;

return n},$n.filter=Hr,$n.flatten=function(n,t,r){var e=n?n.length:0;return r&&Or(n,t,r)&&(t=false),e?st(n,t):[]},$n.flattenDeep=function(n){return n&&n.length?st(n,true):[]},$n.flow=Io,$n.flowRight=Ro,$n.forEach=lo,$n.forEachRight=so,$n.forIn=Mo,$n.forInRight=Do,$n.forOwn=Po,$n.forOwnRight=qo,$n.functions=de,$n.groupBy=po,$n.indexBy=ho,$n.initial=function(n){return Br(n,1)},$n.intersection=function(){for(var n=[],t=-1,e=arguments.length,u=[],o=mr(),i=o==r,f=[];++t<e;){var a=arguments[t];jr(a)&&(n.push(a),
u.push(i&&120<=a.length?qu(t&&a):null))}if(e=n.length,2>e)return f;var i=n[0],c=-1,l=i?i.length:0,s=u[0];n:for(;++c<l;)if(a=i[c],0>(s?Pn(s,a):o(f,a,0))){for(t=e;--t;){var p=u[t];if(0>(p?Pn(p,a):o(n[t],a,0)))continue n}s&&s.push(a),f.push(a)}return f},$n.invert=function(n,t,r){r&&Or(n,t,r)&&(t=null),r=-1;for(var e=Ko(n),u=e.length,o={};++r<u;){var i=e[r],f=n[i];t?Ge.call(o,f)?o[f].push(i):o[f]=[i]:o[f]=i}return o},$n.invoke=_o,$n.keys=Ko,$n.keysIn=me,$n.map=ne,$n.mapKeys=Vo,$n.mapValues=Yo,$n.matches=Ce,
$n.matchesProperty=function(n,t){return bt(n,ot(t,true))},$n.memoize=ie,$n.merge=Zo,$n.method=ui,$n.methodOf=oi,$n.mixin=We,$n.negate=function(n){if(typeof n!="function")throw new Pe(L);return function(){return!n.apply(this,arguments)}},$n.omit=Go,$n.once=function(n){return ue(2,n)},$n.pairs=function(n){for(var t=-1,r=Ko(n),e=r.length,u=Ue(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u},$n.partial=Co,$n.partialRight=Wo,$n.partition=vo,$n.pick=Jo,$n.pluck=function(n,t){return ne(n,Te(t))},$n.property=Te,
$n.propertyOf=function(n){return function(t){return gt(n,$r(t),t+"")}},$n.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=mr(),u=n.length;++r<u;)for(var o=0,i=n[r];-1<(o=e(t,i,o));)pu.call(t,o,1);return t},$n.pullAt=Qu,$n.range=function(n,t,r){r&&Or(n,t,r)&&(t=r=null),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;var e=-1;t=bu(ru((t-n)/(r||1)),0);for(var u=Ue(t);++e<t;)u[e]=n,n+=r;return u},$n.rearg=So,$n.reject=function(n,t,r){var e=To(n)?Gn:ct;return t=dr(t,r,3),
e(n,function(n,r,e){return!t(n,r,e)})},$n.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,o=[],i=n.length;for(t=dr(t,r,3);++u<i;)r=n[u],t(r,u,n)&&(e.push(r),o.push(u));return kt(n,o),e},$n.rest=qr,$n.restParam=fe,$n.set=function(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||Er(t,n)?[e]:$r(t);for(var e=-1,u=t.length,o=u-1,i=n;null!=i&&++e<u;){var f=t[e];se(i)&&(e==o?i[f]=r:null==i[f]&&(i[f]=kr(t[e+1])?[]:{})),i=i[f]}return n},$n.shuffle=re,$n.slice=function(n,t,r){var e=n?n.length:0;

return e?(r&&typeof r!="number"&&Or(n,t,r)&&(t=0,r=e),It(n,t,r)):[]},$n.sortBy=function(n,t,r){if(null==n)return[];r&&Or(n,t,r)&&(t=null);var e=-1;return t=dr(t,r,3),n=mt(n,function(n,r,u){return{a:t(n,r,u),b:++e,c:n}}),Ct(n,a)},$n.sortByAll=mo,$n.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Or(t,r,e)&&(r=null),To(t)||(t=null==t?[]:[t]),To(r)||(r=null==r?[]:[r]),Wt(n,t,r))},$n.spread=function(n){if(typeof n!="function")throw new Pe(L);return function(t){return n.apply(this,t)}},$n.take=function(n,t,r){
return n&&n.length?((r?Or(n,t,r):null==t)&&(t=1),It(n,0,0>t?0:t)):[]},$n.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Or(n,t,r):null==t)&&(t=1),t=e-(+t||0),It(n,0>t?0:t)):[]},$n.takeRightWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3),false,true):[]},$n.takeWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3)):[]},$n.tap=function(n,t,r){return t.call(r,n),n},$n.throttle=function(n,t,r){var e=true,u=true;if(typeof n!="function")throw new Pe(L);return false===r?e=false:se(r)&&(e="leading"in r?!!r.leading:e,
u="trailing"in r?!!r.trailing:u),Fn.leading=e,Fn.maxWait=+t,Fn.trailing=u,oe(n,t,Fn)},$n.thru=Jr,$n.times=function(n,t,r){if(n=uu(n),1>n||!mu(n))return[];var e=-1,u=Ue(xu(n,Ru));for(t=zt(t,r,1);++e<n;)e<Ru?u[e]=t(e):t(e);return u},$n.toArray=function(n){var t=n?Yu(n):0;return Rr(t)?t?qn(n):[]:we(n)},$n.toPlainObject=ye,$n.transform=function(n,t,r,e){var u=To(n)||ge(n);return t=dr(t,e,4),null==r&&(u||se(n)?(e=n.constructor,r=u?To(n)?new e:[]:Lu(No(e)&&e.prototype)):r={}),(u?Kn:ht)(n,function(n,e,u){
return t(r,n,e,u)}),r},$n.union=ro,$n.uniq=Kr,$n.unzip=Vr,$n.unzipWith=Yr,$n.values=we,$n.valuesIn=function(n){return Ut(n,me(n))},$n.where=function(n,t){return Hr(n,wt(t))},$n.without=eo,$n.wrap=function(n,t){return t=null==t?Re:t,hr(t,E,null,[n],[])},$n.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(jr(r))var e=e?ft(e,r).concat(ft(r,e)):r}return e?Tt(e):[]},$n.zip=uo,$n.zipObject=Zr,$n.zipWith=oo,$n.backflow=Ro,$n.collect=ne,$n.compose=Ro,$n.each=lo,$n.eachRight=so,
$n.extend=$o,$n.iteratee=Ee,$n.methods=de,$n.object=Zr,$n.select=Hr,$n.tail=qr,$n.unique=Kr,We($n,$n),$n.add=function(n,t){return(+n||0)+(+t||0)},$n.attempt=ei,$n.camelCase=Xo,$n.capitalize=function(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)},$n.clone=function(n,t,r,e){return t&&typeof t!="boolean"&&Or(n,t,r)?t=false:typeof t=="function"&&(e=r,r=t,t=false),r=typeof r=="function"&&zt(r,e,1),ot(n,t,r)},$n.cloneDeep=function(n,t,r){return t=typeof t=="function"&&zt(t,r,1),ot(n,true,t)},$n.deburr=be,
$n.endsWith=function(n,t,r){n=u(n),t+="";var e=n.length;return r=r===w?e:xu(0>r?0:+r||0,e),r-=t.length,0<=r&&n.indexOf(t,r)==r},$n.escape=function(n){return(n=u(n))&&hn.test(n)?n.replace(sn,l):n},$n.escapeRegExp=xe,$n.every=Xr,$n.find=ao,$n.findIndex=Xu,$n.findKey=zo,$n.findLast=co,$n.findLastIndex=Hu,$n.findLastKey=Bo,$n.findWhere=function(n,t){return ao(n,wt(t))},$n.first=Mr,$n.get=function(n,t,r){return n=null==n?w:gt(n,$r(t),t+""),n===w?r:n},$n.has=function(n,t){if(null==n)return false;var r=Ge.call(n,t);

return r||Er(t)||(t=$r(t),n=1==t.length?n:gt(n,It(t,0,-1)),t=Pr(t),r=null!=n&&Ge.call(n,t)),r},$n.identity=Re,$n.includes=Qr,$n.indexOf=Dr,$n.inRange=function(n,t,r){return t=+t||0,"undefined"===typeof r?(r=t,t=0):r=+r||0,n>=xu(t,r)&&n<bu(t,r)},$n.isArguments=ae,$n.isArray=To,$n.isBoolean=function(n){return true===n||false===n||h(n)&&Xe.call(n)==D},$n.isDate=function(n){return h(n)&&Xe.call(n)==P},$n.isElement=ce,$n.isEmpty=function(n){return null==n?true:jr(n)&&(To(n)||ve(n)||ae(n)||h(n)&&No(n.splice))?!n.length:!Ko(n).length;

},$n.isEqual=function(n,t,r,e){return r=typeof r=="function"&&zt(r,e,3),!r&&Cr(n)&&Cr(t)?n===t:(e=r?r(n,t):w,e===w?yt(n,t,r):!!e)},$n.isError=le,$n.isFinite=Uo,$n.isFunction=No,$n.isMatch=function(n,t,r,e){var u=Ko(t),o=u.length;if(!o)return true;if(null==n)return false;if(r=typeof r=="function"&&zt(r,e,3),n=Fr(n),!r&&1==o){var i=u[0];if(e=t[i],Cr(e))return e===n[i]&&(e!==w||i in n)}for(var i=Ue(o),f=Ue(o);o--;)e=i[o]=t[u[o]],f[o]=Cr(e);return dt(n,u,i,f,r)},$n.isNaN=function(n){return he(n)&&n!=+n},$n.isNative=pe,
$n.isNull=function(n){return null===n},$n.isNumber=he,$n.isObject=se,$n.isPlainObject=Fo,$n.isRegExp=_e,$n.isString=ve,$n.isTypedArray=ge,$n.isUndefined=function(n){return n===w},$n.kebabCase=Ho,$n.last=Pr,$n.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if(typeof r=="number")u=(0>r?bu(e+r,0):xu(r||0,e-1))+1;else if(r)return u=$t(n,t,true)-1,n=n[u],(t===t?t===n:n!==n)?u:-1;if(t!==t)return p(n,u,true);for(;u--;)if(n[u]===t)return u;return-1},$n.max=ii,$n.min=fi,$n.noConflict=function(){
return _._=He,this},$n.noop=Se,$n.now=wo,$n.pad=function(n,t,r){n=u(n),t=+t;var e=n.length;return e<t&&mu(t)?(e=(t-e)/2,t=uu(e),e=ru(e),r=lr("",e,r),r.slice(0,t)+n+r):n},$n.padLeft=Qo,$n.padRight=ni,$n.parseInt=Ae,$n.random=function(n,t,r){r&&Or(n,t,r)&&(t=r=null);var e=null==n,u=null==t;return null==r&&(u&&typeof n=="boolean"?(r=n,n=1):typeof t=="boolean"&&(r=t,u=true)),e&&u&&(t=1,u=false),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1?(r=Ou(),xu(n+r*(t-n+parseFloat("1e-"+((r+"").length-1))),t)):Ot(n,t)},$n.reduce=go,
$n.reduceRight=yo,$n.repeat=je,$n.result=function(n,t,r){var e=null==n?w:n[t];return e===w&&(null==n||Er(t,n)||(t=$r(t),n=1==t.length?n:gt(n,It(t,0,-1)),e=null==n?w:n[Pr(t)]),e=e===w?r:e),No(e)?e.call(n):e},$n.runInContext=m,$n.size=function(n){var t=n?Yu(n):0;return Rr(t)?t:Ko(n).length},$n.snakeCase=ti,$n.some=ee,$n.sortedIndex=no,$n.sortedLastIndex=to,$n.startCase=ri,$n.startsWith=function(n,t,r){return n=u(n),r=null==r?0:xu(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r},$n.sum=function(n,t,r){r&&Or(n,t,r)&&(t=null);

var e=dr(),u=null==t;if(e===ut&&u||(u=false,t=e(t,r,3)),u){for(n=To(n)?n:Nr(n),t=n.length,r=0;t--;)r+=+n[t]||0;n=r}else n=St(n,t);return n},$n.template=function(n,t,r){var e=$n.templateSettings;r&&Or(n,t,r)&&(t=r=null),n=u(n),t=tt($u({},r||t),e,nt),r=tt($u({},t.imports),e.imports,nt);var o,i,f=Ko(r),a=Ut(r,f),c=0;r=t.interpolate||Rn;var l="__p+='";r=Me((t.escape||Rn).source+"|"+r.source+"|"+(r===gn?jn:Rn).source+"|"+(t.evaluate||Rn).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";

if(n.replace(r,function(t,r,e,u,f,a){return e||(e=u),l+=n.slice(c,a).replace(Cn,s),r&&(o=true,l+="'+__e("+r+")+'"),f&&(i=true,l+="';"+f+";\n__p+='"),e&&(l+="'+((__t=("+e+"))==null?'':__t)+'"),c=a+t.length,t}),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(i?l.replace(fn,""):l).replace(an,"$1").replace(cn,"$1;"),l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",
t=ei(function(){return $e(f,p+"return "+l).apply(w,a)}),t.source=l,le(t))throw t;return t},$n.trim=ke,$n.trimLeft=function(n,t,r){var e=n;return(n=u(n))?n.slice((r?Or(e,t,r):null==t)?g(n):i(n,t+"")):n},$n.trimRight=function(n,t,r){var e=n;return(n=u(n))?(r?Or(e,t,r):null==t)?n.slice(0,y(n)+1):n.slice(0,f(n,t+"")+1):n},$n.trunc=function(n,t,r){r&&Or(n,t,r)&&(t=null);var e=W;if(r=S,null!=t)if(se(t)){var o="separator"in t?t.separator:o,e="length"in t?+t.length||0:e;r="omission"in t?u(t.omission):r}else e=+t||0;

if(n=u(n),e>=n.length)return n;if(e-=r.length,1>e)return r;if(t=n.slice(0,e),null==o)return t+r;if(_e(o)){if(n.slice(e).search(o)){var i,f=n.slice(0,e);for(o.global||(o=Me(o.source,(kn.exec(o)||"")+"g")),o.lastIndex=0;n=o.exec(f);)i=n.index;t=t.slice(0,null==i?e:i)}}else n.indexOf(o,e)!=e&&(o=t.lastIndexOf(o),-1<o&&(t=t.slice(0,o)));return t+r},$n.unescape=function(n){return(n=u(n))&&pn.test(n)?n.replace(ln,d):n},$n.uniqueId=function(n){var t=++Je;return u(n)+t},$n.words=Oe,$n.all=Xr,$n.any=ee,$n.contains=Qr,
$n.detect=ao,$n.foldl=go,$n.foldr=yo,$n.head=Mr,$n.include=Qr,$n.inject=go,We($n,function(){var n={};return ht($n,function(t,r){$n.prototype[r]||(n[r]=t)}),n}(),false),$n.sample=te,$n.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return te(t,n)}):te(this.value())},$n.VERSION=b,Kn("bind bindKey curry curryRight partial partialRight".split(" "),function(n){$n[n].placeholder=$n}),Kn(["dropWhile","filter","map","takeWhile"],function(n,t){var r=t!=$,e=t==N;Bn.prototype[n]=function(n,u){
var o=this.__filtered__,i=o&&e?new Bn(this):this.clone();return(i.__iteratees__||(i.__iteratees__=[])).push({done:false,count:0,index:0,iteratee:dr(n,u,1),limit:-1,type:t}),i.__filtered__=o||r,i}}),Kn(["drop","take"],function(n,t){var r=n+"While";Bn.prototype[n]=function(r){var e=this.__filtered__,u=e&&!t?this.dropWhile():this.clone();return r=null==r?1:bu(uu(r)||0,0),e?t?u.__takeCount__=xu(u.__takeCount__,r):Pr(u.__iteratees__).limit=r:(u.__views__||(u.__views__=[])).push({size:r,type:n+(0>u.__dir__?"Right":"")
}),u},Bn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()},Bn.prototype[n+"RightWhile"]=function(n,t){return this.reverse()[r](n,t).reverse()}}),Kn(["first","last"],function(n,t){var r="take"+(t?"Right":"");Bn.prototype[n]=function(){return this[r](1).value()[0]}}),Kn(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Bn.prototype[n]=function(){return this[r](1)}}),Kn(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?wt:Te;Bn.prototype[n]=function(n){return this[r](e(n));

}}),Bn.prototype.compact=function(){return this.filter(Re)},Bn.prototype.reject=function(n,t){return n=dr(n,t,1),this.filter(function(t){return!n(t)})},Bn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return 0>n?r=this.takeRight(-n):n&&(r=this.drop(n)),t!==w&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r},Bn.prototype.toArray=function(){return this.drop(0)},ht(Bn.prototype,function(n,t){var r=$n[t];if(r){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t);$n.prototype[t]=function(){
function t(n){return n=[n],fu.apply(n,o),r.apply($n,n)}var o=arguments,i=this.__chain__,f=this.__wrapped__,a=!!this.__actions__.length,c=f instanceof Bn,l=o[0],s=c||To(f);return s&&e&&typeof l=="function"&&1!=l.length&&(c=s=false),c=c&&!a,u&&!i?c?n.call(f):r.call($n,this.value()):s?(f=n.apply(c?f:new Bn(this),o),u||!a&&!f.__actions__||(f.__actions__||(f.__actions__=[])).push({func:Jr,args:[t],thisArg:$n}),new zn(f,i)):this.thru(t)}}}),Kn("concat join pop push replace shift sort splice split unshift".split(" "),function(n){
var t=(/^(?:replace|split)$/.test(n)?Ve:qe)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);$n.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),ht(Bn.prototype,function(n,t){var r=$n[t];if(r){var e=r.name;(Nu[e]||(Nu[e]=[])).push({name:t,func:r})}}),Nu[cr(null,A).name]=[{name:"wrapper",func:null}],Bn.prototype.clone=function(){var n=this.__actions__,t=this.__iteratees__,r=this.__views__,e=new Bn(this.__wrapped__);

return e.__actions__=n?qn(n):null,e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=t?qn(t):null,e.__takeCount__=this.__takeCount__,e.__views__=r?qn(r):null,e},Bn.prototype.reverse=function(){if(this.__filtered__){var n=new Bn(this);n.__dir__=-1,n.__filtered__=true}else n=this.clone(),n.__dir__*=-1;return n},Bn.prototype.value=function(){var n=this.__wrapped__.value();if(!To(n))return Ft(n,this.__actions__);var t,r=this.__dir__,e=0>r;t=n.length;for(var u=this.__views__,o=0,i=-1,f=u?u.length:0;++i<f;){
var a=u[i],c=a.size;switch(a.type){case"drop":o+=c;break;case"dropRight":t-=c;break;case"take":t=xu(t,o+c);break;case"takeRight":o=bu(o,t-c)}}t={start:o,end:t},u=t.start,o=t.end,t=o-u,u=e?o:u-1,o=xu(t,this.__takeCount__),f=(i=this.__iteratees__)?i.length:0,a=0,c=[];n:for(;t--&&a<o;){for(var u=u+r,l=-1,s=n[u];++l<f;){var p=i[l],h=p.iteratee,_=p.type;if(_==N){if(p.done&&(e?u>p.index:u<p.index)&&(p.count=0,p.done=false),p.index=u,!(p.done||(_=p.limit,p.done=-1<_?p.count++>=_:!h(s))))continue n}else if(p=h(s),
_==$)s=p;else if(!p){if(_==F)continue n;break n}}c[a++]=s}return c},$n.prototype.chain=function(){return Gr(this)},$n.prototype.commit=function(){return new zn(this.value(),this.__chain__)},$n.prototype.plant=function(n){for(var t,r=this;r instanceof Ln;){var e=Lr(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},$n.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Bn?(this.__actions__.length&&(n=new Bn(this)),new zn(n.reverse(),this.__chain__)):this.thru(function(n){
return n.reverse()})},$n.prototype.toString=function(){return this.value()+""},$n.prototype.run=$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return Ft(this.__wrapped__,this.__actions__)},$n.prototype.collect=$n.prototype.map,$n.prototype.head=$n.prototype.first,$n.prototype.select=$n.prototype.filter,$n.prototype.tail=$n.prototype.rest,$n}var w,b="3.8.0",x=1,A=2,j=4,k=8,O=16,E=32,I=64,R=128,C=256,W=30,S="...",T=150,U=16,N=0,F=1,$=2,L="Expected a function",z="__lodash_placeholder__",B="[object Arguments]",M="[object Array]",D="[object Boolean]",P="[object Date]",q="[object Error]",K="[object Function]",V="[object Number]",Y="[object Object]",Z="[object RegExp]",G="[object String]",J="[object ArrayBuffer]",X="[object Float32Array]",H="[object Float64Array]",Q="[object Int8Array]",nn="[object Int16Array]",tn="[object Int32Array]",rn="[object Uint8Array]",en="[object Uint8ClampedArray]",un="[object Uint16Array]",on="[object Uint32Array]",fn=/\b__p\+='';/g,an=/\b(__p\+=)''\+/g,cn=/(__e\(.*?\)|\b__t\))\+'';/g,ln=/&(?:amp|lt|gt|quot|#39|#96);/g,sn=/[&<>"'`]/g,pn=RegExp(ln.source),hn=RegExp(sn.source),_n=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,dn=/^\w*$/,mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,wn=/[.*+?^${}()|[\]\/\\]/g,bn=RegExp(wn.source),xn=/[\u0300-\u036f\ufe20-\ufe23]/g,An=/\\(\\)?/g,jn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,On=/^0[xX]/,En=/^\[object .+?Constructor\]$/,In=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rn=/($^)/,Cn=/['\n\r\u2028\u2029\\]/g,Wn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Sn=" \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",Tn="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Un={};

Un[X]=Un[H]=Un[Q]=Un[nn]=Un[tn]=Un[rn]=Un[en]=Un[un]=Un[on]=true,Un[B]=Un[M]=Un[J]=Un[D]=Un[P]=Un[q]=Un[K]=Un["[object Map]"]=Un[V]=Un[Y]=Un[Z]=Un["[object Set]"]=Un[G]=Un["[object WeakMap]"]=false;var Nn={};Nn[B]=Nn[M]=Nn[J]=Nn[D]=Nn[P]=Nn[X]=Nn[H]=Nn[Q]=Nn[nn]=Nn[tn]=Nn[V]=Nn[Y]=Nn[Z]=Nn[G]=Nn[rn]=Nn[en]=Nn[un]=Nn[on]=true,Nn[q]=Nn[K]=Nn["[object Map]"]=Nn["[object Set]"]=Nn["[object WeakMap]"]=false;var Fn={leading:false,maxWait:0,trailing:false},$n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A",
"\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u",
"\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Bn={"function":true,object:true},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dn=Bn[typeof exports]&&exports&&!exports.nodeType&&exports,Pn=Bn[typeof module]&&module&&!module.nodeType&&module,qn=Bn[typeof self]&&self&&self.Object&&self,Kn=Bn[typeof window]&&window&&window.Object&&window,Vn=Pn&&Pn.exports===Dn&&Dn,Yn=Dn&&Pn&&typeof global=="object"&&global&&global.Object&&global||Kn!==(this&&this.window)&&Kn||qn||this,Zn=m();

typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Yn._=Zn, define(function(){return Zn})):Dn&&Pn?Vn?(Pn.exports=Zn)._=Zn:Dn._=Zn:Yn._=Zn}).call(this);

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function corslite(n,t,o){function e(n){return n>=200&&300>n||304===n}function i(){void 0===r.status||e(r.status)?t.call(r,null,r):t.call(r,r,null)}var l=!1;if("undefined"==typeof window.XMLHttpRequest)return t(Error("Browser not supported"));if("undefined"==typeof o){var u=n.match(/^\s*https?:\/\/[^\/]*/);o=u&&u[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var r=new window.XMLHttpRequest;if(o&&!("withCredentials"in r)){r=new window.XDomainRequest;var a=t;t=function(){if(l)a.apply(this,arguments);else{var n=this,t=arguments;setTimeout(function(){a.apply(n,t)},0)}}}return"onload"in r?r.onload=i:r.onreadystatechange=function(){4===r.readyState&&i()},r.onerror=function(n){t.call(this,n||!0,null),t=function(){}},r.onprogress=function(){},r.ontimeout=function(n){t.call(this,n,null),t=function(){}},r.onabort=function(n){t.call(this,n,null),t=function(){}},r.open("GET",n,!0),r.send(null),l=!0,r}"undefined"!=typeof module&&(module.exports=corslite);
},{}],2:[function(require,module,exports){
module.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};
},{}],3:[function(require,module,exports){
!function(t,e,i){var n=t.L,o={};o.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=n,this},t.L=o,o.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),invokeEach:function(t,e,i){var n,o;if("object"==typeof t){o=Array.prototype.slice.call(arguments,3);for(n in t)e.apply(i,[n,t[n]].concat(o));return!0}return!1},limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?void(o=!0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),void t.apply(i,a))}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,o=["webkit","moz","o","ms"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,a,r){return e=o.bind(e,n),a&&s===i?void e():s.call(t,e,r)},o.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(e[s]=this[s]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=o.extend({},n.options,t.options)),o.extend(n,t),n._initHooks=[];var a=this;return e.__super__=a.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addEventListener,this,e,i))return this;var n,a,r,h,l,u,c,d=this[s]=this[s]||{},p=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)r={action:e,context:i||this},h=t[n],p?(l=h+"_idx",u=l+"_len",c=d[l]=d[l]||{},c[p]||(c[p]=[],d[u]=(d[u]||0)+1),c[p].push(r)):(d[h]=d[h]||[],d[h].push(r));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,i){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,i))return this;var n,a,r,h,l,u,c,d,p,_=this[s],m=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)if(r=t[n],u=r+"_idx",c=u+"_len",d=_[u],e){if(h=m&&d?d[m]:_[r]){for(l=h.length-1;l>=0;l--)h[l].action!==e||i&&h[l].context!==i||(p=h.splice(l,1),p[0].action=o.Util.falseFn);i&&d&&0===h.length&&(delete d[m],_[c]--)}}else delete _[r],delete _[u],delete _[c];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var i,n,a,r,h,l=o.Util.extend({},e,{type:t,target:this}),u=this[s];if(u[t])for(i=u[t].slice(),n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);r=u[t+"_idx"];for(h in r)if(i=r[h].slice())for(n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);return this},addOneTimeEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,i))return this;var n=o.bind(function(){this.removeEventListener(t,e,i).removeEventListener(t,n,i)},this);return this.addEventListener(t,e,i).addEventListener(t,n,i)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var n="ActiveXObject"in t,s=n&&!e.addEventListener,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf("webkit"),h=-1!==a.indexOf("chrome"),l=-1!==a.indexOf("phantom"),u=-1!==a.indexOf("android"),c=-1!==a.search("android [23]"),d=-1!==a.indexOf("gecko"),p=typeof orientation!=i+"",_=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||_,f="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,g=e.documentElement,v=n&&"transition"in g.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,P="MozPerspective"in g.style,L="OTransition"in g.style,x=!t.L_DISABLE_3D&&(v||y||P||L)&&!l,w=!t.L_NO_TOUCH&&!l&&(m||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);o.Browser={ie:n,ielt9:s,webkit:r,gecko:d&&!r&&!t.opera&&!n,android:u,android23:c,chrome:h,ie3d:v,webkit3d:y,gecko3d:P,opera3d:L,any3d:x,mobile:p,mobileWebkit:p&&r,mobileWebkit3d:p&&y,mobileOpera:p&&t.opera,touch:w,msPointer:_,pointer:m,retina:f}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,a=s.x>=e.x&&n.x<=i.x,r=s.y>=e.y&&n.y<=i.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i];if(!n&&t.currentStyle&&(n=t.currentStyle[i]),(!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},getViewportOffset:function(t){var i,n=0,s=0,a=t,r=e.body,h=e.documentElement;do{if(n+=a.offsetTop||0,s+=a.offsetLeft||0,n+=parseInt(o.DomUtil.getStyle(a,"borderTopWidth"),10)||0,s+=parseInt(o.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,i=o.DomUtil.getStyle(a,"position"),a.offsetParent===r&&"absolute"===i)break;if("fixed"===i){n+=r.scrollTop||h.scrollTop||0,s+=r.scrollLeft||h.scrollLeft||0;break}if("relative"===i&&!a.offsetLeft){var l=o.DomUtil.getStyle(a,"width"),u=o.DomUtil.getStyle(a,"max-width"),c=a.getBoundingClientRect();("none"!==l||"none"!==u)&&(s+=c.left+a.clientLeft),n+=c.top+(r.scrollTop||h.scrollTop||0);break}a=a.offsetParent}while(a);a=t;do{if(a===r)break;n-=a.scrollTop||0,s-=a.scrollLeft||0,a=a.parentNode}while(a);return new o.Point(s,n)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(e.body,"direction")),o.DomUtil._docIsLtr},create:function(t,i,n){var o=e.createElement(t);return o.className=i,n&&n.appendChild(o),o},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),s=0,a=n.length;a>s;s++)t.classList.add(n[s]);else if(!o.DomUtil.hasClass(t,e)){var r=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",n=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+n},getScaleString:function(t,e){var i=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),n=" scale("+t+") ";return i+n},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var i=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(i){var t=e.documentElement.style;this._userSelect=t[i],t[i]="none"}},enableTextSelection:function(){i&&(e.documentElement.style[i]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,i=o.LatLng.DEG_TO_RAD,n=(t.lat-this.lat)*i,s=(t.lng-this.lng)*i,a=this.lat*i,r=t.lat*i,h=Math.sin(n/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(t,e){var i=this.lng;return t=t||-180,e=e||180,i=(i+e)%(e-t)+(t>i||i===e?e:t),new o.LatLng(this.lat,i)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-s),new o.LatLng(i.lat+n,i.lng+s))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&n.lat<=i.lat,r=s.lng>=e.lng&&n.lng<=i.lng;return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=t.lng*e,a=n*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new o.Point(s,a)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,i=t.x*e,n=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(n,i)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),a=t instanceof o.Point?t:this.latLngToContainerPoint(t),r=a.subtract(s).multiplyBy(1-1/n),h=this.containerPointToLatLng(s.add(r));return this.setView(h,e,{zoom:i})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n));s=e.maxZoom?Math.min(e.maxZoom,s):s;var a=n.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),s),h=this.project(t.getNorthEast(),s),l=this.unproject(r.add(h).divideBy(2).add(a),s);return this.setView(l,s,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var i=this.getCenter(),n=this._limitCenter(i,this._zoom,t);return i.equals(n)?this:this.panTo(n,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),s=i.divideBy(2).round(),a=n.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t);var n,s=this.getMinZoom()-(e?1:0),a=this.getMaxZoom(),r=this.getSize(),h=t.getNorthWest(),l=t.getSouthEast(),u=!0;i=o.point(i||[0,0]);do s++,n=this.project(l,s).subtract(this.project(h,s)).add(i),u=e?n.x<r.x||n.y<r.y:r.contains(n);while(u&&a>=s);return u&&e?null:e?s:s-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,i,n){var s=this._zoom!==e;n||(this.fire("movestart"),s&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!i}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(s||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),o=this._getZoomSpan();for(t in this._zoomBoundLayers){var s=this._zoomBoundLayers[t];isNaN(s.options.minZoom)||(e=Math.min(e,s.options.minZoom)),isNaN(s.options.maxZoom)||(n=Math.max(n,s.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),o!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var i,n,s=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=s.length;n>i;i++)o.DomEvent[e](this._container,s[i],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(i),s=this.layerPointToLatLng(n);this.fire(e,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),a=new o.Bounds(n.subtract(s),n.add(s)),r=this._getBoundsOffset(a,i,e);return this.unproject(n.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=this.project(e.getNorthWest(),i).subtract(t.min),s=this.project(e.getSouthEast(),i).subtract(t.max),a=this._rebound(n.x,-s.x),r=this._rebound(n.y,-s.y);return new o.Point(a,r)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=n*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-h))/c;return h=-s*Math.log(d),new o.Point(r,h)},unproject:function(t){for(var e,i=o.LatLng.RAD_TO_DEG,n=this.R_MAJOR,s=this.R_MINOR,a=t.x*i/n,r=s/n,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(l),c=15,d=1e-7,p=c,_=.1;Math.abs(_)>d&&--p>0;)e=h*Math.sin(u),_=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=_;return new o.LatLng(u*i,a)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,
transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,i=.5/(Math.PI*e);return new o.Transformation(i,.5,-i,.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.children,a=-e(1/0,-(1/0));for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,n=this.options.tileSize;return i&&e>i&&(n=Math.round(t.getZoomScale(e)/t.getZoomScale(i)*n)),n},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),i=t.getZoom(),n=this._getTileSize();if(!(i>this.options.maxZoom||i<this.options.minZoom)){var s=o.bounds(e.min.divideBy(n)._floor(),e.max.divideBy(n)._floor());this._addTilesFromCenterOut(s),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(s)}}},_addTilesFromCenterOut:function(t){var i,n,s,a=[],r=t.getCenter();for(i=t.min.y;i<=t.max.y;i++)for(n=t.min.x;n<=t.max.x;n++)s=new o.Point(n,i),this._tileShouldBeLoaded(s)&&a.push(s);var h=a.length;if(0!==h){a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=h,n=0;h>n;n++)this._addTile(a[n],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var i=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=i.x)||t.y<0||t.y>=i.y)return!1}if(e.bounds){var n=this._getTileSize(),o=t.multiplyBy(n),s=o.add([n,n]),a=this._map.unproject(o),r=this._map.unproject(s);if(e.continuousWorld||e.noWrap||(a=a.wrap(),r=r.wrap()),!e.bounds.intersects([a,r]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)e=o.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),n=this._getTile();o.DomUtil.setPosition(n,i,o.Browser.chrome),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&e.appendChild(n)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this._getTileSize();return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;e.detectRetina&&o.Browser.retina?i.width=i.height=2*n:i.width=i.height=n;for(var s in e)this.options.hasOwnProperty(s)||"crs"===s||(i[s]=e[s]);this.wmsParams=i,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,i=this.options.tileSize,n=t.multiplyBy(i),s=n.add([i,i]),a=this._crs.project(e.unproject(n,t.z)),r=this._crs.project(e.unproject(s,t.z)),h=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[r.y,a.x,a.y,r.x].join(","):[a.x,r.y,r.x,a.y].join(","),l=o.Util.template(this._url,{s:this._getSubdomain(t)});return l+o.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+h},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,n=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=r._add(h._multiplyBy(.5*(1-1/n)));i.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+n+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i,n=this.options,s=o.point(n[e+"Size"]);i="shadow"===e?o.point(n.shadowAnchor||n.iconAnchor):o.point(n.iconAnchor),!i&&s&&(i=s.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var i=o.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,i,n,o,s,a=e.getElementsByTagName("script"),r=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=a.length;i>t;t++)if(n=a[t].src,o=n.match(r))return s=n.split(r)[0],(s?s+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",s=t.icon.createIcon(this._icon),a=!1;s!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(s.title=t.title),t.alt&&(s.alt=t.alt)),o.DomUtil.addClass(s,n),t.keyboard&&(s.tabIndex="0"),this._icon=s,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(s,"mouseover",this._bringToFront,this).on(s,"mouseout",this._resetZIndex,this);var r=t.icon.createShadow(this._shadow),h=!1;r!==this._shadow&&(this._removeShadow(),h=!0),r&&o.DomUtil.addClass(r,n),this._shadow=r,t.opacity<1&&this._updateOpacity();var l=this._map._panes;a&&l.markerPane.appendChild(this._icon),r&&h&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;i<e.length;i++)o.DomEvent.on(t,e[i],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;return n.html!==!1?i.innerHTML=n.html:i.innerHTML="",n.bgPos&&(i.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",i=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=o.DomUtil.create("div",i);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",n),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var s=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",n);o.DomEvent.disableClickPropagation(s),this._contentNode=o.DomUtil.create("div",e+"-content",s),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(s,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",n),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight,a="leaflet-popup-scrolled";s&&n>s?(e.height=s+"px",o.DomUtil.addClass(t,a)):o.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,i=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&n._add(o.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(n),a=o.point(this.options.autoPanPadding),r=o.point(this.options.autoPanPaddingTopLeft||a),h=o.point(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),u=0,c=0;s.x+i+h.x>l.x&&(u=s.x+i-l.x+h.x),s.x-u-r.x<0&&(u=s.x-r.x),s.y+e+h.y>l.y&&(c=s.y+e-l.y+h.y),s.y-c-r.y<0&&(c=s.y-r.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){if(this.closePopup(),!(t instanceof o.Popup)){var n=t;t=new o.Popup(i).setLatLng(e).setContent(n)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var i=o.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(o.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=o.extend({offset:i},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,i=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),i=o.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(n,s)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!e.createElementNS||!e.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,i=e.mouseEventToContainerPoint(t),n=e.containerPointToLayerPoint(i),s=e.layerPointToLatLng(n);this.fire(t.type,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),
this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(i)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,n=i.x-e.x,s=i.y-e.y,a=this._pathRoot,r=this._panes.overlayPane;o.Browser.mobileWebkit&&r.removeChild(a),o.DomUtil.setPosition(a,e),a.setAttribute("width",n),a.setAttribute("height",s),a.setAttribute("viewBox",[e.x,e.y,n,s].join(" ")),o.Browser.mobileWebkit&&r.appendChild(a)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(n){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=o.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",i.lineCap&&(t.endcap=i.lineCap.replace("butt","flat")),i.lineJoin&&(t.joinstyle=i.lineJoin)):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,i,n,s,a;for(this._ctx.beginPath(),t=0,i=this._parts.length;i>t;t++){for(e=0,n=this._parts[t].length;n>e;e++)s=this._parts[t][e],a=(0===e?"move":"line")+"To",this._ctx[a](s.x,s.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,i=this._pathRoot;i||(i=this._pathRoot=e.createElement("canvas"),i.style.position="absolute",t=this._canvasCtx=i.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),n=this._pathRoot;o.DomUtil.setPosition(n,e),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=n?this._lastCode:this._getBitCode(t,i),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,i,n){var s=e.x-t.x,a=e.y-t.y,r=n.min,h=n.max;return 8&i?new o.Point(t.x+s*(h.y-t.y)/a,h.y):4&i?new o.Point(t.x+s*(r.y-t.y)/a,r.y):2&i?new o.Point(h.x,t.y+a*(h.x-t.x)/s):1&i?new o.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var s,a=e.x,r=e.y,h=i.x-a,l=i.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=i.x,r=i.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,n?h*h+l*l:new o.Point(a,r)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,i,n=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],i=l[u];var d=o.LineUtil._sqClosestPointOnSegment(t,e,i,!0);n>d&&(n=d,a=o.LineUtil._sqClosestPointOnSegment(t,e,i))}return a&&(a.distance=Math.sqrt(n)),a},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var i,n,s=e?t:[];for(i=0,n=t.length;n>i;i++){if(o.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;s[i]=o.latLng(t[i])}return s},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=o.Path.VML,n=0,s=t.length,a="";s>n;n++)e=t[n],i&&e._round(),a+=(n?"L":"M")+e.x+" "+e.y;return a},_clipPoints:function(){var t,e,i,n=this._originalPoints,s=n.length;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var a=this._parts,r=this._map._pathViewport,h=o.LineUtil;for(t=0,e=0;s-1>t;t++)i=h.clipSegment(n[t],n[t+1],r,t),i&&(a[e]=a[e]||[],a[e].push(i[0]),(i[1]!==n[t+1]||t===s-2)&&(a[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,i=0,n=t.length;n>i;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var i,n,s,a,r,h,l,u,c,d=[1,4,2,8],p=o.LineUtil;for(n=0,l=t.length;l>n;n++)t[n]._code=p._getBitCode(t[n],e);for(a=0;4>a;a++){for(u=d[a],i=[],n=0,l=t.length,s=l-1;l>n;s=n++)r=t[n],h=t[s],r._code&u?h._code&u||(c=p._getEdgeIntersection(h,r,u,e),c._code=p._getBitCode(c,e),i.push(c)):(h._code&u&&(c=p._getEdgeIntersection(h,r,u,e),c._code=p._getBitCode(c,e),i.push(c)),i.push(r));t=i}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,i,n;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,i=this._holes.length;i>e;e++)n=this._holes[e]=this._convertLatLngs(this._holes[e]),n[0].equals(n[n.length-1])&&n.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,i,n;for(t=0,i=this._holes.length;i>t;t++)for(this._holePoints[t]=[],e=0,n=this._holes[t].length;n>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var s=o.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,i){o.Path.prototype.initialize.call(this,i),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,i=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,i=this._latlng;return new o.LatLngBounds([i.lat-e,i.lng-t],[i.lat+e,i.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var i,n,s,a,r,h,l,u=this.options.weight/2;for(o.Browser.touch&&(u+=10),i=0,a=this._parts.length;a>i;i++)for(l=this._parts[i],n=0,r=l.length,s=r-1;r>n;s=n++)if((e||0!==n)&&(h=o.LineUtil.pointToSegmentDistance(t,l[s],l[n]),u>=h))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,i,n,s,a,r,h,l,u=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)i=e[a],n=e[r],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=o.Util.isArray(t)?t:t.features;if(s){for(e=0,i=s.length;i>e;e++)n=s[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(s[e]);return this}var a=this.options;if(!a.filter||a.filter(t)){var r=o.GeoJSON.geometryToLayer(t,a.pointToLayer,a.coordsToLatLng,a);return r.feature=o.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),a.onEachFeature&&a.onEachFeature(t,r),this.addLayer(r)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,i,n){var s,a,r,h,l="Feature"===t.type?t.geometry:t,u=l.coordinates,c=[];switch(i=i||this.coordsToLatLng,l.type){case"Point":return s=i(u),e?e(t,s):new o.Marker(s);case"MultiPoint":for(r=0,h=u.length;h>r;r++)s=i(u[r]),c.push(e?e(t,s):new o.Marker(s));return new o.FeatureGroup(c);case"LineString":return a=this.coordsToLatLngs(u,0,i),new o.Polyline(a,n);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(u,1,i),new o.Polygon(a,n);case"MultiLineString":return a=this.coordsToLatLngs(u,1,i),new o.MultiPolyline(a,n);case"MultiPolygon":return a=this.coordsToLatLngs(u,2,i),new o.MultiPolygon(a,n);case"GeometryCollection":for(r=0,h=l.geometries.length;h>r;r++)c.push(this.geometryToLayer({geometry:l.geometries[r],type:"Feature",properties:t.properties},e,i,n));return new o.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):(i||this.coordsToLatLng)(t[o]),a.push(n);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(o.GeoJSON.latLngToCoords(t[i]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,i,n=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)i=o.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,i=this.feature&&this.feature.geometry,n=[];if(i&&"MultiPoint"===i.type)return t("MultiPoint").call(this);var s=i&&"GeometryCollection"===i.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),n.push(s?e.geometry:o.GeoJSON.asFeature(e)))}),s?o.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,i,n){var s,a,r,h=o.stamp(i),l="_leaflet_"+e+h;return t[l]?this:(s=function(e){return i.call(n||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,s,h):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,s,h),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?(a=s,r="mouseenter"===e?"mouseover":"mouseout",s=function(e){return o.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):"click"===e&&o.Browser.android?(a=s,s=function(t){return o.DomEvent._filterClick(t,a)},t.addEventListener(e,s,!1)):t.addEventListener(e,s,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[l]=s,this))},removeListener:function(t,e,i){var n=o.stamp(i),s="_leaflet_"+e+n,a=t[s];return a?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[s]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,i=o.Draggable.START.length-1;i>=0;i--)o.DomEvent.on(t,o.Draggable.START[i],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled&&(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var i=t.touches&&1===t.touches.length?t.touches[0]:t,n=new o.Point(i.clientX,i.clientY),s=n.subtract(this._startPoint);(s.x||s.y)&&(o.Browser.touch&&Math.abs(s.x)+Math.abs(s.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(s),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[t],this._onMove).off(e,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=+new Date-this._lastTime,s=!i.inertia||n>i.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),s)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime+n-this._times[0])/1e3,h=i.easeLinearity,l=a.multiplyBy(h/r),u=l.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,u),d=l.multiplyBy(c/u),p=c/(i.inertiaDeceleration*h),_=d.multiplyBy(-p/2).round();_.x&&_.y?(_=e._limitOffset(_,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(_,{duration:p,easeLinearity:h,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),i),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,i=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(i+e):t.setZoomAround(this._lastMousePos,i+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,i,n){function s(t){var e;if(o.Browser.pointer?(_.push(t.pointerId),e=_.length):e=t.touches.length,!(e>1)){var i=Date.now(),n=i-(r||i);h=t.touches?t.touches[0]:t,l=n>0&&u>=n,r=i}}function a(t){if(o.Browser.pointer){var e=_.indexOf(t.pointerId);if(-1===e)return;_.splice(e,1)}if(l){if(o.Browser.pointer){var n,s={};for(var a in h)n=h[a],"function"==typeof n?s[a]=n.bind(h):s[a]=n;h=s}h.type="dblclick",i(h),r=null}}var r,h,l=!1,u=250,c="_leaflet_",d=this._touchstart,p=this._touchend,_=[];t[c+d+n]=s,t[c+p+n]=a;var m=o.Browser.pointer?e.documentElement:t;return t.addEventListener(d,s,!1),m.addEventListener(p,a,!1),o.Browser.pointer&&m.addEventListener(o.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(t,i){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+i],!1),(o.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+i],!1),o.Browser.pointer&&e.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[n+this._touchend+i],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,i,n){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,i,n);
case"touchend":return this.addPointerListenerEnd(t,e,i,n);case"touchmove":return this.addPointerListenerMove(t,e,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,i,n,s){var a="_leaflet_",r=this._pointers,h=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&o.DomEvent.preventDefault(t);for(var e=!1,i=0;i<r.length;i++)if(r[i].pointerId===t.pointerId){e=!0;break}e||r.push(t),t.touches=r.slice(),t.changedTouches=[t],n(t)};if(t[a+"touchstart"+s]=h,t.addEventListener(this.POINTER_DOWN,h,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,l,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s="_leaflet_",a=this._pointers;return t[s+"touchmove"+n]=o,t.addEventListener(this.POINTER_MOVE,o,!1),this},addPointerListenerEnd:function(t,e,i,n){var o="_leaflet_",s=this._pointers,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+"touchend"+n]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(t,e,i){var n="_leaflet_",o=t[n+e+i];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,o,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,o,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,o,!1),t.removeEventListener(this.POINTER_CANCEL,o,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToLayerPoint(t.touches[0]),s=i.mouseEventToLayerPoint(t.touches[1]),a=i._getCenterLayerPoint();this._startCenter=n.add(s)._divideBy(2),this._startDist=n.distanceTo(s),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),n=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),n=t.layerPointToLatLng(i),s=t.getZoom(),a=t.getScaleZoom(this._scale)-s,r=a>0?Math.ceil(a):Math.floor(a),h=t._limitZoom(s+r),l=t.getZoomScale(h)/this._scale;t._animateZoom(n,h,i,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),o.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(t),s=n.subtract(e),a=new o.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));o.DomUtil.setPosition(i,a),this._moved=!0,i.style.width=Math.max(0,Math.abs(s.x)-4)+"px",i.style.height=Math.max(0,Math.abs(s.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(i)){var n=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,s=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[e]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(e in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,i=o.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(i);e&&o.DomUtil.setPosition(e,i),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=i+t+" "+i+s;e[t+s]=o.DomUtil.create("div",a,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",i,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,i,n,s,a){var r=o.DomUtil.create("a",i,n);r.innerHTML=t,r.href="#",r.title=e;var h=o.DomEvent.stopPropagation;return o.DomEvent.on(r,"click",h).on(r,"mousedown",h).on(r,"dblclick",h).on(r,"click",o.DomEvent.preventDefault).on(r,"click",s,a).on(r,"click",this._refocusOnMap,a),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e,i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+"px",s.innerHTML=i+" mi"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+"px",s.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){o.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this._expand,this):o.DomEvent.on(n,"focus",this._expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var n=o.stamp(t);this._layers[n]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,i=!1,n=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),n=n||e.overlay,i=i||!e.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var i=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)}},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';i&&(n+=' checked="checked"'),n+="/>";var o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+t.name,n.appendChild(i),n.appendChild(a);var r=t.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(n),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,t=0;o>t;t++)e=n[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,i,n,s=this._el,a=t.getComputedStyle(s);if(o.Browser.any3d){if(n=a[o.DomUtil.TRANSFORM].match(this._transformRe),!n)return;e=parseFloat(n[1]),i=parseFloat(n[2])}else e=parseFloat(a.left),i=parseFloat(a.top);return new o.Point(e,i,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);return i.animate===!0||this.getSize().contains(o)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,s,n,null,!0),!0):!1},_animateZoom:function(t,e,i,n,s,a,r){r||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:i,scale:n,delta:s,backwards:a}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),o.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)},this))}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,i=o.DomUtil.TRANSFORM,n=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[i],s=o.DomUtil.getScaleString(t.scale,t.origin);e.style[i]=t.backwards?s+" "+n:n+" "+s},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth);var i=this._map.getZoom();(i>this.options.maxZoom||i<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,i=this._getLoadedTilesPercentage(e),n=this._getLoadedTilesPercentage(t);return e&&i>.5&&.5>n?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,i,n,s=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=s.length;i>e;e++)n=s[e],n.complete||(n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.src=o.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),s=180*t.coords.accuracy/40075017,a=s/Math.cos(o.LatLng.DEG_TO_RAD*e),r=o.latLngBounds([e-s,i-a],[e+s,i+a]),h=this._locateOptions;if(h.setView){var l=Math.min(this.getBoundsZoom(r),h.maxZoom);this.setView(n,l)}var u={latlng:n,bounds:r,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document);
},{}],4:[function(require,module,exports){
!function(t,e){if("object"==typeof exports&&exports)e(exports);else{var n={};e(n),"function"==typeof define&&define.amd?define(n):t.Mustache=n}}(this,function(t){function e(t,e){return y.call(t,e)}function n(t){return!e(w,t)}function r(t){return"function"==typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(t){return String(t).replace(/[&<>"'\/]/g,function(t){return _[t]})}function o(t){this.string=t,this.tail=t,this.pos=0}function s(t,e){this.view=null==t?{}:t,this.parent=e,this._cache={".":this.view}}function c(){this.clearCache()}function l(e,n,i,a){function o(t){return n.render(t,i)}for(var s,c,u,p="",h=0,f=e.length;f>h;++h)switch(s=e[h],c=s[1],s[0]){case"#":if(u=i.lookup(c),"object"==typeof u||"string"==typeof u)if(x(u))for(var g=0,v=u.length;v>g;++g)p+=l(s[4],n,i.push(u[g]),a);else u&&(p+=l(s[4],n,i.push(u),a));else if(r(u)){var w=null==a?null:a.slice(s[3],s[5]);u=u.call(i.view,w,o),null!=u&&(p+=u)}else u&&(p+=l(s[4],n,i,a));break;case"^":u=i.lookup(c),(!u||x(u)&&0===u.length)&&(p+=l(s[4],n,i,a));break;case">":u=n.getPartial(c),r(u)&&(p+=u(i));break;case"&":u=i.lookup(c),null!=u&&(p+=u);break;case"name":u=i.lookup(c),null!=u&&(p+=t.escape(u));break;case"text":p+=c}return p}function u(t){for(var e,n=[],r=n,i=[],a=0,o=t.length;o>a;++a)switch(e=t[a],e[0]){case"#":case"^":i.push(e),r.push(e),r=e[4]=[];break;case"/":var s=i.pop();s[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}function p(t){for(var e,n,r=[],i=0,a=t.length;a>i;++i)e=t[i],e&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(n=e,r.push(e)));return r}function h(t){return[new RegExp(i(t[0])+"\\s*"),new RegExp("\\s*"+i(t[1]))]}function f(e,r){function a(){if(P&&!C)for(;E.length;)delete U[E.pop()];else E=[];P=!1,C=!1}if(e=e||"",r=r||t.tags,"string"==typeof r&&(r=r.split(v)),2!==r.length)throw new Error("Invalid tags: "+r.join(", "));for(var s,c,l,f,w,y,b=h(r),x=new o(e),_=[],U=[],E=[],P=!1,C=!1;!x.eos();){if(s=x.pos,l=x.scanUntil(b[0]))for(var j=0,A=l.length;A>j;++j)f=l.charAt(j),n(f)?E.push(U.length):C=!0,U.push(["text",f,s,s+1]),s+=1,"\n"==f&&a();if(!x.scan(b[0]))break;if(P=!0,c=x.scan(k)||"name",x.scan(g),"="===c?(l=x.scanUntil(m),x.scan(m),x.scanUntil(b[1])):"{"===c?(l=x.scanUntil(new RegExp("\\s*"+i("}"+r[1]))),x.scan(d),x.scanUntil(b[1]),c="&"):l=x.scanUntil(b[1]),!x.scan(b[1]))throw new Error("Unclosed tag at "+x.pos);if(w=[c,l,s,x.pos],U.push(w),"#"===c||"^"===c)_.push(w);else if("/"===c){if(y=_.pop(),!y)throw new Error('Unopened section "'+l+'" at '+s);if(y[1]!==l)throw new Error('Unclosed section "'+y[1]+'" at '+s)}else if("name"===c||"{"===c||"&"===c)C=!0;else if("="===c){if(r=l.split(v),2!==r.length)throw new Error("Invalid tags at "+s+": "+r.join(", "));b=h(r)}}if(y=_.pop())throw new Error('Unclosed section "'+y[1]+'" at '+x.pos);return u(p(U))}var g=/\s*/,v=/\s+/,w=/\S/,m=/\s*=/,d=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/,y=RegExp.prototype.test,b=Object.prototype.toString,x=Array.isArray||function(t){return"[object Array]"===b.call(t)},_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};o.prototype.eos=function(){return""===this.tail},o.prototype.scan=function(t){var e=this.tail.match(t);if(e&&0===e.index){var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n}return""},o.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},s.make=function(t){return t instanceof s?t:new s(t)},s.prototype.push=function(t){return new s(t,this)},s.prototype.lookup=function(t){var e;if(t in this._cache)e=this._cache[t];else{for(var n=this;n;){if(t.indexOf(".")>0){e=n.view;for(var i=t.split("."),a=0;null!=e&&a<i.length;)e=e[i[a++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return r(e)&&(e=e.call(this.view)),e},c.prototype.clearCache=function(){this._cache={},this._partialCache={}},c.prototype.compile=function(e,n){var r=this._cache[e];if(!r){var i=t.parse(e,n);r=this._cache[e]=this.compileTokens(i,e)}return r},c.prototype.compilePartial=function(t,e,n){var r=this.compile(e,n);return this._partialCache[t]=r,r},c.prototype.getPartial=function(t){return t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t)),this._partialCache[t]},c.prototype.compileTokens=function(t,e){var n=this;return function(i,a){if(a)if(r(a))n._loadPartial=a;else for(var o in a)n.compilePartial(o,a[o]);return l(t,n,s.make(i),e)}},c.prototype.render=function(t,e,n){return this.compile(t)(e,n)},t.name="mustache.js",t.version="0.7.3",t.tags=["{{","}}"],t.Scanner=o,t.Context=s,t.Writer=c,t.parse=f,t.escape=a;var U=new c;t.clearCache=function(){return U.clearCache()},t.compile=function(t,e){return U.compile(t,e)},t.compilePartial=function(t,e,n){return U.compilePartial(t,e,n)},t.compileTokens=function(t,e){return U.compileTokens(t,e)},t.render=function(t,e,n){return U.render(t,e,n)},t.to_html=function(e,n,i,a){var o=t.render(e,n,i);return r(a)?void a(o):o}});
},{}],5:[function(require,module,exports){
function cleanUrl(t){"use strict";return/^https?/.test(t.getScheme())?t.toString():/^mailto?/.test(t.getScheme())?t.toString():"data"==t.getScheme()&&/^image/.test(t.getPath())?t.toString():void 0}function cleanId(t){return t}var html_sanitize=require("./sanitizer-bundle.js");module.exports=function(t){return t?html_sanitize(t,cleanUrl,cleanId):""};
},{"./sanitizer-bundle.js":6}],6:[function(require,module,exports){
var URI=function(){function e(e){var t=(""+e).match(p);return t?new s(c(t[1]),c(t[2]),c(t[3]),c(t[4]),c(t[5]),c(t[6]),c(t[7])):null}function t(e,t,o,i,l,c,m){var u=new s(n(e,d),n(t,d),a(o),i>0?i.toString():null,n(l,f),null,a(m));return c&&("string"==typeof c?u.setRawQuery(c.replace(/[^?&=0-9A-Za-z_\-~.%]/g,r)):u.setAllParameters(c)),u}function a(e){return"string"==typeof e?encodeURIComponent(e):null}function n(e,t){return"string"==typeof e?encodeURI(e).replace(t,r):null}function r(e){var t=e.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}function o(e){return e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}function i(e){if(null===e)return null;for(var t,a=o(e),n=u;(t=a.replace(n,"$1"))!=a;a=t);return a}function l(e,t){var a=e.clone(),n=t.hasScheme();n?a.setRawScheme(t.getRawScheme()):n=t.hasCredentials(),n?a.setRawCredentials(t.getRawCredentials()):n=t.hasDomain(),n?a.setRawDomain(t.getRawDomain()):n=t.hasPort();var r=t.getRawPath(),o=i(r);if(n)a.setPort(t.getPort()),o=o&&o.replace(h,"");else if(n=!!r){if(47!==o.charCodeAt(0)){var l=i(a.getRawPath()||"").replace(h,""),s=l.lastIndexOf("/")+1;o=i((s?l.substring(0,s):"")+i(r)).replace(h,"")}}else o=o&&o.replace(h,""),o!==r&&a.setRawPath(o);return n?a.setRawPath(o):n=t.hasQuery(),n?a.setRawQuery(t.getRawQuery()):n=t.hasFragment(),n&&a.setRawFragment(t.getRawFragment()),a}function s(e,t,a,n,r,o,i){this.scheme_=e,this.credentials_=t,this.domain_=a,this.port_=n,this.path_=r,this.query_=o,this.fragment_=i,this.paramCache_=null}function c(e){return"string"==typeof e&&e.length>0?e:null}var m=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),u=new RegExp(m),h=/^(?:\.\.\/)*(?:\.\.$)?/;s.prototype.toString=function(){var e=[];return null!==this.scheme_&&e.push(this.scheme_,":"),null!==this.domain_&&(e.push("//"),null!==this.credentials_&&e.push(this.credentials_,"@"),e.push(this.domain_),null!==this.port_&&e.push(":",this.port_.toString())),null!==this.path_&&e.push(this.path_),null!==this.query_&&e.push("?",this.query_),null!==this.fragment_&&e.push("#",this.fragment_),e.join("")},s.prototype.clone=function(){return new s(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},s.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},s.prototype.getRawScheme=function(){return this.scheme_},s.prototype.setScheme=function(e){return this.scheme_=n(e,d),this},s.prototype.setRawScheme=function(e){return this.scheme_=e?e:null,this},s.prototype.hasScheme=function(){return null!==this.scheme_},s.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},s.prototype.getRawCredentials=function(){return this.credentials_},s.prototype.setCredentials=function(e){return this.credentials_=n(e,d),this},s.prototype.setRawCredentials=function(e){return this.credentials_=e?e:null,this},s.prototype.hasCredentials=function(){return null!==this.credentials_},s.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},s.prototype.getRawDomain=function(){return this.domain_},s.prototype.setDomain=function(e){return this.setRawDomain(e&&encodeURIComponent(e))},s.prototype.setRawDomain=function(e){return this.domain_=e?e:null,this.setRawPath(this.path_)},s.prototype.hasDomain=function(){return null!==this.domain_},s.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},s.prototype.setPort=function(e){if(e){if(e=Number(e),e!==(65535&e))throw new Error("Bad port number "+e);this.port_=""+e}else this.port_=null;return this},s.prototype.hasPort=function(){return null!==this.port_},s.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},s.prototype.getRawPath=function(){return this.path_},s.prototype.setPath=function(e){return this.setRawPath(n(e,f))},s.prototype.setRawPath=function(e){return e?(e=String(e),this.path_=!this.domain_||/^\//.test(e)?e:"/"+e):this.path_=null,this},s.prototype.hasPath=function(){return null!==this.path_},s.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},s.prototype.getRawQuery=function(){return this.query_},s.prototype.setQuery=function(e){return this.paramCache_=null,this.query_=a(e),this},s.prototype.setRawQuery=function(e){return this.paramCache_=null,this.query_=e?e:null,this},s.prototype.hasQuery=function(){return null!==this.query_},s.prototype.setAllParameters=function(e){if("object"==typeof e&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t=[],a=-1;for(var n in e){var r=e[n];"string"==typeof r&&(t[++a]=n,t[++a]=r)}e=t}this.paramCache_=null;for(var o=[],i="",l=0;l<e.length;){var n=e[l++],r=e[l++];o.push(i,encodeURIComponent(n.toString())),i="&",r&&o.push("=",encodeURIComponent(r.toString()))}return this.query_=o.join(""),this},s.prototype.checkParameterCache_=function(){if(!this.paramCache_){var e=this.query_;if(e){for(var t=e.split(/[&\?]/),a=[],n=-1,r=0;r<t.length;++r){var o=t[r].match(/^([^=]*)(?:=(.*))?$/);a[++n]=decodeURIComponent(o[1]).replace(/\+/g," "),a[++n]=decodeURIComponent(o[2]||"").replace(/\+/g," ")}this.paramCache_=a}else this.paramCache_=[]}},s.prototype.setParameterValues=function(e,t){"string"==typeof t&&(t=[t]),this.checkParameterCache_();for(var a=0,n=this.paramCache_,r=[],o=0;o<n.length;o+=2)e===n[o]?a<t.length&&r.push(e,t[a++]):r.push(n[o],n[o+1]);for(;a<t.length;)r.push(e,t[a++]);return this.setAllParameters(r),this},s.prototype.removeParameter=function(e){return this.setParameterValues(e,[])},s.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},s.prototype.getParameterValues=function(e){this.checkParameterCache_();for(var t=[],a=0;a<this.paramCache_.length;a+=2)e===this.paramCache_[a]&&t.push(this.paramCache_[a+1]);return t},s.prototype.getParameterMap=function(e){this.checkParameterCache_();for(var t={},a=0;a<this.paramCache_.length;a+=2){var n=this.paramCache_[a++],r=this.paramCache_[a++];n in t?t[n].push(r):t[n]=[r]}return t},s.prototype.getParameterValue=function(e){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(e===this.paramCache_[t])return this.paramCache_[t+1];return null},s.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},s.prototype.getRawFragment=function(){return this.fragment_},s.prototype.setFragment=function(e){return this.fragment_=e?encodeURIComponent(e):null,this},s.prototype.setRawFragment=function(e){return this.fragment_=e?e:null,this},s.prototype.hasFragment=function(){return null!==this.fragment_};var p=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),d=/[#\/\?@]/g,f=/[\#\?]/g;return s.parse=e,s.create=t,s.resolve=l,s.collapse_dots=i,s.utils={mimeTypeOf:function(t){var a=e(t);return/\.html$/.test(a.getPath())?"text/html":"application/javascript"},resolve:function(t,a){return t?l(e(t),e(a)).toString():""+a}},s}(),html4={};if(html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},html4.atype=html4.atype,html4.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},html4.ATTRIBS=html4.ATTRIBS,html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},html4.eflags=html4.eflags,html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:16,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2},html4.ELEMENTS=html4.ELEMENTS,html4.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},html4.ELEMENT_DOM_INTERFACES=html4.ELEMENT_DOM_INTERFACES,html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},html4.ueffects=html4.ueffects,html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},html4.URIEFFECTS=html4.URIEFFECTS,html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},html4.ltypes=html4.ltypes,html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},html4.LOADERTYPES=html4.LOADERTYPES,"i"!=="I".toLowerCase())throw"I/i problem";var html=function(e){function t(e){if(S.hasOwnProperty(e))return S[e];var t=e.match(P);if(t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(D))return String.fromCharCode(parseInt(t[1],16));if(I&&k.test(e)){I.innerHTML="&"+e+";";var a=I.textContent;return S[e]=a,a}return"&"+e+";"}function a(e,a){return t(a)}function n(e){return e.replace(x,"")}function r(e){return e.replace(N,a)}function o(e){return(""+e).replace(F,"&amp;").replace(B,"&lt;").replace(q,"&gt;").replace(z,"&#34;")}function i(e){return e.replace(U,"&amp;$1").replace(B,"&lt;").replace(q,"&gt;")}function l(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,a){return s(e,t,a)}}function s(e,t,a){var n=u(e),r={noMoreGT:!1,noMoreEndComments:!1};m(t,n,0,r,a)}function c(e,t,a,n,r){return function(){m(e,t,a,n,r)}}function m(t,a,n,r,o){try{t.startDoc&&0==n&&t.startDoc(o);for(var i,l,s,m=n,u=a.length;u>m;){var f=a[m++],g=a[m];switch(f){case"&":O.test(g)?(t.pcdata&&t.pcdata("&"+g,o,Y,c(t,a,m,r,o)),m++):t.pcdata&&t.pcdata("&amp;",o,Y,c(t,a,m,r,o));break;case"</":(i=/^([-\w:]+)[^\'\"]*/.exec(g))?i[0].length===g.length&&">"===a[m+1]?(m+=2,s=i[1].toLowerCase(),t.endTag&&t.endTag(s,o,Y,c(t,a,m,r,o))):m=h(a,m,t,o,Y,r):t.pcdata&&t.pcdata("&lt;/",o,Y,c(t,a,m,r,o));break;case"<":if(i=/^([-\w:]+)\s*\/?/.exec(g))if(i[0].length===g.length&&">"===a[m+1]){m+=2,s=i[1].toLowerCase(),t.startTag&&t.startTag(s,[],o,Y,c(t,a,m,r,o));var E=e.ELEMENTS[s];if(E&j){var T={name:s,next:m,eflags:E};m=d(a,T,t,o,Y,r)}}else m=p(a,m,t,o,Y,r);else t.pcdata&&t.pcdata("&lt;",o,Y,c(t,a,m,r,o));break;case"<!--":if(!r.noMoreEndComments){for(l=m+1;u>l&&(">"!==a[l]||!/--$/.test(a[l-1]));l++);if(u>l){if(t.comment){var L=a.slice(m,l).join("");t.comment(L.substr(0,L.length-2),o,Y,c(t,a,l+1,r,o))}m=l+1}else r.noMoreEndComments=!0}r.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",o,Y,c(t,a,m,r,o));break;case"<!":if(/^\w/.test(g)){if(!r.noMoreGT){for(l=m+1;u>l&&">"!==a[l];l++);u>l?m=l+1:r.noMoreGT=!0}r.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",o,Y,c(t,a,m,r,o))}else t.pcdata&&t.pcdata("&lt;!",o,Y,c(t,a,m,r,o));break;case"<?":if(!r.noMoreGT){for(l=m+1;u>l&&">"!==a[l];l++);u>l?m=l+1:r.noMoreGT=!0}r.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",o,Y,c(t,a,m,r,o));break;case">":t.pcdata&&t.pcdata("&gt;",o,Y,c(t,a,m,r,o));break;case"":break;default:t.pcdata&&t.pcdata(f,o,Y,c(t,a,m,r,o))}}t.endDoc&&t.endDoc(o)}catch(M){if(M!==Y)throw M}}function u(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;if(e+="",$)return e.split(t);for(var a,n=[],r=0;null!==(a=t.exec(e));)n.push(e.substring(r,a.index)),n.push(a[0]),r=a.index+a[0].length;return n.push(e.substring(r)),n}function h(e,t,a,n,r,o){var i=f(e,t);return i?(a.endTag&&a.endTag(i.name,n,r,c(a,e,t,o,n)),i.next):e.length}function p(e,t,a,n,r,o){var i=f(e,t);return i?(a.startTag&&a.startTag(i.name,i.attrs,n,r,c(a,e,i.next,o,n)),i.eflags&j?d(e,i,a,n,r,o):i.next):e.length}function d(t,a,n,r,o,l){var s=t.length;Q.hasOwnProperty(a.name)||(Q[a.name]=new RegExp("^"+a.name+"(?:[\\s\\/]|$)","i"));for(var m=Q[a.name],u=a.next,h=a.next+1;s>h&&("</"!==t[h-1]||!m.test(t[h]));h++);s>h&&(h-=1);var p=t.slice(u,h).join("");if(a.eflags&e.eflags.CDATA)n.cdata&&n.cdata(p,r,o,c(n,t,h,l,r));else{if(!(a.eflags&e.eflags.RCDATA))throw new Error("bug");n.rcdata&&n.rcdata(i(p),r,o,c(n,t,h,l,r))}return h}function f(t,a){var n=/^([-\w:]+)/.exec(t[a]),r={};r.name=n[1].toLowerCase(),r.eflags=e.ELEMENTS[r.name];for(var o=t[a].substr(n[0].length),i=a+1,l=t.length;l>i&&">"!==t[i];i++)o+=t[i];if(i>=l)return void 0;for(var s=[];""!==o;)if(n=G.exec(o)){if(n[4]&&!n[5]||n[6]&&!n[7]){for(var c=n[4]||n[6],m=!1,u=[o,t[i++]];l>i;i++){if(m){if(">"===t[i])break}else 0<=t[i].indexOf(c)&&(m=!0);u.push(t[i])}if(i>=l)break;o=u.join("");continue}var h=n[1].toLowerCase(),p=n[2]?g(n[3]):"";s.push(h,p),o=o.substr(n[0].length)}else o=o.replace(/^[\s\S][^a-z\s]*/,"");return r.attrs=s,r.next=i+1,r}function g(e){var t=e.charCodeAt(0);return(34===t||39===t)&&(e=e.substr(1,e.length-2)),r(n(e))}function E(t){var a,n,r=function(e,t){n||t.push(e)};return l({startDoc:function(e){a=[],n=!1},startTag:function(r,i,l){if(!n&&e.ELEMENTS.hasOwnProperty(r)){var s=e.ELEMENTS[r];if(!(s&e.eflags.FOLDABLE)){var c=t(r,i);if(!c)return void(n=!(s&e.eflags.EMPTY));if("object"!=typeof c)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in c))throw new Error("tagPolicy gave no attribs");i=c.attribs;var m,u;if("tagName"in c?(u=c.tagName,m=e.ELEMENTS[u]):(u=r,m=s),s&e.eflags.OPTIONAL_ENDTAG){var h=a[a.length-1];!h||h.orig!==r||h.rep===u&&r===u||l.push("</",h.rep,">")}s&e.eflags.EMPTY||a.push({orig:r,rep:u}),l.push("<",u);for(var p=0,d=i.length;d>p;p+=2){var f=i[p],g=i[p+1];null!==g&&void 0!==g&&l.push(" ",f,'="',o(g),'"')}l.push(">"),s&e.eflags.EMPTY&&!(m&e.eflags.EMPTY)&&l.push("</",u,">")}}},endTag:function(t,r){if(n)return void(n=!1);if(e.ELEMENTS.hasOwnProperty(t)){var o=e.ELEMENTS[t];if(!(o&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var i;if(o&e.eflags.OPTIONAL_ENDTAG)for(i=a.length;--i>=0;){var l=a[i].orig;if(l===t)break;if(!(e.ELEMENTS[l]&e.eflags.OPTIONAL_ENDTAG))return}else for(i=a.length;--i>=0&&a[i].orig!==t;);if(0>i)return;for(var s=a.length;--s>i;){var c=a[s].rep;e.ELEMENTS[c]&e.eflags.OPTIONAL_ENDTAG||r.push("</",c,">")}i<a.length&&(t=a[i].rep),a.length=i,r.push("</",t,">")}}},pcdata:r,rcdata:r,cdata:r,endDoc:function(e){for(;a.length;a.length--)e.push("</",a[a.length-1].rep,">")}})}function T(e,t,a,n,r){if(!r)return null;try{var o=URI.parse(""+e);if(o&&(!o.hasScheme()||V.test(o.getScheme()))){var i=r(o,t,a,n);return i?i.toString():null}}catch(l){return null}return null}function L(e,t,a,n,r){if(a||e(t+" removed",{change:"removed",tagName:t}),n!==r){var o="changed";n&&!r?o="removed":!n&&r&&(o="added"),e(t+"."+a+" "+o,{change:o,tagName:t,attribName:a,oldValue:n,newValue:r})}}function M(e,t,a){var n;return n=t+"::"+a,e.hasOwnProperty(n)?e[n]:(n="*::"+a,e.hasOwnProperty(n)?e[n]:void 0)}function b(t,a){return M(e.LOADERTYPES,t,a)}function y(t,a){return M(e.URIEFFECTS,t,a)}function v(t,a,n,r,o){for(var i=0;i<a.length;i+=2){var l,s=a[i],c=a[i+1],m=c,u=null;if(l=t+"::"+s,(e.ATTRIBS.hasOwnProperty(l)||(l="*::"+s,e.ATTRIBS.hasOwnProperty(l)))&&(u=e.ATTRIBS[l]),null!==u)switch(u){case e.atype.NONE:break;case e.atype.SCRIPT:c=null,o&&L(o,t,s,m,c);break;case e.atype.STYLE:if("undefined"==typeof A){c=null,o&&L(o,t,s,m,c);break}var h=[];A(c,{declaration:function(t,a){var r=t.toLowerCase(),o=C[r];o&&(R(r,o,a,n?function(t){return T(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:r},n)}:null),h.push(t+": "+a.join(" ")))}}),c=h.length>0?h.join(" ; "):null,o&&L(o,t,s,m,c);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:c=r?r(c):c,o&&L(o,t,s,m,c);break;case e.atype.URI:c=T(c,y(t,s),b(t,s),{TYPE:"MARKUP",XML_ATTR:s,XML_TAG:t},n),o&&L(o,t,s,m,c);break;case e.atype.URI_FRAGMENT:c&&"#"===c.charAt(0)?(c=c.substring(1),c=r?r(c):c,null!==c&&void 0!==c&&(c="#"+c)):c=null,o&&L(o,t,s,m,c);break;default:c=null,o&&L(o,t,s,m,c)}else c=null,o&&L(o,t,s,m,c);a[i+1]=c}return a}function H(t,a,n){return function(r,o){return e.ELEMENTS[r]&e.eflags.UNSAFE?void(n&&L(n,r,void 0,void 0,void 0)):{attribs:v(r,o,t,a,n)}}}function _(e,t){var a=[];return E(t)(e,a),a.join("")}function w(e,t,a,n){var r=H(t,a,n);return _(e,r)}var A,R,C;"undefined"!=typeof window&&(A=window.parseCssDeclarations,R=window.sanitizeCssProperty,C=window.cssSchema);var S={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},P=/^#(\d+)$/,D=/^#x([0-9A-Fa-f]+)$/,k=/^[A-Za-z][A-za-z0-9]+$/,I="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null,x=/\0/g,N=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,O=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,F=/&/g,U=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,B=/[<]/g,q=/>/g,z=/\"/g,G=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),$=3==="a,b".split(/(,)/).length,j=e.eflags.CDATA|e.eflags.RCDATA,Y={},Q={},V=/^(?:https?|mailto|data)$/i,X={};return X.escapeAttrib=X.escapeAttrib=o,X.makeHtmlSanitizer=X.makeHtmlSanitizer=E,X.makeSaxParser=X.makeSaxParser=l,X.makeTagPolicy=X.makeTagPolicy=H,X.normalizeRCData=X.normalizeRCData=i,X.sanitize=X.sanitize=w,X.sanitizeAttribs=X.sanitizeAttribs=v,X.sanitizeWithPolicy=X.sanitizeWithPolicy=_,X.unescapeEntities=X.unescapeEntities=r,X}(html4),html_sanitize=html.sanitize;html4.ATTRIBS["*::style"]=0,html4.ELEMENTS.style=0,html4.ATTRIBS["a::target"]=0,html4.ELEMENTS.video=0,html4.ATTRIBS["video::src"]=0,html4.ATTRIBS["video::poster"]=0,html4.ATTRIBS["video::controls"]=0,html4.ELEMENTS.audio=0,html4.ATTRIBS["audio::src"]=0,html4.ATTRIBS["video::autoplay"]=0,html4.ATTRIBS["video::controls"]=0,"undefined"!=typeof module&&(module.exports=html_sanitize);
},{}],7:[function(require,module,exports){
module.exports={"author":"Mapbox","name":"mapbox.js","description":"mapbox javascript api","version":"2.2.3","homepage":"http://mapbox.com/","repository":{"type":"git","url":"git://github.com/mapbox/mapbox.js.git"},"main":"src/index.js","dependencies":{"corslite":"0.0.6","isarray":"0.0.1","leaflet":"0.7.7","mustache":"0.7.3","sanitize-caja":"0.1.3"},"scripts":{"test":"eslint --no-eslintrc -c .eslintrc src && mocha-phantomjs test/index.html"},"license":"BSD-3-Clause","devDependencies":{"browserify":"^6.3.2","clean-css":"~2.0.7","eslint":"^0.23.0","expect.js":"0.3.1","happen":"0.1.3","leaflet-fullscreen":"0.0.4","leaflet-hash":"0.2.1","marked":"~0.3.0","minifyify":"^6.1.0","minimist":"0.0.5","mocha":"1.17.1","mocha-phantomjs":"3.1.6","sinon":"1.10.2"},"optionalDependencies":{},"engines":{"node":"*"}}
},{}],8:[function(require,module,exports){
"use strict";module.exports={HTTP_URL:"http://a.tiles.mapbox.com/v4",HTTPS_URL:"https://a.tiles.mapbox.com/v4",FORCE_HTTPS:!1,REQUIRE_ACCESS_TOKEN:!0};
},{}],9:[function(require,module,exports){
"use strict";var util=require("./util"),format_url=require("./format_url"),request=require("./request"),marker=require("./marker"),simplestyle=require("./simplestyle"),FeatureLayer=L.FeatureGroup.extend({options:{filter:function(){return!0},sanitizer:require("sanitize-caja"),style:simplestyle.style,popupOptions:{closeButton:!1}},initialize:function(e,t){L.setOptions(this,t),this._layers={},"string"==typeof e?util.idUrl(e,this):e&&"object"==typeof e&&this.setGeoJSON(e)},setGeoJSON:function(e){return this._geojson=e,this.clearLayers(),this._initialize(e),this},getGeoJSON:function(){return this._geojson},loadURL:function(e){return this._request&&"abort"in this._request&&this._request.abort(),this._request=request(e,L.bind(function(t,i){this._request=null,t&&"abort"!==t.type?(util.log("could not load features at "+e),this.fire("error",{error:t})):i&&(this.setGeoJSON(i),this.fire("ready"))},this)),this},loadID:function(e){return this.loadURL(format_url("/v4/"+e+"/features.json",this.options.accessToken))},setFilter:function(e){return this.options.filter=e,this._geojson&&(this.clearLayers(),this._initialize(this._geojson)),this},getFilter:function(){return this.options.filter},_initialize:function(e){var t,i,r=L.Util.isArray(e)?e:e.features;if(r)for(t=0,i=r.length;i>t;t++)(r[t].geometries||r[t].geometry||r[t].features)&&this._initialize(r[t]);else if(this.options.filter(e)){var s={accessToken:this.options.accessToken},o=this.options.pointToLayer||function(e,t){return marker.style(e,t,s)},n=L.GeoJSON.geometryToLayer(e,o),u=marker.createPopup(e,this.options.sanitizer),a=this.options.style,l=a===simplestyle.style;!(a&&"setStyle"in n)||l&&(n instanceof L.Circle||n instanceof L.CircleMarker)||("function"==typeof a&&(a=a(e)),n.setStyle(a)),n.feature=e,u&&n.bindPopup(u,this.options.popupOptions),this.addLayer(n)}}});module.exports.FeatureLayer=FeatureLayer,module.exports.featureLayer=function(e,t){return new FeatureLayer(e,t)};
},{"./format_url":11,"./marker":25,"./request":26,"./simplestyle":28,"./util":30,"sanitize-caja":5}],10:[function(require,module,exports){
"use strict";var Feedback=L.Class.extend({includes:L.Mixin.Events,data:{},record:function(e){L.extend(this.data,e),this.fire("change")}});module.exports=new Feedback;
},{}],11:[function(require,module,exports){
"use strict";var config=require("./config"),version=require("../package.json").version;module.exports=function(e,o){if(o=o||L.mapbox.accessToken,!o&&config.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox.js. See https://www.mapbox.com/mapbox.js/api/v"+version+"/api-access-tokens/");var s="https:"===document.location.protocol||config.FORCE_HTTPS?config.HTTPS_URL:config.HTTP_URL;if(s=s.replace(/\/v4$/,""),s+=e,s+=-1!==s.indexOf("?")?"&access_token=":"?access_token=",config.REQUIRE_ACCESS_TOKEN){if("s"===o[0])throw new Error("Use a public access token (pk.*) with Mapbox.js, not a secret access token (sk.*). See https://www.mapbox.com/mapbox.js/api/v"+version+"/api-access-tokens/");s+=o}return s},module.exports.tileJSON=function(e,o){if(-1!==e.indexOf("/"))return e;var s=module.exports("/v4/"+e+".json",o);return 0===s.indexOf("https")&&(s+="&secure"),s};
},{"../package.json":7,"./config":8}],12:[function(require,module,exports){
"use strict";var isArray=require("isarray"),util=require("./util"),format_url=require("./format_url"),feedback=require("./feedback"),request=require("./request");module.exports=function(e,r){function t(e,r){var t=Math.pow(10,r);return e.lat=Math.round(e.lat*t)/t,e.lng=Math.round(e.lng*t)/t,e}r||(r={});var n={};return util.strict(e,"string"),-1===e.indexOf("/")&&(e=format_url("/geocoding/v5/"+e+"/{query}.json",r.accessToken,5)),n.getURL=function(){return e},n.queryURL=function(e){var r=!(isArray(e)||"string"==typeof e),u=r?e.query:e;if(isArray(u)){for(var o=[],i=0;i<u.length;i++)o[i]=encodeURIComponent(u[i]);u=o.join(";")}else u=encodeURIComponent(u);feedback.record({geocoding:u});var a=L.Util.template(n.getURL(),{query:u});if(r&&e.types&&(a+=isArray(e.types)?"&types="+e.types.join():"&types="+e.types),r&&e.proximity){var l=t(L.latLng(e.proximity),3);a+="&proximity="+l.lng+","+l.lat}return a},n.query=function(e,r){return util.strict(r,"function"),request(n.queryURL(e),function(e,t){if(t&&(t.length||t.features)){var n={results:t};t.features&&t.features.length&&(n.latlng=[t.features[0].center[1],t.features[0].center[0]],t.features[0].bbox&&(n.bounds=t.features[0].bbox,n.lbounds=util.lbounds(n.bounds))),r(null,n)}else r(e||!0)}),n},n.reverseQuery=function(e,r){function u(e){var r;return r=void 0!==e.lat&&void 0!==e.lng?L.latLng(e.lat,e.lng):void 0!==e.lat&&void 0!==e.lon?L.latLng(e.lat,e.lon):L.latLng(e[1],e[0]),r=t(r,5),r.lng+","+r.lat}var o="";if(e.length&&e[0].length){for(var i=0,a=[];i<e.length;i++)a.push(u(e[i]));o=a.join(";")}else o=u(e);return request(n.queryURL(o),function(e,t){r(e,t)}),n},n};
},{"./feedback":10,"./format_url":11,"./request":26,"./util":30,"isarray":2}],13:[function(require,module,exports){
"use strict";var geocoder=require("./geocoder"),util=require("./util"),GeocoderControl=L.Control.extend({includes:L.Mixin.Events,options:{proximity:!0,position:"topleft",pointZoom:16,keepOpen:!1,autocomplete:!1},initialize:function(t,e){L.Util.setOptions(this,e),this.setURL(t),this._updateSubmit=L.bind(this._updateSubmit,this),this._updateAutocomplete=L.bind(this._updateAutocomplete,this),this._chooseResult=L.bind(this._chooseResult,this)},setURL:function(t){return this.geocoder=geocoder(t,{accessToken:this.options.accessToken}),this},getURL:function(){return this.geocoder.getURL()},setID:function(t){return this.setURL(t)},setTileJSON:function(t){return this.setURL(t.geocoder)},_toggle:function(t){t&&L.DomEvent.stop(t),L.DomUtil.hasClass(this._container,"active")?(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur()):(L.DomUtil.addClass(this._container,"active"),this._input.focus(),this._input.select())},_closeIfOpen:function(){L.DomUtil.hasClass(this._container,"active")&&!this.options.keepOpen&&(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur())},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-mapbox-geocoder leaflet-bar leaflet-control"),i=L.DomUtil.create("a","leaflet-control-mapbox-geocoder-toggle mapbox-icon mapbox-icon-geocoder",e),o=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-results",e),s=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-wrap",e),n=L.DomUtil.create("form","leaflet-control-mapbox-geocoder-form",s),r=L.DomUtil.create("input","",n);return i.href="#",i.innerHTML="&nbsp;",r.type="text",r.setAttribute("placeholder","Search"),L.DomEvent.addListener(n,"submit",this._geocode,this),L.DomEvent.addListener(r,"keyup",this._autocomplete,this),L.DomEvent.disableClickPropagation(e),this._map=t,this._results=o,this._input=r,this._form=n,this.options.keepOpen?L.DomUtil.addClass(e,"active"):(this._map.on("click",this._closeIfOpen,this),L.DomEvent.addListener(i,"click",this._toggle,this)),e},_updateSubmit:function(t,e){if(L.DomUtil.removeClass(this._container,"searching"),this._results.innerHTML="",t||!e)this.fire("error",{error:t});else{var i=[];e.results&&e.results.features&&(i=e.results.features),1===i.length?(this.fire("autoselect",{feature:i[0]}),this.fire("found",{results:e.results}),this._chooseResult(i[0]),this._closeIfOpen()):i.length>1?(this.fire("found",{results:e.results}),this._displayResults(i)):this._displayResults(i)}},_updateAutocomplete:function(t,e){if(this._results.innerHTML="",t||!e)this.fire("error",{error:t});else{var i=[];e.results&&e.results.features&&(i=e.results.features),i.length&&this.fire("found",{results:e.results}),this._displayResults(i)}},_displayResults:function(t){for(var e=0,i=Math.min(t.length,5);i>e;e++){var o=t[e],s=o.place_name;if(s.length){var n=L.DomUtil.create("a","",this._results),r="innerText"in n?"innerText":"textContent";n[r]=s,n.setAttribute("title",s),n.href="#",L.bind(function(t){L.DomEvent.addListener(n,"click",function(e){this._chooseResult(t),L.DomEvent.stop(e),this.fire("select",{feature:t})},this)},this)(o)}}if(t.length>5){var l=L.DomUtil.create("span","",this._results);l.innerHTML="Top 5 of "+t.length+"  results"}},_chooseResult:function(t){t.bbox?this._map.fitBounds(util.lbounds(t.bbox)):t.center&&this._map.setView([t.center[1],t.center[0]],void 0===this._map.getZoom()?this.options.pointZoom:Math.max(this._map.getZoom(),this.options.pointZoom))},_geocode:function(t){return L.DomEvent.preventDefault(t),""===this._input.value?this._updateSubmit():(L.DomUtil.addClass(this._container,"searching"),void this.geocoder.query({query:this._input.value,proximity:this.options.proximity?this._map.getCenter():!1},this._updateSubmit))},_autocomplete:function(){return this.options.autocomplete?""===this._input.value?this._updateAutocomplete():void this.geocoder.query({query:this._input.value,proximity:this.options.proximity?this._map.getCenter():!1},this._updateAutocomplete):void 0}});module.exports.GeocoderControl=GeocoderControl,module.exports.geocoderControl=function(t,e){return new GeocoderControl(t,e)};
},{"./geocoder":12,"./util":30}],14:[function(require,module,exports){
"use strict";function utfDecode(t){return t>=93&&t--,t>=35&&t--,t-32}module.exports=function(t){return function(e,r){if(t){var u=utfDecode(t.grid[r].charCodeAt(e)),n=t.keys[u];return t.data[n]}}};
},{}],15:[function(require,module,exports){
"use strict";var util=require("./util"),Mustache=require("mustache"),GridControl=L.Control.extend({options:{pinnable:!0,follow:!1,sanitizer:require("sanitize-caja"),touchTeaser:!0,location:!0},_currentContent:"",_pinned:!1,initialize:function(t,o){L.Util.setOptions(this,o),util.strict_instance(t,L.Class,"L.mapbox.gridLayer"),this._layer=t},setTemplate:function(t){return util.strict(t,"string"),this.options.template=t,this},_template:function(t,o){if(o){var i=this.options.template||this._layer.getTileJSON().template;if(i){var e={};return e["__"+t+"__"]=!0,this.options.sanitizer(Mustache.to_html(i,L.extend(e,o)))}}},_show:function(t,o){t!==this._currentContent&&(this._currentContent=t,this.options.follow?(this._popup.setContent(t).setLatLng(o.latLng),this._map._popup!==this._popup&&this._popup.openOn(this._map)):(this._container.style.display="block",this._contentWrapper.innerHTML=t))},hide:function(){return this._pinned=!1,this._currentContent="",this._map.closePopup(),this._container.style.display="none",this._contentWrapper.innerHTML="",L.DomUtil.removeClass(this._container,"closable"),this},_mouseover:function(t){if(t.data?L.DomUtil.addClass(this._map._container,"map-clickable"):L.DomUtil.removeClass(this._map._container,"map-clickable"),!this._pinned){var o=this._template("teaser",t.data);o?this._show(o,t):this.hide()}},_mousemove:function(t){this._pinned||this.options.follow&&this._popup.setLatLng(t.latLng)},_navigateTo:function(t){window.top.location.href=t},_click:function(t){var o=this._template("location",t.data);if(this.options.location&&o&&0===o.search(/^https?:/))return this._navigateTo(this._template("location",t.data));if(this.options.pinnable){var i=this._template("full",t.data);!i&&this.options.touchTeaser&&L.Browser.touch&&(i=this._template("teaser",t.data)),i?(L.DomUtil.addClass(this._container,"closable"),this._pinned=!0,this._show(i,t)):this._pinned&&(L.DomUtil.removeClass(this._container,"closable"),this._pinned=!1,this.hide())}},_onPopupClose:function(){this._currentContent=null,this._pinned=!1},_createClosebutton:function(t,o){var i=L.DomUtil.create("a","close",t);return i.innerHTML="close",i.href="#",i.title="close",L.DomEvent.on(i,"click",L.DomEvent.stopPropagation).on(i,"mousedown",L.DomEvent.stopPropagation).on(i,"dblclick",L.DomEvent.stopPropagation).on(i,"click",L.DomEvent.preventDefault).on(i,"click",o,this),i},onAdd:function(t){this._map=t;var o="leaflet-control-grid map-tooltip",i=L.DomUtil.create("div",o),e=L.DomUtil.create("div","map-tooltip-content");return i.style.display="none",this._createClosebutton(i,this.hide),i.appendChild(e),this._contentWrapper=e,this._popup=new L.Popup({autoPan:!1,closeOnClick:!1}),t.on("popupclose",this._onPopupClose,this),L.DomEvent.disableClickPropagation(i).addListener(i,"mousewheel",L.DomEvent.stopPropagation),this._layer.on("mouseover",this._mouseover,this).on("mousemove",this._mousemove,this).on("click",this._click,this),i},onRemove:function(t){t.off("popupclose",this._onPopupClose,this),this._layer.off("mouseover",this._mouseover,this).off("mousemove",this._mousemove,this).off("click",this._click,this)}});module.exports.GridControl=GridControl,module.exports.gridControl=function(t,o){return new GridControl(t,o)};
},{"./util":30,"mustache":4,"sanitize-caja":5}],16:[function(require,module,exports){
"use strict";var util=require("./util"),request=require("./request"),grid=require("./grid"),GridLayer=L.Class.extend({includes:[L.Mixin.Events,require("./load_tilejson")],options:{template:function(){return""}},_mouseOn:null,_tilejson:{},_cache:{},initialize:function(t,i){L.Util.setOptions(this,i),this._loadTileJSON(t)},_setTileJSON:function(t){return util.strict(t,"object"),L.extend(this.options,{grids:t.grids,minZoom:t.minzoom,maxZoom:t.maxzoom,bounds:t.bounds&&util.lbounds(t.bounds)}),this._tilejson=t,this._cache={},this._update(),this},getTileJSON:function(){return this._tilejson},active:function(){return!!(this._map&&this.options.grids&&this.options.grids.length)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t,this._update(),this._map.on("click",this._click,this).on("mousemove",this._move,this).on("moveend",this._update,this)},onRemove:function(){this._map.off("click",this._click,this).off("mousemove",this._move,this).off("moveend",this._update,this)},getData:function(t,i){if(this.active()){var e=this._map,o=e.project(t.wrap()),s=256,n=4,a=Math.floor(o.x/s),h=Math.floor(o.y/s),r=e.options.crs.scale(e.getZoom())/s;return a=(a+r)%r,h=(h+r)%r,this._getTile(e.getZoom(),a,h,function(t){var e=Math.floor((o.x-a*s)/n),r=Math.floor((o.y-h*s)/n);i(t(e,r))}),this}},_click:function(t){this.getData(t.latlng,L.bind(function(i){this.fire("click",{latLng:t.latlng,data:i})},this))},_move:function(t){this.getData(t.latlng,L.bind(function(i){i!==this._mouseOn?(this._mouseOn&&this.fire("mouseout",{latLng:t.latlng,data:this._mouseOn}),this.fire("mouseover",{latLng:t.latlng,data:i}),this._mouseOn=i):this.fire("mousemove",{latLng:t.latlng,data:i})},this))},_getTileURL:function(t){var i=this.options.grids,e=(t.x+t.y)%i.length,o=i[e];return L.Util.template(o,t)},_update:function(){if(this.active()){var t=this._map.getPixelBounds(),i=this._map.getZoom(),e=256;if(!(i>this.options.maxZoom||i<this.options.minZoom))for(var o=L.bounds(t.min.divideBy(e)._floor(),t.max.divideBy(e)._floor()),s=this._map.options.crs.scale(i)/e,n=o.min.x;n<=o.max.x;n++)for(var a=o.min.y;a<=o.max.y;a++)this._getTile(i,(n%s+s)%s,(a%s+s)%s)}},_getTile:function(t,i,e,o){var s=t+"_"+i+"_"+e,n=L.point(i,e);if(n.z=t,this._tileShouldBeLoaded(n)){if(s in this._cache){if(!o)return;return void("function"==typeof this._cache[s]?o(this._cache[s]):this._cache[s].push(o))}this._cache[s]=[],o&&this._cache[s].push(o),request(this._getTileURL(n),L.bind(function(t,i){var e=this._cache[s];this._cache[s]=grid(i);for(var o=0;o<e.length;++o)e[o](this._cache[s])},this))}},_tileShouldBeLoaded:function(t){if(t.z>this.options.maxZoom||t.z<this.options.minZoom)return!1;if(this.options.bounds){var i=256,e=t.multiplyBy(i),o=e.add(new L.Point(i,i)),s=this._map.unproject(e),n=this._map.unproject(o),a=new L.LatLngBounds([s,n]);if(!this.options.bounds.intersects(a))return!1}return!0}});module.exports.GridLayer=GridLayer,module.exports.gridLayer=function(t,i){return new GridLayer(t,i)};
},{"./grid":14,"./load_tilejson":21,"./request":26,"./util":30}],17:[function(require,module,exports){
"use strict";var leaflet=require("./leaflet");require("./mapbox"),module.exports=leaflet;
},{"./leaflet":19,"./mapbox":23}],18:[function(require,module,exports){
"use strict";var InfoControl=L.Control.extend({options:{position:"bottomright",sanitizer:require("sanitize-caja")},initialize:function(t){L.setOptions(this,t),this._info={},console.warn("infoControl has been deprecated and will be removed in mapbox.js v3.0.0. Use the default attribution control instead, which is now responsive.")},onAdd:function(t){this._container=L.DomUtil.create("div","mapbox-control-info mapbox-small"),this._content=L.DomUtil.create("div","map-info-container",this._container);var i=L.DomUtil.create("a","mapbox-info-toggle mapbox-icon mapbox-icon-info",this._container);i.href="#",L.DomEvent.addListener(i,"click",this._showInfo,this),L.DomEvent.disableClickPropagation(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addInfo(t._layers[n].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd,this).off("layerremove",this._onLayerRemove,this)},addInfo:function(t){return t?(this._info[t]||(this._info[t]=0),this._info[t]=!0,this._update()):this},removeInfo:function(t){return t?(this._info[t]&&(this._info[t]=!1),this._update()):this},_showInfo:function(t){return L.DomEvent.preventDefault(t),this._active===!0?this._hidecontent():(L.DomUtil.addClass(this._container,"active"),this._active=!0,void this._update())},_hidecontent:function(){this._content.innerHTML="",this._active=!1,L.DomUtil.removeClass(this._container,"active")},_update:function(){if(!this._map)return this;this._content.innerHTML="";var t="none",i=[];for(var n in this._info)this._info.hasOwnProperty(n)&&this._info[n]&&(i.push(this.options.sanitizer(n)),t="block");return this._content.innerHTML+=i.join(" | "),this._container.style.display=t,this},_onLayerAdd:function(t){t.layer.getAttribution&&t.layer.getAttribution()?this.addInfo(t.layer.getAttribution()):"on"in t.layer&&t.layer.getAttribution&&t.layer.on("ready",L.bind(function(){this.addInfo(t.layer.getAttribution())},this))},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeInfo(t.layer.getAttribution())}});module.exports.InfoControl=InfoControl,module.exports.infoControl=function(t){return new InfoControl(t)};
},{"sanitize-caja":5}],19:[function(require,module,exports){
module.exports=window.L=require("leaflet/dist/leaflet-src");
},{"leaflet/dist/leaflet-src":3}],20:[function(require,module,exports){
"use strict";var LegendControl=L.Control.extend({options:{position:"bottomright",sanitizer:require("sanitize-caja")},initialize:function(e){L.setOptions(this,e),this._legends={}},onAdd:function(){return this._container=L.DomUtil.create("div","map-legends wax-legends"),L.DomEvent.disableClickPropagation(this._container),this._update(),this._container},addLegend:function(e){return e?(this._legends[e]||(this._legends[e]=0),this._legends[e]++,this._update()):this},removeLegend:function(e){return e?(this._legends[e]&&this._legends[e]--,this._update()):this},_update:function(){if(!this._map)return this;this._container.innerHTML="";var e="none";for(var t in this._legends)if(this._legends.hasOwnProperty(t)&&this._legends[t]){var n=L.DomUtil.create("div","map-legend wax-legend",this._container);n.innerHTML=this.options.sanitizer(t),e="block"}return this._container.style.display=e,this}});module.exports.LegendControl=LegendControl,module.exports.legendControl=function(e){return new LegendControl(e)};
},{"sanitize-caja":5}],21:[function(require,module,exports){
"use strict";var request=require("./request"),format_url=require("./format_url"),util=require("./util");module.exports={_loadTileJSON:function(e){"string"==typeof e?(e=format_url.tileJSON(e,this.options&&this.options.accessToken),request(e,L.bind(function(t,r){t?(util.log("could not load TileJSON at "+e),this.fire("error",{error:t})):r&&(this._setTileJSON(r),this.fire("ready"))},this))):e&&"object"==typeof e&&this._setTileJSON(e)}};
},{"./format_url":11,"./request":26,"./util":30}],22:[function(require,module,exports){
"use strict";function withAccessToken(t,o){return!o||t.accessToken?t:L.extend({accessToken:o},t)}var tileLayer=require("./tile_layer").tileLayer,featureLayer=require("./feature_layer").featureLayer,gridLayer=require("./grid_layer").gridLayer,gridControl=require("./grid_control").gridControl,infoControl=require("./info_control").infoControl,shareControl=require("./share_control").shareControl,legendControl=require("./legend_control").legendControl,mapboxLogoControl=require("./mapbox_logo").mapboxLogoControl,feedback=require("./feedback"),LMap=L.Map.extend({includes:[require("./load_tilejson")],options:{tileLayer:{},featureLayer:{},gridLayer:{},legendControl:{},gridControl:{},infoControl:!1,shareControl:!1,sanitizer:require("sanitize-caja")},_tilejson:{},initialize:function(t,o,e){if(L.Map.prototype.initialize.call(this,t,L.extend({},L.Map.prototype.options,e)),this.attributionControl){this.attributionControl.setPrefix("");var i=this.options.attributionControl.compact;(i||i!==!1&&this._container.offsetWidth<=640)&&L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution"),void 0===i&&this.on("resize",function(){this._container.offsetWidth>640?L.DomUtil.removeClass(this.attributionControl._container,"leaflet-compact-attribution"):L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution")})}this.options.tileLayer&&(this.tileLayer=tileLayer(void 0,withAccessToken(this.options.tileLayer,this.options.accessToken)),this.addLayer(this.tileLayer)),this.options.featureLayer&&(this.featureLayer=featureLayer(void 0,withAccessToken(this.options.featureLayer,this.options.accessToken)),this.addLayer(this.featureLayer)),this.options.gridLayer&&(this.gridLayer=gridLayer(void 0,withAccessToken(this.options.gridLayer,this.options.accessToken)),this.addLayer(this.gridLayer)),this.options.gridLayer&&this.options.gridControl&&(this.gridControl=gridControl(this.gridLayer,this.options.gridControl),this.addControl(this.gridControl)),this.options.infoControl&&(this.infoControl=infoControl(this.options.infoControl),this.addControl(this.infoControl)),this.options.legendControl&&(this.legendControl=legendControl(this.options.legendControl),this.addControl(this.legendControl)),this.options.shareControl&&(this.shareControl=shareControl(void 0,withAccessToken(this.options.shareControl,this.options.accessToken)),this.addControl(this.shareControl)),this._mapboxLogoControl=mapboxLogoControl(this.options.mapboxLogoControl),this.addControl(this._mapboxLogoControl),this._loadTileJSON(o),this.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this).on("moveend",this._updateMapFeedbackLink,this),this.whenReady(function(){feedback.on("change",this._updateMapFeedbackLink,this)}),this.on("unload",function(){feedback.off("change",this._updateMapFeedbackLink,this)})},_setTileJSON:function(t){return this._tilejson=t,this._initialize(t),this},getTileJSON:function(){return this._tilejson},_initialize:function(t){if(this.tileLayer&&(this.tileLayer._setTileJSON(t),this._updateLayer(this.tileLayer)),this.featureLayer&&!this.featureLayer.getGeoJSON()&&t.data&&t.data[0]&&this.featureLayer.loadURL(t.data[0]),this.gridLayer&&(this.gridLayer._setTileJSON(t),this._updateLayer(this.gridLayer)),this.infoControl&&t.attribution&&(this.infoControl.addInfo(this.options.sanitizer(t.attribution)),this._updateMapFeedbackLink()),this.legendControl&&t.legend&&this.legendControl.addLegend(t.legend),this.shareControl&&this.shareControl._setTileJSON(t),this._mapboxLogoControl._setTileJSON(t),!this._loaded&&t.center){var o=void 0!==this.getZoom()?this.getZoom():t.center[2],e=L.latLng(t.center[1],t.center[0]);this.setView(e,o)}},_updateMapFeedbackLink:function(){if(this._controlContainer.getElementsByClassName){var t=this._controlContainer.getElementsByClassName("mapbox-improve-map");if(t.length&&this._loaded){var o=this.getCenter().wrap(),e=this._tilejson||{},i=e.id||"",n="#"+i+"/"+o.lng.toFixed(3)+"/"+o.lat.toFixed(3)+"/"+this.getZoom();for(var r in feedback.data)n+="/"+r+"="+feedback.data[r];for(var a=0;a<t.length;a++)t[a].hash=n}}},_onLayerAdd:function(t){"on"in t.layer&&t.layer.on("ready",this._onLayerReady,this),window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerRemove:function(t){"on"in t.layer&&t.layer.off("ready",this._onLayerReady,this),window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerReady:function(t){this._updateLayer(t.target)},_updateLayer:function(t){t.options&&(this.infoControl&&this._loaded&&this.infoControl.addInfo(t.options.infoControl),this.attributionControl&&this._loaded&&t.getAttribution&&this.attributionControl.addAttribution(t.getAttribution()),L.stamp(t)in this._zoomBoundLayers||!t.options.maxZoom&&!t.options.minZoom||(this._zoomBoundLayers[L.stamp(t)]=t),this._updateMapFeedbackLink(),this._updateZoomLevels())}});module.exports.Map=LMap,module.exports.map=function(t,o,e){return new LMap(t,o,e)};
},{"./feature_layer":9,"./feedback":10,"./grid_control":15,"./grid_layer":16,"./info_control":18,"./legend_control":20,"./load_tilejson":21,"./mapbox_logo":24,"./share_control":27,"./tile_layer":29,"sanitize-caja":5}],23:[function(require,module,exports){
"use strict";var geocoderControl=require("./geocoder_control"),gridControl=require("./grid_control"),featureLayer=require("./feature_layer"),legendControl=require("./legend_control"),shareControl=require("./share_control"),tileLayer=require("./tile_layer"),infoControl=require("./info_control"),map=require("./map"),gridLayer=require("./grid_layer");L.mapbox=module.exports={VERSION:require("../package.json").version,geocoder:require("./geocoder"),marker:require("./marker"),simplestyle:require("./simplestyle"),tileLayer:tileLayer.tileLayer,TileLayer:tileLayer.TileLayer,infoControl:infoControl.infoControl,InfoControl:infoControl.InfoControl,shareControl:shareControl.shareControl,ShareControl:shareControl.ShareControl,legendControl:legendControl.legendControl,LegendControl:legendControl.LegendControl,geocoderControl:geocoderControl.geocoderControl,GeocoderControl:geocoderControl.GeocoderControl,gridControl:gridControl.gridControl,GridControl:gridControl.GridControl,gridLayer:gridLayer.gridLayer,GridLayer:gridLayer.GridLayer,featureLayer:featureLayer.featureLayer,FeatureLayer:featureLayer.FeatureLayer,map:map.map,Map:map.Map,config:require("./config"),sanitize:require("sanitize-caja"),template:require("mustache").to_html,feedback:require("./feedback")},window.L.Icon.Default.imagePath=("https:"===document.location.protocol||"http:"===document.location.protocol?"":"https:")+"//api.tiles.mapbox.com/mapbox.js/v"+require("../package.json").version+"/images";
},{"../package.json":7,"./config":8,"./feature_layer":9,"./feedback":10,"./geocoder":12,"./geocoder_control":13,"./grid_control":15,"./grid_layer":16,"./info_control":18,"./legend_control":20,"./map":22,"./marker":25,"./share_control":27,"./simplestyle":28,"./tile_layer":29,"mustache":4,"sanitize-caja":5}],24:[function(require,module,exports){
"use strict";var MapboxLogoControl=L.Control.extend({options:{position:"bottomleft"},initialize:function(o){L.setOptions(this,o)},onAdd:function(){return this._container=L.DomUtil.create("div","mapbox-logo"),this._container},_setTileJSON:function(o){o.mapbox_logo&&L.DomUtil.addClass(this._container,"mapbox-logo-true")}});module.exports.MapboxLogoControl=MapboxLogoControl,module.exports.mapboxLogoControl=function(o){return new MapboxLogoControl(o)};
},{}],25:[function(require,module,exports){
"use strict";function icon(r,e){r=r||{};var i={small:[20,50],medium:[30,70],large:[35,90]},t=r["marker-size"]||"medium",o="marker-symbol"in r&&""!==r["marker-symbol"]?"-"+r["marker-symbol"]:"",s=(r["marker-color"]||"7e7e7e").replace("#","");return L.icon({iconUrl:format_url("/v4/marker/pin-"+t.charAt(0)+o+"+"+s+(L.Browser.retina?"@2x":"")+".png",e&&e.accessToken),iconSize:i[t],iconAnchor:[i[t][0]/2,i[t][1]/2],popupAnchor:[0,-i[t][1]/2]})}function style(r,e,i){return L.marker(e,{icon:icon(r.properties,i),title:util.strip_tags(sanitize(r.properties&&r.properties.title||""))})}function createPopup(r,e){if(!r||!r.properties)return"";var i="";return r.properties.title&&(i+='<div class="marker-title">'+r.properties.title+"</div>"),r.properties.description&&(i+='<div class="marker-description">'+r.properties.description+"</div>"),(e||sanitize)(i)}var format_url=require("./format_url"),util=require("./util"),sanitize=require("sanitize-caja");module.exports={icon:icon,style:style,createPopup:createPopup};
},{"./format_url":11,"./util":30,"sanitize-caja":5}],26:[function(require,module,exports){
"use strict";var corslite=require("corslite"),strict=require("./util").strict,config=require("./config"),protocol=/^(https?:)?(?=\/\/(.|api)\.tiles\.mapbox\.com\/)/;module.exports=function(t,o){function r(t,r){!t&&r&&(r=JSON.parse(r.responseText)),o(t,r)}return strict(t,"string"),strict(o,"function"),t=t.replace(protocol,function(t,o){return"withCredentials"in new window.XMLHttpRequest?"https:"===o||"https:"===document.location.protocol||config.FORCE_HTTPS?"https:":"http:":document.location.protocol}),corslite(t,r)};
},{"./config":8,"./util":30,"corslite":1}],27:[function(require,module,exports){
"use strict";var format_url=require("./format_url"),ShareControl=L.Control.extend({includes:[require("./load_tilejson")],options:{position:"topleft",url:""},initialize:function(t,e){L.setOptions(this,e),this._loadTileJSON(t)},_setTileJSON:function(t){this._tilejson=t},onAdd:function(t){this._map=t;var e=L.DomUtil.create("div","leaflet-control-mapbox-share leaflet-bar"),o=L.DomUtil.create("a","mapbox-share mapbox-icon mapbox-icon-share",e);return o.href="#",this._modal=L.DomUtil.create("div","mapbox-modal",this._map._container),this._mask=L.DomUtil.create("div","mapbox-modal-mask",this._modal),this._content=L.DomUtil.create("div","mapbox-modal-content",this._modal),L.DomEvent.addListener(o,"click",this._shareClick,this),L.DomEvent.disableClickPropagation(e),this._map.on("mousedown",this._clickOut,this),e},_clickOut:function(t){return this._sharing?(L.DomEvent.preventDefault(t),L.DomUtil.removeClass(this._modal,"active"),this._content.innerHTML="",void(this._sharing=null)):void 0},_shareClick:function(t){if(L.DomEvent.stop(t),this._sharing)return this._clickOut(t);var e=this._tilejson||this._map._tilejson||{},o=encodeURIComponent(this.options.url||e.webpage||window.location),i=encodeURIComponent(e.name),a=format_url("/v4/"+e.id+"/"+this._map.getCenter().lng+","+this._map.getCenter().lat+","+this._map.getZoom()+"/600x600.png",this.options.accessToken),n=format_url("/v4/"+e.id+".html",this.options.accessToken),r="//twitter.com/intent/tweet?status="+i+" "+o,s="//www.facebook.com/sharer.php?u="+o+"&t="+encodeURIComponent(e.name),l="//www.pinterest.com/pin/create/button/?url="+o+"&media="+a+"&description="+e.name,m='<h3>Share this map</h3><div class="mapbox-share-buttons"><a class="mapbox-button mapbox-button-icon mapbox-icon-facebook" target="_blank" href="{{facebook}}">Facebook</a><a class="mapbox-button mapbox-button-icon mapbox-icon-twitter" target="_blank" href="{{twitter}}">Twitter</a><a class="mapbox-button mapbox-button-icon mapbox-icon-pinterest" target="_blank" href="{{pinterest}}">Pinterest</a></div>'.replace("{{twitter}}",r).replace("{{facebook}}",s).replace("{{pinterest}}",l),c='<iframe width="100%" height="500px" frameBorder="0" src="{{embed}}"></iframe>'.replace("{{embed}}",n),h="Copy and paste this <strong>HTML code</strong> into documents to embed this map on web pages.";L.DomUtil.addClass(this._modal,"active"),this._sharing=L.DomUtil.create("div","mapbox-modal-body",this._content),this._sharing.innerHTML=m;var p=L.DomUtil.create("input","mapbox-embed",this._sharing);p.type="text",p.value=c;var d=L.DomUtil.create("label","mapbox-embed-description",this._sharing);d.innerHTML=h;var b=L.DomUtil.create("a","leaflet-popup-close-button",this._sharing);b.href="#",L.DomEvent.disableClickPropagation(this._sharing),L.DomEvent.addListener(b,"click",this._clickOut,this),L.DomEvent.addListener(p,"click",function(t){t.target.focus(),t.target.select()})}});module.exports.ShareControl=ShareControl,module.exports.shareControl=function(t,e){return new ShareControl(t,e)};
},{"./format_url":11,"./load_tilejson":21}],28:[function(require,module,exports){
"use strict";function fallback(t,l){var i={};for(var r in l)void 0===t[r]?i[r]=l[r]:i[r]=t[r];return i}function remap(t){for(var l={},i=0;i<mapping.length;i++)l[mapping[i][1]]=t[mapping[i][0]];return l}function style(t){return remap(fallback(t.properties||{},defaults))}var defaults={stroke:"#555555","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":.5},mapping=[["stroke","color"],["stroke-width","weight"],["stroke-opacity","opacity"],["fill","fillColor"],["fill-opacity","fillOpacity"]];module.exports={style:style,defaults:defaults};
},{}],29:[function(require,module,exports){
"use strict";var util=require("./util"),formatPattern=/\.((?:png|jpg)\d*)(?=$|\?)/,TileLayer=L.TileLayer.extend({includes:[require("./load_tilejson")],options:{sanitizer:require("sanitize-caja")},formats:["png","jpg","png32","png64","png128","png256","jpg70","jpg80","jpg90"],scalePrefix:"@2x.",initialize:function(t,i){L.TileLayer.prototype.initialize.call(this,void 0,i),this._tilejson={},i&&i.format&&util.strict_oneof(i.format,this.formats),this._loadTileJSON(t)},setFormat:function(t){return util.strict(t,"string"),this.options.format=t,this.redraw(),this},setUrl:null,_setTileJSON:function(t){return util.strict(t,"object"),this.options.format=this.options.format||t.tiles[0].match(formatPattern)[1],L.extend(this.options,{tiles:t.tiles,attribution:this.options.sanitizer(t.attribution),minZoom:t.minzoom||0,maxZoom:t.maxzoom||18,tms:"tms"===t.scheme,bounds:t.bounds&&util.lbounds(t.bounds)}),this._tilejson=t,this.redraw(),this},getTileJSON:function(){return this._tilejson},getTileUrl:function(t){var i=this.options.tiles,e=Math.floor(Math.abs(t.x+t.y)%i.length),o=i[e],r=L.Util.template(o,t);return r?r.replace(formatPattern,(L.Browser.retina?this.scalePrefix:".")+this.options.format):r},_update:function(){this.options.tiles&&L.TileLayer.prototype._update.call(this)}});module.exports.TileLayer=TileLayer,module.exports.tileLayer=function(t,i){return new TileLayer(t,i)};
},{"./load_tilejson":21,"./util":30,"sanitize-caja":5}],30:[function(require,module,exports){
"use strict";function contains(n,t){if(!t||!t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]===n)return!0;return!1}module.exports={idUrl:function(n,t){-1===n.indexOf("/")?t.loadID(n):t.loadURL(n)},log:function(n){"object"==typeof console&&"function"==typeof console.error&&console.error(n)},strict:function(n,t){if(typeof n!==t)throw new Error("Invalid argument: "+t+" expected")},strict_instance:function(n,t,r){if(!(n instanceof t))throw new Error("Invalid argument: "+r+" expected")},strict_oneof:function(n,t){if(!contains(n,t))throw new Error("Invalid argument: "+n+" given, valid values are "+t.join(", "))},strip_tags:function(n){return n.replace(/<[^<]+>/g,"")},lbounds:function(n){return new L.LatLngBounds([[n[1],n[0]],[n[3],n[2]]])}};
},{}]},{},[17])


//# sourceMappingURL=mapbox.js.map

"classList"in document.createElement("_")||!function(a){"use strict";if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+"",b=i(this,a);-1!==b;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self),function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return void new Blob}catch(b){}var c=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array,s=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(s),c.origin=b&&b[1])),c}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;j>i;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return 3>e&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,b){var d=b?b.type||"":"",e=new c;if(a)for(var f=0,g=a.length;g>f;f++)Uint8Array&&a[f]instanceof Uint8Array?e.append(a[f].buffer):e.append(a[f]);var h=e.getBlob(d);return!h.slice&&h.webkitSlice&&(h.slice=h.webkitSlice),h};var d=Object.getPrototypeOf||function(a){return a.__proto__};a.Blob.prototype=d(new a.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(a,b){"use strict";"object"==typeof module?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.MediumEditor=b}(this,function(){"use strict";function a(a,b){return this.init(a,b)}return a.extensions={},function(b){function c(a,b){var c,d=Array.prototype.slice.call(arguments,2);b=b||{};for(var e=0;e<d.length;e++){var f=d[e];if(f)for(c in f)f.hasOwnProperty(c)&&"undefined"!=typeof f[c]&&(a||b.hasOwnProperty(c)===!1)&&(b[c]=f[c])}return b}var d=!1;try{var e=document.createElement("div"),f=document.createTextNode(" ");e.appendChild(f),d=e.contains(f)}catch(g){}var h={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:b.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77},isMetaCtrlKey:function(a){return h.isMac&&a.metaKey||!h.isMac&&a.ctrlKey?!0:!1},isKey:function(a,b){var c=h.getKeyCode(a);return!1===Array.isArray(b)?c===b:-1===b.indexOf(c)?!1:!0},getKeyCode:function(a){var b=a.which;return null===b&&(b=null!==a.charCode?a.charCode:a.keyCode),b},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var a=[!0].concat(Array.prototype.slice.call(arguments));return c.apply(this,a)},defaults:function(){var a=[!1].concat(Array.prototype.slice.call(arguments));return c.apply(this,a)},createLink:function(a,b,c,d){var e=a.createElement("a");return h.moveTextRangeIntoElement(b[0],b[b.length-1],e),e.setAttribute("href",c),d&&e.setAttribute("target",d),e},findOrCreateMatchingTextNodes:function(a,b,c){for(var d=a.createTreeWalker(b,NodeFilter.SHOW_ALL,null,!1),e=[],f=0,g=!1,i=null,j=null;null!==(i=d.nextNode());)if(!(i.nodeType>3))if(3===i.nodeType){if(!g&&c.start<f+i.nodeValue.length&&(g=!0,j=h.splitStartNodeIfNeeded(i,c.start,f)),g&&h.splitEndNodeIfNeeded(i,j,c.end,f),g&&f===c.end)break;if(g&&f>c.end+1)throw new Error("PerformLinking overshot the target!");g&&e.push(j||i),f+=i.nodeValue.length,null!==j&&(f+=j.nodeValue.length,d.nextNode()),j=null}else"img"===i.tagName.toLowerCase()&&(!g&&c.start<=f&&(g=!0),g&&e.push(i));return e},splitStartNodeIfNeeded:function(a,b,c){return b!==c?a.splitText(b-c):null},splitEndNodeIfNeeded:function(a,b,c,d){var e,f;e=d+(b||a).nodeValue.length+(b?a.nodeValue.length:0)-1,f=(b||a).nodeValue.length-(e+1-c),e>=c&&d!==e&&0!==f&&(b||a).splitText(f)},splitByBlockElements:function(b){if(3!==b.nodeType&&1!==b.nodeType)return[];var c=[],d=a.util.blockContainerElementNames.join(",");if(3===b.nodeType||0===b.querySelectorAll(d).length)return[b];for(var e=0;e<b.childNodes.length;e++){var f=b.childNodes[e];if(3===f.nodeType)c.push(f);else if(1===f.nodeType){var g=f.querySelectorAll(d);0===g.length?c.push(f):c=c.concat(a.util.splitByBlockElements(f))}}return c},findAdjacentTextNodeWithContent:function(a,b,c){var d,e=!1,f=c.createNodeIterator(a,NodeFilter.SHOW_TEXT,null,!1);for(d=f.nextNode();d;){if(d===b)e=!0;else if(e&&3===d.nodeType&&d.nodeValue&&d.nodeValue.trim().length>0)break;d=f.nextNode()}return d},isDescendant:function(a,b,c){if(!a||!b)return!1;if(a===b)return!!c;if(1!==a.nodeType)return!1;if(d||3!==b.nodeType)return a.contains(b);for(var e=b.parentNode;null!==e;){if(e===a)return!0;e=e.parentNode}return!1},isElement:function(a){return!(!a||1!==a.nodeType)},throttle:function(a,b){var c,d,e,f=50,g=null,h=0,i=function(){h=Date.now(),g=null,e=a.apply(c,d),g||(c=d=null)};return b||0===b||(b=f),function(){var f=Date.now(),j=b-(f-h);return c=this,d=arguments,0>=j||j>b?(g&&(clearTimeout(g),g=null),h=f,e=a.apply(c,d),g||(c=d=null)):g||(g=setTimeout(i,j)),e}},traverseUp:function(a,b){if(!a)return!1;do{if(1===a.nodeType){if(b(a))return a;if(h.isMediumEditorElement(a))return!1}a=a.parentNode}while(a);return!1},htmlEntities:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(a,b){var c,d,e,f,g,i,j;if(a.queryCommandSupported("insertHTML"))try{return a.execCommand("insertHTML",!1,b)}catch(k){}if(c=a.getSelection(),c.rangeCount){if(d=c.getRangeAt(0),j=d.commonAncestorContainer,h.isMediumEditorElement(j)&&!j.firstChild)d.selectNode(j.appendChild(a.createTextNode("")));else if(3===j.nodeType&&0===d.startOffset&&d.endOffset===j.nodeValue.length||3!==j.nodeType&&j.innerHTML===d.toString()){for(;!h.isMediumEditorElement(j)&&j.parentNode&&1===j.parentNode.childNodes.length&&!h.isMediumEditorElement(j.parentNode);)j=j.parentNode;d.selectNode(j)}for(d.deleteContents(),e=a.createElement("div"),e.innerHTML=b,f=a.createDocumentFragment();e.firstChild;)g=e.firstChild,i=f.appendChild(g);d.insertNode(f),i&&(d=d.cloneRange(),d.setStartAfter(i),d.collapse(!0),c.removeAllRanges(),c.addRange(d))}},execFormatBlock:function(b,c){var d,e=h.getTopBlockContainer(a.selection.getSelectionStart(b));if("blockquote"===c){if(e&&(d=Array.prototype.slice.call(e.childNodes),d.some(function(a){return h.isBlockContainer(a)})))return b.execCommand("outdent",!1,null);if(h.isIE)return b.execCommand("indent",!1,c)}if(e&&c===e.nodeName.toLowerCase()&&(c="p"),h.isIE&&(c="<"+c+">"),e&&"blockquote"===e.nodeName.toLowerCase()){if(h.isIE&&"<p>"===c)return b.execCommand("outdent",!1,c);if(h.isFF&&"p"===c)return d=Array.prototype.slice.call(e.childNodes),d.some(function(a){return!h.isBlockContainer(a)})&&b.execCommand("formatBlock",!1,c),b.execCommand("outdent",!1,c)}return b.execCommand("formatBlock",!1,c)},setTargetBlank:function(a,b){var c,d=b||!1;if("a"===a.nodeName.toLowerCase())a.target="_blank";else for(a=a.getElementsByTagName("a"),c=0;c<a.length;c+=1)(!1===d||d===a[c].attributes.href.value)&&(a[c].target="_blank")},addClassToAnchors:function(a,b){var c,d,e=b.split(" ");if("a"===a.nodeName.toLowerCase())for(d=0;d<e.length;d+=1)a.classList.add(e[d]);else for(a=a.getElementsByTagName("a"),c=0;c<a.length;c+=1)for(d=0;d<e.length;d+=1)a[c].classList.add(e[d])},isListItem:function(a){if(!a)return!1;if("li"===a.nodeName.toLowerCase())return!0;for(var b=a.parentNode,c=b.nodeName.toLowerCase();"li"===c||!h.isBlockContainer(b)&&"div"!==c;){if("li"===c)return!0;if(b=b.parentNode,!b)return!1;c=b.nodeName.toLowerCase()}return!1},cleanListDOM:function(b,c){if("li"===c.nodeName.toLowerCase()){var d=c.parentElement;"p"===d.parentElement.nodeName.toLowerCase()&&(h.unwrap(d.parentElement,b),a.selection.moveCursor(b,c.firstChild,c.firstChild.textContent.length))}},splitOffDOMTree:function(a,b,c){for(var d=b,e=null,f=!c;d!==a;){var g,h=d.parentNode,i=h.cloneNode(!1),j=f?d:h.firstChild;for(e&&(f?i.appendChild(e):g=e),e=i;j;){var k=j.nextSibling;j===d?(j.hasChildNodes()?j=j.cloneNode(!1):j.parentNode.removeChild(j),j.textContent&&e.appendChild(j),j=f?k:null):(j.parentNode.removeChild(j),(j.hasChildNodes()||j.textContent)&&e.appendChild(j),j=k)}g&&e.appendChild(g),d=h}return e},moveTextRangeIntoElement:function(a,b,c){if(!a||!b)return!1;var d=h.findCommonRoot(a,b);if(!d)return!1;if(b===a){var e=a.parentNode,f=a.nextSibling;return e.removeChild(a),c.appendChild(a),f?e.insertBefore(c,f):e.appendChild(c),c.hasChildNodes()}for(var g,i,j,k=[],l=0;l<d.childNodes.length;l++)if(j=d.childNodes[l],g){if(h.isDescendant(j,b,!0)){i=j;break}k.push(j)}else h.isDescendant(j,a,!0)&&(g=j);var m=i.nextSibling,n=d.ownerDocument.createDocumentFragment();return g===a?(g.parentNode.removeChild(g),n.appendChild(g)):n.appendChild(h.splitOffDOMTree(g,a)),k.forEach(function(a){a.parentNode.removeChild(a),n.appendChild(a)}),i===b?(i.parentNode.removeChild(i),n.appendChild(i)):n.appendChild(h.splitOffDOMTree(i,b,!0)),c.appendChild(n),i.parentNode===d?d.insertBefore(c,i):m?d.insertBefore(c,m):d.appendChild(c),c.hasChildNodes()},depthOfNode:function(a){for(var b=0,c=a;null!==c.parentNode;)c=c.parentNode,b++;return b},findCommonRoot:function(a,b){for(var c=h.depthOfNode(a),d=h.depthOfNode(b),e=a,f=b;c!==d;)c>d?(e=e.parentNode,c-=1):(f=f.parentNode,d-=1);for(;e!==f;)e=e.parentNode,f=f.parentNode;return e},isElementAtBeginningOfBlock:function(a){for(var b,c;!h.isBlockContainer(a)&&!h.isMediumEditorElement(a);){for(c=a;c=c.previousSibling;)if(b=3===c.nodeType?c.nodeValue:c.textContent,b.length>0)return!1;a=a.parentNode}return!0},isMediumEditorElement:function(a){return a&&a.getAttribute&&!!a.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(a){return h.traverseUp(a,function(a){return h.isMediumEditorElement(a)})},isBlockContainer:function(a){return a&&3!==a.nodeType&&-1!==h.blockContainerElementNames.indexOf(a.nodeName.toLowerCase())},getClosestBlockContainer:function(a){return h.traverseUp(a,function(a){return h.isBlockContainer(a)})},getTopBlockContainer:function(a){var b=a;return h.traverseUp(a,function(a){return h.isBlockContainer(a)&&(b=a),!1}),b},getFirstSelectableLeafNode:function(a){for(;a&&a.firstChild;)a=a.firstChild;if(a=h.traverseUp(a,function(a){return-1===h.emptyElementNames.indexOf(a.nodeName.toLowerCase())}),"table"===a.nodeName.toLowerCase()){var b=a.querySelector("th, td");b&&(a=b)}return a},getFirstTextNode:function(a){if(3===a.nodeType)return a;for(var b=0;b<a.childNodes.length;b++){var c=h.getFirstTextNode(a.childNodes[b]);if(null!==c)return c}return null},ensureUrlHasProtocol:function(a){return-1===a.indexOf("://")?"http://"+a:a},warn:function(){void 0!==b.console&&"function"==typeof b.console.warn&&b.console.warn.apply(b.console,arguments)},deprecated:function(a,b,c){var d=a+" is deprecated, please use "+b+" instead.";c&&(d+=" Will be removed in "+c),h.warn(d)},deprecatedMethod:function(a,b,c,d){h.deprecated(a,b,d),"function"==typeof this[b]&&this[b].apply(this,c)},cleanupAttrs:function(a,b){b.forEach(function(b){a.removeAttribute(b)})},cleanupTags:function(a,b){b.forEach(function(b){a.nodeName.toLowerCase()===b&&a.parentNode.removeChild(a)})},getClosestTag:function(a,b){return h.traverseUp(a,function(a){return a.nodeName.toLowerCase()===b.toLowerCase()})},unwrap:function(a,b){for(var c=b.createDocumentFragment(),d=Array.prototype.slice.call(a.childNodes),e=0;e<d.length;e++)c.appendChild(d[e]);c.childNodes.length?a.parentNode.replaceChild(c,a):a.parentNode.removeChild(a)}};a.util=h}(window),function(){var b=function(b){a.util.extend(this,b)};b.extend=function(b){var c,d=this;c=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return d.apply(this,arguments)},a.util.extend(c,d);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,b&&a.util.extend(c.prototype,b),c},b.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(a){return this.base.options[a]}},["execAction","on","off","subscribe","trigger"].forEach(function(a){b.prototype[a]=function(){return this.base[a].apply(this.base,arguments)}}),a.Extension=b}(),function(){function b(b){return a.util.isBlockContainer(b)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var c={findMatchingSelectionParent:function(b,c){var d,e,f=c.getSelection();return 0===f.rangeCount?!1:(d=f.getRangeAt(0),e=d.commonAncestorContainer,a.util.traverseUp(e,b))},getSelectionElement:function(b){return this.findMatchingSelectionParent(function(b){return a.util.isMediumEditorElement(b)},b)},exportSelection:function(a,b){if(!a)return null;var c=null,d=b.getSelection();if(d.rangeCount>0){var e,f=d.getRangeAt(0),g=f.cloneRange();if(g.selectNodeContents(a),g.setEnd(f.startContainer,f.startOffset),e=g.toString().length,c={start:e,end:e+f.toString().length},0!==f.endOffset&&("img"===f.endContainer.nodeName.toLowerCase()||1===f.endContainer.nodeType&&f.endContainer.querySelector("img"))){var h=this.getTrailingImageCount(a,c,f.endContainer,f.endOffset);h&&(c.trailingImageCount=h)}if(0!==e){var i=this.getIndexRelativeToAdjacentEmptyBlocks(b,a,f.startContainer,f.startOffset);-1!==i&&(c.emptyBlocksIndex=i)}}return c},importSelection:function(a,b,c,d){if(a&&b){var e=c.createRange();e.setStart(b,0),e.collapse(!0);for(var f,g=b,h=[],i=0,j=!1,k=!1,l=0,m=!1;!m&&g;)if(!(g.nodeType>3)){if(3!==g.nodeType||k){if(a.trailingImageCount&&k&&("img"===g.nodeName.toLowerCase()&&l++,l===a.trailingImageCount)){for(var n=0;g.parentNode.childNodes[n]!==g;)n++;e.setEnd(g.parentNode,n+1),m=!0}if(!m&&1===g.nodeType)for(var o=g.childNodes.length-1;o>=0;)h.push(g.childNodes[o]),o-=1}else f=i+g.length,!j&&a.start>=i&&a.start<=f&&(e.setStart(g,a.start-i),j=!0),j&&a.end>=i&&a.end<=f&&(a.trailingImageCount?k=!0:(e.setEnd(g,a.end-i),m=!0)),i=f;m||(g=h.pop())}"undefined"!=typeof a.emptyBlocksIndex&&(e=this.importSelectionMoveCursorPastBlocks(c,b,a.emptyBlocksIndex,e)),d&&(e=this.importSelectionMoveCursorPastAnchor(a,e));var p=c.getSelection();p.removeAllRanges(),p.addRange(e)}},importSelectionMoveCursorPastAnchor:function(b,c){var d=function(a){return"a"===a.nodeName.toLowerCase()};if(b.start===b.end&&3===c.startContainer.nodeType&&c.startOffset===c.startContainer.nodeValue.length&&a.util.traverseUp(c.startContainer,d)){for(var e=c.startContainer,f=c.startContainer.parentNode;null!==f&&"a"!==f.nodeName.toLowerCase();)f.childNodes[f.childNodes.length-1]!==e?f=null:(e=f,f=f.parentNode);if(null!==f&&"a"===f.nodeName.toLowerCase()){for(var g=null,h=0;null===g&&h<f.parentNode.childNodes.length;h++)f.parentNode.childNodes[h]===f&&(g=h);c.setStart(f.parentNode,g+1),c.collapse(!0)}}return c},importSelectionMoveCursorPastBlocks:function(c,d,e,f){var g,h,i=c.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,b,!1),j=f.startContainer,k=0;for(e=e||1,g=3===j.nodeType&&a.util.isBlockContainer(j.previousSibling)?j.previousSibling:a.util.getClosestBlockContainer(j);i.nextNode();)if(h){if(h=i.currentNode,k++,k===e)break;if(h.textContent.length>0)break}else g===i.currentNode&&(h=i.currentNode);return f.setStart(a.util.getFirstSelectableLeafNode(h),0),f},getIndexRelativeToAdjacentEmptyBlocks:function(c,d,e,f){if(e.textContent.length>0&&f>0)return-1;var g=e;if(3!==g.nodeType&&(g=e.childNodes[f]),g&&!a.util.isElementAtBeginningOfBlock(g))return-1;for(var h=a.util.getClosestBlockContainer(e),i=c.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,b,!1),j=0;i.nextNode();){var k=""===i.currentNode.textContent;if((k||j>0)&&(j+=1),i.currentNode===h)return j;k||(j=0)}return j},getTrailingImageCount:function(a,b,c,d){for(var e=c.childNodes[d-1];e.hasChildNodes();)e=e.lastChild;for(var f,g=a,h=[],i=0,j=!1,k=!1,l=!1,m=0;!l&&g;)if(!(g.nodeType>3)){if(3!==g.nodeType||k){if("img"===g.nodeName.toLowerCase()&&m++,g===e)l=!0;else if(1===g.nodeType)for(var n=g.childNodes.length-1;n>=0;)h.push(g.childNodes[n]),n-=1}else m=0,f=i+g.length,!j&&b.start>=i&&b.start<=f&&(j=!0),j&&b.end>=i&&b.end<=f&&(k=!0),i=f;l||(g=h.pop())}return m},selectionContainsContent:function(a){var b=a.getSelection();if(!b||b.isCollapsed||!b.rangeCount)return!1;if(""!==b.toString().trim())return!0;var c=this.getSelectedParentElement(b.getRangeAt(0));return c&&("img"===c.nodeName.toLowerCase()||1===c.nodeType&&c.querySelector("img"))?!0:!1},selectionInContentEditableFalse:function(a){var b,c=this.findMatchingSelectionParent(function(a){var c=a&&a.getAttribute("contenteditable");return"true"===c&&(b=!0),"#text"!==a.nodeName&&"false"===c},a);return!b&&c},getSelectionHtml:function(a){var b,c,d,e="",f=a.getSelection();if(f.rangeCount){for(d=a.createElement("div"),b=0,c=f.rangeCount;c>b;b+=1)d.appendChild(f.getRangeAt(b).cloneContents());e=d.innerHTML}return e},getCaretOffsets:function(a,b){var c,d;return b||(b=window.getSelection().getRangeAt(0)),c=b.cloneRange(),d=b.cloneRange(),c.selectNodeContents(a),c.setEnd(b.endContainer,b.endOffset),d.selectNodeContents(a),d.setStart(b.endContainer,b.endOffset),{left:c.toString().length,right:d.toString().length}},rangeSelectsSingleNode:function(a){var b=a.startContainer;return b===a.endContainer&&b.hasChildNodes()&&a.endOffset===a.startOffset+1},getSelectedParentElement:function(a){return a?this.rangeSelectsSingleNode(a)&&3!==a.startContainer.childNodes[a.startOffset].nodeType?a.startContainer.childNodes[a.startOffset]:3===a.startContainer.nodeType?a.startContainer.parentNode:a.startContainer:null},getSelectedElements:function(a){var b,c,d,e=a.getSelection();if(!e.rangeCount||e.isCollapsed||!e.getRangeAt(0).commonAncestorContainer)return[];if(b=e.getRangeAt(0),3===b.commonAncestorContainer.nodeType){for(c=[],d=b.commonAncestorContainer;d.parentNode&&1===d.parentNode.childNodes.length;)c.push(d.parentNode),d=d.parentNode;return c}return[].filter.call(b.commonAncestorContainer.getElementsByTagName("*"),function(a){return"function"==typeof e.containsNode?e.containsNode(a,!0):!0})},selectNode:function(a,b){var c=b.createRange(),d=b.getSelection();c.selectNodeContents(a),d.removeAllRanges(),d.addRange(c)},select:function(a,b,c,d,e){a.getSelection().removeAllRanges();var f=a.createRange();return f.setStart(b,c),d?f.setEnd(d,e):f.collapse(!0),a.getSelection().addRange(f),f},moveCursor:function(a,b,c){this.select(a,b,c)},getSelectionRange:function(a){var b=a.getSelection();return 0===b.rangeCount?null:b.getRangeAt(0)},getSelectionStart:function(a){var b=a.getSelection().anchorNode,c=b&&3===b.nodeType?b.parentNode:b;return c}};a.selection=c}(),function(){var b=function(a){this.base=a,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};b.prototype={InputEventOnContenteditableSupported:!a.util.isIE,attachDOMEvent:function(a,b,c,d){a.addEventListener(b,c,d),this.events.push([a,b,c,d])},detachDOMEvent:function(a,b,c,d){var e,f=this.indexOfListener(a,b,c,d);-1!==f&&(e=this.events.splice(f,1)[0],e[0].removeEventListener(e[1],e[2],e[3]))},indexOfListener:function(a,b,c,d){var e,f,g;for(e=0,f=this.events.length;f>e;e+=1)if(g=this.events[e],g[0]===a&&g[1]===b&&g[2]===c&&g[3]===d)return e;return-1},detachAllDOMEvents:function(){for(var a=this.events.pop();a;)a[0].removeEventListener(a[1],a[2],a[3]),a=this.events.pop()},enableCustomEvent:function(a){void 0!==this.disabledEvents[a]&&delete this.disabledEvents[a]},disableCustomEvent:function(a){this.disabledEvents[a]=!0},attachCustomEvent:function(a,b){this.setupListener(a),this.customEvents[a]||(this.customEvents[a]=[]),this.customEvents[a].push(b)},detachCustomEvent:function(a,b){var c=this.indexOfCustomListener(a,b);-1!==c&&this.customEvents[a].splice(c,1)},indexOfCustomListener:function(a,b){return this.customEvents[a]&&this.customEvents[a].length?this.customEvents[a].indexOf(b):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(a,b,c){this.customEvents[a]&&!this.disabledEvents[a]&&this.customEvents[a].forEach(function(a){a(b,c)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(a){a.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(a){this.handleDocumentExecCommand(a)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var a=this.options.ownerDocument;if(this.execCommandListener&&a.execCommand.listeners){var b=a.execCommand.listeners.indexOf(this.execCommandListener);-1!==b&&a.execCommand.listeners.splice(b,1),a.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var a=this.options.ownerDocument;if(!a.execCommand.listeners){var b=function(b,c,d){var e=a.execCommand.orig.apply(this,arguments);if(!a.execCommand.listeners)return e;var f=Array.prototype.slice.call(arguments);return a.execCommand.listeners.forEach(function(a){a({command:b,value:d,args:f,result:e})}),e};b.orig=a.execCommand,b.listeners=[],a.execCommand=b}},unwrapExecCommand:function(){var a=this.options.ownerDocument;a.execCommand.orig&&(a.execCommand=a.execCommand.orig)},setupListener:function(a){if(!this.listeners[a]){switch(a){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache=[],this.base.elements.forEach(function(a){this.contentCache[a.getAttribute("medium-editor-index")]=a.innerHTML,this.InputEventOnContenteditableSupported&&this.attachDOMEvent(a,"input",this.handleInput.bind(this))}.bind(this)),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[a]=!0}},attachToEachElement:function(a,b){this.base.elements.forEach(function(c){this.attachDOMEvent(c,a,b.bind(this))},this)},focusElement:function(a){a.focus(),this.updateFocus(a,{target:a,type:"focus"})},updateFocus:function(b,c){var d,e=this.base.getExtensionByName("toolbar"),f=e?e.getToolbarElement():null,g=this.base.getExtensionByName("anchor-preview"),h=g&&g.getPreviewElement?g.getPreviewElement():null,i=this.base.getFocusedElement();i&&"click"===c.type&&this.lastMousedownTarget&&(a.util.isDescendant(i,this.lastMousedownTarget,!0)||a.util.isDescendant(f,this.lastMousedownTarget,!0)||a.util.isDescendant(h,this.lastMousedownTarget,!0))&&(d=i),d||this.base.elements.some(function(c){return!d&&a.util.isDescendant(c,b,!0)&&(d=c),!!d},this);var j=!a.util.isDescendant(i,b,!0)&&!a.util.isDescendant(f,b,!0)&&!a.util.isDescendant(h,b,!0);d!==i&&(i&&j&&(i.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",c,i)),d&&(d.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",c,d))),j&&this.triggerCustomEvent("externalInteraction",c)},updateInput:function(a,b){if(this.contentCache){var c=a.getAttribute("medium-editor-index");a.innerHTML!==this.contentCache[c]&&this.triggerCustomEvent("editableInput",b,a),this.contentCache[c]=a.innerHTML}},handleDocumentSelectionChange:function(b){if(b.currentTarget&&b.currentTarget.activeElement){var c,d=b.currentTarget.activeElement;this.base.elements.some(function(b){return a.util.isDescendant(b,d,!0)?(c=b,!0):!1},this),c&&this.updateInput(c,{target:d,currentTarget:c})}},handleDocumentExecCommand:function(){var a=this.base.getFocusedElement();a&&this.updateInput(a,{target:a,currentTarget:a})},handleBodyClick:function(a){this.updateFocus(a.target,a)},handleBodyFocus:function(a){this.updateFocus(a.target,a)},handleBodyMousedown:function(a){this.lastMousedownTarget=a.target},handleInput:function(a){this.updateInput(a.currentTarget,a)},handleClick:function(a){this.triggerCustomEvent("editableClick",a,a.currentTarget)},handleBlur:function(a){this.triggerCustomEvent("editableBlur",a,a.currentTarget)},handleKeypress:function(a){if(this.triggerCustomEvent("editableKeypress",a,a.currentTarget),this.keypressUpdateInput){var b={target:a.target,currentTarget:a.currentTarget};setTimeout(function(){this.updateInput(b.currentTarget,b)}.bind(this),0)}},handleKeyup:function(a){this.triggerCustomEvent("editableKeyup",a,a.currentTarget)},handleMouseover:function(a){this.triggerCustomEvent("editableMouseover",a,a.currentTarget)},handleDragging:function(a){this.triggerCustomEvent("editableDrag",a,a.currentTarget)},handleDrop:function(a){this.triggerCustomEvent("editableDrop",a,a.currentTarget)},handlePaste:function(a){this.triggerCustomEvent("editablePaste",a,a.currentTarget)},handleKeydown:function(b){return this.triggerCustomEvent("editableKeydown",b,b.currentTarget),a.util.isKey(b,a.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",b,b.currentTarget):a.util.isKey(b,a.util.keyCode.ENTER)||b.ctrlKey&&a.util.isKey(b,a.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",b,b.currentTarget):a.util.isKey(b,a.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",b,b.currentTarget):a.util.isKey(b,[a.util.keyCode.DELETE,a.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",b,b.currentTarget):void 0}},a.Events=b}(),function(){var b=a.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(c){b.isBuiltInButton(c)?a.Extension.call(this,this.defaults[c]):a.Extension.call(this,c)},init:function(){a.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var a=this.document.createElement("button"),b=this.contentDefault,c=this.getAria(),d=this.getEditorOption("buttonLabels");return a.classList.add("medium-editor-action"),a.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(b){a.classList.add(b)}),a.setAttribute("data-action",this.getAction()),c&&(a.setAttribute("title",c),a.setAttribute("aria-label",c)),this.attrs&&Object.keys(this.attrs).forEach(function(b){a.setAttribute(b,this.attrs[b])},this),"fontawesome"===d&&this.contentFA&&(b=this.contentFA),a.innerHTML=b,a},handleClick:function(a){a.preventDefault(),a.stopPropagation();var b=this.getAction();b&&this.execAction(b)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),
delete this.knownState},queryCommandState:function(){var a=null;return this.useQueryState&&(a=this.base.queryCommandState(this.getAction())),a},isAlreadyApplied:function(a){var b,c,d=!1,e=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(e&&e.length>0&&(d=-1!==e.indexOf(a.nodeName.toLowerCase())),!d&&this.style&&(b=this.style.value.split("|"),c=this.window.getComputedStyle(a,null).getPropertyValue(this.style.prop),b.forEach(function(a){this.knownState||(d=-1!==c.indexOf(a),(d||"text-decoration"!==this.style.prop)&&(this.knownState=d))},this)),d)}});b.isBuiltInButton=function(b){return"string"==typeof b&&a.extensions.button.prototype.defaults.hasOwnProperty(b)},a.extensions.button=b}(),function(){a.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var b=a.extensions.button.extend({init:function(){a.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",hasForm:!0,getForm:function(){},isDisplayed:function(){},hideForm:function(){},showToolbarDefaultActions:function(){var a=this.base.getExtensionByName("toolbar");a&&a.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var a=this.base.getExtensionByName("toolbar");a&&a.hideToolbarDefaultActions()},setToolbarPosition:function(){var a=this.base.getExtensionByName("toolbar");a&&a.setToolbarPosition()}});a.extensions.form=b}(),function(){var b=a.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){a.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(b){b.preventDefault(),b.stopPropagation();var c=a.selection.getSelectionRange(this.document);return"a"===c.startContainer.nodeName.toLowerCase()||"a"===c.endContainer.nodeName.toLowerCase()||a.util.getClosestTag(a.selection.getSelectedParentElement(c),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(b){a.util.isKey(b,a.util.keyCode.K)&&a.util.isMetaCtrlKey(b)&&!b.shiftKey&&this.handleClick(b)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var a=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return a.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),a.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&a.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&a.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),a.join("")},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(a){var b=this.getInput(),c=this.getAnchorTargetCheckbox(),d=this.getAnchorButtonCheckbox();if(a=a||{url:""},"string"==typeof a&&(a={url:a}),this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),b.value=a.url,b.focus(),c&&(c.checked="_blank"===a.target),d){var e=a.buttonClass?a.buttonClass.split(" "):[];d.checked=-1!==e.indexOf(this.customClassOption)}},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},getFormOpts:function(){var a=this.getAnchorTargetCheckbox(),b=this.getAnchorButtonCheckbox(),c={url:this.getInput().value.trim()};return this.linkValidation&&(c.url=this.checkLinkFormat(c.url)),c.target="_self",a&&a.checked&&(c.target="_blank"),b&&b.checked&&(c.buttonClass=this.customClassOption),c},doFormSave:function(){var a=this.getFormOpts();this.completeFormSave(a)},completeFormSave:function(a){this.base.restoreSelection(),this.execAction(this.action,a),this.base.checkSelection()},checkLinkFormat:function(a){var b=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i,c=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/;return c.test(a)?"tel:"+a:(b.test(a)?"":"http://")+a},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(a){var b=a.querySelector(".medium-editor-toolbar-close"),c=a.querySelector(".medium-editor-toolbar-save"),d=a.querySelector(".medium-editor-toolbar-input");this.on(a,"click",this.handleFormClick.bind(this)),this.on(d,"keyup",this.handleTextboxKeyup.bind(this)),this.on(b,"click",this.handleCloseClick.bind(this)),this.on(c,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var a=this.document,b=a.createElement("div");return b.className="medium-editor-toolbar-form",b.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),b.innerHTML=this.getTemplate(),this.attachFormEvents(b),b},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(b){return b.keyCode===a.util.keyCode.ENTER?(b.preventDefault(),void this.doFormSave()):void(b.keyCode===a.util.keyCode.ESCAPE&&(b.preventDefault(),this.doFormCancel()))},handleFormClick:function(a){a.stopPropagation()},handleSaveClick:function(a){a.preventDefault(),this.doFormSave()},handleCloseClick:function(a){a.preventDefault(),this.doFormCancel()}});a.extensions.anchor=b}(),function(){var b=a.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var a=this.document.createElement("div");return a.id="medium-editor-anchor-preview-"+this.getEditorId(),a.className="medium-editor-anchor-preview",a.innerHTML=this.getTemplate(),this.on(a,"click",this.handleClick.bind(this)),a},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(a){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||a.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=a.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=a.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=a,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(a){a=a||this.activeAnchor;var b,c,d=this.anchorPreview.offsetHeight,e=a.getBoundingClientRect(),f=(e.left+e.right)/2,g=this.diffLeft,h=this.diffTop;b=this.anchorPreview.offsetWidth/2;var i=this.base.getExtensionByName("toolbar");i&&(g=i.diffLeft,h=i.diffTop),c=g-b,this.anchorPreview.style.top=Math.round(d+e.bottom-h+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",b>f?this.anchorPreview.style.left=c+b+"px":this.window.innerWidth-f<b?this.anchorPreview.style.left=this.window.innerWidth+c-b+"px":this.anchorPreview.style.left=c+f+"px"},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this))},handleClick:function(a){var b=this.base.getExtensionByName("anchor"),c=this.activeAnchor;b&&c&&(a.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(c){var a={url:c.attributes.href.value,target:c.getAttribute("target"),buttonClass:c.getAttribute("class")};b.showForm(a),c=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(b){var c=a.util.getClosestTag(b.target,"a");if(!1!==c){if(!/href=["']\S+["']/.test(c.outerHTML)||/href=["']#\S+["']/.test(c.outerHTML))return!0;var d=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&d&&d.isDisplayed&&d.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==c&&this.detachPreviewHandlers(),this.anchorToPreview=c,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(a){a.relatedTarget&&/anchor-preview/.test(a.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var a=(new Date).getTime()-this.lastOver;a>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});a.extensions.anchorPreview=b}(),function(){function b(b){return!a.util.getClosestTag(b,"a")}var c,d,e,f;c=[" ","	","\n","\r"," "," "," "," "," ","\u2028","\u2029"],d="com|net|org|edu|gov",e="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+d+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+d+"))",f=new RegExp("^("+d+")$","i");var g=a.Extension.extend({init:function(){a.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(a,b){this.performLinking(b)},onKeypress:function(b){this.disableEventHandling||a.util.isKey(b,[a.util.keyCode.SPACE,a.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var a=this.base.exportSelection();this.performLinking(b.target)&&this.base.importSelection(a,!0)}catch(c){window.console&&window.console.error("Failed to perform linking",c),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(b){var c=a.util.splitByBlockElements(b),d=!1;0===c.length&&(c=[b]);for(var e=0;e<c.length;e++)d=this.removeObsoleteAutoLinkSpans(c[e])||d,d=this.performLinkingWithinElement(c[e])||d;return d},removeObsoleteAutoLinkSpans:function(c){if(!c||3===c.nodeType)return!1;for(var d=c.querySelectorAll('span[data-auto-link="true"]'),e=!1,f=0;f<d.length;f++){var g=d[f].textContent;if(-1===g.indexOf("://")&&(g=a.util.ensureUrlHasProtocol(g)),d[f].getAttribute("data-href")!==g&&b(d[f])){e=!0;var h=g.replace(/\s+$/,"");if(d[f].getAttribute("data-href")===h){var i=g.length-h.length,j=a.util.splitOffDOMTree(d[f],this.splitTextBeforeEnd(d[f],i));d[f].parentNode.insertBefore(j,d[f].nextSibling)}else a.util.unwrap(d[f],this.document)}}return e},splitTextBeforeEnd:function(a,b){for(var c=this.document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1),d=!0;d;)d=null!==c.lastChild();for(var e,f,g;b>0&&null!==g;)e=c.currentNode,f=e.nodeValue,f.length>b?(g=e.splitText(f.length-b),b=0):(g=c.previousNode(),b-=f.length);return g},performLinkingWithinElement:function(b){for(var c=this.findLinkableText(b),d=!1,e=0;e<c.length;e++){var f=a.util.findOrCreateMatchingTextNodes(this.document,b,c[e]);this.shouldNotLink(f)||this.createAutoLink(f,c[e].href)}return d},shouldNotLink:function(b){for(var c=!1,d=0;d<b.length&&c===!1;d++)c=!!a.util.traverseUp(b[d],function(a){return"a"===a.nodeName.toLowerCase()||a.getAttribute&&"true"===a.getAttribute("data-auto-link")});return c},findLinkableText:function(a){for(var b=new RegExp(e,"gi"),d=a.textContent,g=null,h=[];null!==(g=b.exec(d));){var i=!0,j=g.index+g[0].length;i=!(0!==g.index&&-1===c.indexOf(d[g.index-1])||j!==d.length&&-1===c.indexOf(d[j])),i=i&&(-1!==g[0].indexOf("/")||f.test(g[0].split(".").pop().split("?").shift())),i&&h.push({href:g[0],start:g.index,end:j})}return h},createAutoLink:function(b,c){c=a.util.ensureUrlHasProtocol(c);var d=a.util.createLink(this.document,b,c,this.getEditorOption("targetBlank")?"_blank":null),e=this.document.createElement("span");for(e.setAttribute("data-auto-link","true"),e.setAttribute("data-href",c),d.insertBefore(e,d.firstChild);d.childNodes.length>1;)e.appendChild(d.childNodes[1])}});a.extensions.autoLink=g}(),function(){function b(b){var d=a.util.getContainerEditorElement(b),e=Array.prototype.slice.call(d.parentElement.querySelectorAll("."+c));e.forEach(function(a){a.classList.remove(c)})}var c="medium-editor-dragover",d=a.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){a.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(a){a.preventDefault(),a.dataTransfer.dropEffect="copy";var d=a.target.classList?a.target:a.target.parentElement;b(d),"dragover"===a.type&&d.classList.add(c)},handleDrop:function(a){a.preventDefault(),a.stopPropagation(),a.dataTransfer.files&&Array.prototype.slice.call(a.dataTransfer.files).forEach(function(a){this.isAllowedFile(a)&&a.type.match("image")&&this.insertImageFile(a)},this),b(a.target)},isAllowedFile:function(a){return this.allowedTypes.some(function(b){return!!a.type.match(b)})},insertImageFile:function(b){var c=new FileReader;c.readAsDataURL(b);var d="medium-img-"+ +new Date;a.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+d+'" />'),c.onload=function(){var a=this.document.getElementById(d);a&&(a.removeAttribute("id"),a.removeAttribute("class"),a.src=c.result)}.bind(this)}});a.extensions.fileDragging=d}(),function(){var b=a.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){a.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(a){var b=a.key.charCodeAt(0);this.keys[b]||(this.keys[b]=[]),this.keys[b].push(a)},this)},handleKeydown:function(b){var c=a.util.getKeyCode(b);if(this.keys[c]){var d=a.util.isMetaCtrlKey(b),e=!!b.shiftKey,f=!!b.altKey;this.keys[c].forEach(function(a){a.meta!==d||a.shift!==e||a.alt!==f&&void 0!==a.alt||(b.preventDefault(),b.stopPropagation(),!1!==a.command&&this.execAction(a.command))},this)}}});a.extensions.keyboardCommands=b}(),function(){var b=a.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){a.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(a){if(a.preventDefault(),a.stopPropagation(),!this.isDisplayed()){var b=this.document.queryCommandValue("fontName")+"";this.showForm(b)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(a){var b=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),b.value=a||"",b.focus()},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var a,b=this.document,c=b.createElement("div"),d=b.createElement("select"),e=b.createElement("a"),f=b.createElement("a");c.className="medium-editor-toolbar-form",c.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(c,"click",this.handleFormClick.bind(this));for(var g=0;g<this.fonts.length;g++)a=b.createElement("option"),a.innerHTML=this.fonts[g],a.value=this.fonts[g],d.appendChild(a);return d.className="medium-editor-toolbar-select",c.appendChild(d),this.on(d,"change",this.handleFontChange.bind(this)),f.setAttribute("href","#"),f.className="medium-editor-toobar-save",f.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",c.appendChild(f),this.on(f,"click",this.handleSaveClick.bind(this),!0),e.setAttribute("href","#"),e.className="medium-editor-toobar-close",e.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",c.appendChild(e),this.on(e,"click",this.handleCloseClick.bind(this)),c},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){a.selection.getSelectedElements(this.document).forEach(function(a){"font"===a.nodeName.toLowerCase()&&a.hasAttribute("face")&&a.removeAttribute("face")})},handleFontChange:function(){var a=this.getSelect().value;""===a?this.clearFontName():this.execAction("fontName",{name:a})},handleFormClick:function(a){a.stopPropagation()},handleSaveClick:function(a){a.preventDefault(),this.doFormSave()},handleCloseClick:function(a){a.preventDefault(),this.doFormCancel()}});a.extensions.fontName=b}(),function(){var b=a.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){a.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(a){if(a.preventDefault(),a.stopPropagation(),!this.isDisplayed()){var b=this.document.queryCommandValue("fontSize")+"";this.showForm(b)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(a){var b=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),b.value=a||"",b.focus()},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var a=this.document,b=a.createElement("div"),c=a.createElement("input"),d=a.createElement("a"),e=a.createElement("a");return b.className="medium-editor-toolbar-form",b.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(b,"click",this.handleFormClick.bind(this)),c.setAttribute("type","range"),c.setAttribute("min","1"),c.setAttribute("max","7"),c.className="medium-editor-toolbar-input",b.appendChild(c),this.on(c,"change",this.handleSliderChange.bind(this)),e.setAttribute("href","#"),e.className="medium-editor-toobar-save",e.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",b.appendChild(e),this.on(e,"click",this.handleSaveClick.bind(this),!0),d.setAttribute("href","#"),d.className="medium-editor-toobar-close",d.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",b.appendChild(d),this.on(d,"click",this.handleCloseClick.bind(this)),b},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){a.selection.getSelectedElements(this.document).forEach(function(a){"font"===a.nodeName.toLowerCase()&&a.hasAttribute("size")&&a.removeAttribute("size")})},handleSliderChange:function(){var a=this.getInput().value;"4"===a?this.clearFontSize():this.execAction("fontSize",{size:a})},handleFormClick:function(a){a.stopPropagation()},handleSaveClick:function(a){a.preventDefault(),this.doFormSave()},handleCloseClick:function(a){a.preventDefault(),this.doFormCancel()}});a.extensions.fontSize=b}(),function(){function b(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],["<!--EndFragment-->",""],["<!--StartFragment-->",""]]}var c=a.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){a.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&this.subscribe("editablePaste",this.handlePaste.bind(this))},handlePaste:function(b,c){var d,e,f,g,h="",i="text/html",j="text/plain";if(this.window.clipboardData&&void 0===b.clipboardData&&(b.clipboardData=this.window.clipboardData,i="Text",j="Text"),b.clipboardData&&b.clipboardData.getData&&!b.defaultPrevented){if(b.preventDefault(),f=b.clipboardData.getData(i),g=b.clipboardData.getData(j),this.cleanPastedHTML&&f)return this.cleanPaste(f);if(this.getEditorOption("disableReturn")||c.getAttribute("data-disable-return"))h=a.util.htmlEntities(g);else if(d=g.split(/[\r\n]+/g),d.length>1)for(e=0;e<d.length;e+=1)""!==d[e]&&(h+="<p>"+a.util.htmlEntities(d[e])+"</p>");else h=a.util.htmlEntities(d[0]);a.util.insertHTMLCommand(this.document,h)}},cleanPaste:function(a){var c,d,e,f,g=/<p|<br|<div/.test(a),h=b().concat(this.cleanReplacements||[]);for(c=0;c<h.length;c+=1)a=a.replace(h[c][0],h[c][1]);if(!g)return this.pasteHTML(a);for(e=this.document.createElement("div"),e.innerHTML="<p>"+a.split("<br><br>").join("</p><p>")+"</p>",d=e.querySelectorAll("a,p,div,br"),c=0;c<d.length;c+=1)switch(f=d[c],f.innerHTML=f.innerHTML.replace(/\n/gi," "),f.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(f);break;case"br":this.filterLineBreak(f)}this.pasteHTML(e.innerHTML)},pasteHTML:function(b,c){c=a.util.defaults({},c,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var d,e,f,g,h=this.document.createDocumentFragment();for(h.appendChild(this.document.createElement("body")),g=h.querySelector("body"),g.innerHTML=b,this.cleanupSpans(g),d=g.querySelectorAll("*"),f=0;f<d.length;f+=1)e=d[f],"a"===e.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&a.util.setTargetBlank(e),a.util.cleanupAttrs(e,c.cleanAttrs),a.util.cleanupTags(e,c.cleanTags);a.util.insertHTMLCommand(this.document,g.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(a){return a&&("p"===a.nodeName.toLowerCase()||"div"===a.nodeName.toLowerCase())},filterCommonBlocks:function(a){/^\s*$/.test(a.textContent)&&a.parentNode&&a.parentNode.removeChild(a)},filterLineBreak:function(a){this.isCommonBlock(a.previousElementSibling)?this.removeWithParent(a):!this.isCommonBlock(a.parentNode)||a.parentNode.firstChild!==a&&a.parentNode.lastChild!==a?a.parentNode&&1===a.parentNode.childElementCount&&""===a.parentNode.textContent&&this.removeWithParent(a):this.removeWithParent(a)},removeWithParent:function(a){a&&a.parentNode&&(a.parentNode.parentNode&&1===a.parentNode.childElementCount?a.parentNode.parentNode.removeChild(a.parentNode):a.parentNode.removeChild(a))},cleanupSpans:function(b){var c,d,e,f=b.querySelectorAll(".replace-with"),g=function(a){return a&&"#text"!==a.nodeName&&"false"===a.getAttribute("contenteditable")};for(c=0;c<f.length;c+=1)d=f[c],e=this.document.createElement(d.classList.contains("bold")?"b":"i"),d.classList.contains("bold")&&d.classList.contains("italic")?e.innerHTML="<i>"+d.innerHTML+"</i>":e.innerHTML=d.innerHTML,d.parentNode.replaceChild(e,d);for(f=b.querySelectorAll("span"),c=0;c<f.length;c+=1){if(d=f[c],a.util.traverseUp(d,g))return!1;a.util.unwrap(d,this.document)}}});a.extensions.paste=c}(),function(){var b=a.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){a.Extension.prototype.init.apply(this,arguments),
this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(a){a.getAttribute("data-placeholder")||a.setAttribute("data-placeholder",this.text),this.updatePlaceholder(a)},this)},destroy:function(){this.getEditorElements().forEach(function(a){a.getAttribute("data-placeholder")===this.text&&a.removeAttribute("data-placeholder")},this)},showPlaceholder:function(a){a&&a.classList.add("medium-editor-placeholder")},hidePlaceholder:function(a){a&&a.classList.remove("medium-editor-placeholder")},updatePlaceholder:function(a,b){return a.querySelector("img, blockquote, ul, ol")||""!==a.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(a):void(b||this.showPlaceholder(a))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(a,b){var c=this.hideOnClick&&b===this.base.getFocusedElement();this.updatePlaceholder(b,c)},handleFocus:function(a,b){this.hidePlaceholder(b)},handleBlur:function(a,b){this.updatePlaceholder(b)}});a.extensions.placeholder=b}(),function(){var b=a.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,"static":!1,sticky:!1,updateOnEmptySelection:!1,relativeContainer:null,init:function(){a.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(a,b){return this.base.extensions.forEach(function(c){return c!==this?a.apply(b||this,arguments):void 0},this)},createToolbar:function(){var a=this.document.createElement("div");return a.id="medium-editor-toolbar-"+this.getEditorId(),a.className="medium-editor-toolbar",this["static"]?a.className+=" static-toolbar":this.relativeContainer?a.className+=" medium-editor-relative-toolbar":a.className+=" medium-editor-stalker-toolbar",a.appendChild(this.createToolbarButtons()),this.forEachExtension(function(b){b.hasForm&&a.appendChild(b.getForm())}),this.attachEventHandlers(),a},createToolbarButtons:function(){var b,c,d,e,f,g,h=this.document.createElement("ul");return h.id="medium-editor-toolbar-actions"+this.getEditorId(),h.className="medium-editor-toolbar-actions",h.style.display="block",this.buttons.forEach(function(d){"string"==typeof d?(f=d,g=null):(f=d.name,g=d),e=this.base.addBuiltInExtension(f,g),e&&"function"==typeof e.getButton&&(c=e.getButton(this.base),b=this.document.createElement("li"),a.util.isElement(c)?b.appendChild(c):b.innerHTML=c,h.appendChild(b))},this),d=h.querySelectorAll("button"),d.length>0&&(d[0].classList.add(this.firstButtonClass),d[d.length-1].classList.add(this.lastButtonClass)),h},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=a.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this["static"]&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(b){return b&&b.target&&a.util.isDescendant(this.getToolbarElement(),b.target)?!1:void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(a){a.hasForm&&a.isDisplayed()&&a.hideForm()})},multipleBlockElementsSelected:function(){var b=/<[^\/>][^>]*><\/[^>]+>/gim,c=new RegExp("<("+a.util.blockContainerElementNames.join("|")+")[^>]*>","g"),d=a.selection.getSelectionHtml(this.document).replace(b,""),e=d.match(c);return!!e&&e.length>1},modifySelection:function(){var b=this.window.getSelection(),c=b.getRangeAt(0);if(this.standardizeSelectionStart&&c.startContainer.nodeValue&&c.startOffset===c.startContainer.nodeValue.length){var d=a.util.findAdjacentTextNodeWithContent(a.selection.getSelectionElement(this.window),c.startContainer,this.document);if(d){for(var e=0;0===d.nodeValue.substr(e,1).trim().length;)e+=1;c=a.selection.select(this.document,d,e,c.endContainer,c.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||a.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var b=a.selection.getSelectionElement(this.window);return!b||-1===this.getEditorElements().indexOf(b)||b.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this["static"]?this.showAndUpdateToolbar():!a.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(a){"function"==typeof a.isActive&&"function"==typeof a.setInactive&&a.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var b,c=[],d=null,e=a.selection.getSelectionRange(this.document),f=function(a){"function"==typeof a.checkState?a.checkState(b):"function"==typeof a.isActive&&"function"==typeof a.isAlreadyApplied&&"function"==typeof a.setActive&&!a.isActive()&&a.isAlreadyApplied(b)&&a.setActive()};if(e&&(this.forEachExtension(function(a){return"function"==typeof a.queryCommandState&&(d=a.queryCommandState(),null!==d)?void(d&&"function"==typeof a.setActive&&a.setActive()):void c.push(a)}),b=a.selection.getSelectedParentElement(e),this.getEditorElements().some(function(c){return a.util.isDescendant(c,b,!0)})))for(;b&&(c.forEach(f),!a.util.isMediumEditorElement(b));)b=b.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var a,b=this.base.getFocusedElement(),c=this.window.getSelection();return b?(this["static"]&&!this.relativeContainer?(this.showToolbar(),this.positionStaticToolbar(b)):c.isCollapsed||(this.showToolbar(),this.relativeContainer||this.positionToolbar(c)),a=this.base.getExtensionByName("anchor-preview"),void(a&&"function"==typeof a.hidePreview&&a.hidePreview())):this},positionStaticToolbar:function(a){this.getToolbarElement().style.left="0";var b,c=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,d=this.window.innerWidth,e=this.getToolbarElement(),f=a.getBoundingClientRect(),g=f.top+c,h=f.left+f.width/2,i=e.offsetHeight,j=e.offsetWidth,k=j/2;switch(this.sticky?c>g+a.offsetHeight-i?(e.style.top=g+a.offsetHeight-i+"px",e.classList.remove("medium-editor-sticky-toolbar")):c>g-i?(e.classList.add("medium-editor-sticky-toolbar"),e.style.top="0px"):(e.classList.remove("medium-editor-sticky-toolbar"),e.style.top=g-i+"px"):e.style.top=g-i+"px",this.align){case"left":b=f.left;break;case"right":b=f.right-j;break;case"center":b=h-k}0>b?b=0:b+j>d&&(b=d-Math.ceil(j)-1),e.style.left=b+"px"},positionToolbar:function(a){this.getToolbarElement().style.left="0";var b=a.getRangeAt(0),c=b.getBoundingClientRect();(!c||0===c.height&&0===c.width&&b.startContainer===b.endContainer)&&(c=1===b.startContainer.nodeType&&b.startContainer.querySelector("img")?b.startContainer.querySelector("img").getBoundingClientRect():b.startContainer.getBoundingClientRect());var d=this.window.innerWidth,e=(c.left+c.right)/2,f=this.getToolbarElement(),g=f.offsetHeight,h=f.offsetWidth,i=h/2,j=50,k=this.diffLeft-i;c.top<j?(f.classList.add("medium-toolbar-arrow-over"),f.classList.remove("medium-toolbar-arrow-under"),f.style.top=j+c.bottom-this.diffTop+this.window.pageYOffset-g+"px"):(f.classList.add("medium-toolbar-arrow-under"),f.classList.remove("medium-toolbar-arrow-over"),f.style.top=c.top+this.diffTop+this.window.pageYOffset-g+"px"),i>e?f.style.left=k+i+"px":i>d-e?f.style.left=d+k-i+"px":f.style.left=k+e+"px"}});a.extensions.toolbar=b}(),function(){var b=a.Extension.extend({init:function(){a.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(a){var b="medium-editor-dragover";a.preventDefault(),a.dataTransfer.dropEffect="copy","dragover"===a.type?a.target.classList.add(b):"dragleave"===a.type&&a.target.classList.remove(b)},handleDrop:function(b){var c,d="medium-editor-dragover";b.preventDefault(),b.stopPropagation(),b.dataTransfer.files&&(c=Array.prototype.slice.call(b.dataTransfer.files,0),c.some(function(b){if(b.type.match("image")){var c,d;c=new FileReader,c.readAsDataURL(b),d="medium-img-"+ +new Date,a.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+d+'" />'),c.onload=function(){var a=this.document.getElementById(d);a&&(a.removeAttribute("id"),a.removeAttribute("class"),a.src=c.result)}.bind(this)}}.bind(this))),b.target.classList.remove(d)}});a.extensions.imageDragging=b}(),function(){function b(b){var c=a.selection.getSelectionStart(this.options.ownerDocument),d=c.textContent,e=a.selection.getCaretOffsets(c);(void 0===d[e.left-1]||""===d[e.left-1].trim())&&b.preventDefault()}function c(b,c){if(this.options.disableReturn||c.getAttribute("data-disable-return"))b.preventDefault();else if(this.options.disableDoubleReturn||c.getAttribute("data-disable-double-return")){var d=a.selection.getSelectionStart(this.options.ownerDocument);(d&&""===d.textContent.trim()&&"li"!==d.nodeName.toLowerCase()||d.previousElementSibling&&"br"!==d.previousElementSibling.nodeName.toLowerCase()&&""===d.previousElementSibling.textContent.trim())&&b.preventDefault()}}function d(b){var c=a.selection.getSelectionStart(this.options.ownerDocument),d=c&&c.nodeName.toLowerCase();"pre"===d&&(b.preventDefault(),a.util.insertHTMLCommand(this.options.ownerDocument,"    ")),a.util.isListItem(c)&&(b.preventDefault(),b.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function e(b){var c,d=a.selection.getSelectionStart(this.options.ownerDocument),e=d.nodeName.toLowerCase(),f=/^(\s+|<br\/?>)?$/i,g=/h\d/i;a.util.isKey(b,[a.util.keyCode.BACKSPACE,a.util.keyCode.ENTER])&&d.previousElementSibling&&g.test(e)&&0===a.selection.getCaretOffsets(d).left?a.util.isKey(b,a.util.keyCode.BACKSPACE)&&f.test(d.previousElementSibling.innerHTML)?(d.previousElementSibling.parentNode.removeChild(d.previousElementSibling),b.preventDefault()):a.util.isKey(b,a.util.keyCode.ENTER)&&(c=this.options.ownerDocument.createElement("p"),c.innerHTML="<br>",d.previousElementSibling.parentNode.insertBefore(c,d),b.preventDefault()):a.util.isKey(b,a.util.keyCode.DELETE)&&d.nextElementSibling&&d.previousElementSibling&&!g.test(e)&&f.test(d.innerHTML)&&g.test(d.nextElementSibling.nodeName.toLowerCase())?(a.selection.moveCursor(this.options.ownerDocument,d.nextElementSibling),d.previousElementSibling.parentNode.removeChild(d),b.preventDefault()):a.util.isKey(b,a.util.keyCode.BACKSPACE)&&"li"===e&&f.test(d.innerHTML)&&!d.previousElementSibling&&!d.parentElement.previousElementSibling&&d.nextElementSibling&&"li"===d.nextElementSibling.nodeName.toLowerCase()?(c=this.options.ownerDocument.createElement("p"),c.innerHTML="<br>",d.parentElement.parentElement.insertBefore(c,d.parentElement),a.selection.moveCursor(this.options.ownerDocument,c),d.parentElement.removeChild(d),b.preventDefault()):a.util.isKey(b,a.util.keyCode.BACKSPACE)&&a.util.getClosestTag(d,"blockquote")!==!1&&0===a.selection.getCaretOffsets(d).left&&(b.preventDefault(),a.util.execFormatBlock(this.options.ownerDocument,"p"))}function f(b){var c,d=a.selection.getSelectionStart(this.options.ownerDocument);d&&(a.util.isMediumEditorElement(d)&&0===d.children.length&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),a.util.isKey(b,a.util.keyCode.ENTER)&&!a.util.isListItem(d)&&(c=d.nodeName.toLowerCase(),"a"===c?this.options.ownerDocument.execCommand("unlink",!1,null):b.shiftKey||b.ctrlKey||/h\d/.test(c)||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function g(a){a._mediumEditors||(a._mediumEditors=[null]),this.id||(this.id=a._mediumEditors.length),a._mediumEditors[this.id]=this}function h(a){a._mediumEditors&&a._mediumEditors[this.id]&&(a._mediumEditors[this.id]=null)}function i(b){b||(b=[]),"string"==typeof b&&(b=this.options.ownerDocument.querySelectorAll(b)),a.util.isElement(b)&&(b=[b]);var c=Array.prototype.slice.apply(b);this.elements=[],c.forEach(function(a,b){"textarea"===a.nodeName.toLowerCase()?this.elements.push(s.call(this,a,b)):this.elements.push(a)},this)}function j(a,b){return Object.keys(b).forEach(function(c){void 0===a[c]&&(a[c]=b[c])}),a}function k(a,b,c){var d={window:c.options.contentWindow,document:c.options.ownerDocument,base:c};return a=j(a,d),"function"==typeof a.init&&a.init(),a.name||(a.name=b),a}function l(){return this.elements.every(function(a){return!!a.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function m(){return l.call(this)?this.options.anchorPreview!==!1:!1}function n(){return this.options.placeholder!==!1}function o(){return this.options.autoLink!==!1}function p(){return this.options.imageDragging!==!1}function q(){return this.options.keyboardCommands!==!1}function r(){return!this.options.extensions.imageDragging}function s(a,b){for(var c=this.options.ownerDocument.createElement("div"),d=Date.now(),e="medium-editor-"+d+"-"+b,f=a.attributes;this.options.ownerDocument.getElementById(e);)d++,e="medium-editor-"+d+"-"+b;c.className=a.className,c.id=e,c.innerHTML=a.value,a.setAttribute("medium-editor-textarea-id",e);for(var g=0,h=f.length;h>g;g++)c.hasAttribute(f[g].nodeName)||c.setAttribute(f[g].nodeName,f[g].nodeValue);return a.classList.add("medium-editor-hidden"),a.parentNode.insertBefore(c,a),c}function t(){var a=!1;this.elements.forEach(function(b,c){this.options.disableEditing||b.getAttribute("data-disable-editing")||(b.setAttribute("contentEditable",!0),b.setAttribute("spellcheck",this.options.spellcheck)),b.setAttribute("data-medium-editor-element",!0),b.setAttribute("role","textbox"),b.setAttribute("aria-multiline",!0),b.setAttribute("medium-editor-index",c),b.hasAttribute("medium-editor-textarea-id")&&(a=!0)},this),a&&this.subscribe("editableInput",function(a,b){var c=b.parentNode.querySelector('textarea[medium-editor-textarea-id="'+b.getAttribute("medium-editor-textarea-id")+'"]');c&&(c.value=this.serialize()[b.id].value)}.bind(this))}function u(){var a;if(this.subscribe("editableKeydownTab",d.bind(this)),this.subscribe("editableKeydownDelete",e.bind(this)),this.subscribe("editableKeydownEnter",e.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",b.bind(this)),this.options.disableReturn||this.options.disableDoubleReturn)this.subscribe("editableKeydownEnter",c.bind(this));else for(a=0;a<this.elements.length;a+=1)if(this.elements[a].getAttribute("data-disable-return")||this.elements[a].getAttribute("data-disable-double-return")){this.subscribe("editableKeydownEnter",c.bind(this));break}this.options.disableReturn||this.elements.forEach(function(a){a.getAttribute("data-disable-return")||this.on(a,"keyup",f.bind(this))},this)}function v(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(a){"toolbar"!==a&&this.options.extensions[a]&&this.extensions.push(k(this.options.extensions[a],a,this))},this),r.call(this)){var b=this.options.fileDragging;b||(b={},p.call(this)||(b.allowedTypes=[])),this.addBuiltInExtension("fileDragging",b)}var c={paste:!0,"anchor-preview":m.call(this),autoLink:o.call(this),keyboardCommands:q.call(this),placeholder:n.call(this)};Object.keys(c).forEach(function(a){c[a]&&this.addBuiltInExtension(a)},this);var d=this.options.extensions.toolbar;if(!d&&l.call(this)){var e=a.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});d=new a.extensions.toolbar(e)}d&&this.extensions.push(k(d,"toolbar",this))}function w(b,c){var d=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return c&&d.forEach(function(b){c.hasOwnProperty(b[0])&&void 0!==c[b[0]]&&a.util.deprecated(b[0],b[1],"v6.0.0")}),a.util.defaults({},c,b)}function x(b,c){var d,e=/^append-(.+)$/gi,f=/justify([A-Za-z]*)$/g;if(d=e.exec(b))return a.util.execFormatBlock(this.options.ownerDocument,d[1]);if("fontSize"===b)return this.options.ownerDocument.execCommand("fontSize",!1,c.size);if("fontName"===b)return this.options.ownerDocument.execCommand("fontName",!1,c.name);if("createLink"===b)return this.createLink(c);if("image"===b){var g=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,g)}if(f.exec(b)){var h=this.options.ownerDocument.execCommand(b,!1,null),i=a.selection.getSelectedParentElement(a.selection.getSelectionRange(this.options.ownerDocument));return i&&y.call(this,a.util.getTopBlockContainer(i)),h}return this.options.ownerDocument.execCommand(b,!1,null)}function y(b){if(b){var c,d=Array.prototype.slice.call(b.childNodes).filter(function(a){var b="div"===a.nodeName.toLowerCase();return b&&!c&&(c=a.style.textAlign),b});d.length&&(this.saveSelection(),d.forEach(function(b){if(b.style.textAlign===c){var d=b.lastChild;if(d){a.util.unwrap(b,this.options.ownerDocument);var e=this.options.ownerDocument.createElement("BR");d.parentNode.insertBefore(e,d.nextSibling)}}},this),b.style.textAlign=c,this.restoreSelection())}}a.prototype={init:function(a,b){return this.options=w.call(this,this.defaults,b),this.origElements=a,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(i.call(this,this.origElements),0!==this.elements.length&&(this.isActive=!0,g.call(this,this.options.contentWindow),this.events=new a.Events(this),t.call(this),v.call(this),u.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(a){"function"==typeof a.destroy&&a.destroy()},this),this.events.destroy(),this.elements.forEach(function(a){if(this.options.spellcheck&&(a.innerHTML=a.innerHTML),a.removeAttribute("contentEditable"),a.removeAttribute("spellcheck"),a.removeAttribute("data-medium-editor-element"),a.removeAttribute("role"),a.removeAttribute("aria-multiline"),a.removeAttribute("medium-editor-index"),a.hasAttribute("medium-editor-textarea-id")){var b=a.parentNode.querySelector('textarea[medium-editor-textarea-id="'+a.getAttribute("medium-editor-textarea-id")+'"]');b&&b.classList.remove("medium-editor-hidden"),a.parentNode&&a.parentNode.removeChild(a)}},this),this.elements=[],h.call(this,this.options.contentWindow))},on:function(a,b,c,d){this.events.attachDOMEvent(a,b,c,d)},off:function(a,b,c,d){this.events.detachDOMEvent(a,b,c,d)},subscribe:function(a,b){this.events.attachCustomEvent(a,b)},unsubscribe:function(a,b){this.events.detachCustomEvent(a,b)},trigger:function(a,b,c){this.events.triggerCustomEvent(a,b,c)},delay:function(a){var b=this;return setTimeout(function(){b.isActive&&a()},this.options.delay)},serialize:function(){var a,b,c={};for(a=0;a<this.elements.length;a+=1)b=""!==this.elements[a].id?this.elements[a].id:"element-"+a,c[b]={value:this.elements[a].innerHTML.trim()};return c},getExtensionByName:function(a){var b;return this.extensions&&this.extensions.length&&this.extensions.some(function(c){return c.name===a?(b=c,!0):!1}),b},addBuiltInExtension:function(b,c){var d,e=this.getExtensionByName(b);if(e)return e;switch(b){case"anchor":d=a.util.extend({},this.options.anchor,c),e=new a.extensions.anchor(d);break;case"anchor-preview":e=new a.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":e=new a.extensions.autoLink;break;case"fileDragging":e=new a.extensions.fileDragging(c);break;case"fontname":e=new a.extensions.fontName(this.options.fontName);break;case"fontsize":e=new a.extensions.fontSize(c);break;case"keyboardCommands":e=new a.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":e=new a.extensions.paste(this.options.paste);break;case"placeholder":e=new a.extensions.placeholder(this.options.placeholder);break;default:a.extensions.button.isBuiltInButton(b)&&(c?(d=a.util.defaults({},c,a.extensions.button.prototype.defaults[b]),e=new a.extensions.button(d)):e=new a.extensions.button(b))}return e&&this.extensions.push(k(e,b,this)),e},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var a=this.getExtensionByName("toolbar");return a&&a.checkState(),this},queryCommandState:function(a){var b,c=/^full-(.+)$/gi,d=null;b=c.exec(a),b&&(a=b[1]);try{d=this.options.ownerDocument.queryCommandState(a)}catch(e){d=null}return d},execAction:function(b,c){var d,e,f=/^full-(.+)$/gi;return d=f.exec(b),d?(this.saveSelection(),this.selectAllContents(),e=x.call(this,d[1],c),this.restoreSelection()):e=x.call(this,b,c),("insertunorderedlist"===b||"insertorderedlist"===b)&&a.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),e},getSelectedParentElement:function(b){return void 0===b&&(b=this.options.contentWindow.getSelection().getRangeAt(0)),a.selection.getSelectedParentElement(b)},selectAllContents:function(){var b=a.selection.getSelectionElement(this.options.contentWindow);if(b){for(;1===b.children.length;)b=b.children[0];this.selectElement(b)}},selectElement:function(b){a.selection.selectNode(b,this.options.ownerDocument);var c=a.selection.getSelectionElement(this.options.contentWindow);c&&this.events.focusElement(c)},getFocusedElement:function(){var a;return this.elements.some(function(b){return!a&&b.getAttribute("data-medium-focused")&&(a=b),!!a},this),a},exportSelection:function(){var b=a.selection.getSelectionElement(this.options.contentWindow),c=this.elements.indexOf(b),d=null;return c>=0&&(d=a.selection.exportSelection(b,this.options.ownerDocument)),null!==d&&0!==c&&(d.editableElementIndex=c),d},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(b,c){if(b){var d=this.elements[b.editableElementIndex||0];a.selection.importSelection(b,d,this.options.ownerDocument,c)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(b){var c=a.selection.getSelectionElement(this.options.contentWindow),d={};if(-1!==this.elements.indexOf(c)){try{if(this.events.disableCustomEvent("editableInput"),b.url&&b.url.trim().length>0){var e=this.options.contentWindow.getSelection();if(e){var f,g,h,i,j=e.getRangeAt(0),k=j.commonAncestorContainer;if(3===j.endContainer.nodeType&&3!==j.startContainer.nodeType&&0===j.startOffset&&j.startContainer.firstChild===j.endContainer&&(k=j.endContainer),g=a.util.getClosestBlockContainer(j.startContainer),h=a.util.getClosestBlockContainer(j.endContainer),3!==k.nodeType&&0!==k.textContent.length&&g===h){var l=g||c,m=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),f=this.exportSelection(),m.appendChild(l.cloneNode(!0)),c===l?a.selection.select(this.options.ownerDocument,l.firstChild,0,l.lastChild,3===l.lastChild.nodeType?l.lastChild.nodeValue.length:l.lastChild.childNodes.length):a.selection.select(this.options.ownerDocument,l,0,l,l.childNodes.length);var n=this.exportSelection();i=a.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,m,{start:f.start-n.start,end:f.end-n.start,editableElementIndex:f.editableElementIndex}),0===i.length&&(m=this.options.ownerDocument.createDocumentFragment(),m.appendChild(k.cloneNode(!0)),i=[m.firstChild.firstChild,m.firstChild.lastChild]),a.util.createLink(this.options.ownerDocument,i,b.url.trim());var o=(m.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;a.util.insertHTMLCommand(this.options.ownerDocument,m.firstChild.innerHTML.replace(/^\s+/,"")),f.start-=o,f.end-=o,this.importSelection(f)}else this.options.ownerDocument.execCommand("createLink",!1,b.url);(this.options.targetBlank||"_blank"===b.target)&&a.util.setTargetBlank(a.selection.getSelectionStart(this.options.ownerDocument),b.url),b.buttonClass&&a.util.addClassToAnchors(a.selection.getSelectionStart(this.options.ownerDocument),b.buttonClass)}}if(this.options.targetBlank||"_blank"===b.target||b.buttonClass){d=this.options.ownerDocument.createEvent("HTMLEvents"),d.initEvent("input",!0,!0,this.options.contentWindow);for(var p=0;p<this.elements.length;p+=1)this.elements[p].dispatchEvent(d)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",d,c)}},cleanPaste:function(a){this.getExtensionByName("paste").cleanPaste(a)},pasteHTML:function(a,b){this.getExtensionByName("paste").pasteHTML(a,b)},setContent:function(a,b){if(b=b||0,this.elements[b]){var c=this.elements[b];c.innerHTML=a,this.events.updateInput(c,{target:c,currentTarget:c})}}}}(),function(){a.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),a.parseVersionString=function(a){var b=a.split("-"),c=b[0].split("."),d=b.length>1?b[1]:"";return{major:parseInt(c[0],10),minor:parseInt(c[1],10),revision:parseInt(c[2],10),preRelease:d,toString:function(){return[c[0],c[1],c[2]].join(".")+(d?"-"+d:"")}}},a.version=a.parseVersionString.call(this,{version:"5.12.0"}.version),a}());

!function(a,b){"use strict";"object"==typeof module?module.exports=b:"function"==typeof define&&define.amd?define(b):a.MediumEditorTable=b}(this,function(){"use strict";function a(a){return a.getSelection?a.getSelection().toString():a.selection&&"Control"!==a.selection.type?a.selection.createRange().text:""}function b(a){var b=a.getSelection().anchorNode,c=b&&3===b.nodeType?b.parentNode:b;return c}function c(a,b,c){if(void 0!==a.getSelection&&b){var d=a.createRange(),e=a.getSelection();c?d.setStartBefore(b):d.setStartAfter(b),d.collapse(!0),e.removeAllRanges(),e.addRange(d)}}function d(a,b){if(!a)return!1;for(var c=a.parentNode,d=c.tagName.toLowerCase();"body"!==d;){if(d===b)return!0;if(c=c.parentNode,!c||!c.tagName)return!1;d=c.tagName.toLowerCase()}return!1}function e(a,b){var c=a&&a.tagName?a.tagName.toLowerCase():!1;if(!c)return!1;for(;c&&"body"!==c;){if(c===b)return a;a=a.parentNode,c=a&&a.tagName?a.tagName.toLowerCase():!1}}function f(a,b,c,d){return this.init(a,b,c,d)}function g(a){return this.init(a)}function h(a){return this.init(a)}f.prototype={init:function(a,b,c,d){return this._root=a,this._callback=b,this.rows=c,this.columns=d,this._render()},setCurrentCell:function(a){this._currentCell=a},markCells:function(){[].forEach.call(this._cellsElements,function(a){var b={column:parseInt(a.dataset.column,10),row:parseInt(a.dataset.row,10)},c=this._currentCell&&b.row<=this._currentCell.row&&b.column<=this._currentCell.column;c===!0?a.classList.add("active"):a.classList.remove("active")}.bind(this))},_generateCells:function(){this._cells=[];for(var a=0;a<this.rows*this.columns;a++){var b=a%this.columns,c=Math.floor(a/this.rows);this._cells.push({column:b,row:c,active:!1})}},_html:function(){var a='<div class="medium-editor-table-builder-grid clearfix">';return a+=this._cellsHTML(),a+="</div>"},_cellsHTML:function(){var a="";return this._generateCells(),this._cells.map(function(b){a+='<a href="#" class="medium-editor-table-builder-cell'+(b.active===!0?" active":"")+'" data-row="'+b.row+'" data-column="'+b.column+'">',a+="</a>"}),a},_render:function(){this._root.innerHTML=this._html(),this._cellsElements=this._root.querySelectorAll("a"),this._bindEvents()},_bindEvents:function(){[].forEach.call(this._cellsElements,function(a){this._onMouseEnter(a),this._onClick(a)}.bind(this))},_onMouseEnter:function(a){var b,c=this;a.addEventListener("mouseenter",function(){clearTimeout(b);var a=this.dataset;b=setTimeout(function(){c._currentCell={column:parseInt(a.column,10),row:parseInt(a.row,10)},c.markCells()},50)})},_onClick:function(a){var b=this;a.addEventListener("click",function(a){a.preventDefault(),b._callback(this.dataset.row,this.dataset.column)})}},g.prototype={init:function(a){this.options=a,this._doc=a.ownerDocument||document,this._root=this._doc.createElement("div"),this._root.className="medium-editor-table-builder",this.grid=new f(this._root,this.options.onClick,this.options.rows,this.options.columns)},getElement:function(){return this._root},hide:function(){this._root.style.display="",this.grid.setCurrentCell({column:-1,row:-1}),this.grid.markCells()},show:function(a){this._root.style.display="block",this._root.style.left=a+"px"}};var i=9;h.prototype={init:function(a){this._editor=a,this._doc=this._editor.options.ownerDocument,this._bindTabBehavior()},insert:function(a,b){var d=this._html(a,b);this._editor.pasteHTML('<table class="medium-editor-table" id="medium-editor-table" width="100%"><tbody>'+d+"</tbody></table>",{cleanAttrs:[],cleanTags:[]});var e=this._doc.getElementById("medium-editor-table");e.removeAttribute("id"),c(this._doc,e.querySelector("td"),!0),this._editor.checkSelection()},_html:function(b,c){var d,e,f="",g=a(this._doc);for(d=0;b>=d;d++){for(f+="<tr>",e=0;c>=e;e++)f+="<td>"+(0===d&&0===e?g:"<br />")+"</td>";f+="</tr>"}return f},_bindTabBehavior:function(){var a=this;[].forEach.call(this._editor.elements,function(b){b.addEventListener("keydown",function(b){a._onKeyDown(b)})})},_onKeyDown:function(a){var f,g=b(this._doc);a.which===i&&d(g,"table")&&(a.preventDefault(),a.stopPropagation(),f=this._getTableElements(g),a.shiftKey?this._tabBackwards(g.previousSibling,f.row):(this._isLastCell(g,f.row,f.root)&&this._insertRow(e(g,"tbody"),f.row.cells.length),c(this._doc,g)))},_getTableElements:function(a){return{cell:e(a,"td"),row:e(a,"tr"),root:e(a,"table")}},_tabBackwards:function(a,b){a=a||this._getPreviousRowLastCell(b),c(this._doc,a,!0)},_insertRow:function(a,b){var c,d=document.createElement("tr"),e="";for(c=0;b>c;c+=1)e+="<td><br /></td>";d.innerHTML=e,a.appendChild(d)},_isLastCell:function(a,b,c){return b.cells.length-1===a.cellIndex&&c.rows.length-1===b.rowIndex},_getPreviousRowLastCell:function(a){return a=a.previousSibling,a?a.cells[a.cells.length-1]:void 0}};var j=MediumEditor.extensions.form.extend({name:"table",aria:"create table",action:"table",contentDefault:"TBL",contentFA:'<i class="fa fa-table"></i>',handleClick:function(){this[this.isActive()===!0?"hide":"show"]()},hide:function(){this.setInactive(),this.builder.hide()},show:function(){this.setActive(),this.builder.show(this.button.offsetLeft);for(var a=this.document.getElementsByClassName("medium-editor-table-builder-grid"),b=0;b<a.length;b++)a[b].style.height=16*this.rows+2+"px",a[b].style.width=16*this.columns+2+"px"},getForm:function(){return this.builder=new g({onClick:function(a,b){this.table.insert(a,b),this.hide()}.bind(this),ownerDocument:this.document,rows:this.rows||10,columns:this.columns||10}),this.table=new h(this.base),this.builder.getElement()}});return j}());

!function(){"use strict";angular.module("ngGeolocation",[]).factory("$geolocation",["$rootScope","$window","$q",function(a,b,c){function d(){return"geolocation"in b.navigator}var e={getCurrentPosition:function(f){var g=c.defer();return d()?b.navigator.geolocation.getCurrentPosition(function(b){a.$apply(function(){e.position.coords=b.coords,e.position.timestamp=b.timestamp,g.resolve(b)})},function(b){a.$apply(function(){g.reject({error:b})})},f):g.reject({error:{code:2,message:"This web browser does not support HTML5 Geolocation"}}),g.promise},watchPosition:function(c){d()?this.watchId||(this.watchId=b.navigator.geolocation.watchPosition(function(b){a.$apply(function(){e.position.coords=b.coords,e.position.timestamp=b.timestamp,delete e.position.error,a.$broadcast("$geolocation.position.changed",b)})},function(b){a.$apply(function(){e.position.error=b,delete e.position.coords,delete e.position.timestamp,a.$broadcast("$geolocation.position.error",b)})},c)):e.position={error:{code:2,message:"This web browser does not support HTML5 Geolocation"}}},clearWatch:function(){this.watchId&&(b.navigator.geolocation.clearWatch(this.watchId),delete this.watchId)},position:{}};return e}])}();

/* ng-infinite-scroll - v1.2.0 - 2015-02-14 */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,b,c,d){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return y=angular.element(b),t=null,u=null,i=null,j=null,q=!0,x=!1,w=null,p=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},r=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+s(a):void 0},s=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},o=function(){var b,c,d,g,h;return j===y?(b=p(j)+s(j[0].document.documentElement),d=r(f)+p(f)):(b=p(j),c=0,void 0!==r(j)&&(c=r(j)),d=r(f)-c+p(f)),x&&(d=p((f[0].ownerDocument||f[0].document).documentElement)),g=d-b,h=g<=p(j)*t+1,h?(i=!0,u?e.$$phase||a.$$phase?e.infiniteScroll():e.$apply(e.infiniteScroll):void 0):i=!1},v=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=d&&(o=v(o,d)),e.$on("$destroy",function(){return j.unbind("scroll",o),null!=w?(w(),w=null):void 0}),m=function(a){return t=parseFloat(a)||0},e.$watch("infiniteScrollDistance",m),m(e.infiniteScrollDistance),l=function(a){return u=!a,u&&i?(i=!1,o()):void 0},e.$watch("infiniteScrollDisabled",l),l(e.infiniteScrollDisabled),n=function(a){return x=a},e.$watch("infiniteScrollUseDocumentBottom",n),n(e.infiniteScrollUseDocumentBottom),h=function(a){return null!=j&&j.unbind("scroll",o),j=a,null!=a?j.bind("scroll",o):void 0},h(y),e.infiniteScrollListenForEvent&&(w=a.$on(e.infiniteScrollListenForEvent,o)),k=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception("invalid infinite-scroll-container attribute.")}},e.$watch("infiniteScrollContainer",k),k(e.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(q=e.$eval(g.infiniteScrollImmediateCheck)),c(function(){return q?o():void 0},0,1)}}}]);

/*! ngstorage 0.3.10 | Copyright (c) 2015 Gias Kay Lee | MIT License */!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(b){return function(){var c="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setKeyPrefix() expects a String.");c=a};var d=a.toJson,e=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setSerializer expects a function.");d=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setDeserializer expects a function.");e=a},this.get=function(a){return e(window[b].getItem(c+a))},this.set=function(a,e){return window[b].setItem(c+a,d(e))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(f,g,h,i,j){function k(a){var b;try{b=g[a]}catch(c){b=!1}if(b&&"localStorage"===a){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(c){b=!1}}return b}var l,m,n=c.length,o=k(b)||(h.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),p={$default:function(b){for(var c in b)a.isDefined(p[c])||(p[c]=a.copy(b[c]));return p.$sync(),p},$reset:function(a){for(var b in p)"$"===b[0]||delete p[b]&&o.removeItem(c+b);return p.$default(a)},$sync:function(){for(var a,b=0,d=o.length;d>b;b++)(a=o.key(b))&&c===a.slice(0,n)&&(p[a.slice(n)]=e(o.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(p,l)){b=a.copy(l),a.forEach(p,function(e,f){a.isDefined(e)&&"$"!==f[0]&&(o.setItem(c+f,d(e)),delete b[f])});for(var e in b)o.removeItem(c+e);l=a.copy(p)}}};return p.$sync(),l=a.copy(p),f.$watch(function(){m||(m=i(p.$apply,100,!1))}),g.addEventListener&&g.addEventListener("storage",function(b){if(b.key){var d=j[0];d.hasFocus&&d.hasFocus()||c!==b.key.slice(0,n)||(b.newValue?p[b.key.slice(n)]=e(b.newValue):delete p[b.key.slice(n)],l=a.copy(p),f.$apply())}}),g.addEventListener&&g.addEventListener("beforeunload",function(){p.$apply()}),p}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"))});

/* -----------------------------------------------
/* Author : Vincent Garreau  - vincentgarreau.com
/* MIT license: http://opensource.org/licenses/MIT
/* Demo / Generator : vincentgarreau.com/particles.js
/* GitHub : github.com/VincentGarreau/particles.js
/* How to use? : Check the GitHub README
/* v2.0.0
/* ----------------------------------------------- */
function hexToRgb(e){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(a,function(e,a,t,i){return a+a+t+t+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function clamp(e,a,t){return Math.min(Math.max(e,a),t)}function isInArray(e,a){return a.indexOf(e)>-1}var pJS=function(e,a){var t=document.querySelector("#"+e+" > .particles-js-canvas-el");this.pJS={canvas:{el:t,w:t.offsetWidth,h:t.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var i=this.pJS;a&&Object.deepExtend(i,a),i.tmp.obj={size_value:i.particles.size.value,size_anim_speed:i.particles.size.anim.speed,move_speed:i.particles.move.speed,line_linked_distance:i.particles.line_linked.distance,line_linked_width:i.particles.line_linked.width,mode_grab_distance:i.interactivity.modes.grab.distance,mode_bubble_distance:i.interactivity.modes.bubble.distance,mode_bubble_size:i.interactivity.modes.bubble.size,mode_repulse_distance:i.interactivity.modes.repulse.distance},i.fn.retinaInit=function(){i.retina_detect&&window.devicePixelRatio>1?(i.canvas.pxratio=window.devicePixelRatio,i.tmp.retina=!0):(i.canvas.pxratio=1,i.tmp.retina=!1),i.canvas.w=i.canvas.el.offsetWidth*i.canvas.pxratio,i.canvas.h=i.canvas.el.offsetHeight*i.canvas.pxratio,i.particles.size.value=i.tmp.obj.size_value*i.canvas.pxratio,i.particles.size.anim.speed=i.tmp.obj.size_anim_speed*i.canvas.pxratio,i.particles.move.speed=i.tmp.obj.move_speed*i.canvas.pxratio,i.particles.line_linked.distance=i.tmp.obj.line_linked_distance*i.canvas.pxratio,i.interactivity.modes.grab.distance=i.tmp.obj.mode_grab_distance*i.canvas.pxratio,i.interactivity.modes.bubble.distance=i.tmp.obj.mode_bubble_distance*i.canvas.pxratio,i.particles.line_linked.width=i.tmp.obj.line_linked_width*i.canvas.pxratio,i.interactivity.modes.bubble.size=i.tmp.obj.mode_bubble_size*i.canvas.pxratio,i.interactivity.modes.repulse.distance=i.tmp.obj.mode_repulse_distance*i.canvas.pxratio},i.fn.canvasInit=function(){i.canvas.ctx=i.canvas.el.getContext("2d")},i.fn.canvasSize=function(){i.canvas.el.width=i.canvas.w,i.canvas.el.height=i.canvas.h,i&&i.interactivity.events.resize&&window.addEventListener("resize",function(){i.canvas.w=i.canvas.el.offsetWidth,i.canvas.h=i.canvas.el.offsetHeight,i.tmp.retina&&(i.canvas.w*=i.canvas.pxratio,i.canvas.h*=i.canvas.pxratio),i.canvas.el.width=i.canvas.w,i.canvas.el.height=i.canvas.h,i.particles.move.enable||(i.fn.particlesEmpty(),i.fn.particlesCreate(),i.fn.particlesDraw(),i.fn.vendors.densityAutoParticles()),i.fn.vendors.densityAutoParticles()})},i.fn.canvasPaint=function(){i.canvas.ctx.fillRect(0,0,i.canvas.w,i.canvas.h)},i.fn.canvasClear=function(){i.canvas.ctx.clearRect(0,0,i.canvas.w,i.canvas.h)},i.fn.particle=function(e,a,t){if(this.radius=(i.particles.size.random?Math.random():1)*i.particles.size.value,i.particles.size.anim.enable&&(this.size_status=!1,this.vs=i.particles.size.anim.speed/100,i.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=t?t.x:Math.random()*i.canvas.w,this.y=t?t.y:Math.random()*i.canvas.h,this.x>i.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>i.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),i.particles.move.bounce&&i.fn.vendors.checkOverlap(this,t),this.color={},"object"==typeof e.value)if(e.value instanceof Array){var s=e.value[Math.floor(Math.random()*i.particles.color.value.length)];this.color.rgb=hexToRgb(s)}else void 0!=e.value.r&&void 0!=e.value.g&&void 0!=e.value.b&&(this.color.rgb={r:e.value.r,g:e.value.g,b:e.value.b}),void 0!=e.value.h&&void 0!=e.value.s&&void 0!=e.value.l&&(this.color.hsl={h:e.value.h,s:e.value.s,l:e.value.l});else"random"==e.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof e.value&&(this.color=e,this.color.rgb=hexToRgb(this.color.value));this.opacity=(i.particles.opacity.random?Math.random():1)*i.particles.opacity.value,i.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=i.particles.opacity.anim.speed/100,i.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var n={};switch(i.particles.move.direction){case"top":n={x:0,y:-1};break;case"top-right":n={x:.5,y:-.5};break;case"right":n={x:1,y:-0};break;case"bottom-right":n={x:.5,y:.5};break;case"bottom":n={x:0,y:1};break;case"bottom-left":n={x:-.5,y:1};break;case"left":n={x:-1,y:0};break;case"top-left":n={x:-.5,y:-.5};break;default:n={x:0,y:0}}i.particles.move.straight?(this.vx=n.x,this.vy=n.y,i.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=n.x+Math.random()-.5,this.vy=n.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var r=i.particles.shape.type;if("object"==typeof r){if(r instanceof Array){var c=r[Math.floor(Math.random()*r.length)];this.shape=c}}else this.shape=r;if("image"==this.shape){var o=i.particles.shape;this.img={src:o.image.src,ratio:o.image.width/o.image.height},this.img.ratio||(this.img.ratio=1),"svg"==i.tmp.img_type&&void 0!=i.tmp.source_svg&&(i.fn.vendors.createSvgImg(this),i.tmp.pushing&&(this.img.loaded=!1))}},i.fn.particle.prototype.draw=function(){function e(){i.canvas.ctx.drawImage(r,a.x-t,a.y-t,2*t,2*t/a.img.ratio)}var a=this;if(void 0!=a.radius_bubble)var t=a.radius_bubble;else var t=a.radius;if(void 0!=a.opacity_bubble)var s=a.opacity_bubble;else var s=a.opacity;if(a.color.rgb)var n="rgba("+a.color.rgb.r+","+a.color.rgb.g+","+a.color.rgb.b+","+s+")";else var n="hsla("+a.color.hsl.h+","+a.color.hsl.s+"%,"+a.color.hsl.l+"%,"+s+")";switch(i.canvas.ctx.fillStyle=n,i.canvas.ctx.beginPath(),a.shape){case"circle":i.canvas.ctx.arc(a.x,a.y,t,0,2*Math.PI,!1);break;case"edge":i.canvas.ctx.rect(a.x-t,a.y-t,2*t,2*t);break;case"triangle":i.fn.vendors.drawShape(i.canvas.ctx,a.x-t,a.y+t/1.66,2*t,3,2);break;case"polygon":i.fn.vendors.drawShape(i.canvas.ctx,a.x-t/(i.particles.shape.polygon.nb_sides/3.5),a.y-t/.76,2.66*t/(i.particles.shape.polygon.nb_sides/3),i.particles.shape.polygon.nb_sides,1);break;case"star":i.fn.vendors.drawShape(i.canvas.ctx,a.x-2*t/(i.particles.shape.polygon.nb_sides/4),a.y-t/1.52,2*t*2.66/(i.particles.shape.polygon.nb_sides/3),i.particles.shape.polygon.nb_sides,2);break;case"image":if("svg"==i.tmp.img_type)var r=a.img.obj;else var r=i.tmp.img_obj;r&&e()}i.canvas.ctx.closePath(),i.particles.shape.stroke.width>0&&(i.canvas.ctx.strokeStyle=i.particles.shape.stroke.color,i.canvas.ctx.lineWidth=i.particles.shape.stroke.width,i.canvas.ctx.stroke()),i.canvas.ctx.fill()},i.fn.particlesCreate=function(){for(var e=0;e<i.particles.number.value;e++)i.particles.array.push(new i.fn.particle(i.particles.color,i.particles.opacity.value))},i.fn.particlesUpdate=function(){for(var e=0;e<i.particles.array.length;e++){var a=i.particles.array[e];if(i.particles.move.enable){var t=i.particles.move.speed/2;a.x+=a.vx*t,a.y+=a.vy*t}if(i.particles.opacity.anim.enable&&(1==a.opacity_status?(a.opacity>=i.particles.opacity.value&&(a.opacity_status=!1),a.opacity+=a.vo):(a.opacity<=i.particles.opacity.anim.opacity_min&&(a.opacity_status=!0),a.opacity-=a.vo),a.opacity<0&&(a.opacity=0)),i.particles.size.anim.enable&&(1==a.size_status?(a.radius>=i.particles.size.value&&(a.size_status=!1),a.radius+=a.vs):(a.radius<=i.particles.size.anim.size_min&&(a.size_status=!0),a.radius-=a.vs),a.radius<0&&(a.radius=0)),"bounce"==i.particles.move.out_mode)var s={x_left:a.radius,x_right:i.canvas.w,y_top:a.radius,y_bottom:i.canvas.h};else var s={x_left:-a.radius,x_right:i.canvas.w+a.radius,y_top:-a.radius,y_bottom:i.canvas.h+a.radius};switch(a.x-a.radius>i.canvas.w?(a.x=s.x_left,a.y=Math.random()*i.canvas.h):a.x+a.radius<0&&(a.x=s.x_right,a.y=Math.random()*i.canvas.h),a.y-a.radius>i.canvas.h?(a.y=s.y_top,a.x=Math.random()*i.canvas.w):a.y+a.radius<0&&(a.y=s.y_bottom,a.x=Math.random()*i.canvas.w),i.particles.move.out_mode){case"bounce":a.x+a.radius>i.canvas.w?a.vx=-a.vx:a.x-a.radius<0&&(a.vx=-a.vx),a.y+a.radius>i.canvas.h?a.vy=-a.vy:a.y-a.radius<0&&(a.vy=-a.vy)}if(isInArray("grab",i.interactivity.events.onhover.mode)&&i.fn.modes.grabParticle(a),(isInArray("bubble",i.interactivity.events.onhover.mode)||isInArray("bubble",i.interactivity.events.onclick.mode))&&i.fn.modes.bubbleParticle(a),(isInArray("repulse",i.interactivity.events.onhover.mode)||isInArray("repulse",i.interactivity.events.onclick.mode))&&i.fn.modes.repulseParticle(a),i.particles.line_linked.enable||i.particles.move.attract.enable)for(var n=e+1;n<i.particles.array.length;n++){var r=i.particles.array[n];i.particles.line_linked.enable&&i.fn.interact.linkParticles(a,r),i.particles.move.attract.enable&&i.fn.interact.attractParticles(a,r),i.particles.move.bounce&&i.fn.interact.bounceParticles(a,r)}}},i.fn.particlesDraw=function(){i.canvas.ctx.clearRect(0,0,i.canvas.w,i.canvas.h),i.fn.particlesUpdate();for(var e=0;e<i.particles.array.length;e++){var a=i.particles.array[e];a.draw()}},i.fn.particlesEmpty=function(){i.particles.array=[]},i.fn.particlesRefresh=function(){cancelRequestAnimFrame(i.fn.checkAnimFrame),cancelRequestAnimFrame(i.fn.drawAnimFrame),i.tmp.source_svg=void 0,i.tmp.img_obj=void 0,i.tmp.count_svg=0,i.fn.particlesEmpty(),i.fn.canvasClear(),i.fn.vendors.start()},i.fn.interact.linkParticles=function(e,a){var t=e.x-a.x,s=e.y-a.y,n=Math.sqrt(t*t+s*s);if(n<=i.particles.line_linked.distance){var r=i.particles.line_linked.opacity-n/(1/i.particles.line_linked.opacity)/i.particles.line_linked.distance;if(r>0){var c=i.particles.line_linked.color_rgb_line;i.canvas.ctx.strokeStyle="rgba("+c.r+","+c.g+","+c.b+","+r+")",i.canvas.ctx.lineWidth=i.particles.line_linked.width,i.canvas.ctx.beginPath(),i.canvas.ctx.moveTo(e.x,e.y),i.canvas.ctx.lineTo(a.x,a.y),i.canvas.ctx.stroke(),i.canvas.ctx.closePath()}}},i.fn.interact.attractParticles=function(e,a){var t=e.x-a.x,s=e.y-a.y,n=Math.sqrt(t*t+s*s);if(n<=i.particles.line_linked.distance){var r=t/(1e3*i.particles.move.attract.rotateX),c=s/(1e3*i.particles.move.attract.rotateY);e.vx-=r,e.vy-=c,a.vx+=r,a.vy+=c}},i.fn.interact.bounceParticles=function(e,a){var t=e.x-a.x,i=e.y-a.y,s=Math.sqrt(t*t+i*i),n=e.radius+a.radius;n>=s&&(e.vx=-e.vx,e.vy=-e.vy,a.vx=-a.vx,a.vy=-a.vy)},i.fn.modes.pushParticles=function(e,a){i.tmp.pushing=!0;for(var t=0;e>t;t++)i.particles.array.push(new i.fn.particle(i.particles.color,i.particles.opacity.value,{x:a?a.pos_x:Math.random()*i.canvas.w,y:a?a.pos_y:Math.random()*i.canvas.h})),t==e-1&&(i.particles.move.enable||i.fn.particlesDraw(),i.tmp.pushing=!1)},i.fn.modes.removeParticles=function(e){i.particles.array.splice(0,e),i.particles.move.enable||i.fn.particlesDraw()},i.fn.modes.bubbleParticle=function(e){function a(){e.opacity_bubble=e.opacity,e.radius_bubble=e.radius}function t(a,t,s,n,c){if(a!=t)if(i.tmp.bubble_duration_end){if(void 0!=s){var o=n-p*(n-a)/i.interactivity.modes.bubble.duration,l=a-o;d=a+l,"size"==c&&(e.radius_bubble=d),"opacity"==c&&(e.opacity_bubble=d)}}else if(r<=i.interactivity.modes.bubble.distance){if(void 0!=s)var v=s;else var v=n;if(v!=a){var d=n-p*(n-a)/i.interactivity.modes.bubble.duration;"size"==c&&(e.radius_bubble=d),"opacity"==c&&(e.opacity_bubble=d)}}else"size"==c&&(e.radius_bubble=void 0),"opacity"==c&&(e.opacity_bubble=void 0)}if(i.interactivity.events.onhover.enable&&isInArray("bubble",i.interactivity.events.onhover.mode)){var s=e.x-i.interactivity.mouse.pos_x,n=e.y-i.interactivity.mouse.pos_y,r=Math.sqrt(s*s+n*n),c=1-r/i.interactivity.modes.bubble.distance;if(r<=i.interactivity.modes.bubble.distance){if(c>=0&&"mousemove"==i.interactivity.status){if(i.interactivity.modes.bubble.size!=i.particles.size.value)if(i.interactivity.modes.bubble.size>i.particles.size.value){var o=e.radius+i.interactivity.modes.bubble.size*c;o>=0&&(e.radius_bubble=o)}else{var l=e.radius-i.interactivity.modes.bubble.size,o=e.radius-l*c;o>0?e.radius_bubble=o:e.radius_bubble=0}if(i.interactivity.modes.bubble.opacity!=i.particles.opacity.value)if(i.interactivity.modes.bubble.opacity>i.particles.opacity.value){var v=i.interactivity.modes.bubble.opacity*c;v>e.opacity&&v<=i.interactivity.modes.bubble.opacity&&(e.opacity_bubble=v)}else{var v=e.opacity-(i.particles.opacity.value-i.interactivity.modes.bubble.opacity)*c;v<e.opacity&&v>=i.interactivity.modes.bubble.opacity&&(e.opacity_bubble=v)}}}else a();"mouseleave"==i.interactivity.status&&a()}else if(i.interactivity.events.onclick.enable&&isInArray("bubble",i.interactivity.events.onclick.mode)){if(i.tmp.bubble_clicking){var s=e.x-i.interactivity.mouse.click_pos_x,n=e.y-i.interactivity.mouse.click_pos_y,r=Math.sqrt(s*s+n*n),p=((new Date).getTime()-i.interactivity.mouse.click_time)/1e3;p>i.interactivity.modes.bubble.duration&&(i.tmp.bubble_duration_end=!0),p>2*i.interactivity.modes.bubble.duration&&(i.tmp.bubble_clicking=!1,i.tmp.bubble_duration_end=!1)}i.tmp.bubble_clicking&&(t(i.interactivity.modes.bubble.size,i.particles.size.value,e.radius_bubble,e.radius,"size"),t(i.interactivity.modes.bubble.opacity,i.particles.opacity.value,e.opacity_bubble,e.opacity,"opacity"))}},i.fn.modes.repulseParticle=function(e){function a(){var a=Math.atan2(d,p);if(e.vx=u*Math.cos(a),e.vy=u*Math.sin(a),"bounce"==i.particles.move.out_mode){var t={x:e.x+e.vx,y:e.y+e.vy};t.x+e.radius>i.canvas.w?e.vx=-e.vx:t.x-e.radius<0&&(e.vx=-e.vx),t.y+e.radius>i.canvas.h?e.vy=-e.vy:t.y-e.radius<0&&(e.vy=-e.vy)}}if(i.interactivity.events.onhover.enable&&isInArray("repulse",i.interactivity.events.onhover.mode)&&"mousemove"==i.interactivity.status){var t=e.x-i.interactivity.mouse.pos_x,s=e.y-i.interactivity.mouse.pos_y,n=Math.sqrt(t*t+s*s),r={x:t/n,y:s/n},c=i.interactivity.modes.repulse.distance,o=100,l=clamp(1/c*(-1*Math.pow(n/c,2)+1)*c*o,0,50),v={x:e.x+r.x*l,y:e.y+r.y*l};"bounce"==i.particles.move.out_mode?(v.x-e.radius>0&&v.x+e.radius<i.canvas.w&&(e.x=v.x),v.y-e.radius>0&&v.y+e.radius<i.canvas.h&&(e.y=v.y)):(e.x=v.x,e.y=v.y)}else if(i.interactivity.events.onclick.enable&&isInArray("repulse",i.interactivity.events.onclick.mode))if(i.tmp.repulse_finish||(i.tmp.repulse_count++,i.tmp.repulse_count==i.particles.array.length&&(i.tmp.repulse_finish=!0)),i.tmp.repulse_clicking){var c=Math.pow(i.interactivity.modes.repulse.distance/6,3),p=i.interactivity.mouse.click_pos_x-e.x,d=i.interactivity.mouse.click_pos_y-e.y,m=p*p+d*d,u=-c/m*1;c>=m&&a()}else 0==i.tmp.repulse_clicking&&(e.vx=e.vx_i,e.vy=e.vy_i)},i.fn.modes.grabParticle=function(e){if(i.interactivity.events.onhover.enable&&"mousemove"==i.interactivity.status){var a=e.x-i.interactivity.mouse.pos_x,t=e.y-i.interactivity.mouse.pos_y,s=Math.sqrt(a*a+t*t);if(s<=i.interactivity.modes.grab.distance){var n=i.interactivity.modes.grab.line_linked.opacity-s/(1/i.interactivity.modes.grab.line_linked.opacity)/i.interactivity.modes.grab.distance;if(n>0){var r=i.particles.line_linked.color_rgb_line;i.canvas.ctx.strokeStyle="rgba("+r.r+","+r.g+","+r.b+","+n+")",i.canvas.ctx.lineWidth=i.particles.line_linked.width,i.canvas.ctx.beginPath(),i.canvas.ctx.moveTo(e.x,e.y),i.canvas.ctx.lineTo(i.interactivity.mouse.pos_x,i.interactivity.mouse.pos_y),i.canvas.ctx.stroke(),i.canvas.ctx.closePath()}}}},i.fn.vendors.eventsListeners=function(){"window"==i.interactivity.detect_on?i.interactivity.el=window:i.interactivity.el=i.canvas.el,(i.interactivity.events.onhover.enable||i.interactivity.events.onclick.enable)&&(i.interactivity.el.addEventListener("mousemove",function(e){if(i.interactivity.el==window)var a=e.clientX,t=e.clientY;else var a=e.offsetX||e.clientX,t=e.offsetY||e.clientY;i.interactivity.mouse.pos_x=a,i.interactivity.mouse.pos_y=t,i.tmp.retina&&(i.interactivity.mouse.pos_x*=i.canvas.pxratio,i.interactivity.mouse.pos_y*=i.canvas.pxratio),i.interactivity.status="mousemove"}),i.interactivity.el.addEventListener("mouseleave",function(e){i.interactivity.mouse.pos_x=null,i.interactivity.mouse.pos_y=null,i.interactivity.status="mouseleave"})),i.interactivity.events.onclick.enable&&i.interactivity.el.addEventListener("click",function(){if(i.interactivity.mouse.click_pos_x=i.interactivity.mouse.pos_x,i.interactivity.mouse.click_pos_y=i.interactivity.mouse.pos_y,i.interactivity.mouse.click_time=(new Date).getTime(),i.interactivity.events.onclick.enable)switch(i.interactivity.events.onclick.mode){case"push":i.particles.move.enable?i.fn.modes.pushParticles(i.interactivity.modes.push.particles_nb,i.interactivity.mouse):1==i.interactivity.modes.push.particles_nb?i.fn.modes.pushParticles(i.interactivity.modes.push.particles_nb,i.interactivity.mouse):i.interactivity.modes.push.particles_nb>1&&i.fn.modes.pushParticles(i.interactivity.modes.push.particles_nb);break;case"remove":i.fn.modes.removeParticles(i.interactivity.modes.remove.particles_nb);break;case"bubble":i.tmp.bubble_clicking=!0;break;case"repulse":i.tmp.repulse_clicking=!0,i.tmp.repulse_count=0,i.tmp.repulse_finish=!1,setTimeout(function(){i.tmp.repulse_clicking=!1},1e3*i.interactivity.modes.repulse.duration)}})},i.fn.vendors.densityAutoParticles=function(){if(i.particles.number.density.enable){var e=i.canvas.el.width*i.canvas.el.height/1e3;i.tmp.retina&&(e/=2*i.canvas.pxratio);var a=e*i.particles.number.value/i.particles.number.density.value_area,t=i.particles.array.length-a;0>t?i.fn.modes.pushParticles(Math.abs(t)):i.fn.modes.removeParticles(t)}},i.fn.vendors.checkOverlap=function(e,a){for(var t=0;t<i.particles.array.length;t++){var s=i.particles.array[t],n=e.x-s.x,r=e.y-s.y,c=Math.sqrt(n*n+r*r);c<=e.radius+s.radius&&(e.x=a?a.x:Math.random()*i.canvas.w,e.y=a?a.y:Math.random()*i.canvas.h,i.fn.vendors.checkOverlap(e))}},i.fn.vendors.createSvgImg=function(e){var a=i.tmp.source_svg,t=/#([0-9A-F]{3,6})/gi,s=a.replace(t,function(a,t,i,s){if(e.color.rgb)var n="rgba("+e.color.rgb.r+","+e.color.rgb.g+","+e.color.rgb.b+","+e.opacity+")";else var n="hsla("+e.color.hsl.h+","+e.color.hsl.s+"%,"+e.color.hsl.l+"%,"+e.opacity+")";return n}),n=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),r=window.URL||window.webkitURL||window,c=r.createObjectURL(n),o=new Image;o.addEventListener("load",function(){e.img.obj=o,e.img.loaded=!0,r.revokeObjectURL(c),i.tmp.count_svg++}),o.src=c},i.fn.vendors.destroypJS=function(){cancelAnimationFrame(i.fn.drawAnimFrame),t.remove(),pJSDom=null},i.fn.vendors.drawShape=function(e,a,t,i,s,n){var r=s*n,c=s/n,o=180*(c-2)/c,l=Math.PI-Math.PI*o/180;e.save(),e.beginPath(),e.translate(a,t),e.moveTo(0,0);for(var v=0;r>v;v++)e.lineTo(i,0),e.translate(i,0),e.rotate(l);e.fill(),e.restore()},i.fn.vendors.exportImg=function(){window.open(i.canvas.el.toDataURL("image/png"),"_blank")},i.fn.vendors.loadImg=function(e){if(i.tmp.img_error=void 0,""!=i.particles.shape.image.src)if("svg"==e){var a=new XMLHttpRequest;a.open("GET",i.particles.shape.image.src),a.onreadystatechange=function(e){4==a.readyState&&(200==a.status?(i.tmp.source_svg=e.currentTarget.response,i.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),i.tmp.img_error=!0))},a.send()}else{var t=new Image;t.addEventListener("load",function(){i.tmp.img_obj=t,i.fn.vendors.checkBeforeDraw()}),t.src=i.particles.shape.image.src}else console.log("Error pJS - No image.src"),i.tmp.img_error=!0},i.fn.vendors.draw=function(){"image"==i.particles.shape.type?"svg"==i.tmp.img_type?i.tmp.count_svg>=i.particles.number.value?(i.fn.particlesDraw(),i.particles.move.enable?i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw):cancelRequestAnimFrame(i.fn.drawAnimFrame)):i.tmp.img_error||(i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw)):void 0!=i.tmp.img_obj?(i.fn.particlesDraw(),i.particles.move.enable?i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw):cancelRequestAnimFrame(i.fn.drawAnimFrame)):i.tmp.img_error||(i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw)):(i.fn.particlesDraw(),i.particles.move.enable?i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw):cancelRequestAnimFrame(i.fn.drawAnimFrame))},i.fn.vendors.checkBeforeDraw=function(){"image"==i.particles.shape.type?"svg"==i.tmp.img_type&&void 0==i.tmp.source_svg?i.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(i.tmp.checkAnimFrame),i.tmp.img_error||(i.fn.vendors.init(),i.fn.vendors.draw())):(i.fn.vendors.init(),i.fn.vendors.draw())},i.fn.vendors.init=function(){i.fn.retinaInit(),i.fn.canvasInit(),i.fn.canvasSize(),i.fn.canvasPaint(),i.fn.particlesCreate(),i.fn.vendors.densityAutoParticles(),i.particles.line_linked.color_rgb_line=hexToRgb(i.particles.line_linked.color)},i.fn.vendors.start=function(){isInArray("image",i.particles.shape.type)?(i.tmp.img_type=i.particles.shape.image.src.substr(i.particles.shape.image.src.length-3),i.fn.vendors.loadImg(i.tmp.img_type)):i.fn.vendors.checkBeforeDraw()},i.fn.vendors.eventsListeners(),i.fn.vendors.start()};Object.deepExtend=function(e,a){for(var t in a)a[t]&&a[t].constructor&&a[t].constructor===Object?(e[t]=e[t]||{},arguments.callee(e[t],a[t])):e[t]=a[t];return e},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),window.pJSDom=[],window.particlesJS=function(e,a){"string"!=typeof e&&(a=e,e="particles-js"),e||(e="particles-js");var t=document.getElementById(e),i="particles-js-canvas-el",s=t.getElementsByClassName(i);if(s.length)for(;s.length>0;)t.removeChild(s[0]);var n=document.createElement("canvas");n.className=i,n.style.width="100%",n.style.height="100%";var r=document.getElementById(e).appendChild(n);null!=r&&pJSDom.push(new pJS(e,a))},window.particlesJS.load=function(e,a,t){var i=new XMLHttpRequest;i.open("GET",a),i.onreadystatechange=function(a){if(4==i.readyState)if(200==i.status){var s=JSON.parse(a.currentTarget.response);window.particlesJS(e,s),t&&t()}else console.log("Error pJS - XMLHttpRequest status: "+i.status),console.log("Error pJS - File config not found")},i.send()};

/**
 * Restful Resources service for AngularJS apps
 * @version v1.4.0 - 2015-04-03 * @link https://github.com/mgonto/restangular
 * @author Martin Gontovnikas <martin@gon.to>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,e[f]=a.isSafe(g.method)?function(){return b(_.extend(g,{url:c}))}:function(a){return b(_.extend(g,{url:c,data:a}))}}),e}a.configuration=b;var d=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.contains(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&e.test(a):b.absoluteUrl},b.absoluteUrl=_.isUndefined(b.absoluteUrl)?!0:b.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)},b.encodeIds=_.isUndefined(b.encodeIds)?!0:b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.jsonp=_.isUndefined(b.jsonp)?!1:b.jsonp,a.setJsonp=function(a){b.jsonp=a},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.isRestangularized=function(a){return!!a[b.restangularFields.restangularized]},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=b;return _.each(c,function(a){d&&(d=d[a])}),angular.copy(d)},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=_.isUndefined(b.useCannonicalId)?!1:b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId],d=b.isValidId(c)?c:b.getIdFromElem(a);return d},b.responseInterceptors=b.responseInterceptors||[],b.defaultResponseInterceptor=function(a){return a},b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;return _.each(h,function(a){i=a(i,c,d,e,f,g)}),i},a.addResponseInterceptor=function(a){return b.responseInterceptors.push(a),this},b.errorInterceptors=b.errorInterceptors||[],a.addErrorInterceptor=function(a){return b.errorInterceptors.push(a),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,a.setErrorInterceptor=a.addErrorInterceptor,b.requestInterceptors=b.requestInterceptors||[],b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}},b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors),j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)},a.addRequestInterceptor=function(a){return b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(a){return b.requestInterceptors.push(a),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},a.setRestangularizePromiseInterceptor=function(a){return b.restangularizePromiseInterceptor=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.contains(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(c,d,e){var f=null,g=null;2===arguments.length?g=d:(g=e,f=d);var h=b.transformers[c];return h||(h=b.transformers[c]=[]),h.push(function(a,b){return _.isNull(f)||a===f?g(b):b}),a},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer])return a;var g=b.transformers[d],h=a;return g&&_.each(g,function(a){h=a(c,h)}),b.onElemRestangularized(h,c,d,e)},b.transformLocalElements=_.isUndefined(b.transformLocalElements)?!1:b.transformLocalElements,a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a},b.fullResponse=_.isUndefined(b.fullResponse)?!1:b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common),l=_.defaults(f||{},this.config.defaultHeaders);i&&(b.isSafe(j)?l["If-None-Match"]=i:l["If-Match"]=i);var m=this.base(a);if(h){var n="";/\/$/.test(m)||(n+="/"),n+=h,m+=n}return this.config.suffix&&-1===m.indexOf(this.config.suffix,m.length-this.config.suffix.length)&&!this.config.getUrlFromElem(a)&&(m+=this.config.suffix),a[this.config.restangularFields.httpConfig]=void 0,c(this.config,d,m,{getList:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(e,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(e,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(e,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(e,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(e,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(e,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(e,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(e,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new f,g.prototype.normalizeUrl=function(a){var b=/(http[s]?:\/\/)?(.*)?/.exec(a);return b[2]=b[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof b[1]?b[1]+b[2]:b[2]},g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&!d.singleOne&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a=a.replace(/\/$/,"")+"/"+e,c.normalizeUrl(a)},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},g.prototype.fetchRequestedUrl=function(a,c){function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(a,b,c){for(var e=d(a),f=0;f<e.length;f++)b.call(c,a[e[f]],e[f]);return e}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}var g=this.fetchUrl(a,c),h=a[b.restangularFields.reqParams];if(!h)return g+(this.config.suffix||"");var i=[];return e(h,function(a,b){null!==a&&void 0!==a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),i.push(f(b)+"="+f(a))}))}),g+(this.config.suffix||"")+(-1===g.indexOf("?")?"?":"&")+i.join("&")},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(b){function f(a,c,d,e,f){if(c[b.restangularFields.route]=d,c[b.restangularFields.getRestangularUrl]=_.bind(P.fetchUrl,P,c),c[b.restangularFields.getRequestedUrl]=_.bind(P.fetchRequestedUrl,P,c),c[b.restangularFields.addRestangularMethod]=_.bind(L,c),c[b.restangularFields.clone]=_.bind(r,c,c),c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e,c[b.restangularFields.withHttpConfig]=_.bind(z,c),c[b.restangularFields.plain]=_.bind(p,c,c),c[b.restangularFields.restangularized]=!0,c[b.restangularFields.one]=_.bind(g,c,c),c[b.restangularFields.all]=_.bind(h,c,c),c[b.restangularFields.several]=_.bind(i,c,c),c[b.restangularFields.oneUrl]=_.bind(j,c,c),c[b.restangularFields.allUrl]=_.bind(k,c,c),c[b.restangularFields.fromServer]=!!f,a&&b.shouldSaveParent(d)){var l=b.getIdFromElem(a),m=b.getUrlFromElem(a),n=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),o=_.pick(a,n);b.isValidId(l)&&b.setIdToElem(o,l,d),b.isValidId(m)&&b.setUrlToElem(o,m,d),c[b.restangularFields.parentResource]=o}else c[b.restangularFields.parentResource]=null;return c}function g(a,c,d,e){var f;if(_.isNumber(c)||_.isNumber(a))throw f="You're creating a Restangular entity with the number ",f+="instead of the route or the parent. For example, you can't call .one(12).",new Error(f);if(_.isUndefined(c))throw f="You're creating a Restangular entity either without the path. ",f+="For example you can't call .one(). Please check if your arguments are valid.",new Error(f);var g={};return b.setIdToElem(g,d,c),b.setFieldToElem(b.restangularFields.singleOne,g,e),s(a,g,c,!1)}function h(a,b){return t(a,[],b,!1)}function i(a,c){var d=[];return d[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),t(a,d,c,!1)}function j(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),s(a,e,c,!1)}function k(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),t(a,e,c,!1)}function l(a,c,d){return a.call=_.bind(m,a),a.get=_.bind(n,a),a[b.restangularFields.restangularCollection]=c,c&&(a.push=_.bind(m,a,"push")),a.$object=d,b.restangularizePromiseInterceptor&&b.restangularizePromiseInterceptor(a),a}function m(a){var c=d.defer(),e=arguments,f={};return this.then(function(b){var d=Array.prototype.slice.call(e,1),g=b[a];g.apply(b,d),f=b,c.resolve(b)}),l(c.promise,this[b.restangularFields.restangularCollection],f)}function n(a){var c=d.defer(),e={};return this.then(function(b){e=b[a],c.resolve(e)}),l(c.promise,this[b.restangularFields.restangularCollection],e)}function o(a,c,d,e){return _.extend(e,d),b.fullResponse?a.resolve(_.extend(c,{data:d})):(a.resolve(d),void 0)}function p(a){if(_.isArray(a)){var c=[];return _.each(a,function(a){c.push(b.isRestangularized(a)?p(a):a)}),c}return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}function q(a){a[b.restangularFields.customOperation]=_.bind(K,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?K:function(a,b,c,d,e){return _.bind(K,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a[b.restangularFields.customGETLIST]=_.bind(y,a),a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function r(a,c){var d=angular.copy(a,c);return s(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],!0)}function s(a,c,d,e,g,h){var i=b.onBeforeElemRestangularized(c,!1,d),j=f(a,i,d,h,e);return b.useCannonicalId&&(j[b.restangularFields.cannonicalId]=b.getIdFromElem(j)),g&&(j[b.restangularFields.getParentList]=function(){return g}),j[b.restangularFields.restangularCollection]=!1,j[b.restangularFields.get]=_.bind(C,j),j[b.restangularFields.getList]=_.bind(y,j),j[b.restangularFields.put]=_.bind(E,j),j[b.restangularFields.post]=_.bind(F,j),j[b.restangularFields.remove]=_.bind(D,j),j[b.restangularFields.head]=_.bind(G,j),j[b.restangularFields.trace]=_.bind(H,j),j[b.restangularFields.options]=_.bind(I,j),j[b.restangularFields.patch]=_.bind(J,j),j[b.restangularFields.save]=_.bind(A,j),q(j),b.transformElem(j,!1,d,O,!0)}function t(a,c,d,e,g){var h=b.onBeforeElemRestangularized(c,!0,d),i=f(a,h,d,g,e);return i[b.restangularFields.restangularCollection]=!0,i[b.restangularFields.post]=_.bind(F,i,null),i[b.restangularFields.remove]=_.bind(D,i),i[b.restangularFields.head]=_.bind(G,i),i[b.restangularFields.trace]=_.bind(H,i),i[b.restangularFields.putElement]=_.bind(w,i),i[b.restangularFields.options]=_.bind(I,i),i[b.restangularFields.patch]=_.bind(J,i),i[b.restangularFields.get]=_.bind(v,i),i[b.restangularFields.getList]=_.bind(y,i,null),q(i),b.transformElem(i,!0,d,O,!0)}function u(a,b,c){var d=t(a,b,c,!1);return _.each(d,function(b){s(a,b,c,!1)}),d}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,c,e){var f=this,g=this[a],h=d.defer(),i=[];return i=b.transformElem(i,!0,g[b.restangularFields.route],O),g.put(c,e).then(function(b){var c=r(f);c[a]=b,i=c,h.resolve(c)},function(a){h.reject(a)}),l(h.promise,!0,i)}function x(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g),i=f.headers("ETag");return h&&i&&(h[b.restangularFields.etag]=i),h}function y(a,e,f){var g=this,h=d.defer(),i="getList",j=P.fetchUrl(this,a),k=a||g[b.restangularFields.route],m=b.fullRequestInterceptor(null,i,k,j,f||{},e||{},this[b.restangularFields.httpConfig]||{}),n=[];n=b.transformElem(n,!0,k,O);var p="getList";b.jsonp&&(p="jsonp");var q=function(c){var d=c.data,e=c.config.params,f=x(d,i,k,j,c,h);if((_.isUndefined(f)||""===f)&&(f=[]),!_.isArray(f))throw new Error("Response for getList SHOULD be an array and not an object or something else");var l=_.map(f,function(c){return g[b.restangularFields.restangularCollection]?s(g[b.restangularFields.parentResource],c,g[b.restangularFields.route],!0,f):s(g,c,a,!0,f)});l=_.extend(f,l),g[b.restangularFields.restangularCollection]?o(h,c,t(g[b.restangularFields.parentResource],l,g[b.restangularFields.route],!0,e),n):o(h,c,t(g,l,a,!0,e),n)};return P.resource(this,c,m.httpConfig,m.headers,m.params,a,this[b.restangularFields.etag],i)[p]().then(q,function(a){304===a.status&&g[b.restangularFields.restangularCollection]?o(h,a,g,n):_.every(b.errorInterceptors,function(b){return b(a,h,q)!==!1})&&h.reject(a)}),l(h.promise,!0,n)}function z(a){return this[b.restangularFields.httpConfig]=a,this}function A(a,c){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](a,c):_.bind(B,this)("post",void 0,a,void 0,c)}function B(a,e,f,g,h){var i=this,j=d.defer(),k=f||{},m=e||this[b.restangularFields.route],n=P.fetchUrl(this,e),q=g||this,r=q[b.restangularFields.etag]||("post"!==a?this[b.restangularFields.etag]:null);_.isObject(q)&&b.isRestangularized(q)&&(q=p(q));var t=b.fullRequestInterceptor(q,a,m,n,h||{},k||{},this[b.restangularFields.httpConfig]||{}),u={};u=b.transformElem(u,!1,m,O);var v=function(c){var d=c.data,e=c.config.params,f=x(d,a,m,n,c,j);if(f)if("post"!==a||i[b.restangularFields.restangularCollection]){var g=s(i[b.restangularFields.parentResource],f,i[b.restangularFields.route],!0,null,e);g[b.restangularFields.singleOne]=i[b.restangularFields.singleOne],o(j,c,g,u)}else{var g=s(i[b.restangularFields.parentResource],f,m,!0,null,e);o(j,c,g,u)}else o(j,c,void 0,u)},w=function(c){304===c.status&&b.isSafe(a)?o(j,c,i,u):_.every(b.errorInterceptors,function(a){return a(c,j,v)!==!1})&&j.reject(c)},y=a,z=_.extend({},t.headers),A=b.isOverridenMethod(a);return A?(y="post",z=_.extend(z,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a.toUpperCase()})):b.jsonp&&"get"===y&&(y="jsonp"),b.isSafe(a)?A?P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]({}).then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]().then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y](t.element).then(v,w),l(j.promise,!1,u)}function C(a,b){return _.bind(B,this)("get",void 0,a,void 0,b)}function D(a,b){return _.bind(B,this)("remove",void 0,a,void 0,b)}function E(a,b){return _.bind(B,this)("put",void 0,a,void 0,b)}function F(a,b,c,d){return _.bind(B,this)("post",a,c,b,d)}function G(a,b){return _.bind(B,this)("head",void 0,a,void 0,b)}function H(a,b){return _.bind(B,this)("trace",void 0,a,void 0,b)}function I(a,b){return _.bind(B,this)("options",void 0,a,void 0,b)}function J(a,b,c){return _.bind(B,this)("patch",void 0,b,a,c)}function K(a,b,c,d,e){return _.bind(B,this)(a,b,c,e,d)}function L(a,c,d,e,f,g){var h;h="getList"===c?_.bind(y,this,d):_.bind(K,this,c,d);var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};this[a]=b.isSafe(c)?i:function(a,b,c){return i(b,c,a)}}function M(c){var d=angular.copy(_.omit(b,"configuration"));return a.init(d,d),c(d),e(d)}function N(a,c){var d=_.values(b.restangularFields),e={},f=(c||O).all(a);e.one=_.bind(g,c||O,c,a),e.post=_.bind(f.post,f),e.getList=_.bind(f.getList,f);for(var h in f)f.hasOwnProperty(h)&&_.isFunction(f[h])&&!_.contains(d,h)&&(e[h]=_.bind(f[h],f));return e}var O={},P=new b.urlCreatorFactory[b.urlCreator];return P.setConfig(b),a.init(O,b),O.copy=_.bind(r,O),O.service=_.bind(N,O),O.withConfig=_.bind(M,O),O.one=_.bind(g,O,null),O.all=_.bind(h,O,null),O.several=_.bind(i,O,null),O.oneUrl=_.bind(j,O,null),O.allUrl=_.bind(k,O,null),O.stripRestangular=_.bind(p,O),O.restangularizeElement=_.bind(s,O),O.restangularizeCollection=_.bind(u,O),O}return e(b)}]})}();

/**
 * Satellizer 0.10.1
 * (c) 2015 Sahat Yalkabov
 * License: MIT
 */
!function(e,t,n){"use strict";t.module("satellizer",[]).constant("satellizer.config",{httpInterceptor:!0,loginOnSignup:!0,baseUrl:"/",loginRedirect:"/",logoutRedirect:"/",signupRedirect:"/login",loginUrl:"/auth/login",signupUrl:"/auth/signup",loginRoute:"/login",signupRoute:"/signup",tokenRoot:!1,tokenName:"token",tokenPrefix:"satellizer",unlinkUrl:"/auth/unlink/",unlinkMethod:"get",authHeader:"Authorization",authToken:"Bearer",withCredentials:!0,platform:"browser",storage:"localStorage",providers:{google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:e.location.origin||e.location.protocol+"//"+e.location.host,scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",requiredUrlParams:["scope"],optionalUrlParams:["display"],display:"popup",type:"2.0",popupOptions:{width:452,height:633}},facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.3/dialog/oauth",redirectUri:e.location.origin+"/"||e.location.protocol+"//"+e.location.host+"/",scope:["email"],scopeDelimiter:",",requiredUrlParams:["display","scope"],display:"popup",type:"2.0",popupOptions:{width:580,height:400}},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:e.location.origin||e.location.protocol+"//"+e.location.host,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",popupOptions:{width:527,height:582}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:e.location.origin||e.location.protocol+"//"+e.location.host,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",type:"2.0",popupOptions:{width:1020,height:618}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:e.location.origin||e.location.protocol+"//"+e.location.host,scope:[],scopeDelimiter:",",type:"2.0",popupOptions:{width:559,height:519}},twitter:{name:"twitter",url:"/auth/twitter",type:"1.0",popupOptions:{width:495,height:645}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:e.location.origin||e.location.protocol+"//"+e.location.host,scope:["wl.emails"],scopeDelimiter:" ",requiredUrlParams:["display","scope"],display:"popup",type:"2.0",popupOptions:{width:500,height:560}}}}).provider("$auth",["satellizer.config",function(e){Object.defineProperties(this,{baseUrl:{get:function(){return e.baseUrl},set:function(t){e.baseUrl=t}},httpInterceptor:{get:function(){return e.httpInterceptor},set:function(t){e.httpInterceptor=t}},loginOnSignup:{get:function(){return e.loginOnSignup},set:function(t){e.loginOnSignup=t}},logoutRedirect:{get:function(){return e.logoutRedirect},set:function(t){e.logoutRedirect=t}},loginRedirect:{set:function(t){e.loginRedirect=t},get:function(){return e.loginRedirect}},signupRedirect:{get:function(){return e.signupRedirect},set:function(t){e.signupRedirect=t}},loginUrl:{get:function(){return e.loginUrl},set:function(t){e.loginUrl=t}},signupUrl:{get:function(){return e.signupUrl},set:function(t){e.signupUrl=t}},loginRoute:{get:function(){return e.loginRoute},set:function(t){e.loginRoute=t}},signupRoute:{get:function(){return e.signupRoute},set:function(t){e.signupRoute=t}},tokenRoot:{get:function(){return e.tokenRoot},set:function(t){e.tokenRoot=t}},tokenName:{get:function(){return e.tokenName},set:function(t){e.tokenName=t}},tokenPrefix:{get:function(){return e.tokenPrefix},set:function(t){e.tokenPrefix=t}},unlinkUrl:{get:function(){return e.unlinkUrl},set:function(t){e.unlinkUrl=t}},authHeader:{get:function(){return e.authHeader},set:function(t){e.authHeader=t}},authToken:{get:function(){return e.authToken},set:function(t){e.authToken=t}},withCredentials:{get:function(){return e.withCredentials},set:function(t){e.withCredentials=t}},unlinkMethod:{get:function(){return e.unlinkMethod},set:function(t){e.unlinkMethod=t}},platform:{get:function(){return e.platform},set:function(t){e.platform=t}}}),t.forEach(Object.keys(e.providers),function(n){this[n]=function(r){return t.extend(e.providers[n],r)}},this);var n=function(n){e.providers[n.name]=e.providers[n.name]||{},t.extend(e.providers[n.name],n)};this.oauth1=function(t){n(t),e.providers[t.name].type="1.0"},this.oauth2=function(t){n(t),e.providers[t.name].type="2.0"},this.$get=["$q","satellizer.shared","satellizer.local","satellizer.oauth",function(e,t,n,r){var o={};return o.authenticate=function(e,t){return r.authenticate(e,!1,t)},o.login=function(e,t){return n.login(e,t)},o.signup=function(e){return n.signup(e)},o.logout=function(e){return t.logout(e)},o.isAuthenticated=function(){return t.isAuthenticated()},o.link=function(e,t){return r.authenticate(e,!0,t)},o.unlink=function(e){return r.unlink(e)},o.getToken=function(){return t.getToken()},o.setToken=function(e,n){t.setToken({access_token:e},n)},o.removeToken=function(){return t.removeToken()},o.getPayload=function(){return t.getPayload()},o}]}]).factory("satellizer.shared",["$q","$window","$location","satellizer.config","satellizer.storage",function(e,n,r,o,i){var a={},u=o.tokenPrefix?o.tokenPrefix+"_"+o.tokenName:o.tokenName;return a.getToken=function(){return i.get(u)},a.getPayload=function(){var e=i.get(u);if(e&&3===e.split(".").length){var t=e.split(".")[1],r=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(r))}},a.setToken=function(e,n){var a,l=e&&e.access_token;if(l&&(t.isObject(l)&&t.isObject(l.data)?e=l:t.isString(l)&&(a=l)),!a&&e&&(a=o.tokenRoot&&e.data[o.tokenRoot]?e.data[o.tokenRoot][o.tokenName]:e.data[o.tokenName]),!a){var s=o.tokenRoot?o.tokenRoot+"."+o.tokenName:o.tokenName;throw new Error('Expecting a token named "'+s+'" but instead got: '+JSON.stringify(e.data))}i.set(u,a),o.loginRedirect&&!n?r.path(o.loginRedirect):n&&t.isString(n)&&r.path(encodeURI(n))},a.removeToken=function(){i.remove(u)},a.isAuthenticated=function(){var e=i.get(u);if(e){if(3===e.split(".").length){var t=e.split(".")[1],r=t.replace("-","+").replace("_","/"),o=JSON.parse(n.atob(r)).exp;if(o)return Math.round((new Date).getTime()/1e3)<=o}return!0}return!1},a.logout=function(n){return i.remove(u),o.logoutRedirect&&!n?r.url(o.logoutRedirect):t.isString(n)&&r.url(n),e.when()},a}]).factory("satellizer.oauth",["$q","$http","satellizer.config","satellizer.shared","satellizer.Oauth1","satellizer.Oauth2",function(e,t,n,r,o,i){var a={};return a.authenticate=function(t,a,u){var l="1.0"===n.providers[t].type?new o:new i,s=e.defer();return l.open(n.providers[t],u||{}).then(function(e){r.setToken(e,a),s.resolve(e)}).catch(function(e){s.reject(e)}),s.promise},a.unlink=function(e){return"get"===n.unlinkMethod?t.get(n.unlinkUrl+e):"post"===n.unlinkMethod?t.post(n.unlinkUrl,e):void 0},a}]).factory("satellizer.local",["$q","$http","$location","satellizer.utils","satellizer.shared","satellizer.config",function(e,t,n,r,o,i){var a={};return a.login=function(e,n){var a=i.baseUrl?r.joinUrl(i.baseUrl,i.loginUrl):i.loginUrl;return t.post(a,e).then(function(e){return o.setToken(e,n),e})},a.signup=function(e){var a=i.baseUrl?r.joinUrl(i.baseUrl,i.signupUrl):i.signupUrl;return t.post(a,e).then(function(e){return i.loginOnSignup?o.setToken(e):i.signupRedirect&&n.path(i.signupRedirect),e})},a}]).factory("satellizer.Oauth2",["$q","$http","$window","satellizer.popup","satellizer.utils","satellizer.config","satellizer.storage",function(e,n,r,o,i,a,u){return function(){var r={url:null,name:null,state:null,scope:null,scopeDelimiter:null,clientId:null,redirectUri:null,popupOptions:null,authorizationEndpoint:null,responseParams:null,requiredUrlParams:null,optionalUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code"},l={};return l.open=function(n,i){t.extend(r,n);var a=r.name+"_state";t.isFunction(r.state)?u.set(a,r.state()):t.isString(r.state)&&u.set(a,r.state);var s=r.authorizationEndpoint+"?"+l.buildQueryString();return o.open(s,r.popupOptions,r.redirectUri).then(function(t){return"token"===r.responseType?t:t.state&&t.state!==u.get(a)?e.reject("OAuth 2.0 state parameter mismatch."):l.exchangeForToken(t,i)})},l.exchangeForToken=function(e,o){var u=t.extend({},o,{code:e.code,clientId:r.clientId,redirectUri:r.redirectUri});e.state&&(u.state=e.state),t.forEach(r.responseParams,function(t){u[t]=e[t]});var l=a.baseUrl?i.joinUrl(a.baseUrl,r.url):r.url;return n.post(l,u,{withCredentials:a.withCredentials})},l.buildQueryString=function(){var e=[],n=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return t.forEach(n,function(n){t.forEach(r[n],function(t){var n=i.camelCase(t),o=r[n];if("state"===t){var a=r.name+"_state";o=encodeURIComponent(u.get(a))}"scope"===t&&Array.isArray(o)&&(o=o.join(r.scopeDelimiter),r.scopePrefix&&(o=[r.scopePrefix,o].join(r.scopeDelimiter))),e.push([t,o])})}),e.map(function(e){return e.join("=")}).join("&")},l}}]).factory("satellizer.Oauth1",["$q","$http","satellizer.popup","satellizer.config","satellizer.utils",function(e,n,r,o,i){return function(){var e={url:null,name:null,popupOptions:null,redirectUri:null},a={};return a.open=function(n,u){t.extend(e,n);var l=o.baseUrl?i.joinUrl(o.baseUrl,e.url):e.url;return r.open(l,e.popupOptions,e.redirectUri).then(function(e){return a.exchangeForToken(e,u)})},a.exchangeForToken=function(r,u){var l=t.extend({},u,r),s=a.buildQueryString(l),c=o.baseUrl?i.joinUrl(o.baseUrl,e.url):e.url;return n.get(c+"?"+s)},a.buildQueryString=function(e){var n=[];return t.forEach(e,function(e,t){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.join("&")},a}}]).factory("satellizer.popup",["$q","$interval","$window","$location","satellizer.config","satellizer.utils",function(r,o,i,a,u,l){var s=null,c=null,p={};return p.popupWindow=s,p.open=function(t,n,r){var o=p.stringifyOptions(p.prepareOptions(n||{}));return s=e.open(t,"_blank",o),s&&s.focus&&s.focus(),"mobile"===u.platform?p.eventListener(r):p.pollPopup()},p.eventListener=function(e){var n=r.defer();return s.addEventListener("loadstart",function(r){if(0===r.url.indexOf(e)){var o=document.createElement("a");if(o.href=r.url,o.search||o.hash){var i=o.search.substring(1).replace(/\/$/,""),a=o.hash.substring(1).replace(/\/$/,""),u=l.parseQueryString(a),c=l.parseQueryString(i);t.extend(c,u),c.error?n.reject({error:c.error}):n.resolve(c),s.close()}}}),s.addEventListener("exit",function(){n.reject({data:"Provider Popup was closed"})}),s.addEventListener("loaderror",function(){n.reject({data:"Authorization Failed"})}),n.promise},p.pollPopup=function(){var e=r.defer();return c=o(function(){try{var r=document.location.host+":"+document.location.port,i=s.location.host+":"+s.location.port;if(i===r&&(s.location.search||s.location.hash)){var a=s.location.search.substring(1).replace(/\/$/,""),u=s.location.hash.substring(1).replace(/\/$/,""),p=l.parseQueryString(u),g=l.parseQueryString(a);t.extend(g,p),g.error?e.reject({error:g.error}):e.resolve(g),s.close(),o.cancel(c)}}catch(f){}s?(s.closed||s.closed===n)&&(o.cancel(c),e.reject({data:"Authorization Failed"})):(o.cancel(c),e.reject({data:"Provider Popup Blocked"}))},35),e.promise},p.prepareOptions=function(e){var n=e.width||500,r=e.height||500;return t.extend({width:n,height:r,left:i.screenX+(i.outerWidth-n)/2,top:i.screenY+(i.outerHeight-r)/2.5},e)},p.stringifyOptions=function(e){var n=[];return t.forEach(e,function(e,t){n.push(t+"="+e)}),n.join(",")},p}]).service("satellizer.utils",function(){this.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n})},this.parseQueryString=function(e){var n,r,o={};return t.forEach((e||"").split("&"),function(e){e&&(r=e.split("="),n=decodeURIComponent(r[0]),o[n]=t.isDefined(r[1])?decodeURIComponent(r[1]):!0)}),o},this.joinUrl=function(){var e=Array.prototype.slice.call(arguments,0).join("/"),t=function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return t(e)}}).factory("satellizer.storage",["satellizer.config",function(t){switch(t.storage){case"localStorage":return"localStorage"in e&&null!==e.localStorage?{get:function(e){return localStorage.getItem(e)},set:function(e,t){return localStorage.setItem(e,t)},remove:function(e){return localStorage.removeItem(e)}}:(console.warn("Warning: Local Storage is disabled or unavailable. Satellizer will not work correctly."),{get:function(){return n},set:function(){return n},remove:function(){return n}});case"sessionStorage":return"sessionStorage"in e&&null!==e.sessionStorage?{get:function(e){return sessionStorage.getItem(e)},set:function(e,t){return sessionStorage.setItem(e,t)},remove:function(e){return sessionStorage.removeItem(e)}}:(console.warn("Warning: Session Storage is disabled or unavailable. Satellizer will not work correctly."),{get:function(){return n},set:function(){return n},remove:function(){return n}})}}]).factory("satellizer.interceptor",["$q","satellizer.config","satellizer.storage",function(e,t,n){var r=t.tokenPrefix?t.tokenPrefix+"_"+t.tokenName:t.tokenName;return{request:function(e){var o=n.get(r);return o&&t.httpInterceptor&&(t.authHeader&&t.authToken&&(o=t.authToken+" "+o),e.headers[t.authHeader]=o),e},responseError:function(t){return e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push("satellizer.interceptor")}])}(window,window.angular),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var r,o,i=String(t),a=0,u=n,l="";i.charAt(0|a)||(u="=",a%1);l+=u.charAt(63&r>>8-a%1*8)){if(o=i.charCodeAt(a+=.75),o>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return l}),t.atob||(t.atob=function(t){var r=String(t).replace(/=+$/,"");if(r.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,u=0,l="";i=r.charAt(u++);~i&&(o=a%4?64*o+i:i,a++%4)?l+=String.fromCharCode(255&o>>(-2*a&6)):0)i=n.indexOf(i);return l})}();

/*! Sortable 1.2.1 - MIT | git://github.com/rubaxa/Sortable.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():"undefined"!=typeof Package?Sortable=a():window.Sortable=a()}(function(){"use strict";function a(a,b){this.el=a,this.options=b=s({},b),a[J]=this;var d={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0};for(var e in d)!(e in b)&&(b[e]=d[e]);var g=b.group;g&&"object"==typeof g||(g=b.group={name:g}),["pull","put"].forEach(function(a){a in g||(g[a]=!0)}),b.groups=" "+g.name+(g.put.join?" "+g.put.join(" "):"")+" ";for(var h in this)"_"===h.charAt(0)&&(this[h]=c(this,this[h]));f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),f(a,"dragover",this),f(a,"dragenter",this),R.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function b(a){v&&v.state!==a&&(i(v,"display",a?"none":""),!a&&v.state&&w.insertBefore(v,t),v.state=a)}function c(a,b){var c=Q.call(arguments,2);return b.bind?b.bind.apply(b,[a].concat(c)):function(){return b.apply(a,c.concat(Q.call(arguments)))}}function d(a,b,c){if(a){c=c||L,b=b.split(".");var d=b.shift().toUpperCase(),e=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");do if(">*"===d&&a.parentNode===c||(""===d||a.nodeName.toUpperCase()==d)&&(!b.length||((" "+a.className+" ").match(e)||[]).length==b.length))return a;while(a!==c&&(a=a.parentNode))}return null}function e(a){a.dataTransfer.dropEffect="move",a.preventDefault()}function f(a,b,c){a.addEventListener(b,c,!1)}function g(a,b,c){a.removeEventListener(b,c,!1)}function h(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(I," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(I," ")}}function i(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return L.defaultView&&L.defaultView.getComputedStyle?c=L.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function j(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function k(a,b,c,d,e,f,g){var h=L.createEvent("Event"),i=(a||b[J]).options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=v,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function l(a,b,c,d,e,f){var g,h,i=a[J],j=i.options.onMove;return j&&(g=L.createEvent("Event"),g.initEvent("move",!0,!0),g.to=b,g.from=a,g.dragged=c,g.draggedRect=d,g.related=e||b,g.relatedRect=f||b.getBoundingClientRect(),h=j.call(i,g)),h}function m(a){a.draggable=!1}function n(){O=!1}function o(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return b.clientY-(d.top+d.height)>5&&c}function p(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function q(a){for(var b=0;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&b++;return b}function r(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function s(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H={},I=/\s+/g,J="Sortable"+(new Date).getTime(),K=window,L=K.document,M=K.parseInt,N=!!("draggable"in L.createElement("div")),O=!1,P=Math.abs,Q=[].slice,R=[],S=r(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(z!==c&&(y=b.scroll,z=c,y===!0)){y=c;do if(y.offsetWidth<y.scrollWidth||y.offsetHeight<y.scrollHeight)break;while(y=y.parentNode)}y&&(d=y,e=y.getBoundingClientRect(),f=(P(e.right-j)<=h)-(P(e.left-j)<=h),g=(P(e.bottom-k)<=h)-(P(e.top-k)<=h)),f||g||(f=(h>=l-j)-(h>=j),g=(h>=m-k)-(h>=k),(f||g)&&(d=K)),(H.vx!==f||H.vy!==g||H.el!==d)&&(H.el=d,H.vx=f,H.vy=g,clearInterval(H.pid),d&&(H.pid=setInterval(function(){d===K?K.scrollTo(K.pageXOffset+f*i,K.pageYOffset+g*i):(g&&(d.scrollTop+=g*i),f&&(d.scrollLeft+=f*i))},24)))}},30);return a.prototype={constructor:a,_onTapStart:function(a){var b=this,c=this.el,e=this.options,f=a.type,g=a.touches&&a.touches[0],h=(g||a).target,i=h,j=e.filter;if(!("mousedown"===f&&0!==a.button||e.disabled)&&(h=d(h,e.draggable,c))){if(C=q(h),"function"==typeof j){if(j.call(this,a,h,this))return k(b,i,"filter",h,c,C),void a.preventDefault()}else if(j&&(j=j.split(",").some(function(a){return a=d(i,a.trim(),c),a?(k(b,a,"filter",h,c,C),!0):void 0})))return void a.preventDefault();(!e.handle||d(i,e.handle,c))&&this._prepareDragStart(a,g,h)}},_prepareDragStart:function(a,b,c){var d,e=this,g=e.el,h=e.options,i=g.ownerDocument;c&&!t&&c.parentNode===g&&(F=a,w=g,t=c,x=t.nextSibling,E=h.group,d=function(){e._disableDelayedDrag(),t.draggable=!0,h.ignore.split(",").forEach(function(a){j(t,a.trim(),m)}),e._triggerDragStart(b)},f(i,"mouseup",e._onDrop),f(i,"touchend",e._onDrop),f(i,"touchcancel",e._onDrop),h.delay?(f(i,"mousemove",e._disableDelayedDrag),f(i,"touchmove",e._disableDelayedDrag),e._dragStartTimer=setTimeout(d,h.delay)):d())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),g(a,"mousemove",this._disableDelayedDrag),g(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(F={target:t,clientX:a.clientX,clientY:a.clientY},this._onDragStart(F,"touch")):N?(f(t,"dragend",this),f(w,"dragstart",this._onDragStart)):this._onDragStart(F,!0);try{L.selection?L.selection.empty():window.getSelection().removeAllRanges()}catch(b){}},_dragStarted:function(){w&&t&&(h(t,this.options.ghostClass,!0),a.active=this,k(this,w,"start",t,w,C))},_emulateDragOver:function(){if(G){i(u,"display","none");var a=L.elementFromPoint(G.clientX,G.clientY),b=a,c=" "+this.options.group.name,d=R.length;if(b)do{if(b[J]&&b[J].options.groups.indexOf(c)>-1){for(;d--;)R[d]({clientX:G.clientX,clientY:G.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);i(u,"display","")}},_onTouchMove:function(a){if(F){var b=a.touches?a.touches[0]:a,c=b.clientX-F.clientX,d=b.clientY-F.clientY,e=a.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";G=b,i(u,"webkitTransform",e),i(u,"mozTransform",e),i(u,"msTransform",e),i(u,"transform",e),a.preventDefault()}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;if(this._offUpEvents(),"clone"==E.pull&&(v=t.cloneNode(!0),i(v,"display","none"),w.insertBefore(v,t)),b){var e,g=t.getBoundingClientRect(),h=i(t);u=t.cloneNode(!0),i(u,"top",g.top-M(h.marginTop,10)),i(u,"left",g.left-M(h.marginLeft,10)),i(u,"width",g.width),i(u,"height",g.height),i(u,"opacity","0.8"),i(u,"position","fixed"),i(u,"zIndex","100000"),w.appendChild(u),e=u.getBoundingClientRect(),i(u,"width",2*g.width-e.width),i(u,"height",2*g.height-e.height),"touch"===b?(f(L,"touchmove",this._onTouchMove),f(L,"touchend",this._onDrop),f(L,"touchcancel",this._onDrop)):(f(L,"mousemove",this._onTouchMove),f(L,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,150)}else c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,t)),f(L,"drop",this);setTimeout(this._dragStarted,0)},_onDragOver:function(a){var c,e,f,g=this.el,h=this.options,j=h.group,k=j.put,m=E===j,p=h.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!h.dragoverBubble&&a.stopPropagation()),E&&!h.disabled&&(m?p||(f=!w.contains(t)):E.pull&&k&&(E.name===j.name||k.indexOf&&~k.indexOf(E.name)))&&(void 0===a.rootEl||a.rootEl===this.el)){if(S(a,h,this.el),O)return;if(c=d(a.target,h.draggable,g),e=t.getBoundingClientRect(),f)return b(!0),void(v||x?w.insertBefore(t,v||x):p||w.appendChild(t));if(0===g.children.length||g.children[0]===u||g===a.target&&(c=o(g,a))){if(c){if(c.animated)return;r=c.getBoundingClientRect()}b(m),l(w,g,t,e,c,r)!==!1&&(g.appendChild(t),this._animate(e,t),c&&this._animate(r,c))}else if(c&&!c.animated&&c!==t&&void 0!==c.parentNode[J]){A!==c&&(A=c,B=i(c));var q,r=c.getBoundingClientRect(),s=r.right-r.left,y=r.bottom-r.top,z=/left|right|inline/.test(B.cssFloat+B.display),C=c.offsetWidth>t.offsetWidth,D=c.offsetHeight>t.offsetHeight,F=(z?(a.clientX-r.left)/s:(a.clientY-r.top)/y)>.5,G=c.nextElementSibling,H=l(w,g,t,e,c,r);H!==!1&&(O=!0,setTimeout(n,30),b(m),q=1===H||-1===H?1===H:z?c.previousElementSibling===t&&!C||F&&C:G!==t&&!D||F&&D,q&&!G?g.appendChild(t):c.parentNode.insertBefore(t,q?G:c),this._animate(e,t),this._animate(r,c))}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();i(b,"transition","none"),i(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,i(b,"transition","all "+c+"ms"),i(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){i(b,"transition",""),i(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;g(L,"touchmove",this._onTouchMove),g(a,"mouseup",this._onDrop),g(a,"touchend",this._onDrop),g(a,"touchcancel",this._onDrop)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(H.pid),clearTimeout(this._dragStartTimer),g(L,"drop",this),g(L,"mousemove",this._onTouchMove),g(c,"dragstart",this._onDragStart),this._offUpEvents(),b&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation(),u&&u.parentNode.removeChild(u),t&&(g(t,"dragend",this),m(t),h(t,this.options.ghostClass,!1),w!==t.parentNode?(D=q(t),k(null,t.parentNode,"sort",t,w,C,D),k(this,w,"sort",t,w,C,D),k(null,t.parentNode,"add",t,w,C,D),k(this,w,"remove",t,w,C,D)):(v&&v.parentNode.removeChild(v),t.nextSibling!==x&&(D=q(t),k(this,w,"update",t,w,C,D),k(this,w,"sort",t,w,C,D))),a.active&&(k(this,w,"end",t,w,C,D),this.save())),w=t=u=x=v=y=z=F=G=A=B=E=a.active=null)},handleEvent:function(a){var b=a.type;"dragover"===b||"dragenter"===b?t&&(this._onDragOver(a),e(a)):("drop"===b||"dragend"===b)&&this._onDrop(a)},toArray:function(){for(var a,b=[],c=this.el.children,e=0,f=c.length,g=this.options;f>e;e++)a=c[e],d(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||p(a));return b},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,e){var f=c.children[e];d(f,this.options.draggable,c)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return d(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:void(c[a]=b)},destroy:function(){var a=this.el;a[J]=null,g(a,"mousedown",this._onTapStart),g(a,"touchstart",this._onTapStart),g(a,"dragover",this),g(a,"dragenter",this),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),R.splice(R.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},a.utils={on:f,off:g,css:i,find:j,bind:c,is:function(a,b){return!!d(a,b,a)},extend:s,throttle:r,closest:d,toggleClass:h,index:q},a.version="1.2.1",a.create=function(b,c){return new a(b,c)},a});

// Domain Public by Eric Wendelin http://www.eriwen.com/ (2008)
//                  Luke Smith http://lucassmith.name/ (2008)
//                  Loic Dachary <loic@dachary.org> (2008)
//                  Johan Euphrosine <proppy@aminche.com> (2008)
//                  Oyvind Sean Kinsey http://kinsey.no/blog (2010)
//                  Victor Homyakov <victor-homyakov@users.sourceforge.net> (2010)
/*global module, exports, define, ActiveXObject*/
(function(global, factory) {
    if (typeof exports === 'object') {
        // Node
        module.exports = factory();
    } else if (typeof define === 'function' && define.amd) {
        // AMD
        define(factory);
    } else {
        // Browser globals
        global.printStackTrace = factory();
    }
}(this, function() {
    /**
     * Main function giving a function stack trace with a forced or passed in Error
     *
     * @cfg {Error} e The error to create a stacktrace from (optional)
     * @cfg {Boolean} guess If we should try to resolve the names of anonymous functions
     * @return {Array} of Strings with functions, lines, files, and arguments where possible
     */
    function printStackTrace(options) {
        options = options || {guess: true};
        var ex = options.e || null, guess = !!options.guess, mode = options.mode || null;
        var p = new printStackTrace.implementation(), result = p.run(ex, mode);
        return (guess) ? p.guessAnonymousFunctions(result) : result;
    }

    printStackTrace.implementation = function() {
    };

    printStackTrace.implementation.prototype = {
        /**
         * @param {Error} [ex] The error to create a stacktrace from (optional)
         * @param {String} [mode] Forced mode (optional, mostly for unit tests)
         */
        run: function(ex, mode) {
            ex = ex || this.createException();
            mode = mode || this.mode(ex);
            if (mode === 'other') {
                return this.other(arguments.callee);
            } else {
                return this[mode](ex);
            }
        },

        createException: function() {
            try {
                this.undef();
            } catch (e) {
                return e;
            }
        },

        /**
         * Mode could differ for different exception, e.g.
         * exceptions in Chrome may or may not have arguments or stack.
         *
         * @return {String} mode of operation for the exception
         */
        mode: function(e) {
            if (typeof window !== 'undefined' && window.navigator.userAgent.indexOf('PhantomJS') > -1) {
                return 'phantomjs';
            }

            if (e['arguments'] && e.stack) {
                return 'chrome';
            }

            if (e.stack && e.sourceURL) {
                return 'safari';
            }

            if (e.stack && e.number) {
                return 'ie';
            }

            if (e.stack && e.fileName) {
                return 'firefox';
            }

            if (e.message && e['opera#sourceloc']) {
                // e.message.indexOf("Backtrace:") > -1 -> opera9
                // 'opera#sourceloc' in e -> opera9, opera10a
                // !e.stacktrace -> opera9
                if (!e.stacktrace) {
                    return 'opera9'; // use e.message
                }
                if (e.message.indexOf('\n') > -1 && e.message.split('\n').length > e.stacktrace.split('\n').length) {
                    // e.message may have more stack entries than e.stacktrace
                    return 'opera9'; // use e.message
                }
                return 'opera10a'; // use e.stacktrace
            }

            if (e.message && e.stack && e.stacktrace) {
                // e.stacktrace && e.stack -> opera10b
                if (e.stacktrace.indexOf("called from line") < 0) {
                    return 'opera10b'; // use e.stacktrace, format differs from 'opera10a'
                }
                // e.stacktrace && e.stack -> opera11
                return 'opera11'; // use e.stacktrace, format differs from 'opera10a', 'opera10b'
            }

            if (e.stack && !e.fileName) {
                // Chrome 27 does not have e.arguments as earlier versions,
                // but still does not have e.fileName as Firefox
                return 'chrome';
            }

            return 'other';
        },

        /**
         * Given a context, function name, and callback function, overwrite it so that it calls
         * printStackTrace() first with a callback and then runs the rest of the body.
         *
         * @param {Object} context of execution (e.g. window)
         * @param {String} functionName to instrument
         * @param {Function} callback function to call with a stack trace on invocation
         */
        instrumentFunction: function(context, functionName, callback) {
            context = context || window;
            var original = context[functionName];
            context[functionName] = function instrumented() {
                callback.call(this, printStackTrace().slice(4));
                return context[functionName]._instrumented.apply(this, arguments);
            };
            context[functionName]._instrumented = original;
        },

        /**
         * Given a context and function name of a function that has been
         * instrumented, revert the function to it's original (non-instrumented)
         * state.
         *
         * @param {Object} context of execution (e.g. window)
         * @param {String} functionName to de-instrument
         */
        deinstrumentFunction: function(context, functionName) {
            if (context[functionName].constructor === Function &&
                context[functionName]._instrumented &&
                context[functionName]._instrumented.constructor === Function) {
                context[functionName] = context[functionName]._instrumented;
            }
        },

        /**
         * Given an Error object, return a formatted Array based on Chrome's stack string.
         *
         * @param e - Error object to inspect
         * @return Array<String> of function calls, files and line numbers
         */
        chrome: function(e) {
            return (e.stack + '\n')
                .replace(/^[\s\S]+?\s+at\s+/, ' at ') // remove message
                .replace(/^\s+(at eval )?at\s+/gm, '') // remove 'at' and indentation
                .replace(/^([^\(]+?)([\n$])/gm, '{anonymous}() ($1)$2')
                .replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm, '{anonymous}() ($1)')
                .replace(/^(.+) \((.+)\)$/gm, '$1@$2')
                .split('\n')
                .slice(0, -1);
        },

        /**
         * Given an Error object, return a formatted Array based on Safari's stack string.
         *
         * @param e - Error object to inspect
         * @return Array<String> of function calls, files and line numbers
         */
        safari: function(e) {
            return e.stack.replace(/\[native code\]\n/m, '')
                .replace(/^(?=\w+Error\:).*$\n/m, '')
                .replace(/^@/gm, '{anonymous}()@')
                .split('\n');
        },

        /**
         * Given an Error object, return a formatted Array based on IE's stack string.
         *
         * @param e - Error object to inspect
         * @return Array<String> of function calls, files and line numbers
         */
        ie: function(e) {
            return e.stack
                .replace(/^\s*at\s+(.*)$/gm, '$1')
                .replace(/^Anonymous function\s+/gm, '{anonymous}() ')
                .replace(/^(.+)\s+\((.+)\)$/gm, '$1@$2')
                .split('\n')
                .slice(1);
        },

        /**
         * Given an Error object, return a formatted Array based on Firefox's stack string.
         *
         * @param e - Error object to inspect
         * @return Array<String> of function calls, files and line numbers
         */
        firefox: function(e) {
            return e.stack.replace(/(?:\n@:0)?\s+$/m, '')
                .replace(/^(?:\((\S*)\))?@/gm, '{anonymous}($1)@')
                .split('\n');
        },

        opera11: function(e) {
            var ANON = '{anonymous}', lineRE = /^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;
            var lines = e.stacktrace.split('\n'), result = [];

            for (var i = 0, len = lines.length; i < len; i += 2) {
                var match = lineRE.exec(lines[i]);
                if (match) {
                    var location = match[4] + ':' + match[1] + ':' + match[2];
                    var fnName = match[3] || "global code";
                    fnName = fnName.replace(/<anonymous function: (\S+)>/, "$1").replace(/<anonymous function>/, ANON);
                    result.push(fnName + '@' + location + ' -- ' + lines[i + 1].replace(/^\s+/, ''));
                }
            }

            return result;
        },

        opera10b: function(e) {
            // "<anonymous function: run>([arguments not available])@file://localhost/G:/js/stacktrace.js:27\n" +
            // "printStackTrace([arguments not available])@file://localhost/G:/js/stacktrace.js:18\n" +
            // "@file://localhost/G:/js/test/functional/testcase1.html:15"
            var lineRE = /^(.*)@(.+):(\d+)$/;
            var lines = e.stacktrace.split('\n'), result = [];

            for (var i = 0, len = lines.length; i < len; i++) {
                var match = lineRE.exec(lines[i]);
                if (match) {
                    var fnName = match[1] ? (match[1] + '()') : "global code";
                    result.push(fnName + '@' + match[2] + ':' + match[3]);
                }
            }

            return result;
        },

        /**
         * Given an Error object, return a formatted Array based on Opera 10's stacktrace string.
         *
         * @param e - Error object to inspect
         * @return Array<String> of function calls, files and line numbers
         */
        opera10a: function(e) {
            // "  Line 27 of linked script file://localhost/G:/js/stacktrace.js\n"
            // "  Line 11 of inline#1 script in file://localhost/G:/js/test/functional/testcase1.html: In function foo\n"
            var ANON = '{anonymous}', lineRE = /Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;
            var lines = e.stacktrace.split('\n'), result = [];

            for (var i = 0, len = lines.length; i < len; i += 2) {
                var match = lineRE.exec(lines[i]);
                if (match) {
                    var fnName = match[3] || ANON;
                    result.push(fnName + '()@' + match[2] + ':' + match[1] + ' -- ' + lines[i + 1].replace(/^\s+/, ''));
                }
            }

            return result;
        },

        // Opera 7.x-9.2x only!
        opera9: function(e) {
            // "  Line 43 of linked script file://localhost/G:/js/stacktrace.js\n"
            // "  Line 7 of inline#1 script in file://localhost/G:/js/test/functional/testcase1.html\n"
            var ANON = '{anonymous}', lineRE = /Line (\d+).*script (?:in )?(\S+)/i;
            var lines = e.message.split('\n'), result = [];

            for (var i = 2, len = lines.length; i < len; i += 2) {
                var match = lineRE.exec(lines[i]);
                if (match) {
                    result.push(ANON + '()@' + match[2] + ':' + match[1] + ' -- ' + lines[i + 1].replace(/^\s+/, ''));
                }
            }

            return result;
        },

        phantomjs: function(e) {
            var ANON = '{anonymous}', lineRE = /(\S+) \((\S+)\)/i;
            var lines = e.stack.split('\n'), result = [];

            for (var i = 1, len = lines.length; i < len; i++) {
                lines[i] = lines[i].replace(/^\s+at\s+/gm, '');
                var match = lineRE.exec(lines[i]);
                if (match) {
                    result.push(match[1] + '()@' + match[2]);
                }
                else {
                    result.push(ANON + '()@' + lines[i]);
                }
            }

            return result;
        },

        // Safari 5-, IE 9-, and others
        other: function(curr) {
            var ANON = '{anonymous}', fnRE = /function(?:\s+([\w$]+))?\s*\(/, stack = [], fn, args, maxStackSize = 10;
            var slice = Array.prototype.slice;
            while (curr && stack.length < maxStackSize) {
                fn = fnRE.test(curr.toString()) ? RegExp.$1 || ANON : ANON;
                try {
                    args = slice.call(curr['arguments'] || []);
                } catch (e) {
                    args = ['Cannot access arguments: ' + e];
                }
                stack[stack.length] = fn + '(' + this.stringifyArguments(args) + ')';
                try {
                    curr = curr.caller;
                } catch (e) {
                    stack[stack.length] = 'Cannot access caller: ' + e;
                    break;
                }
            }
            return stack;
        },

        /**
         * Given arguments array as a String, substituting type names for non-string types.
         *
         * @param {Arguments,Array} args
         * @return {String} stringified arguments
         */
        stringifyArguments: function(args) {
            var result = [];
            var slice = Array.prototype.slice;
            for (var i = 0; i < args.length; ++i) {
                var arg = args[i];
                if (arg === undefined) {
                    result[i] = 'undefined';
                } else if (arg === null) {
                    result[i] = 'null';
                } else if (arg.constructor) {
                    // TODO constructor comparison does not work for iframes
                    if (arg.constructor === Array) {
                        if (arg.length < 3) {
                            result[i] = '[' + this.stringifyArguments(arg) + ']';
                        } else {
                            result[i] = '[' + this.stringifyArguments(slice.call(arg, 0, 1)) + '...' + this.stringifyArguments(slice.call(arg, -1)) + ']';
                        }
                    } else if (arg.constructor === Object) {
                        result[i] = '#object';
                    } else if (arg.constructor === Function) {
                        result[i] = '#function';
                    } else if (arg.constructor === String) {
                        result[i] = '"' + arg + '"';
                    } else if (arg.constructor === Number) {
                        result[i] = arg;
                    } else {
                        result[i] = '?';
                    }
                }
            }
            return result.join(',');
        },

        sourceCache: {},

        /**
         * @return {String} the text from a given URL
         */
        ajax: function(url) {
            var req = this.createXMLHTTPObject();
            if (req) {
                try {
                    req.open('GET', url, false);
                    //req.overrideMimeType('text/plain');
                    //req.overrideMimeType('text/javascript');
                    req.send(null);
                    //return req.status == 200 ? req.responseText : '';
                    return req.responseText;
                } catch (e) {
                }
            }
            return '';
        },

        /**
         * Try XHR methods in order and store XHR factory.
         *
         * @return {XMLHttpRequest} XHR function or equivalent
         */
        createXMLHTTPObject: function() {
            var xmlhttp, XMLHttpFactories = [
                function() {
                    return new XMLHttpRequest();
                }, function() {
                    return new ActiveXObject('Msxml2.XMLHTTP');
                }, function() {
                    return new ActiveXObject('Msxml3.XMLHTTP');
                }, function() {
                    return new ActiveXObject('Microsoft.XMLHTTP');
                }
            ];
            for (var i = 0; i < XMLHttpFactories.length; i++) {
                try {
                    xmlhttp = XMLHttpFactories[i]();
                    // Use memoization to cache the factory
                    this.createXMLHTTPObject = XMLHttpFactories[i];
                    return xmlhttp;
                } catch (e) {
                }
            }
        },

        /**
         * Given a URL, check if it is in the same domain (so we can get the source
         * via Ajax).
         *
         * @param url {String} source url
         * @return {Boolean} False if we need a cross-domain request
         */
        isSameDomain: function(url) {
            return typeof location !== "undefined" && url.indexOf(location.hostname) !== -1; // location may not be defined, e.g. when running from nodejs.
        },

        /**
         * Get source code from given URL if in the same domain.
         *
         * @param url {String} JS source URL
         * @return {Array} Array of source code lines
         */
        getSource: function(url) {
            // TODO reuse source from script tags?
            if (!(url in this.sourceCache)) {
                this.sourceCache[url] = this.ajax(url).split('\n');
            }
            return this.sourceCache[url];
        },

        guessAnonymousFunctions: function(stack) {
            for (var i = 0; i < stack.length; ++i) {
                var reStack = /\{anonymous\}\(.*\)@(.*)/,
                    reRef = /^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,
                    frame = stack[i], ref = reStack.exec(frame);

                if (ref) {
                    var m = reRef.exec(ref[1]);
                    if (m) { // If falsey, we did not get any file/line information
                        var file = m[1], lineno = m[2], charno = m[3] || 0;
                        if (file && this.isSameDomain(file) && lineno) {
                            var functionName = this.guessAnonymousFunction(file, lineno, charno);
                            stack[i] = frame.replace('{anonymous}', functionName);
                        }
                    }
                }
            }
            return stack;
        },

        guessAnonymousFunction: function(url, lineNo, charNo) {
            var ret;
            try {
                ret = this.findFunctionName(this.getSource(url), lineNo);
            } catch (e) {
                ret = 'getSource failed with url: ' + url + ', exception: ' + e.toString();
            }
            return ret;
        },

        findFunctionName: function(source, lineNo) {
            // FIXME findFunctionName fails for compressed source
            // (more than one function on the same line)
            // function {name}({args}) m[1]=name m[2]=args
            var reFunctionDeclaration = /function\s+([^(]*?)\s*\(([^)]*)\)/;
            // {name} = function ({args}) TODO args capture
            // /['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*function(?:[^(]*)/
            var reFunctionExpression = /['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/;
            // {name} = eval()
            var reFunctionEvaluation = /['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;
            // Walk backwards in the source lines until we find
            // the line which matches one of the patterns above
            var code = "", line, maxLines = Math.min(lineNo, 20), m, commentPos;
            for (var i = 0; i < maxLines; ++i) {
                // lineNo is 1-based, source[] is 0-based
                line = source[lineNo - i - 1];
                commentPos = line.indexOf('//');
                if (commentPos >= 0) {
                    line = line.substr(0, commentPos);
                }
                // TODO check other types of comments? Commented code may lead to false positive
                if (line) {
                    code = line + code;
                    m = reFunctionExpression.exec(code);
                    if (m && m[1]) {
                        return m[1];
                    }
                    m = reFunctionDeclaration.exec(code);
                    if (m && m[1]) {
                        //return m[1] + "(" + (m[2] || "") + ")";
                        return m[1];
                    }
                    m = reFunctionEvaluation.exec(code);
                    if (m && m[1]) {
                        return m[1];
                    }
                }
            }
            return '(?)';
        }
    };

    return printStackTrace;
}));

/** UI-Router Extras v.0.0.14 Monolithic build (all modules) http://christopherthielen.github.io/ui-router-extras/ - MIT License */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(t){e(t)}):e("object"==typeof exports?require("angular"):t.angular)}(this,function(t,e){function r(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function n(e){if(Object.keys)return Object.keys(e);var r=[];return t.forEach(e,function(t,e){r.push(e)}),r}function a(t,e){var r=[];for(var n in t)e&&-1!==e.indexOf(n)||r.push(n);return r}function o(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var r=t.length>>>0,n=Number(arguments[2])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if(n in t&&t[n]===e)return n;return-1}function i(t,e,a,i){var u,s=r(a,i),c={},f=[];for(var l in s)if(s[l].params&&(u=$(s[l].params)?s[l].params:n(s[l].params),u.length))for(var v in u)o(f,u[v])>=0||(f.push(u[v]),c[u[v]]=t[u[v]]);return h({},c,e)}function u(t,e){return h(new(h(function(){},{prototype:t})),e)}function s(t){d.push(t)}function c(){b=e}function f(e,r){var n=r,a=n.inheritParams,o=(n.objectKeys,n.protoKeys),i=n.forEach,u=n.map,s={},c={},f=!1;this.registerStickyState=function(t){c[t.name]=t},this.enableDebug=this.debugMode=function(e){return t.isDefined(e)&&(f=e),f},this.$get=["$rootScope","$state","$stateParams","$injector","$log",function(e,r,n,c,l){function v(){var e={};return t.forEach(s,function(t,r){for(var n=d(t),a=0;a<n.length;a++){var o=n[a].parent;e[o.name]=e[o.name]||[],e[o.name].push(t)}e[""]&&(e.__inactives=e[""])}),e}function p(){var t={};return i(s,function(e){i(e.path,function(r){r!==e&&(t[r.name]=t[r.name]||[],t[r.name].push(e))})}),t}function d(t){var e=[];if(!t)return e;do t.sticky&&e.push(t),t=t.parent;while(t);return e.reverse(),e}function m(t,e,r){if(t[r]===e[r])return{from:!1,to:!1};var n=r<t.length&&t[r].self.sticky,a=r<e.length&&e[r].self.sticky;return{from:n,to:a}}function h(t,e,r,n){if(n)return"updateStateParams";var a=s[t.self.name];if(!a)return"enter";if(t.self===r)return"updateStateParams";var o=g(e,a.locals.globals.$stateParams,t.ownParams);return o?"reactivate":"updateStateParams"}function $(t,e){var r=s[t.name];if(!r)return null;if(!e)return r;var n=g(e,r.locals.globals.$stateParams,t.ownParams);return n?r:null}function g(e,r,n){if(!t.isArray(n)&&t.isObject(n)&&(n=o(n,["$$keys","$$values","$$equals","$$validates","$$new","$$parent"])),!n){n=[];for(var a in e)n.push(a)}for(var i=0;i<n.length;i++){var u=n[i];if(e[u]!=r[u])return!1}return!0}var x={getInactiveStates:function(){var e=[];return t.forEach(s,function(t){e.push(t)}),e},getInactiveStatesByParent:function(){return v()},processTransition:function(e){var o={inactives:[],enter:[],exit:[],keep:0},c=e.fromState.path,f=e.fromParams,l=e.toState.path,v=e.toParams,d=e.reloadStateTree,$=e.options,x=0,y=l[x];for($.inherit&&(v=a(n,v||{},r.$current,e.toState));y&&y===c[x]&&g(v,f,y.ownParams);)y=l[++x];o.keep=x;var S,b,E,P={},k=m(c,l,x),w=!!$.reload,R=[],j=[],F=[],A=[];for(S=x;S<c.length;S++)k.from?(o.inactives.push(c[S]),R.push(c[S]),o.exit[S]="inactivate"):(A.push(c[S]),o.exit[S]="exit");for(S=x;S<l.length;S++){var O=k.to?h(l[S],v,d,w):"enter";w=w||"updateStateParams"==O,o.enter[S]=O,"reactivate"==O?(j.push(l[S]),E=P[l[S].name]=l[S]):"updateStateParams"==O&&(b=P[l[S].name]=l[S]),F.push(l[S])}var T=p(),C=[];E===e.toState&&(C=T[E.name]||[]),A=A.concat(C);var _=u(A,function(t){return T[t.name]||[]});return i(_,function(t){A=A.concat(t)}),R=R.concat(u(s,t.identity)),R=R.filter(function(t){return-1===A.indexOf(t)&&-1===F.indexOf(t)}),o.inactives=R,o.reactivatingStates=j,o.deepestReactivateChildren=C,o},stateInactivated:function(t){s[t.self.name]=t,t.self.status="inactive",t.self.onInactivate&&c.invoke(t.self.onInactivate,t.self,t.locals.globals)},stateReactivated:function(t){s[t.self.name]&&delete s[t.self.name],t.self.status="entered",t.self.onReactivate&&c.invoke(t.self.onReactivate,t.self,t.locals.globals)},stateExiting:function(e,r,n){var a={};t.forEach(r,function(t){a[t.self.name]=!0}),t.forEach(s,function(r,n){!a[n]&&r.includes[e.name]&&(f&&l.debug("Exiting "+n+" because it's a substate of "+e.name+" and wasn't found in ",a),r.self.onExit&&c.invoke(r.self.onExit,r.self,r.locals.globals),t.forEach(r.locals,function(t,e){delete R.locals[e]}),r.locals=null,r.self.status="exited",delete s[n])}),n&&c.invoke(n,e.self,e.locals.globals),e.locals=null,e.self.status="exited",delete s[e.self.name]},stateEntering:function(t,e,r,n){var a=$(t);if(a&&(n||!$(t,e))){var o=t.locals;this.stateExiting(a),t.locals=o}t.self.status="entered",r&&c.invoke(r,t.self,t.locals.globals)},reset:function(n,a){function o(t){x.reset(t)}if("*"===n)return t.forEach(x.getInactiveStates(),o),!0;var i=r.get(n);if(!i)return!1;var u=$(i,a);return u?(x.stateExiting(u),e.$broadcast("$viewContentLoading"),!0):!1}};return x}]}function l(t){return{resolve:{},locals:{globals:k&&k.locals&&k.locals.globals},views:{},self:{},params:{},ownParams:A.hasParamSet?{$$equals:function(){return!0}}:[],surrogateType:t}}var v=t.module("ct.ui.router.extras.core",["ui.router"]),p={},d=[];v.config(["$stateProvider","$injector",function(e,r){e.decorator("parent",function(e,r){return p[e.self.name]=e,e.self.$$state=function(){return p[e.self.name]},t.forEach(d,function(t){t(e)}),r(e)})}]);var m=t.forEach,h=t.extend,$=t.isArray,g=function(t,e){"use strict";var r=[];return m(t,function(t,n){r.push(e(t,n))}),r},x=function(t){"use strict";return g(t,function(t,e){return e})},y=function(t,e){"use strict";var r=[];return m(t,function(t,n){e(t,n)&&r.push(t)}),r},S=function(t,e){"use strict";var r={};return m(t,function(t,n){e(t,n)&&(r[n]=t)}),r};v.provider("uirextras_core",function(){var e={internalStates:p,onStateRegistered:s,forEach:m,extend:h,isArray:$,map:g,keys:x,filter:y,filterObj:S,ancestors:r,objectKeys:n,protoKeys:a,arraySearch:o,inheritParams:i,inherit:u};t.extend(this,e),this.$get=function(){return e}});var b;t.module("ct.ui.router.extras.dsr",["ct.ui.router.extras.core"]).config(["$provide",function(t){var e;t.decorator("$state",["$delegate","$q",function(t,r){return e=t.transitionTo,t.transitionTo=function(n,a,o){return o.ignoreDsr&&(b=o.ignoreDsr),e.apply(t,arguments).then(function(t){return c(),t},function(t){return c(),r.reject(t)})},t}])}]),t.module("ct.ui.router.extras.dsr").service("$deepStateRedirect",["$rootScope","$state","$injector",function(r,n,a){function o(t){var e=t.name;return l.hasOwnProperty(e)?l[e]:void u(e)}function i(e){var r=e.deepStateRedirect||e.dsr;if(!r)return{dsr:!1};var n={dsr:!0};return t.isFunction(r)?n.fn=r:t.isObject(r)&&(n=t.extend(n,r)),t.isString(n["default"])&&(n["default"]={state:n["default"]}),n.fn||(n.fn=["$dsr$",function(t){return t.redirect.state!=t.to.state}]),n}function u(t){var r=n.get(t);if(!r)return!1;var a=i(r);a.dsr&&(l[r.name]=v,f[t]===e&&(f[t]={}));var o=r.$$state&&r.$$state().parent;if(o){var s=u(o.self.name);s&&l[r.name]===e&&(l[r.name]=p)}return l[r.name]||!1}function s(r,n){n===!0&&(n=Object.keys(r)),(null===n||n===e)&&(n=[]);var a={};return t.forEach(n.sort(),function(t){a[t]=r[t]}),a}function c(e,r){function n(t){return t?t.toString():t}var a=s(e,r),o={};return t.forEach(a,function(t,e){o[e]=n(t)}),t.toJson(o)}var f={},l={},v="Redirect",p="AncestorRedirect";return r.$on("$stateChangeStart",function(e,r,u,l,p){var d=i(r);if(!b&&(o(r)===v||d["default"])){var m=c(u,d.params),h=f[r.name][m]||d["default"];if(h){var $={redirect:{state:h.state,params:h.params},to:{state:r.name,params:u}},g=a.invoke(d.fn,r,{$dsr$:$});if(g){g.state&&(h=g),e.preventDefault();var x=s(u,d.params);n.go(h.state,t.extend(x,h.params))}}}}),r.$on("$stateChangeSuccess",function(e,r,a,u,s){var l=o(r);if(l){var v=r.name;t.forEach(f,function(e,o){var u=i(n.get(o)),s=c(a,u.params);r.$$state().includes[o]&&(f[o][s]={state:v,params:t.copy(a)})})}}),{getRedirect:function(t,e){var r=n.get(t);o(r);var a=i(r),u=c(e,a.params),s=f[r.name][u]||a["default"];return s},reset:function(e,r){if(e){var a=n.get(e);if(!a)throw new Error("Unknown state: "+e);if(f[a.name])if(r){var o=c(r,i(a).params);delete f[a.name][o]}else f[a.name]={}}else t.forEach(f,function(t,e){f[e]={}})}}}]),t.module("ct.ui.router.extras.dsr").run(["$deepStateRedirect",function(t){}]),t.module("ct.ui.router.extras.sticky",["ct.ui.router.extras.core"]);var E=t.module("ct.ui.router.extras.sticky");f.$inject=["$stateProvider","uirextras_coreProvider"],E.provider("$stickyState",f);var P,k,w,R,p={},j=[],F={},A={hasParamSet:!1};t.module("ct.ui.router.extras.sticky").run(["$stickyState",function(t){P=t}]),t.module("ct.ui.router.extras.sticky").config(["$provide","$stateProvider","$stickyStateProvider","$urlMatcherFactoryProvider","uirextras_coreProvider",function(r,n,a,o,i){function u(e,r,n){function a(t,e,r){return t[e]?t[e].toUpperCase()+": "+r.self.name:"("+r.self.name+")"}var o=d(n.inactives,function(t){return t.self.name}),i=d(r.toState.path,function(t,e){return a(n.enter,e,t)}),u=d(r.fromState.path,function(t,e){return a(n.exit,e,t)}),s=r.fromState.self.name+": "+t.toJson(r.fromParams)+":  -> "+r.toState.self.name+": "+t.toJson(r.toParams);e.debug("   Current transition: ",s),e.debug("Before transition, inactives are:   : ",d(P.getInactiveStates(),function(t){return t.self.name})),e.debug("After transition,  inactives will be: ",o),e.debug("Transition will exit:  ",u),e.debug("Transition will enter: ",i)}function s(t,e,r){t.debug("Current state: "+e.self.name+", inactive states: ",d(P.getInactiveStates(),function(t){return t.self.name}));for(var n=function(t,e){return"'"+e+"' ("+t.$$state.name+")"},a=function(t,e){return"globals"!=e&&"resolve"!=e},o=function(t){var e=d(m(t.locals,a),n).join(", ");return"("+(t.self.name?t.self.name:"root")+".locals"+(e.length?": "+e:"")+")"},i=o(e),u=e.parent;u&&u!==e;)""===u.self.name&&(i=o(r.$current.path[0])+" / "+i),i=o(u)+" / "+i,e=u,u=e.parent;t.debug("Views: "+i)}var c=i,f=c.internalStates,v=c.inherit,p=(c.inheritParams,c.forEach),d=c.map,m=c.filterObj;A.hasParamSet=!!o.ParamSet,R=t.extend(new l("__inactives"),{self:{name:"__inactives"}}),k=w=e,j=[],i.onStateRegistered(function(t){t.self.sticky===!0&&a.registerStickyState(t.self)});var h;r.decorator("$state",["$delegate","$log","$q",function(r,n,i){return k=r.$current,f[""]=k,k.parent=R,R.parent=e,R.locals=v(F,R.locals),k.locals=v(R.locals,k.locals),delete R.locals.globals,h=r.transitionTo,r.transitionTo=function(e,c,v){function m(e){var r=t.extend(new l("reactivate_phase1"),{locals:e.locals});return r.self=t.extend({},e.self),r}function $(e){var r=t.extend(new l("reactivate_phase2"),e),n=r.self.onEnter;return r.resolve={},r.views={},r.self.onEnter=function(){r.locals=e.locals,P.stateReactivated(e)},J.addRestoreFunction(function(){e.self.onEnter=n}),r}function g(t){var e=new l("inactivate");e.self=t.self;var r=t.self.onExit;return e.self.onExit=function(){P.stateInactivated(t)},J.addRestoreFunction(function(){t.self.onExit=r}),e}function x(t,e){var r=t.self.onEnter;return t.self.onEnter=function(){P.stateEntering(t,e,r)},J.addRestoreFunction(function(){t.self.onEnter=r}),t}function y(t,e){var r=t.self.onEnter;return t.self.onEnter=function(){P.stateEntering(t,e,r,!0)},J.addRestoreFunction(function(){t.self.onEnter=r}),t}function S(t){var e=t.self.onExit;return t.self.onExit=function(){P.stateExiting(t,K,e)},J.addRestoreFunction(function(){t.self.onExit=e}),t}var b=a.debugMode();R.locals||(R.locals=k.locals);var E=j.length;w&&(w(),b&&n.debug("Restored paths from pending transition"));var O,T,C,_,I=r.$current,M=r.params,D=v&&v.relative||r.$current,N=r.get(e,D),q=[],K=[];c=c||{},arguments[1]=c;var z=function(){},J=function(){O&&(L.path=O,O=null),T&&(I.path=T,T=null),t.forEach(J.restoreFunctions,function(t){t()}),J=z,w=null,j.splice(E,1)};if(J.restoreFunctions=[],J.addRestoreFunction=function(t){this.restoreFunctions.push(t)},N){var L=f[N.name];if(L){O=L.path,T=I.path;var B=v&&v.reload||!1,H=B&&(B===!0?O[0].self:r.get(B,D));v&&B&&B!==!0&&delete v.reload;var U={toState:L,toParams:c||{},fromState:I,fromParams:M||{},options:v,reloadStateTree:H};if(j.push(U),w=J,H){U.toParams.$$uirouterextrasreload=Math.random();var V=H.$$state().params,W=H.$$state().ownParams;if(A.hasParamSet){var Y=new o.Param("$$uirouterextrasreload");V.$$uirouterextrasreload=W.$$uirouterextrasreload=Y,J.restoreFunctions.push(function(){delete V.$$uirouterextrasreload,delete W.$$uirouterextrasreload})}else V.push("$$uirouterextrasreload"),W.push("$$uirouterextrasreload"),J.restoreFunctions.push(function(){V.length=V.length-1,W.length=W.length-1})}C=P.processTransition(U),b&&u(n,U,C);var G=L.path.slice(0,C.keep),Q=I.path.slice(0,C.keep);t.forEach(R.locals,function(t,e){-1!=e.indexOf("@")&&delete R.locals[e]});var X=function(t){return function(e,r){-1!==r.indexOf("@")&&(t[r]=e)}};p(C.inactives,function(t){p(t.locals,X(R.locals))}),p(C.reactivatingStates,function(t){p(t.locals,X(F))}),J.addRestoreFunction(function(){p(F,function(t,e){delete F[e]})}),t.forEach(C.enter,function(t,e){var r,n=L.path[e];"reactivate"===t?(r=m(n),G.push(r),Q.push(r),q.push($(n)),_=n):"updateStateParams"===t?(G.push(y(n)),_=n):"enter"===t&&G.push(x(n))}),t.forEach(C.exit,function(t,e){var r=I.path[e];"inactivate"===t?(Q.push(g(r)),K.push(r)):"exit"===t&&(Q.push(S(r)),K.push(r))}),q.length&&t.forEach(q,function(t){G.push(t)});var Z=C.deepestReactivateChildren;Q=Q.concat(d(C.deepestReactivateChildren,function(t){return S(t)})),K=K.concat(Z),I.path=Q,L.path=G;var tt=function(t){return(t.surrogateType?t.surrogateType+":":"")+t.self.name};b&&n.debug("SurrogateFromPath: ",d(Q,tt)),b&&n.debug("SurrogateToPath:   ",d(G,tt))}}var et=h.apply(r,arguments);return et.then(function(t){return J(),b&&s(n,f[t.name],r),t.status="active",t},function(t){return J(),b&&"transition prevented"!==t.message&&"transition aborted"!==t.message&&"transition superseded"!==t.message&&(n.debug("transition failed",t),n.debug(t.stack)),i.reject(t)})},r}])}]),function(t,e){function r(e,r,n,a){function o(e,r){var n=t.isObject(e)?e.name:e;return r?p[n]:l[n]}function i(t,e){if(e.name){var r=e.name.split(/\./);for("."===e.name.charAt(0)&&(r[0]=t.current.name);r.length;){var n=r.join(".");if(t.get(n,{relative:t.current}))return null;if(p[n])return p[n];r.pop()}}if(e.url){var a=[];for(var o in p){var i=p[o].urlMatcher;i&&i.exec(e.url)&&a.push(p[o])}for(var u=a.slice(0),s=a.length-1;s>=0;s--)for(var c=0;c<u.length;c++)a[s]===u[c].parentFutureState&&a.splice(s,1);return a[0]}}function u(t,e){function r(){delete p[e.name]}function n(t){return"remove"===l&&r(),a.reject(t)}d=!0;var a=t.get("$q");if(!e){var o=a.defer();return o.reject("No lazyState passed in "+e),o.promise}var i=a.when([]),s=e.parentFutureState;s&&p[s.name]&&(i=u(t,p[s.name]));var c=e.type,f=v[c];if(!f)throw Error("No state factory for futureState.type: "+(e&&e.type));var l=f.$options&&f.$options.failedLazyLoadPolicy||"remove";return i.then(function(n){var a=t.invoke(f,f,{futureState:e});return a.then(function(t){return r(),t&&n.push(t),n})})["catch"](n)}function s(t,r){var n=!1,a=["$rootScope","$urlRouter","$state",function(a,o,s){function f(){n=!0,o.sync(),n=!1}if(!h)return c().then(f),void(h=!0);var l=i(s,{url:r.path()});return l?void u(t,l).then(function(t){t.forEach(function(t){t&&(!s.get(t)||t.name&&!s.get(t.name))&&e.state(t)}),d=!1,f()},function(){d=!1,f()}):t.invoke(g)}];if(!d){var o=n?g:a;return t.invoke(o)}}var c,f=a,l=f.internalStates,v={},p={},d=!1,m=[],h=!1,$=this;this.addResolve=function(t){m.push(t)},this.stateFactory=function(t,e){v[t]=e},this.futureState=function(e){e.stateName&&(e.name=e.stateName),e.urlPrefix&&(e.url="^"+e.urlPrefix),p[e.name]=e;var r,a=e.name.split(/\./).slice(0,-1).join("."),i=o(e.parent||a);if(i)r=i.url||i.navigable&&i.navigable.url;else if(""===a)r=n.compile("");else{var u=o(e.parent||a,!0);if(!u)throw new Error("Couldn't determine parent state of future state. FutureState:"+t.toJson(e));var s=u.urlMatcher.source.replace(/\*rest$/,"");r=n.compile(s),e.parentFutureState=u}e.url&&(e.urlMatcher="^"===e.url.charAt(0)?n.compile(e.url.substring(1)+"*rest"):r.concat(e.url+"*rest"))},this.get=function(){return t.extend({},p)};var g=["$log","$location",function(t,e){}];r.otherwise(s),r.otherwise=function(e){if(t.isString(e)){var n=e;e=function(){return n}}else if(!t.isFunction(e))throw new Error("'rule' must be a function");return g=["$injector","$location",e],r};var x={getResolvePromise:function(){return c()}};this.$get=["$injector","$state","$q","$rootScope","$urlRouter","$timeout","$log",function(r,n,a,o,s,f,l){function v(){if(o.$on("$stateNotFound",function(t,a,o,s){if(!d){var c=i(n,{name:a.to});if(c){t.preventDefault();var f=u(r,c);f.then(function(t){t.forEach(function(t){t&&(!n.get(t)||t.name&&!n.get(t.name))&&e.state(t)}),n.go(a.to,a.toParams),d=!1},function(t){console.log("failed to lazy load state ",t),o.name&&n.go(o,s),d=!1})}}}),!c){var l=[];t.forEach(m,function(t){l.push(r.invoke(t))}),c=function(){return a.all(l)}}c().then(function v(){f(function(){n.transition?n.transition.then(v,v):s.sync()})})}return v(),x.state=e.state,x.futureState=$.futureState,x.get=$.get,x}]}var n=t.module("ct.ui.router.extras.future",["ct.ui.router.extras.core"]);r.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","uirextras_coreProvider"],n.provider("$futureState",r);var a={state:function(t){a.$rootScope&&a.$rootScope.$broadcast("$stateAdded",t)},itsNowRuntimeOhWhatAHappyDay:function(t){a.$rootScope=t},$rootScope:e};n.config(["$stateProvider",function(e){var r=e.state;e.state=function(){var n=r.apply(e,arguments),o=t.isObject(arguments[0])?arguments[0]:arguments[1];return a.state(o),n}}]),n.run(["$futureState",function(t,e){a.itsNowRuntimeOhWhatAHappyDay(e)}])}(t),t.module("ct.ui.router.extras.previous",["ct.ui.router.extras.core","ct.ui.router.extras.transition"]).service("$previousState",["$rootScope","$state",function(t,r){var n=null,a=null,o={};t.$on("$transitionStart",function(t,e){function r(){a=null}function o(){n=a}var i=e.from,u=i.state&&i.state.$$state&&i.state.$$state();u&&(a=n,n=e.from,e.promise.then(r)["catch"](o))});var i={get:function(t){return t?o[t]:n},go:function(t,e){var n=i.get(t);return r.go(n.state,n.params,e)},memo:function(t,e,a){o[t]=n||{state:r.get(e),params:a}},forget:function(t){t?delete o[t]:n=e}};return i}]),t.module("ct.ui.router.extras.previous").run(["$previousState",function(t){}]),t.module("ct.ui.router.extras.transition",["ct.ui.router.extras.core"]).config(["$provide",function(e){e.decorator("$state",["$delegate","$rootScope","$q","$injector",function(e,r,n,a){function o(e){var r=a.invoke,n=a.instantiate;return a.invoke=function(n,a,o){return r(n,a,t.extend({$transition$:e},o))},a.instantiate=function(r,a){return n(r,t.extend({$transition$:e},a))},function(){a.invoke=r,a.instantiate=n}}function i(){v.pop()(),l.pop(),f--}function u(t,e){return function(n){return i(),r.$broadcast("$transitionSuccess",e),t.resolve(n),n}}function s(t,e){return function(a){return i(),r.$broadcast("$transitionError",e,a),t.reject(a),n.reject(a)}}var c=e.transitionTo,f=-1,l=[],v=[];return e.transitionTo=function(t,r,a){var o=n.defer(),i=l[++f]={promise:o.promise};v[f]=function(){};var p=c.apply(e,arguments);return p.then(u(o,i),s(o,i))},r.$on("$stateChangeStart",function(e,n,a,i,u){var s=f,c=t.extend(l[s],{to:{state:n,params:a},from:{state:i,params:u}}),p=o(c);v[s]=p,r.$broadcast("$transitionStart",c)}),e}])}]),function(){"use strict";function e(e,r,n){return{scope:{width:"@",height:"@"},restrict:"AE",template:"<svg></svg>",link:function(r,a,o){function i(e){e=e.map(function(e){return""===e.name?v:t.copy(e)}),t.extend(s,e.reduce(function(t,e){return t[e.name]=e,t},{})),e.forEach(function(t){var e=t.name.split(/\./).slice(0,-1).join("."),r=t.name!=e&&s[e];r&&((r.children||(r.children=[])).push(t),t.px=r.px,t.py=r.py,p.push(t))})}function u(){function t(t){var e=t.name.split(".").pop();return t.sticky&&(e+=" (STICKY)"),t.deepStateRedirect&&(e+=" (DSR)"),e}$=$.data(l.nodes(v),function(t){return t.name}),g=g.data(l.links(p),function(t){return t.target.name}),x=x.data(d),p.forEach(function(t){t.y=70*t.depth});var e=$.enter();x.enter().append("circle").attr("class","active").attr("r",13).attr("cx",function(t){return t.parent.px||100}).attr("cy",function(t){return t.parent.py||100}),e.append("circle").attr("class","node").attr("r",9).attr("cx",function(t){return t.parent.px}).attr("cy",function(t){return t.parent.py}),e.append("text").attr("class","label").attr("x",function(t){return t.parent.px}).attr("y",function(t){return t.parent.py}).attr("text-anchor",function(t){return"middle"}).text(t).style("fill-opacity",1),g.enter().insert("path",".node").attr("class","link").attr("d",function(t){var e={x:t.source.px,y:t.source.py};return m({source:e,target:e})});var r=h.transition().duration(S);r.selectAll(".link").attr("d",m);var n={entered:"#AF0",exited:"#777",active:"#0f0",inactive:"#55F",future:"#009"};r.selectAll(".node").attr("cx",function(t){return t.px=t.x}).attr("cy",function(t){return t.py=t.y}).attr("r",function(t){return"active"===t.status?15:10}).style("fill",function(t){return n[t.status]||"#FFF"}),r.selectAll(".label").attr("x",function(t){return t.px=t.x}).attr("y",function(t){return t.py=t.y-15}).attr("transform",function(t){return"rotate(-25 "+t.x+" "+t.y+")"}),r.selectAll(".active").attr("x",function(t){return t.px=t.x}).attr("y",function(t){return t.py=t.y-15})}var s={},c=r.width||400,f=r.height||400,l=d3.layout.tree().size([c-20,f-20]).separation(function(t,e){return t.parent==e.parent?10:25}),v=e.get().filter(function(t){return""===t.name})[0],p=l(v);v.parent=v,v.px=v.x=c/2,v.py=v.y=f/2;var d={};d.px=d.x=v.px,d.py=d.y=v.py;{var m=d3.svg.diagonal(),h=d3.select(a.find("svg")[0]).attr("width",c).attr("height",f).append("g").attr("transform","translate(10, 10)"),$=h.selectAll(".node"),g=h.selectAll(".link"),x=h.selectAll(".active"),y=200,S=200;setInterval(u,y)}n(function(){r.states=e.get(),t.forEach(p,function(t){var r=e.get(t.name);r&&(t.status=r.status||"exited")})},250),r.$watchCollection("states",function(t,e){var r=(e||[]).map(function(t){return t.name});i((t||[]).filter(function(t){return-1==r.indexOf(t.name)}))}),u(y)}}}var r=t.module("ct.ui.router.extras.statevis",["ct.ui.router.extras.core","ct.ui.router.extras.sticky"]);r.directive("stateVis",["$state","$timeout","$interval",e])}(),t.module("ct.ui.router.extras",["ct.ui.router.extras.core","ct.ui.router.extras.dsr","ct.ui.router.extras.future","ct.ui.router.extras.previous","ct.ui.router.extras.statevis","ct.ui.router.extras.sticky","ct.ui.router.extras.transition"])});

/*! WOW - v1.1.2 - 2015-04-07
* Copyright (c) 2015 Matthieu Aussaguel; Licensed MIT */(function(){var a,b,c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b=function(){function a(){}return a.prototype.extend=function(a,b){var c,d;for(c in b)d=b[c],null==a[c]&&(a[c]=d);return a},a.prototype.isMobile=function(a){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)},a.prototype.createEvent=function(a,b,c,d){var e;return null==b&&(b=!1),null==c&&(c=!1),null==d&&(d=null),null!=document.createEvent?(e=document.createEvent("CustomEvent"),e.initCustomEvent(a,b,c,d)):null!=document.createEventObject?(e=document.createEventObject(),e.eventType=a):e.eventName=a,e},a.prototype.emitEvent=function(a,b){return null!=a.dispatchEvent?a.dispatchEvent(b):b in(null!=a)?a[b]():"on"+b in(null!=a)?a["on"+b]():void 0},a.prototype.addEvent=function(a,b,c){return null!=a.addEventListener?a.addEventListener(b,c,!1):null!=a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},a.prototype.removeEvent=function(a,b,c){return null!=a.removeEventListener?a.removeEventListener(b,c,!1):null!=a.detachEvent?a.detachEvent("on"+b,c):delete a[b]},a.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},a}(),c=this.WeakMap||this.MozWeakMap||(c=function(){function a(){this.keys=[],this.values=[]}return a.prototype.get=function(a){var b,c,d,e,f;for(f=this.keys,b=d=0,e=f.length;e>d;b=++d)if(c=f[b],c===a)return this.values[b]},a.prototype.set=function(a,b){var c,d,e,f,g;for(g=this.keys,c=e=0,f=g.length;f>e;c=++e)if(d=g[c],d===a)return void(this.values[c]=b);return this.keys.push(a),this.values.push(b)},a}()),a=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a=function(){function a(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return a.notSupported=!0,a.prototype.observe=function(){},a}()),d=this.getComputedStyle||function(a){return this.getPropertyValue=function(b){var c;return"float"===b&&(b="styleFloat"),e.test(b)&&b.replace(e,function(a,b){return b.toUpperCase()}),(null!=(c=a.currentStyle)?c[b]:void 0)||null},this},e=/(\-([a-z]){1})/g,this.WOW=function(){function e(a){null==a&&(a={}),this.scrollCallback=f(this.scrollCallback,this),this.scrollHandler=f(this.scrollHandler,this),this.resetAnimation=f(this.resetAnimation,this),this.start=f(this.start,this),this.scrolled=!0,this.config=this.util().extend(a,this.defaults),this.animationNameCache=new c,this.wowEvent=this.util().createEvent(this.config.boxClass)}return e.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},e.prototype.init=function(){var a;return this.element=window.document.documentElement,"interactive"===(a=document.readyState)||"complete"===a?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},e.prototype.start=function(){var b,c,d,e;if(this.stopped=!1,this.boxes=function(){var a,c,d,e;for(d=this.element.querySelectorAll("."+this.config.boxClass),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b);return e}.call(this),this.all=function(){var a,c,d,e;for(d=this.boxes,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b);return e}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(e=this.boxes,c=0,d=e.length;d>c;c++)b=e[c],this.applyStyle(b,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new a(function(a){return function(b){var c,d,e,f,g;for(g=[],c=0,d=b.length;d>c;c++)f=b[c],g.push(function(){var a,b,c,d;for(c=f.addedNodes||[],d=[],a=0,b=c.length;b>a;a++)e=c[a],d.push(this.doSync(e));return d}.call(a));return g}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},e.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},e.prototype.sync=function(){return a.notSupported?this.doSync(this.element):void 0},e.prototype.doSync=function(a){var b,c,d,e,f;if(null==a&&(a=this.element),1===a.nodeType){for(a=a.parentNode||a,e=a.querySelectorAll("."+this.config.boxClass),f=[],c=0,d=e.length;d>c;c++)b=e[c],g.call(this.all,b)<0?(this.boxes.push(b),this.all.push(b),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(b,!0),f.push(this.scrolled=!0)):f.push(void 0);return f}},e.prototype.show=function(a){return this.applyStyle(a),a.className=a.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(a),this.util().emitEvent(a,this.wowEvent),this.util().addEvent(a,"animationend",this.resetAnimation),this.util().addEvent(a,"oanimationend",this.resetAnimation),this.util().addEvent(a,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(a,"MSAnimationEnd",this.resetAnimation),a},e.prototype.applyStyle=function(a,b){var c,d,e;return d=a.getAttribute("data-wow-duration"),c=a.getAttribute("data-wow-delay"),e=a.getAttribute("data-wow-iteration"),this.animate(function(f){return function(){return f.customStyle(a,b,d,c,e)}}(this))},e.prototype.animate=function(){return"requestAnimationFrame"in window?function(a){return window.requestAnimationFrame(a)}:function(a){return a()}}(),e.prototype.resetStyle=function(){var a,b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.style.visibility="visible");return e},e.prototype.resetAnimation=function(a){var b;return a.type.toLowerCase().indexOf("animationend")>=0?(b=a.target||a.srcElement,b.className=b.className.replace(this.config.animateClass,"").trim()):void 0},e.prototype.customStyle=function(a,b,c,d,e){return b&&this.cacheAnimationName(a),a.style.visibility=b?"hidden":"visible",c&&this.vendorSet(a.style,{animationDuration:c}),d&&this.vendorSet(a.style,{animationDelay:d}),e&&this.vendorSet(a.style,{animationIterationCount:e}),this.vendorSet(a.style,{animationName:b?"none":this.cachedAnimationName(a)}),a},e.prototype.vendors=["moz","webkit"],e.prototype.vendorSet=function(a,b){var c,d,e,f;d=[];for(c in b)e=b[c],a[""+c]=e,d.push(function(){var b,d,g,h;for(g=this.vendors,h=[],b=0,d=g.length;d>b;b++)f=g[b],h.push(a[""+f+c.charAt(0).toUpperCase()+c.substr(1)]=e);return h}.call(this));return d},e.prototype.vendorCSS=function(a,b){var c,e,f,g,h,i;for(h=d(a),g=h.getPropertyCSSValue(b),f=this.vendors,c=0,e=f.length;e>c;c++)i=f[c],g=g||h.getPropertyCSSValue("-"+i+"-"+b);return g},e.prototype.animationName=function(a){var b;try{b=this.vendorCSS(a,"animation-name").cssText}catch(c){b=d(a).getPropertyValue("animation-name")}return"none"===b?"":b},e.prototype.cacheAnimationName=function(a){return this.animationNameCache.set(a,this.animationName(a))},e.prototype.cachedAnimationName=function(a){return this.animationNameCache.get(a)},e.prototype.scrollHandler=function(){return this.scrolled=!0},e.prototype.scrollCallback=function(){var a;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a&&(this.isVisible(a)?this.show(a):e.push(a));return e}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},e.prototype.offsetTop=function(a){for(var b;void 0===a.offsetTop;)a=a.parentNode;for(b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b},e.prototype.isVisible=function(a){var b,c,d,e,f;return c=a.getAttribute("data-wow-offset")||this.config.offset,f=window.pageYOffset,e=f+Math.min(this.element.clientHeight,this.util().innerHeight())-c,d=this.offsetTop(a),b=d+a.clientHeight,e>=d&&b>=f},e.prototype.util=function(){return null!=this._util?this._util:this._util=new b},e.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},e}()}).call(this);

// This file was automatically generated from "xxhash.lmd.json"
(function (global, main, modules, modules_options, options) {
    var initialized_modules = {},
        global_eval = function (code) {
            return global.Function('return ' + code)();
        },

        global_document = global.document,
        local_undefined,
        /**
         * @param {String} moduleName module name or path to file
         * @param {*}      module module content
         *
         * @returns {*}
         */
        register_module = function (moduleName, module) {
            lmd_trigger('lmd-register:before-register', moduleName, module);
            // Predefine in case of recursive require
            var output = {'exports': {}};
            initialized_modules[moduleName] = 1;
            modules[moduleName] = output.exports;

            if (!module) {
                // if undefined - try to pick up module from globals (like jQuery)
                // or load modules from nodejs/worker environment
                module = lmd_trigger('js:request-environment-module', moduleName, module)[1] || global[moduleName];
            } else if (typeof module === 'function') {
                // Ex-Lazy LMD module or unpacked module ("pack": false)
                var module_require = lmd_trigger('lmd-register:decorate-require', moduleName, lmd_require)[1];

                // Make sure that sandboxed modules cant require
                if (modules_options[moduleName] &&
                    modules_options[moduleName].sandbox &&
                    typeof module_require === 'function') {

                    module_require = local_undefined;
                }

                module = module(module_require, output.exports, output) || output.exports;
            }

            module = lmd_trigger('lmd-register:after-register', moduleName, module)[1];
            return modules[moduleName] = module;
        },
        /**
         * List of All lmd Events
         *
         * @important Do not rename it!
         */
        lmd_events = {},
        /**
         * LMD event trigger function
         *
         * @important Do not rename it!
         */
        lmd_trigger = function (event, data, data2, data3) {
            var list = lmd_events[event],
                result;

            if (list) {
                for (var i = 0, c = list.length; i < c; i++) {
                    result = list[i](data, data2, data3) || result;
                    if (result) {
                        // enable decoration
                        data = result[0] || data;
                        data2 = result[1] || data2;
                        data3 = result[2] || data3;
                    }
                }
            }
            return result || [data, data2, data3];
        },
        /**
         * LMD event register function
         *
         * @important Do not rename it!
         */
        lmd_on = function (event, callback) {
            if (!lmd_events[event]) {
                lmd_events[event] = [];
            }
            lmd_events[event].push(callback);
        },
        /**
         * @param {String} moduleName module name or path to file
         *
         * @returns {*}
         */
        lmd_require = function (moduleName) {
            var module = modules[moduleName];

            var replacement = lmd_trigger('*:rewrite-shortcut', moduleName, module);
            if (replacement) {
                moduleName = replacement[0];
                module = replacement[1];
            }

            lmd_trigger('*:before-check', moduleName, module);
            // Already inited - return as is
            if (initialized_modules[moduleName] && module) {
                return module;
            }

            lmd_trigger('*:before-init', moduleName, module);

            // Lazy LMD module not a string
            if (typeof module === 'string' && module.indexOf('(function(') === 0) {
                module = global_eval(module);
            }

            return register_module(moduleName, module);
        },
        output = {'exports': {}},

        /**
         * Sandbox object for plugins
         *
         * @important Do not rename it!
         */
        sandbox = {
            'global': global,
            'modules': modules,
            'modules_options': modules_options,
            'options': options,

            'eval': global_eval,
            'register': register_module,
            'require': lmd_require,
            'initialized': initialized_modules,


            'document': global_document,



            'on': lmd_on,
            'trigger': lmd_trigger,
            'undefined': local_undefined
        };

    for (var moduleName in modules) {
        // reset module init flag in case of overwriting
        initialized_modules[moduleName] = 0;
    }



    main(lmd_trigger('lmd-register:decorate-require', 'main', lmd_require)[1], output.exports, output);
})/*DO NOT ADD ; !*/
(this,(function (require, exports, module) { /* wrapped by builder */
window['XXH'] = require('xxhash')
}),{
"./lib/uint32": (function (require, exports, module) { /* wrapped by builder */
/**
	C-like unsigned 32 bits integers in Javascript
	Copyright (C) 2013, Pierre Curto
	MIT license
 */
;(function (root) {

	// Local cache for typical radices
	var radixPowerCache = {
		36: UINT32( Math.pow(36, 5) )
	,	16: UINT32( Math.pow(16, 7) )
	,	10: UINT32( Math.pow(10, 9) )
	,	2:  UINT32( Math.pow(2, 30) )
	}
	var radixCache = {
		36: UINT32(36)
	,	16: UINT32(16)
	,	10: UINT32(10)
	,	2:  UINT32(2)
	}

	/**
	 *	Represents an unsigned 32 bits integer
	 * @constructor
	 * @param {Number|String|Number} low bits     | integer as a string 		 | integer as a number
	 * @param {Number|Number|Undefined} high bits | radix (optional, default=10)
	 * @return
	 */
	function UINT32 (l, h) {
		if ( !(this instanceof UINT32) )
			return new UINT32(l, h)

		this._low = 0
		this._high = 0
		this.remainder = null
		if (typeof h == 'undefined')
			return fromNumber.call(this, l)

		if (typeof l == 'string')
			return fromString.call(this, l, h)

		fromBits.call(this, l, h)
	}

	/**
	 * Set the current _UINT32_ object with its low and high bits
	 * @method fromBits
	 * @param {Number} low bits
	 * @param {Number} high bits
	 * @return ThisExpression
	 */
	function fromBits (l, h) {
		this._low = l | 0
		this._high = h | 0

		return this
	}
	UINT32.prototype.fromBits = fromBits

	/**
	 * Set the current _UINT32_ object from a number
	 * @method fromNumber
	 * @param {Number} number
	 * @return ThisExpression
	 */
	function fromNumber (value) {
		this._low = value & 0xFFFF
		this._high = value >>> 16

		return this
	}
	UINT32.prototype.fromNumber = fromNumber

	/**
	 * Set the current _UINT32_ object from a string
	 * @method fromString
	 * @param {String} integer as a string
	 * @param {Number} radix (optional, default=10)
	 * @return ThisExpression
	 */
	function fromString (s, radix) {
		var value = parseInt(s, radix || 10)

		this._low = value & 0xFFFF
		this._high = value >>> 16

		return this
	}
	UINT32.prototype.fromString = fromString

	/**
	 * Convert this _UINT32_ to a number
	 * @method toNumber
	 * @return {Number} the converted UINT32
	 */
	UINT32.prototype.toNumber = function () {
		return (this._high << 16) | this._low
	}

	/**
	 * Convert this _UINT32_ to a string
	 * @method toString
	 * @param {Number} radix (optional, default=10)
	 * @return {String} the converted UINT32
	 */
	UINT32.prototype.toString = function (radix) {
		radix = radix || 10
		var radixUint = radixCache[radix] || new UINT32(radix)

		if ( !this.gt(radixUint) ) return this.toNumber().toString(radix)

		var self = this.clone()
		var res = new Array(32)
		for (var i = 31; i >= 0; i--) {
			self.div(radixUint)
			res[i] = self.remainder.toNumber().toString(radix)
			if ( !self.gt(radixUint) ) break
		}
		res[i-1] = self.toNumber().toString(radix)

		return res.join('')
	}

	/**
	 * Add two _UINT32_. The current _UINT32_ stores the result
	 * @method add
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.add = function (other) {
		var a00 = this._low + other._low
		var a16 = a00 >>> 16

		a16 += this._high + other._high

		this._low = a00 & 0xFFFF
		this._high = a16 & 0xFFFF

		return this
	}

	/**
	 * Subtract two _UINT32_. The current _UINT32_ stores the result
	 * @method subtract
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.subtract = function (other) {
		//TODO inline
		return this.add( other.clone().negate() )
	}

	/**
	 * Multiply two _UINT32_. The current _UINT32_ stores the result
	 * @method multiply
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.multiply = function (other) {
		/*
			a = a00 + a16
			b = b00 + b16
			a*b = (a00 + a16)(b00 + b16)
				= a00b00 + a00b16 + a16b00 + a16b16

			a16b16 overflows the 32bits
		 */
		var a16 = this._high
		var a00 = this._low
		var b16 = other._high
		var b00 = other._low

/* Removed to increase speed under normal circumstances (i.e. not multiplying by 0 or 1)
		// this == 0 or other == 1: nothing to do
		if ((a00 == 0 && a16 == 0) || (b00 == 1 && b16 == 0)) return this

		// other == 0 or this == 1: this = other
		if ((b00 == 0 && b16 == 0) || (a00 == 1 && a16 == 0)) {
			this._low = other._low
			this._high = other._high
			return this
		}
*/

		var c16, c00
		c00 = a00 * b00
		c16 = c00 >>> 16

		c16 += a16 * b00
		c16 &= 0xFFFF		// Not required but improves performance
		c16 += a00 * b16

		this._low = c00 & 0xFFFF
		this._high = c16 & 0xFFFF

		return this
	}

	/**
	 * Divide two _UINT32_. The current _UINT32_ stores the result.
	 * The remainder is made available as the _remainder_ property on
	 * the _UINT32_ object. It can be null, meaning there are no remainder.
	 * @method div
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.div = function (other) {
		if ( (other._low == 0) && (other._high == 0) ) throw Error('division by zero')

		// other == 1
		if (other._high == 0 && other._low == 1) {
			this.remainder = new UINT32(0)
			return this
		}

		// other > this: 0
		if ( other.gt(this) ) {
			this.remainder = new UINT32(0)
			this._low = 0
			this._high = 0
			return this
		}
		// other == this: 1
		if ( this.eq(other) ) {
			this.remainder = new UINT32(0)
			this._low = 1
			this._high = 0
			return this
		}

		// Shift the divisor left until it is higher than the dividend
		var _other = other.clone()
		var i = -1
		while ( !this.lt(_other) ) {
			// High bit can overflow the default 16bits
			// Its ok since we right shift after this loop
			// The overflown bit must be kept though
			_other.shiftLeft(1, true)
			i++
		}

		// Set the remainder
		this.remainder = this.clone()
		// Initialize the current result to 0
		this._low = 0
		this._high = 0
		for (; i >= 0; i--) {
			_other.shiftRight(1)
			// If shifted divisor is smaller than the dividend
			// then subtract it from the dividend
			if ( !this.remainder.lt(_other) ) {
				this.remainder.subtract(_other)
				// Update the current result
				if (i >= 16) {
					this._high |= 1 << (i - 16)
				} else {
					this._low |= 1 << i
				}
			}
		}

		return this
	}

	/**
	 * Negate the current _UINT32_
	 * @method negate
	 * @return ThisExpression
	 */
	UINT32.prototype.negate = UINT32.prototype.not = function () {
		var v = ( ~this._low & 0xFFFF ) + 1
		this._low = v & 0xFFFF
		this._high = (~this._high + (v >>> 16)) & 0xFFFF

		return this
	}

	/**
	 * Equals
	 * @method eq
	 * @param {Object} other UINT32
	 * @return {Boolean}
	 */
	UINT32.prototype.equals = UINT32.prototype.eq = function (other) {
		return (this._low == other._low) && (this._high == other._high)
	}

	/**
	 * Greater than (strict)
	 * @method gt
	 * @param {Object} other UINT32
	 * @return {Boolean}
	 */
	UINT32.prototype.greaterThan = UINT32.prototype.gt = function (other) {
		if (this._high > other._high) return true
		if (this._high < other._high) return false
		return this._low > other._low
	}

	/**
	 * Less than (strict)
	 * @method lt
	 * @param {Object} other UINT32
	 * @return {Boolean}
	 */
	UINT32.prototype.lessThan = UINT32.prototype.lt = function (other) {
		if (this._high < other._high) return true
		if (this._high > other._high) return false
		return this._low < other._low
	}

	/**
	 * Bitwise OR
	 * @method or
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.or = function (other) {
		this._low |= other._low
		this._high |= other._high

		return this
	}

	/**
	 * Bitwise AND
	 * @method and
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.and = function (other) {
		this._low &= other._low
		this._high &= other._high

		return this
	}

	/**
	 * Bitwise XOR
	 * @method xor
	 * @param {Object} other UINT32
	 * @return ThisExpression
	 */
	UINT32.prototype.xor = function (other) {
		this._low ^= other._low
		this._high ^= other._high

		return this
	}

	/**
	 * Bitwise shift right
	 * @method shiftRight
	 * @param {Number} number of bits to shift
	 * @return ThisExpression
	 */
	UINT32.prototype.shiftRight = UINT32.prototype.shiftr = function (n) {
		if (n > 16) {
			this._low = this._high >> (n - 16)
			this._high = 0
		} else if (n == 16) {
			this._low = this._high
			this._high = 0
		} else {
			this._low = (this._low >> n) | ( (this._high << (16-n)) & 0xFFFF )
			this._high >>= n
		}

		return this
	}

	/**
	 * Bitwise shift left
	 * @method shiftLeft
	 * @param {Number} number of bits to shift
	 * @param {Boolean} allow overflow
	 * @return ThisExpression
	 */
	UINT32.prototype.shiftLeft = UINT32.prototype.shiftl = function (n, allowOverflow) {
		if (n > 16) {
			this._high = this._low << (n - 16)
			this._low = 0
			if (!allowOverflow) {
				this._high &= 0xFFFF
			}
		} else if (n == 16) {
			this._high = this._low
			this._low = 0
		} else {
			this._high = (this._high << n) | (this._low >> (16-n))
			this._low = (this._low << n) & 0xFFFF
			if (!allowOverflow) {
				// Overflow only allowed on the high bits...
				this._high &= 0xFFFF
			}
		}

		return this
	}

	/**
	 * Bitwise rotate left
	 * @method rotl
	 * @param {Number} number of bits to rotate
	 * @return ThisExpression
	 */
	UINT32.prototype.rotateLeft = UINT32.prototype.rotl = function (n) {
		var v = (this._high << 16) | this._low
		v = (v << n) | (v >>> (32 - n))
		this._low = v & 0xFFFF
		this._high = v >>> 16

		return this
	}

	/**
	 * Bitwise rotate right
	 * @method rotr
	 * @param {Number} number of bits to rotate
	 * @return ThisExpression
	 */
	UINT32.prototype.rotateRight = UINT32.prototype.rotr = function (n) {
		var v = (this._high << 16) | this._low
		v = (v >>> n) | (v << (32 - n))
		this._low = v & 0xFFFF
		this._high = v >>> 16

		return this
	}

	/**
	 * Clone the current _UINT32_
	 * @method clone
	 * @return {Object} cloned UINT32
	 */
	UINT32.prototype.clone = function () {
		return new UINT32(this._low, this._high)
	}

	if (typeof define != 'undefined' && define.amd) {
		// AMD / RequireJS
		define([], function () {
			return UINT32
		})
	} else if (typeof module != 'undefined' && module.exports) {
		// Node.js
		module.exports = UINT32
	} else {
		// Browser
		root['UINT32'] = UINT32
	}

})(this)
}),
"cuint": (function (require, exports, module) { /* wrapped by builder */
exports.UINT32 = require('./lib/uint32')
exports.UINT64 = require('./lib/uint64')
}),
"xxhash": (function (require, exports, module) { /* wrapped by builder */
/**
	xxHash implementation in pure Javascript

	Copyright (C) 2013, Pierre Curto
	MIT license
 */
;(function (root) {

	var UINT32 = require('cuint').UINT32

	/*
		Merged this sequence of method calls as it speeds up
		the calculations by a factor of 2
	 */
	// this.v1.add( other.multiply(PRIME32_2) ).rotl(13).multiply(PRIME32_1);
	UINT32.prototype.xxh_update = function (low, high) {
		var b00 = PRIME32_2._low
		var b16 = PRIME32_2._high

		var c16, c00
		c00 = low * b00
		c16 = c00 >>> 16

		c16 += high * b00
		c16 &= 0xFFFF		// Not required but improves performance
		c16 += low * b16

		var a00 = this._low + (c00 & 0xFFFF)
		var a16 = a00 >>> 16

		a16 += this._high + (c16 & 0xFFFF)

		var v = (a16 << 16) | (a00 & 0xFFFF)
		v = (v << 13) | (v >>> 19)

		a00 = v & 0xFFFF
		a16 = v >>> 16

		b00 = PRIME32_1._low
		b16 = PRIME32_1._high

		c00 = a00 * b00
		c16 = c00 >>> 16

		c16 += a16 * b00
		c16 &= 0xFFFF		// Not required but improves performance
		c16 += a00 * b16

		this._low = c00 & 0xFFFF
		this._high = c16 & 0xFFFF
	}

	/*
	 * Constants
	 */
	var PRIME32_1 = UINT32( '2654435761' )
	var PRIME32_2 = UINT32( '2246822519' )
	var PRIME32_3 = UINT32( '3266489917' )
	var PRIME32_4 = UINT32(  '668265263' )
	var PRIME32_5 = UINT32(  '374761393' )

	var PRIME32_1plus2 = PRIME32_1.clone().add(PRIME32_2)

	/**
	* Convert string to proper UTF-8 array
	* @param str Input string
	* @returns {Uint8Array} UTF8 array is returned as uint8 array
	*/
	function toUTF8Array (str) {
		var utf8 = []
		for (var i=0, n=str.length; i < n; i++) {
			var charcode = str.charCodeAt(i)
			if (charcode < 0x80) utf8.push(charcode)
			else if (charcode < 0x800) {
				utf8.push(0xc0 | (charcode >> 6),
				0x80 | (charcode & 0x3f))
			}
			else if (charcode < 0xd800 || charcode >= 0xe000) {
				utf8.push(0xe0 | (charcode >> 12),
				0x80 | ((charcode>>6) & 0x3f),
				0x80 | (charcode & 0x3f))
			}
			// surrogate pair
			else {
				i++;
				// UTF-16 encodes 0x10000-0x10FFFF by
				// subtracting 0x10000 and splitting the
				// 20 bits of 0x0-0xFFFFF into two halves
				charcode = 0x10000 + (((charcode & 0x3ff)<<10)
				| (str.charCodeAt(i) & 0x3ff))
				utf8.push(0xf0 | (charcode >>18),
				0x80 | ((charcode>>12) & 0x3f),
				0x80 | ((charcode>>6) & 0x3f),
				0x80 | (charcode & 0x3f))
			}
		}

		return new Uint8Array(utf8)
	}

	/**
	 * XXH object used as a constructor or a function
	 * @constructor
	 * or
	 * @param {Object|String} input data
	 * @param {Number|UINT32} seed
	 * @return ThisExpression
	 * or
	 * @return {UINT32} xxHash
	 */
	function XXH () {
		if (arguments.length == 2)
			return new XXH( arguments[1] ).update( arguments[0] ).digest()

		if (!(this instanceof XXH))
			return new XXH( arguments[0] )

		init.call(this, arguments[0])
	}

	/**
	 * Initialize the XXH instance with the given seed
	 * @method init
	 * @param {Number|Object} seed as a number or an unsigned 32 bits integer
	 * @return ThisExpression
	 */
	 function init (seed) {
		this.seed = seed instanceof UINT32 ? seed.clone() : UINT32(seed)
		this.v1 = this.seed.clone().add(PRIME32_1plus2)
		this.v2 = this.seed.clone().add(PRIME32_2)
		this.v3 = this.seed.clone()
		this.v4 = this.seed.clone().subtract(PRIME32_1)
		this.total_len = 0
		this.memsize = 0
		this.memory = null

		return this
	}
	XXH.prototype.init = init

	/**
	 * Add data to be computed for the XXH hash
	 * @method update
	 * @param {String|Buffer|ArrayBuffer} input as a string or nodejs Buffer or ArrayBuffer
	 * @return ThisExpression
	 */
	XXH.prototype.update = function (input) {
		var isString = typeof input == 'string'
		var isArrayBuffer

		// Convert all strings to utf-8 first (issue #5)
		if (isString) {
			input = toUTF8Array(input)
			isString = false
			isArrayBuffer = true
		}

		if (input instanceof ArrayBuffer)
		{
			isArrayBuffer = true
			input = new Uint8Array(input);
		}

		var p = 0
		var len = input.length
		var bEnd = p + len

		if (len == 0) return this

		this.total_len += len

		if (this.memsize == 0)
		{
			if (isString) {
				this.memory = ''
			} else if (isArrayBuffer) {
				this.memory = new Uint8Array(16)
			} else {
				this.memory = new Buffer(16)
			}
		}

		if (this.memsize + len < 16)   // fill in tmp buffer
		{
			// XXH_memcpy(this.memory + this.memsize, input, len)
			if (isString) {
				this.memory += input
			} else if (isArrayBuffer) {
				this.memory.set( input.subarray(0, len), this.memsize )
			} else {
				input.copy( this.memory, this.memsize, 0, len )
			}

			this.memsize += len
			return this
		}

		if (this.memsize > 0)   // some data left from previous update
		{
			// XXH_memcpy(this.memory + this.memsize, input, 16-this.memsize);
			if (isString) {
				this.memory += input.slice(0, 16 - this.memsize)
			} else if (isArrayBuffer) {
				this.memory.set( input.subarray(0, 16 - this.memsize), this.memsize )
			} else {
				input.copy( this.memory, this.memsize, 0, 16 - this.memsize )
			}

			var p32 = 0
			if (isString) {
				this.v1.xxh_update(
					(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)
				,	(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)
				)
				p32 += 4
				this.v2.xxh_update(
					(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)
				,	(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)
				)
				p32 += 4
				this.v3.xxh_update(
					(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)
				,	(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)
				)
				p32 += 4
				this.v4.xxh_update(
					(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)
				,	(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)
				)
			} else {
				this.v1.xxh_update(
					(this.memory[p32+1] << 8) | this.memory[p32]
				,	(this.memory[p32+3] << 8) | this.memory[p32+2]
				)
				p32 += 4
				this.v2.xxh_update(
					(this.memory[p32+1] << 8) | this.memory[p32]
				,	(this.memory[p32+3] << 8) | this.memory[p32+2]
				)
				p32 += 4
				this.v3.xxh_update(
					(this.memory[p32+1] << 8) | this.memory[p32]
				,	(this.memory[p32+3] << 8) | this.memory[p32+2]
				)
				p32 += 4
				this.v4.xxh_update(
					(this.memory[p32+1] << 8) | this.memory[p32]
				,	(this.memory[p32+3] << 8) | this.memory[p32+2]
				)
			}

			p += 16 - this.memsize
			this.memsize = 0
			if (isString) this.memory = ''
		}

		if (p <= bEnd - 16)
		{
			var limit = bEnd - 16

			do
			{
				if (isString) {
					this.v1.xxh_update(
						(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)
					,	(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)
					)
					p += 4
					this.v2.xxh_update(
						(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)
					,	(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)
					)
					p += 4
					this.v3.xxh_update(
						(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)
					,	(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)
					)
					p += 4
					this.v4.xxh_update(
						(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)
					,	(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)
					)
				} else {
					this.v1.xxh_update(
						(input[p+1] << 8) | input[p]
					,	(input[p+3] << 8) | input[p+2]
					)
					p += 4
					this.v2.xxh_update(
						(input[p+1] << 8) | input[p]
					,	(input[p+3] << 8) | input[p+2]
					)
					p += 4
					this.v3.xxh_update(
						(input[p+1] << 8) | input[p]
					,	(input[p+3] << 8) | input[p+2]
					)
					p += 4
					this.v4.xxh_update(
						(input[p+1] << 8) | input[p]
					,	(input[p+3] << 8) | input[p+2]
					)
				}
				p += 4
			} while (p <= limit)
		}

		if (p < bEnd)
		{
			// XXH_memcpy(this.memory, p, bEnd-p);
			if (isString) {
				this.memory += input.slice(p)
			} else if (isArrayBuffer) {
				this.memory.set( input.subarray(p, bEnd), this.memsize )
			} else {
				input.copy( this.memory, this.memsize, p, bEnd )
			}

			this.memsize = bEnd - p
		}

		return this
	}

	/**
	 * Finalize the XXH computation. The XXH instance is ready for reuse for the given seed
	 * @method digest
	 * @return {UINT32} xxHash
	 */
	XXH.prototype.digest = function () {
		var input = this.memory
		var isString = typeof input == 'string'
		var p = 0
		var bEnd = this.memsize
		var h32, h
		var u = new UINT32

		if (this.total_len >= 16)
		{
			h32 = this.v1.rotl(1).add( this.v2.rotl(7).add( this.v3.rotl(12).add( this.v4.rotl(18) ) ) )
		}
		else
		{
			h32  = this.seed.add( PRIME32_5 )
		}

		h32.add( u.fromNumber(this.total_len) )

		while (p <= bEnd - 4)
		{
			if (isString) {
				u.fromBits(
					(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)
				,	(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)
				)
			} else {
				u.fromBits(
					(input[p+1] << 8) | input[p]
				,	(input[p+3] << 8) | input[p+2]
				)
			}
			h32
				.add( u.multiply(PRIME32_3) )
				.rotl(17)
				.multiply( PRIME32_4 )
			p += 4
		}

		while (p < bEnd)
		{
			u.fromBits( isString ? input.charCodeAt(p++) : input[p++], 0 )
			h32
				.add( u.multiply(PRIME32_5) )
				.rotl(11)
				.multiply(PRIME32_1)
		}

		h = h32.clone().shiftRight(15)
		h32.xor(h).multiply(PRIME32_2)

		h = h32.clone().shiftRight(13)
		h32.xor(h).multiply(PRIME32_3)

		h = h32.clone().shiftRight(16)
		h32.xor(h)

		// Reset the state
		this.init( this.seed )

		return h32
	}

	if (typeof define != 'undefined' && define.amd) {
		// AMD / RequireJS
		define([], function () {
			return XXH
		})
	} else if (typeof module != 'undefined' && module.exports) {
		// Node.js
		module.exports = XXH
	} else {
		// Browser
		root['XXH'] = XXH
	}

})(this)

})
},{},{});

(function ( window, angular, undefined ) {
angular.module("StemnApp",["ngCookies","ngAnimate","ngSanitize","angularFileUpload","sticky","infinite-scroll","unsavedChanges","monospaced.elastic","puElasticInput","ui.router","ct.ui.router.extras","modules.utils","modules.app-version","modules.material-design","modules.restangular","modules.http","modules.banner-header","modules.core","modules.cards","modules.lightbox","modules.components","modules.popup","modules.favico","modules.projects","modules.page-loading-overlay","modules.layout-options","modules.error-handling","modules.filters","modules.animations","modules.toc","modules.seo","modules.scroll","modules.moment","modules.modular-editor","modules.pagination","modules.validation","modules.feed","modules.dynamic-footer","modules.contenteditable","modules.line-clamp","modules.row-views","modules.easter-eggs","modules.settings","modules.sortable","modules.realtime-editor","modules.reading-time","modules.browser-info","modules.tab-dropdown","modules.view-cache","modules.posts","modules.statistics","modules.schema","modules.referrals","modules.user-widgets","modules.footer","modules.document-import","modules.tables","modules.loadbar","modules.local-cache","modules.analytics","modules.lazy-loading","modules.code-mirror","modules.new-creations","modules.explanation-modals","modules.smooch","modules.location","modules.onboarding","modules.tabs","modules.related","modules.state-history","views.app","views.blog","views.careers","views.contact","views.create","views.creations","views.error","views.faq","views.field","views.home","views.landing","views.login","views.organisation","views.organisation-onboarding","views.partners","views.privacy","views.project","views.project-onboarding","views.scholarship","views.search","views.security","views.terms","views.test","views.thread","views.user","views.user-onboarding","views.usersettings","views.following","views.browse","views.password-reset","views.map","views.how-it-works","views.job","views.index","views.applications","views.referrals","views.notifications","templates-app","templates-modules"]),angular.module("infinite-scroll").value("THROTTLE_MILLISECONDS",500),angular.module("StemnApp").config(["$locationProvider","$urlRouterProvider","$stateProvider",function(a,b,c){a.html5Mode(!0),(new WOW).init(),b.rule(function(a,b){var c=b.path(),d=c.toLowerCase();c!==d&&b.replace().path(d)}),b.otherwise(function(a,b){var c=a.get("$state");return c.go("app.404",null,{location:!1}),b.path()})}]).controller("MainCtrl",["$scope","$document","$rootScope","$location","$sce","ProjectModalService","$state","LayoutOptions","Authentication","$mdMedia",function(a,b,c,d,e,f,g,h,i,j){c.$state=g,c.user=i.currentUser,c.$mdMedia=j,a.LayoutOptions=h,"undefined"==typeof console||"function"!=typeof console.log||window.test||console.log("\r\n%c                     *      .--.\r\n%c                           / /  `\r\n%c          +               | |\r\n%c                 '         \\ \\__,\r\n%c             *          +   '--'  *\r\n%c                 +   /\\\r\n%c    +              .'  '.   *\r\n%c           *      /======\\      +\r\n%c                 ;:.  _   ;\r\n%c                 |:. (_)  |\r\n%c                 |:.  _   |\r\n%c       +         |:. (_)  |          *\r\n%c                 ;:.      ;\r\n%c               .' \\:.    / `.\r\n%c              / .-'':._.'`-. \\\r\n%c              |/    /||\\    \\|\r\n%c            _..--\"\"\"````\"\"\"--.._\r\n%c      _.-'``                    ``'-._\r\n%c    -'         %cHello, explorer%c        '-\r\n%c\n       Curious? http://stemn.com/blogs/join-our-rocketship","color:#D0E3F1","color:#D0E3F1","color:#C0DAEC","color:#C0DAEC","color:#B0D1E8","color:#B0D1E8","color:#A1C7E3","color:#A1C7E3","color:#91BEDE","color:#91BEDE","color:#81B5D9","color:#81B5D9","color:#72ABD5","color:#72ABD5","color:#62A2D0","color:#62A2D0","color:#5299CB","color:#5299CB","color:#4390C7","color:#4390C7","color:#4390C7","color: #000000")}]);
angular.module("modules.analytics.segment",[]),angular.module("modules.analytics.segment").directive("analyticsTrack",["SegmentAnalytics","$state",function(a,b){return{restrict:"A",link:function(c,d,e){d.bind("click",function(c){a.track(e.analyticsTrack,{category:b.current.name||void 0,label:e.analyticsLabel||void 0})})}}}]).service("SegmentAnalytics",["$state",function(a){this.track=function(a,b){window.analytics&&window.analytics.track?analytics.track(a,b):console.error("Analytics Blocked")}}]).service("FacebookAnalytics",["$state",function(a){this.track=function(a){window.fbq?window.fbq("track",a):console.error("Analytics Blocked")}}]).service("TwitterAnalytics",function(){this.trackSignup=function(){window.twttr&&window.twttr.conversion&&window.twttr.conversion.trackPid?window.twttr.conversion.trackPid("nuo3n",{tw_sale_amount:0,tw_order_quantity:0}):console.error("Analytics Blocked")}});
angular.module("modules.analytics",["modules.idle","modules.location","modules.analytics.segment"]),angular.module("modules.analytics").run(["$rootScope","AnalyticsService","$interval","$localStorage","$timeout","IdleService",function(a,b,c,d,e,f){function g(){return b.sendEvent({eventType:"state-close"}),null}function h(a,c,d,f,g){if(0!==i||j)0===i&&j?b.sendEvent({eventType:"state-refresh",state:c.name,params:d,url:window.location.pathname}):b.sendEvent({eventType:"state-change",state:c.name,params:d,url:window.location.pathname});else{var h={eventType:"state-initialise",state:c.name,params:d,url:window.location.pathname};e(function(){b.getMetaInfo().then(function(a){_.assign(h,a),b.sendEvent(h)})},2e3)}i++}var i=0,j=!1,k=(new Date).getTime();k-d.lastOpenTime<=6e4&&(j=!0),c(function(){d.lastOpenTime=(new Date).getTime()},5e3),a.$on("$stateChangeSuccess",h),window.onbeforeunload=g,a.$on("Idle.active",function(){b.sendEvent({eventType:"state-active"})}),a.$on("Idle.inactive",function(){b.sendEvent({eventType:"state-inactive"})})}]).service("AnalyticsService",["CoreLibrary","FunctionLibrary","$localStorage","$http","$q","LocationService",function(a,b,c,d,e,f){function g(){var a=e.defer();if(k)a.resolve(k);else{var b={referrer:document.referrer.split("/")[2],resolution:j(),userAgent:navigator.userAgent};f.getLocation().then(function(c){b.location=c,k=b,a.resolve(b)})["catch"](function(c){k=b,a.resolve(b)})}return a.promise}function h(c){var e=a.getUuid(),f=l;return l=e,b.isCrawler()?void 0:d.post("/api/v1/events",{deviceId:i(),eventId:e,previousEventId:f,eventType:c.eventType,url:c.url,state:c.state,params:a.compactObject(c.params),referrer:c.referrer,resolution:c.resolution,userAgent:c.userAgent})}function i(){return c.deviceId&&a.isObjectId(c.deviceId)||(c.deviceId=a.getUuid()),c.deviceId}function j(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0];return{width:a.innerWidth||c.clientWidth||d.clientWidth,height:a.innerHeight||c.clientHeight||d.clientHeight}}this.sendEvent=h,this.getMetaInfo=g;var k,l}]);
angular.module("anguvideo",[]).directive("anguvideo",["$sce",function(a){return{restrict:"EA",scope:{source:"=ngModel",width:"@",height:"@"},replace:!0,template:'<div class="anguvideo"><iframe class="videoClass" type="text/html" width="{{width}}" height="{{height}}" ng-src="{{url}}" allowfullscreen frameborder="0"></iframe></div>',link:function(b,c,d){var e,f,g="",h=d.hideControls?"?autoplay=0&showinfo=0&controls=0":"";b.$watch("source",function(c){c&&(c.indexOf("vimeo")>=0?c.indexOf("player.vimeo")>=0?g=c:(g=c.replace("http:","https:"),e=g.split(".com/"),g=g.replace("vimeo","player.vimeo"),g=g.replace("/"+e[e.length-1],"/video/"+e[e.length-1])):c.indexOf("youtu.be")>=0?(f=c.indexOf(".be/"),g=c.slice(f+4,c.length),g="https://www.youtube.com/embed/"+g+h):c.indexOf("youtube.com")>=0&&(g=c.indexOf("embed")>=0?c+h:c.replace("/watch?v=","/embed/")+h),b.url=a.trustAsResourceUrl(g))})}}}]);
angular.module("modules.animations",[]),angular.module("modules.animations").directive("setNgAnimate",["$animate",function(a){return{link:function(b,c,d){b.$watch(function(){return b.$eval(d.setNgAnimate,b)},function(b,d){a.enabled(!!b,c)})}}}]).directive("attentionAnimation",function(){return{restrict:"A",link:function(a,b,c){var d=c.animation||"shake",e=!0,f=d+" 0.8s";c.$observe("animateToggle",function(a){e||(b.css({"-webkit-animation":"",animation:""}),setTimeout(function(){b.css({"-webkit-animation":f,animation:f})},10)),e=!1})}}});
angular.module("modules.app-version",[]),angular.module("modules.app-version").run(["$http","ErrorModalService","$timeout",function(a,b,c){}]);
angular.module("modules.authentication",["satellizer","modules.user-subdomain","modules.users"]),angular.module("modules.authentication").run(["$rootScope","Authentication","$state","$q","CoreLibrary",function(a,b,c,d,e){function f(a){if("user"===a){var e;b.currentUser.isLoggedIn()||(e=b.loadUserData()),d.when(e).then(function(){b.currentUser.isLoggedIn()||(event.preventDefault(),c.go("app.login",{},{reload:!0,location:!1}))})}else"admin"===a&&(b.currentUser.isAdmin||(event.preventDefault(),c.go("app.admin-only",{},{reload:!0,location:!1})))}a.$on("$stateChangeStart",function(a,b,c,d,g){var h=b.$$state(),i=e.checkStateParents(h,"authLevel");f(i)}),a.$on("user.save",function(a,c){b.loadUserData()})}]).directive("hidepublic",["Authentication",function(a){return{restrict:"A",link:function(b,c,d){"false"!==d.hidepublic&&(a.currentUser.isLoggedIn()||c.addClass("hidden"))}}}]).directive("showIfOwner",["Authentication",function(a){return{restrict:"AE",link:function(b,c,d){a.currentUser._id!=d.owner&&c.addClass(d.drClass||"hidden")}}}]).directive("showIfOwnerOrAdmin",["Authentication",function(a){return{restrict:"AE",link:function(b,c,d){a.currentUser._id==d.owner||a.currentUser.isAdmin||c.addClass(d.drClass||"hidden")}}}]).directive("showIfAdmin",["Authentication",function(a){return{restrict:"AE",link:function(b,c,d){c.addClass(d.drClass||"hidden"),a.currentUser.isAdmin&&c.removeClass(d.drClass||"hidden")}}}]).directive("showIfMember",["Authentication",function(a){return{restrict:"E",scope:{members:"=",drClass:"@?"},link:function(b,c,d){-1==b.members.indexOf(a.currentUser._id)&&c.addClass(d.drClass||"hidden")}}}]).directive("hideIfOwner",["Authentication",function(a){return{restrict:"AE",scope:{owner:"@",drClass:"@?"},link:function(b,c,d){a.currentUser._id==b.owner?c.addClass(b.drClass||"hidden"):b.owner||console.error("Owner is not defined, make sure owner ID exists")}}}]).directive("authenticate",["Authentication","AuthenticationModalService",function(a,b){return{priority:100,restrict:"A",link:{pre:function(c,d,e){function f(){d.bind("click touchstart",function(c){a.currentUser.isLoggedIn()||(c.stopImmediatePropagation(),c.preventDefault(),b.login(c,g))})}var g={title:"1 click to join, it's easy!"};e.authenticate?c.$eval(e.authenticate)&&f():f()}}}}]).service("AuthenticationService",["$http","Authentication","$window",function(a,b,c){function d(c){a({method:"GET",url:"api/v1/auth/token/"+c}).then(function(a){b.setToken(a.data.token,!1)})}this.authenticateAsUser=d}]).service("AuthenticationModalService",["$mdDialog",function(a){this.login=function(b,c){return a.show({templateUrl:"modules/authentication/tpls/login-modal.html",controller:"LoginModalCtrl",targetEvent:b,locals:{data:c}})},this.loginLocal=function(b){return a.show({templateUrl:"modules/authentication/tpls/login-local-modal.html",controller:"LoginLocalModalCtrl",targetEvent:b})},this.register=function(b){return a.show({templateUrl:"modules/authentication/tpls/register-modal.html",controller:"RegisterModalCtrl",targetEvent:b})},this.linkedinWarn=function(b){return a.show({templateUrl:"modules/authentication/tpls/linkedin-warn-modal.html",controller:"LinkedinWarnModalCtrl",clickOutsideToClose:!0,targetEvent:b})},this.recoverPassword=function(b){return a.show({templateUrl:"modules/authentication/tpls/recover-password-modal.html",controller:"RecoverPasswordModalCtrl",targetEvent:b})}}]).controller("LoginModalCtrl",["data","$scope","$mdDialog","Authentication","AuthenticationModalService","$mdToast",function(a,b,c,d,e,f){b.data=a,b.authenticate=function(a){b.loading=!0,d.authenticate(a).then(function(a){f.show(f.simple().content("Welcome back, good to see you again :)")),b.loading=!1,c.hide()})["catch"](function(a){f.show(f.simple().theme("warn").content("We couldn't log you in: "+(a.error||a.data.message||a.data))),b.loading=!1})},b.openRegister=function(a){e.register(a)},b.openLoginLocal=function(a){e.loginLocal(a)},b.cancel=function(){c.cancel()}}]).controller("RegisterModalCtrl",["$scope","$mdDialog","Authentication","$mdToast","AuthenticationModalService","ReferralsService",function(a,b,c,d,e,f){a.signupFormSubmit=function(){a.RegisterForm.$valid&&c.signup({firstname:a.data.firstname,lastname:a.data.lastname,email:a.data.email,password:a.data.password,ref:f.getRefCode()}).then(function(a){b.hide()})["catch"](function(a){d.show(d.simple().theme("warn").content("That didn't work.."+a.data.message||a.data))})},a.openLogin=function(a){e.login(a)},a.cancel=function(){b.cancel()},a.back=function(a){e.login(a)}}]).controller("LoginLocalModalCtrl",["$scope","$mdDialog","Authentication","$mdToast","AuthenticationModalService",function(a,b,c,d,e){a.loginLocal=function(){a.LoginForm.$valid&&(a.loading=!0,c.login({email:a.login.email,password:a.login.password}).then(function(a){d.show(d.simple().content("Welcome back, good to see you again :)")),b.hide()})["catch"](function(b){a.loading=!1,d.show(d.simple().theme("warn").content("We couldn't log you in: "+(b.error||b.data.message||b.data)))}))},a.recoverPassword=function(a){e.recoverPassword(a)},a.cancel=function(){b.cancel()},a.back=function(a){e.login(a)}}]).controller("LinkedinWarnModalCtrl",["$scope","$mdDialog","Authentication","$mdToast","AuthenticationModalService",function(a,b,c,d,e){a.finish=function(e){a.loading=!0,c.authenticate("linkedin").then(function(c){d.show(d.simple().content("You accounts are linked and info imported")),a.loading=!1,b.hide()})["catch"](function(b){d.show(d.simple().theme("warn").content("Couldn't do it... "+b.data.message||b.data)),a.loading=!1})},a.cancel=function(){b.cancel()}}]).controller("RecoverPasswordModalCtrl",["$scope","$mdDialog","AuthenticationModalService","$http","$mdToast",function(a,b,c,d,e){a.submit=function(){d.post("/api/v1/auth/reset-password",{email:a.data.email}).success(function(){e.show(e.simple().content("Check your email for the password reset link.").hideDelay(6e3)),b.hide()})},a.cancel=function(){b.cancel()},a.back=function(a){c.login(a)}}]).provider("Authentication",["$authProvider",function(a){function b(a){return a=a||d["public"],"undefined"==typeof c.accessLevel&&(c.accessLevel=d["public"]),c.accessLevel>=a}a.facebook({url:"/auth/facebook",clientId:"710281375734499"}),a.google({url:"/auth/google",clientId:"238662649572-go56o0vqcemha5ugc710cpq6gj0ijuti.apps.googleusercontent.com"}),a.linkedin({url:"/auth/linkedin",clientId:"75gm1u1gda1xoe",scope:["r_fullprofile","r_emailaddress"],optionalUrlParams:["scope"]}),a.baseUrl="/api/v1",a.signupRedirect="",a.loginRedirect="",a.loginUrl="/auth/login",a.signupUrl="/auth/register",a.unlinkUrl="/auth/unlink";var c={},d={"public":0,user:1,admin:2};return{accessLevel:d,$get:["$http","$q","$auth","SettingsService","$state","$window","$rootScope","ReferralsService","UserSubdomainService","FacebookAnalytics","TwitterAnalytics",function(a,e,f,g,h,i,j,k,l,m,n){return c.isLoggedIn=function(){return!!c.name},c.logout=function(){f.logout(),j.$broadcast("authentication.logOut"),_.each(_.keys(c),function(a){"function"!=typeof c[a]&&(c[a]=void 0)}),c.accessLevel=d["public"],c.isAdmin=!1,i.location.reload()},{currentUser:c,accessLevel:d,isAllowed:b,signup:function(a){var b=e.defer(),g=this;return f.signup(a).then(function(a){g.loadUserData().then(function(){j.$broadcast("authentication.logIn"),l.saveUsername(c._id),g.onboardingRedirect(),analytics.identify(c._id,{name:c.name,username:c.stub,email:c.email,description:c.blurb,avatar:"https://stemn.com"+c.picture}),analytics.track("Signed Up/In (local)"),m.track("CompleteRegistration"),n.trackSignup(),b.resolve(a)}),c.accessLevel=d.user})["catch"](function(a){b.reject(a)}),b.promise},login:function(a){var b=e.defer(),g=this;return f.login(a).then(function(a){g.loadUserData().then(function(){j.$broadcast("authentication.logIn"),l.saveUsername(c._id),g.onboardingRedirect(),analytics.identify(c._id,{name:c.name,username:c.stub,email:c.email,description:c.blurb,avatar:"https://stemn.com"+c.picture}),analytics.track("Signed Up/In (local)"),m.track("CompleteRegistration"),n.trackSignup(),b.resolve(a)}),c.accessLevel=d.user})["catch"](function(a){b.reject(a)}),b.promise},authenticate:function(a){var b=e.defer(),g=this;return f.authenticate(a,{ref:k.getRefCode()}).then(function(a){g.loadUserData().then(function(){j.$broadcast("authentication.logIn"),l.saveUsername(c._id),g.onboardingRedirect(),analytics.identify(c._id,{name:c.name,username:c.stub,email:c.email,description:c.blurb,avatar:"https://stemn.com"+c.picture}),analytics.track("Signed Up/In (social)"),m.track("CompleteRegistration"),n.trackSignup(),b.resolve(a)}),c.accessLevel=d.user})["catch"](function(a){b.reject(a)}),b.promise},getToken:function(){return f.getToken()},setToken:function(a,b){return f.setToken(a,b),this.loadUserData()},loadUserData:function(){var b=e.defer(),g=b.promise;a.get("/api/v1/me").then(function(a){_.extend(c,a.data),"jacksondelahunt"===c.stub||"davidrevay"===c.stub||"jackyeh"===c.stub||"stemnastronaut"===c.stub?(c.accessLevel=d.admin,c.isAdmin=!0):c.accessLevel=d.user,"production"===a.data.database&&(document.body.style["background-color"]="rgba(255, 0, 0, 0.2)"),b.resolve(c)})["catch"](function(a){f.removeToken(),b.resolve()});var h={};return e.all([g,h])},onboardingRedirect:function(){g.getSettings().then(function(a){a.messages.userOnboarding?(a.messages.userOnboarding=!1,a.save(),h.go("app.user-onboarding.intro")):h.includes("app.landing")&&h.go("app.home")})}}}]}}]);
angular.module("modules.banner-header",[]),angular.module("modules.banner-header").directive("bannerheader",["$window",function(a){return{restrict:"E",transclude:!0,scope:{colour:"=",text:"@?",image:"@?",angle:"=?",showClose:"=?",showBlur:"=?",showLightbox:"=?"},link:function(b,c,d){if(b.showBlur){var e=angular.element(a),f=function(){var a=e.scrollTop(),b=a/400;c.css({opacity:1,"-webkit-filter":"blur("+20*b+"px)",filter:"blur("+20*b+"px)"})};e.on("scroll",b.$apply.bind(b,f)),f()}},controller:["$scope",function(a){a.angle=a.angle||"90deg",a.showLightbox&&(a.lightboxImage=a.image)}],templateUrl:"modules/banner-header/banner-header.html"}}]).directive("blurOnScroll",["$window",function(a){return{restrict:"A",link:function(b,c,d){var e;e=d.blurOnScroll?parseInt(d.blurOnScroll):400;var f=angular.element(a),g=function(){if(a.innerWidth>=600){var b=f.scrollTop(),d=b/e;c.css({opacity:1,"-webkit-filter":"blur("+10*d+"px)",filter:"blur("+10*d+"px)"})}};f.on("scroll",b.$apply.bind(b,g)),g()}}}]).directive("parralaxOnScroll",["$window",function(a){return{restrict:"A",link:function(b,c,d){var e;e=d.parralaxOnScroll?parseInt(d.parralaxOnScroll):3;var f=angular.element(a),g=function(){if(a.innerWidth>=600){var b=f.scrollTop(),d=b/e;c.css({transform:"translateY("+d+"px)"})}};f.on("scroll",b.$apply.bind(b,g)),g()}}}]);
angular.module("modules.browser-info",[]),angular.module("modules.browser-info").run(["$mdDialog","$timeout",function(a,b){function c(){a.show({templateUrl:"modules/browser-info/tpls/bad-browser-modal.html",controller:["data","$scope",function(b,c){console.log("open"),c.data=b,c.cancel=function(){a.cancel()},c.confirm=function(){a.cancel()}}],locals:{data:e},targetEvent:null})}function d(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/prerender/i.test(c.input)?{name:"Prerender"}:/trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],{name:"IE",version:a[1]||""}):"Chrome"===c[1]&&(a=b.match(/\bOPR\/(\d+)/),null!=a)?{name:"Opera",version:a[1]}:(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),{name:c[0],version:c[1]})}var e=d();("IE"==e.name||"Opera"==e.name)&&b(c,5e3)}]);
angular.module("modules.call-to-action",["ngMaterial"]),angular.module("modules.call-to-action").directive("callToAction",["callToActionService","ForumModalService","ProjectModalService","AuthenticationModalService","UsersModalService","NewCreationsService",function(a,b,c,d,e,f){return{restrict:"E",replace:!0,scope:{size:"@"},templateUrl:"modules/call-to-action/tpls/call-to-action.html",controller:["$scope",function(b){function c(){b.banner=a.getBanner()}c(),b.$on("authentication.logIn",c),b.$on("authentication.logOut",c),b.close=function(){b.hideCta=!0}}]}}]).service("callToActionService",["Authentication",function(a){var b=this;this.bannerDetails={b1:{templateUrl:"modules/call-to-action/tpls/cta-referrals.html"},b2:{templateUrl:"modules/call-to-action/tpls/cta-map.html"},b3:{templateUrl:"modules/call-to-action/tpls/cta-project.html"}},this.numBanners=Object.keys(b.bannerDetails).length,this.bannerIndex=Math.floor(Math.random()*b.numBanners)+1,this.getBanner=function(){var c="b"+(b.bannerIndex%b.numBanners+1);return b.bannerIndex++,b.bannerDetails[c].noAccount==a.currentUser.isLoggedIn()?b.getBanner():b.bannerDetails[c]}}]);
angular.module("modules.cards",[]),angular.module("modules.cards").directive("card",function(){return{restrict:"E",scope:{cardType:"@",cardId:"@"},template:'<div compile="template"></div>',controller:["$scope",function(a){var b={project:'<creation-card      entity-type="project" entity-id="'+a.cardId+'"></creation-card>',organisation:'<organisation-card  size="sm" id="'+a.cardId+'"></organisation-card>',user:'<personcard         size="sm" id="'+a.cardId+'"></personcard>',field:'<field-card         size="sm" id="'+a.cardId+'"></organisation-card>'};a.template=b[a.cardType]}]}}).directive("creationCard",function(){return{restrict:"E",replace:!0,scope:{entityId:"@?",entity:"=?",entityType:"@?",size:"@?"},templateUrl:"modules/cards/tpls/creation-card.html",controller:["$scope","FeedService","CoreLibrary",function(a,b,c){function d(){a.team=a.entity.team||[a.entity.owner],a.picture=e(a.entity),a.url=c.getHref(a.entity.type,a.entity.stub)}function e(a){if(a.picture)return a.picture;var b=_.find(a.fields,"picture");return b?b.picture:void 0}a.entityId&&a.entityType?(a.loading=!0,b.getFeedItem({_id:a.entityId,type:a.entityType}).then(function(b){a.entity=b,a.loading=!1,d()})):d()}]}}).directive("organisationCard",function(){return{restrict:"E",replace:!0,scope:{id:"@?",entity:"=?",size:"@?"},templateUrl:"modules/cards/tpls/organisation-card.html",controller:["$scope","Authentication","OrganisationService",function(a,b,c){a.id&&(a.loading=!0,c.getOrganisation(a.id).then(function(b){a.entity=b,a.loading=!1}))}]}});
angular.module("modules.carousel",[]),angular.module("modules.carousel").directive("carousel",function(){return{restrict:"E",scope:{slides:"=?",slide:"@?",interval:"@"},replace:!0,transclude:!0,templateUrl:"modules/carousel/tpls/carousel.html",controller:["$scope","$interval",function(a,b){a.interval=a.interval||7e3,a.activeSlide=0;var c=0;a.slide?a.slides=[{image:a.slide}]:b(function(){c++,a.activeSlide=c%a.slides.length},a.interval)}]}});
angular.module("modules.checklist",[]),angular.module("modules.checklist").directive("checklistItem",function(){return{restrict:"E",transclude:!0,scope:{itemComplete:"=",itemHref:"=",itemClick:"="},templateUrl:"modules/checklist/tpls/checklist-item.html"}});
"use strict";function uiCodemirrorDirective(a,b){function c(a,c,h,i){var j=angular.extend({value:c.text()},b.codemirror||{},a.$eval(h.uiCodemirror),a.$eval(h.uiCodemirrorOpts)),k=d(c,j);e(k,h.uiCodemirror||h.uiCodemirrorOpts,a),f(k,i,a),g(k,h.uiRefresh,a),a.$on("CodeMirror",function(a,b){if(!angular.isFunction(b))throw new Error("the CodeMirror event requires a callback function");b(k)}),angular.isFunction(j.onLoad)&&j.onLoad(k)}function d(a,b){var c;return"TEXTAREA"===a[0].tagName?c=window.CodeMirror.fromTextArea(a[0],b):(a.html(""),c=new window.CodeMirror(function(b){a.append(b)},b)),c}function e(a,b,c){function d(b,c){angular.isObject(b)&&e.forEach(function(d){if(b.hasOwnProperty(d)){if(c&&b[d]===c[d])return;a.setOption(d,b[d])}})}if(b){var e=Object.keys(window.CodeMirror.defaults);c.$watch(b,d,!0)}}function f(a,b,c){b&&(b.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),b.$render=function(){var c=b.$viewValue||"";a.setValue(c)},a.on("change",function(a){var d=a.getValue();d!==b.$viewValue&&c.$evalAsync(function(){b.$setViewValue(d)})}))}function g(b,c,d){c&&d.$watch(c,function(c,d){c!==d&&a(function(){b.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return c}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"];
angular.module("modules.code-mirror",["ui.codemirror"]),angular.module("modules.code-mirror").directive("cmCodeMode",["CodeMirrorService",function(a){return{restrict:"E",scope:{mode:"=",editor:"="},templateUrl:"modules/code-mirror/tpls/code-mode.html",link:function(b,c,d){b.codeModes=[{name:"C, C#, C++",path:"clike"},{name:"Fortran",path:"fortran"},{name:"CSS",path:"css"},{name:"Erlang",path:"erlang"},{name:"Django",path:"django"},{name:"Go",path:"go"},{name:"Haskell",path:"haskell"},{name:"HTML",path:"htmlembedded"},{name:"Javascript",path:"javascript"},{name:"Mathematica",path:"mathematica"},{name:"LaTeX",path:"stex"},{name:"Matlab",path:"octave"},{name:"Perl",path:"perl"},{name:"PHP",path:"php"},{name:"Python",path:"python"},{name:"R",path:"r"},{name:"Ruby",path:"ruby"},{name:"SQL",path:"sql"},{name:"VB",path:"vb"},{name:"XML",path:"xml"}],b.changeMode=function(a){b.mode=a},b.$watch("mode",function(){a.changeCodeMode(b.editor,b.mode)})}}}]).directive("latexInput",["CodeMirrorService",function(a){return{restrict:"E",scope:{content:"="},templateUrl:"modules/code-mirror/tpls/latex-input.html",controller:["$scope",function(b){b.options={indentWithTabs:!0,lineWrapping:!0,dragDrop:!1,onLoad:function(c){b.cmEditor=c,window.CodeMirror.modeURL="/js/codemirror/mode/%N/%N.js",a.changeCodeMode(c,"stex")}}}]}}]).service("CodeMirrorService",function(){function a(a,b){b&&(window.CodeMirror.autoLoadMode(a,b),a.setOption("mode",b))}this.changeCodeMode=a});
angular.module("modules.compile",[]),angular.module("modules.compile").directive("compileWatch",["$compile",function(a){return function(b,c,d){b.$watch(function(a){return a.$eval(d.compileWatch)},function(e){c.html(e),a(c.contents())(b.$eval(d.scope)||b)})}}]).directive("compile",["$compile",function(a){return function(b,c,d){var e=b.$watch(function(a){return a.$eval(d.compile)},function(d){c.html(d),a(c.contents())(b),e()})}}]);
angular.module("modules.components",["modules.layout-options","modules.animations"]),angular.module("modules.components").directive("loadingDots",function(){return{restrict:"E",template:'<span class="dot-one">.</span><span class="dot-two">.</span><span class="dot-three">.</span>'}}).directive("sectionColour",function(){return{restrict:"E",transclude:!0,scope:{colour:"@"},templateUrl:"modules/components/tpls/section-colour.html"}}).directive("backButton",function(){return{restrict:"E",scope:{backState:"@?",backFn:"&?"},templateUrl:"modules/components/tpls/back-button.html",controller:["$scope","$state",function(a,b){a.back=function(){a.backState&&b.go(a.backState),a.backFn&&a.backFn()}}]}}).directive("collapsePanel",function(){return{restrict:"E",transclude:!0,replace:!0,scope:{showPanel:"="},template:'<div class="collapse-panel" ng-show="showPanel" ng-transclude></div>'}}).directive("userInput",function(){return{restrict:"E",replace:!0,scope:{placeholder:"@?",sectionData:"=?",saveFn:"&?",saveText:"@?",status:"=?",radioDetails:"=?",titleText:"@?"},templateUrl:"modules/components/tpls/user-input.html",controller:["$scope","Authentication","ProjectModalService","ForumModalService",function(a,b,c,d){function e(){a.saveFn()}function f(){a.status.active=!0,a.$apply()}function g(){a.status.active=!1,a.$apply()}function h(a){var b=a.target;if(!angular.element(b).hasClass("user-input")){var c=angular.element(b).parents(".user-input")[0];c||g()}}function i(){k.on("mousedown",h)}function j(){k.off("mousedown",h)}var k=angular.element(window);a.status=a.status||{},a.activate=f,a.submit=e,a.user=b.currentUser,a.editorOptions={realtime:!1,contained:!0,minimal:!1},a.selectedType="project",a.$on("$destroy",j),i()}]}}).directive("settingsButton",function(){return{restrict:"E",transclude:!0,scope:{above:"=?"},templateUrl:"modules/components/tpls/settings-button.html"}}).directive("teamText",function(){return{restrict:"EA",scope:{team:"=",limit:"="},templateUrl:"modules/components/tpls/team-text.html"}}).directive("teamImages",function(){return{replace:!0,restrict:"E",scope:{team:"=",limit:"=",link:"@?",showMore:"&?"},templateUrl:"modules/components/tpls/team-images.html"}}).directive("organisationImages",function(){return{replace:!0,restrict:"E",scope:{organisations:"=",limit:"="},templateUrl:"modules/components/tpls/organisation-images.html"}}).directive("userImage",function(){return{restrict:"E",scope:{src:"=?",imageId:"@?",imageStub:"@?",popupFixedBottom:"="},templateUrl:"modules/components/tpls/user-image.html"}}).directive("organisationImage",function(){return{restrict:"E",scope:{src:"=?",imageId:"@?",imageStub:"@?",popupFixedBottom:"="},templateUrl:"modules/components/tpls/organisation-image.html"}}).directive("projectImage",function(){return{restrict:"E",scope:{src:"=?",imageId:"@?",imageStub:"@?",popupFixedBottom:"="},templateUrl:"modules/components/tpls/project-image.html"}}).directive("fieldImage",function(){return{restrict:"E",scope:{src:"=?",imageId:"@?",imageStub:"@?"},templateUrl:"modules/components/tpls/field-image.html"}}).directive("collapsedSection",["$timeout",function(a){return{restrict:"E",transclude:!0,scope:{openStatus:"=?",height:"@",verb:"@"},templateUrl:"modules/components/tpls/collapsed-section.html",link:function(b,c,d){a(function(){c[0].offsetHeight<=b.height&&(b.disabled=!0)},1),b.$watch("openStatus",function(){b.openStatus?b.sectionStyles={"max-height":""}:b.sectionStyles={"max-height":(b.height||0)+"px"}})}}}]).directive("fatTabs",function(){return{restrict:"E",transclude:!0,templateUrl:"modules/components/tpls/fat-tabs.html"}}).directive("tabs",function(){return{restrict:"E",scope:{selectedTab:"="},controller:["$scope","$element","$timeout",function(a,b,c){function d(b){_.forEach(g,function(c,d){(d!=a.selectedTab||b)&&angular.element(c).removeClass("active")})}function e(){angular.element(g[a.selectedTab]).addClass("active")}function f(a){angular.element(a).addClass("active")}var g=b[0].getElementsByTagName("A");c(function(){_.forEach(g,function(a){angular.element(a).bind("click",function(){d(!0),f(a)})}),e()},1),a.$watch("selectedTab",function(a,b){a!=b&&(c(d,1),c(e,1))})}]}}).directive("editButton",function(){return{restrict:"E",scope:{form:"=?",inline:"=?",editFn:"&?",saveFn:"&?",cancelFn:"&?",hideEdit:"=?",draft:"=?"},templateUrl:"modules/components/tpls/edit-button1.html",controller:["$scope","$rootScope","$element","$timeout","LayoutOptions","$compile","$stateParams","TopBannerService","$q","$state","$location","$document",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){s=angular.element('<div class="highlight-overlay" ng-show="form.$visible"></div>'),f(s)(a),v.after(s)}function n(){r=angular.element('<div class="form-save" ng-show="form.$visible" attention-animation animate-toggle="{{shakeAnimation}}"><md-button class="md-lower" ng-click="cancel()" style="background-color: rgba(255, 255, 255, 0.75);">Cancel</md-button><span tip-throbber="{{draft ? \'saveDraft\' : \'\'}}" tip-position="bottom-right" tip-offset-x="10px" tip-offset-y="-8px"><md-button class="md-raised md-accent md-lower" ng-click="save()" ng-disabled="form.$invalid" >{{draft ? "Save Draft" : "Save"}}</md-button></span></div>'),f(r)(a),v.after(r)}function o(){t=angular.element('<div class="disable-tab-view-overlay" ng-click="disableTabClick()"></div>'),f(t)(a),angular.element(document.body).append(t)}function p(){t&&t.remove()}a.form=a.form||{};var q,r,s,t,u={},v=c.parents(".edit-box");n(),m(),a.form.$edit=function(){w(),a.editFn()},a.form.$save=function(){i.when(a.saveFn()).then(function(a){x()})},a.form.$cancel=function(){a.cancelFn(),y(a.form),x()},a.edit=function(){a.form.$edit()},a.save=function(){a.form.$save()},a.cancel=function(){a.form.$cancel()};var w=function(){h.hideBanner(),a.inline&&(u=z(),d.cancel(q),v.addClass("active"),o(),e.overlay.highlight=!0,a.form&&(a.form.$visible=!0))},x=function(){p(),e.overlay.highlight=!1,v.addClass("remove-active"),q=d(function(){v.removeClass("active remove-active")},500),j.current.reloadOnSearch=!1,k.search("edit",null),d(function(){j.current.reloadOnSearch=void 0}),a.form.$visible=!1,a.form.$setPristine()},y=function(a){a&&(_.each(_.keys(A(a)),function(b){_.extend(a[b],u[b]),a[b].$$writeModelToScope(),a[b].$render()}),a.$setPristine())},z=function(){return angular.copy(A(a.form))},A=function(b){return _.pick(b,_.filter(_.keys(a.form),function(a){return!/^\$/.test(a)}))};if(a.form.$name){var B=a.form.$name.split("."),C=B[B.length-1];g.edit==C&&(d(function(){l.scrollToElement(v,0,500)},1e3),d(a.form.$edit,1))}b.$on("$stateChangeSuccess",function(a,b,c,d,e){p()}),a.disableTabClick=function(){a.shakeAnimation=!a.shakeAnimation}}]}}).directive("confirm",["$mdDialog",function(a){return{priority:50,restrict:"A",link:{pre:function(b,c,d){var e={};e.confirmTitle=d.confirmTitle,e.confirmBody=d.confirmBody,e.confirmYes=d.confirmYes,e.confirmNo=d.confirmNo;var f=d.ngClick||d.href;c.bind("click touchstart",function(c){"false"!=d.confirm&&(c.stopImmediatePropagation(),c.preventDefault(),a.show({templateUrl:"modules/components/tpls/confirm-modal.html",controller:["data","$scope",function(b,c){c.data=b,c.cancel=function(){a.cancel()},c.confirm=function(){a.hide()}}],locals:{data:e},targetEvent:c}).then(function(){b.$eval(f)}))})}}}}]).directive("bindClick",["$parse",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(c){var e=a(d.bindClick)(b);e()})}}}]).directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter)}),b.preventDefault())})}}).directive("focusMe",["$timeout","$parse",function(a,b){return{restrict:"A",link:function(b,c,d){d.$observe("focusMe",function(b){"true"==b&&a(function(){var a,b=c[0].querySelectorAll("input");a=b.length>0?b[0]:c,a.focus()},100)})}}}]).directive("countTo",["$timeout",function(a){return{replace:!1,scope:!0,link:function(b,c,d){var e,f,g,h,i,j,k,l=c[0],m=function(){f=30,i=0,b.timoutId=null,j=parseInt(d.countTo)||0,b.value=parseInt(d.value,10)||0,g=1e3*parseFloat(d.duration)||0,h=Math.ceil(g/f),k=(j-b.value)/h,e=b.value},n=function(){b.timoutId=a(function(){e+=k,i++,i>=h?(a.cancel(b.timoutId),e=j,l.textContent=j):(l.textContent=Math.round(e),n())},f)},o=function(){b.timoutId&&a.cancel(b.timoutId),m(),n()};return d.$observe("countTo",function(a){a&&o()}),d.$observe("value",function(a){o()}),!0}}}]).directive("pluralise",function(){return{restrict:"A",transclude:!0,scope:{number:"@",lower:"@?"},template:"<span>{{number || '0'}} </span><span class=\"ng-transclude\"></span><span ng-if=\"number!=1 && lower != 'true'\">S</span><span ng-if=\"number!=1 && lower == 'true'\">s</span>"}}).directive("selectOnClick",["$window",function(a){return{restrict:"A",link:function(b,c){c.on("click",function(){var b=a.getSelection(),d=document.createRange();d.selectNodeContents(c[0]),b.removeAllRanges(),b.addRange(d)})}}}]).directive("loadingOverlay",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{determinate:"=?"},template:'<div class="loading-overlay" layout="column" layout-align="center center"><md-progress-circular style="margin: 5px 0;" ng-if="!determinate" class="md-accent" md-mode="indeterminate"></md-progress-circular><md-progress-circular style="margin: 5px 0;" ng-if="determinate"  class="md-accent" md-mode="determinate" value="{{determinate}}"></md-progress-circular><div class="text-lightgrey" ng-transclude></div></div>'}}).directive("previewGallery",function(){return{restrict:"E",replace:!0,scope:{gallery:"=?",showEdit:"=?",saveFn:"&"},templateUrl:"modules/components/tpls/preview-gallery.html",controller:["$scope","$timeout","UploadsModalService",function(a,b,c){a.previewIndex=0,a.editGallery=function(d,e){c.uploadImagesNewModal(d,e).then(function(c){a.gallery=c,b(a.saveFn,1)})}}]}});
angular.module("modules.contenteditable",[]),angular.module("modules.contenteditable");
angular.module("modules.contributors",[]),angular.module("modules.contributors").directive("contributors",function(){return{restrict:"E",scope:{parentType:"@",parentId:"@"},controller:["$scope","ContributorsService",function(a,b){function c(){b.getContributors({parentType:a.parentType,parentId:a.parentId,page:d,size:e}).then(function(b){a.results=_.uniq(a.results.concat(b.data)),b.data<e?(a.loading=!0,a.noMoreResults=!0):(d++,a.loading=!1)})}a.more=c,a.results=[];var d=1,e=15}],templateUrl:"modules/contributors/tpls/contributors.html"}}).service("ContributorsService",["$http",function(a){function b(b){return a({url:"api/v1/contributors",method:"GET",params:{parentType:b.parentType,parentId:b.parentId,page:b.page,size:b.size}})}this.getContributors=b}]);
angular.module("modules.core",[]),angular.module("modules.core").service("FunctionLibrary",function(){this.isCrawler=function(){return/bot|googlebot|crawler|spider|robot|prerender|crawling/i.test(navigator.userAgent)}}).service("CoreLibrary",["$state",function(a){var b=this;this.getSref=function(a,b){return"project"==a?'app.project.overview({"stub" : "'+b+'"})':"thread"==a||"discussion"==a||"question"==a||"general"==a?'app.thread({"stub" : "'+b+'"})':"blog"==a?'app.blog({"stub" : "'+b+'"})':"user"==a?'app.user.profile({"stub" : "'+b+'"})':"organisation"==a?'app.organisation.overview({"stub" : "'+b+'"})':"field"==a?'app.field.top({"stub" : "'+b+'"})':"job"==a?'app.job({"stub" : "'+b+'"})':void 0},this.getSrefBase=function(a){return"project"==a?"app.project.overview":"thread"==a||"discussion"==a||"question"==a||"general"==a?"app.thread":"blog"==a?"app.blog":"user"==a?"app.user.profile":"organisation"==a?"app.organisation.overview":"field"==a?"app.field.top":"job"==a?"app.job":void 0},this.getHref=function(a,b){return"project"==a?"projects/"+b:"thread"==a||"discussion"==a||"question"==a||"general"==a?"threads/"+b:"blog"==a?"blogs/"+b:"user"==a?"users/"+b:"organisation"==a?"org/"+b:"field"==a?"fields/"+b:"job"==a?"jobs/"+b:"application"==a?"applications/"+b:void 0},this.getAltType=function(a){return"project"==a?"project":"thread"==a?"thread":"blog"==a?"blog":"question"==a?"question":"general"==a?"discussion":void 0},this.getUuid=function(){var a="abcdef0123456789abcdef0123456789";return _.sample(a,24).join("")},this.keyCodes={BACKSPACE:8,TABKEY:9,RETURNKEY:13,ESCAPE:27,SPACEBAR:32,LEFTARROW:37,UPARROW:38,RIGHTARROW:39,DOWNARROW:40},this.stubify=function(a){return a.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9\-]+/g,"")},this.stringTruncate=function(a,b){var c,d;if(c=a.split(""),c.length>b){for(d=c.length-1;d>-1;--d)if(d>b)c.length=d;else if(" "===c[d]){c.length=d;break}c.push("...")}return c.join("")},this.pluralise=function(a,b){if("People"==b)return 1==a?a+" Person":a+" People";var c=b[b.length];return 1==a?a+" "+b:"y"==c?a+" "+b.substring(0,b.length-1)+"ies":a+" "+b+"s"},this.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},this.getCurrentTab=function(b){var c,d=_.map(b,"sref"),e=a.current.name.replace("app.","");return _.forEach(d,function(a,b){var d=a.indexOf(e);-1!==d&&(c=b)}),c>=0||_.forEach(d,function(a,b){var d=a.indexOf(e.substring(0,e.lastIndexOf(".")));-1!==d&&(c=b)}),c},this.isObjectId=function(a){return/^[a-f0-9]{24}$/.test(a)},this.compactObject=function(a){return _.each(a,function(b,c){b||delete a[c]}),a},this.assignArray=function(a,b,c){var d=_.map(a,c),e=_.map(b,c);b.forEach(function(b){var e=d.indexOf(b[c]);-1==e&&a.splice(e,0,b)});var f=[];a.forEach(function(a,b){var d=e.indexOf(a[c]);-1==d&&f.push(b)}),_.forEachRight(f,function(b){a.splice(b,1)})},this.groupByKey=function(a,b){return _.reduce(a,function(a,c){var d=c[b];return a[d]?a[d].push(c):a[d]=[c],a},{})},this.uniqueArray=function(a,b){var c=[];_.forEachRight(a,function(d,e){-1!=c.indexOf(d[b])&&a.splice(e,1),c.push(d[b])})},this.checkStateParents=function(a,c){return a.self[c]?a.self[c]:b.checkStateParents(a.parent,c)},this.checkStateParentsSeo=function(a,c,d,e){function f(d,f){return d[f]?d[f]:b.checkStateParentsSeo(a.parent,c,f,e)}return a.self[c]?f(a.self[c](e),d):b.checkStateParentsSeo(a.parent,c,d,e)},this.getCurrencies=function(){var a={USD:{code:"USD",symbol:"$",name:"USD - $",rate:1},EUR:{code:"EUR",symbol:"€",name:"EUR - €",rate:1.09},JPY:{code:"JPY",symbol:"¥",name:"JPY - ¥",rate:.0084},GBP:{code:"GBP",symbol:"£",name:"GBP - £",rate:1.42},AUD:{code:"AUD",symbol:"AUD$",name:"AUD - $",rate:.7},CHF:{code:"CHF",symbol:"CHF",name:"CHF",rate:.98},CAD:{code:"CAD",symbol:"CAD$",name:"CAD - $",rate:.71},MXN:{code:"MXN",symbol:"MXN$",name:"MXN - $",rate:.054},CNY:{code:"CNY",symbol:"CNY¥",name:"CNY - ¥",rate:.15},NZD:{code:"NZD",symbol:"NZD$",name:"NZD - $",rate:.64},INR:{code:"INR",symbol:"₹",name:"INR - ₹",rate:.015}};return a}}]).service("CoreModalService",["$mdDialog",function(a){function b(b,c,d){c.length>0&&a.show({templateUrl:"modules/core/tpls/core-entity-modal.html",controller:["$scope",function(b){b.enitities=c,b.options=d,b.cancel=function(){a.cancel()}}],targetEvent:b,clickOutsideToClose:!0})}this.showEntity=b}]).directive("setEntityHref",["$parse","CoreLibrary",function(a,b){return{restrict:"A",link:function(c,d,e){var f=a(e.setEntityHref)(c),g=a(e.entityStub)(c),h=b.getHref(f,g);d.attr("href",h)}}}]).service("EntityService",["LocalCache","HttpService","$mdToast",function(a,b,c){function d(c,d,e){var f,g=h(c),i=["stub","name","picture","blurb"],j=["stub","name","picture","owner"],k=["stub","name","organisations"],l=["stub","name","picture","blurb","created","updated","fields","organisations","team","likes","numComments","location"],m=["*"];"sm"==e?f="posts"==g?j:"jobs"==g?k:i:"md"==e?f=l:(f=m,e="lg");var n=function(a){return b({url:"/api/v1/"+g,method:"GET",params:{"select[]":f,"ids[]":a}})};return a.getPackaged(g+e,d,n)}function e(a,c){var d=h(a);return b({method:"POST",url:"api/v1/"+d,data:c})}function f(c,d){var e=h(c);return a.save(e+"lg",d),b({method:"PUT",url:"api/v1/"+e+"/"+d._id,data:d})}function g(a,c){var d=h(a);return b({url:"/api/v1/"+d+"/"+c,method:"DELETE"})}function h(a){var b;return"jobs"==a||"job"==a?b="jobs":"applications"==a||"application"==a?b="applications":"users"==a||"user"==a?b="users":"organisations"==a||"organisation"==a?b="organisations":"projects"==a||"project"==a?b="projects":"threads"==a||"thread"==a?b="threads":"fields"==a||"field"==a?b="fields":"posts"==a||"post"==a?b="posts":console.error("Invalid Entity Type"),b}function i(){c.show(c.simple().content("Save Successful"))}this.get=d,this.create=e,this.update=f,this.remove=g,this.updateSuccess=i}]);
angular.module("modules.document-import",[]),angular.module("modules.document-import").directive("documentImport",["FileUploadService","DocumentImportService","UtilsService",function(a,b,c){return{restrict:"E",scope:{parent:"=",completeFn:"&"},templateUrl:"modules/document-import/tpls/document-import.html",controller:["$scope","$timeout","$mdToast",function(d,e,f){d.uploader=a.documentFileUploader(),d.uploader.onCompleteItem=function(a,g,h,i){var j=a.file.url.split("/"),k=j[j.length-1];b.getTransformedDocument({fileId:k}).then(function(a){var b=c.convertHtmlToSections(a.data);d.parent.sectionData=b,e(d.completeFn,0)})["catch"](function(){f.show(f.simple().theme("warn").content("Something went wrong."))})}}]}}]).service("DocumentImportService",["$http",function(a){function b(b){return a({url:"/api/v1/convert",method:"GET",params:{fileId:b.fileId}})}this.getTransformedDocument=b}]);
angular.module("modules.dynamic-footer",["modules.compile"]),angular.module("modules.dynamic-footer").run(["$rootScope","$dynamicFooter","$timeout",function(a,b,c){a.$on("$stateChangeSuccess",function(a,c,d,e,f){var g=c.name.split("."),h=e.name.split(".");g[1]!=h[1]&&(b.open=!1)})}]).directive("dynamicFooter",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"modules/dynamic-footer/tpls/dynamic-footer.html",controller:["$scope","$dynamicFooter",function(a,b){a.$dynamicFooter=b}]}}).directive("entityFooter",function(){return{restrict:"E",replace:!0,scope:{showEdit:"=",userCanEdit:"=",entity:"=",publishFn:"&",editFn:"&"},templateUrl:"modules/dynamic-footer/tpls/entity-footer.html",controller:["$scope","CoreLibrary",function(a,b){function c(){a.showEdit=!a.showEdit}"project"==a.entity.type?a.confirmBody='You should add as many relevant tags as possible. If you dont, your project will be difficult to find and will not reach an appropriate audience. <br><a class="text-green" href="/projects/'+a.entity.stub+'?edit=ProjectMainForm#tagsEdit">Add tags now.</a>':"blog"==a.entity.type?a.confirmBody='You should add as many relevant tags as possible. If you dont, your update will be difficult to find and will not reach an appropriate audience. <br><a class="text-green" href="/blogs/'+a.entity.stub+'?edit=BlogForm#tagsEdit">Add tags now.</a>':a.confirmBody='You should add as many relevant tags as possible. If you dont, your thread will be difficult to find and will not reach an appropriate audience. <br><a class="text-green" href="/threads/'+a.entity.stub+'?edit=ThreadForm#tagsEdit">Add tags now.</a>',a.altType=b.getAltType(a.entity.type),a.togglePublicView=c}]}}).directive("hideFooterWhenVisible",["$window","$dynamicFooter",function(a,b){return{restrict:"A",link:function(c,d,e){var f=angular.element(a),g=function(){if("false"!=e.hideFooterWhenVisible){var c=d.offset().top;0!==c&&c!==a.scrollY?a.scrollY<=c-a.innerHeight?b.open=!0:c<=a.innerHeight?b.open=!0:b.open=!1:b.open=!0}};g(),f.on("scroll",g),c.$on("$destroy",function(){f.off("scroll",g)})}}}]).service("$dynamicFooter",function(){return{open:!0,enabled:!0,content:"",scope:""}});
angular.module("modules.easter-eggs",[]),angular.module("modules.easter-eggs").run(["$compile","$rootScope",function(a,b){var c=function(a){var b={addEvent:function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event,d)},a.attachEvent("on"+b,a[b+c]))},input:"",pattern:"38384040373937396665",load:function(a){this.addEvent(document,"keydown",function(c,d){return d&&(b=d),b.input+=c?c.keyCode:"",b.input.length>b.pattern.length&&(b.input=b.input.substr(b.input.length-b.pattern.length)),b.input==b.pattern?(b.code(a),b.input="",c.preventDefault(),!1):void 0},this)},code:function(a){window.location=a}};return"string"==typeof a&&b.load(a),"function"==typeof a&&(b.code=a,b.load()),b};new c(function(){alert("You know your Konami well...");var c=angular.element('<egg id="egg"></egg>');a(c)(b),angular.element(document.body).append(c)})}]).directive("egg",["$window","$timeout",function(a,b){return{restrict:"E",replace:!0,template:'<div class="egg"><md-button class="md-icon-button close-btn" ng-click="closeEgg()"><md-icon md-svg-icon="close"></md-icon></md-button><audio autoplay><source src="/assets/images/eggs/sagan.mp3" type="audio/mpeg"></audio><p class="message">Nice work! You\'ve found Tiffany\'s secret.</p></div>',link:function(c,d,e,f){b(function(){a.particlesJS(e.id,g)},100),c.closeEgg=function(){d.remove()};var g={particles:{number:{value:150,density:{enable:!1,value_area:800}},color:{value:"#ffffff"},shape:{type:"star",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:4,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:14,direction:"left",random:!1,straight:!0,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:200,line_linked:{opacity:1}},bubble:{distance:200,size:5,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4}}},retina_detect:!0}}}}]);
angular.module("modules.edit-toolbar",[]),angular.module("modules.edit-toolbar").directive("editToolbar",function(){return{restrict:"A",scope:{saveFn:"&?",editFn:"&?",endEditFn:"&?",data:"=?"},controller:["$scope","$element","$compile","$dynamicFooter","$q","$stateParams","$timeout","$state","$location","TopBannerService","LayoutOptions",function(a,b,c,d,e,f,g,h,i,j,k){function l(){k.overlay.loading=!0,a.editFn(),g(function(){a.form.$visible=!0,d.enabled=!1,q=_.clone(a.data,!0),b.addClass("edit-active"),j.hideBanner(),g(function(){k.overlay.loading=!1},0)},0)}function m(){p(),o()}function n(){e.when(a.saveFn()).then(function(a){o()})}function o(){k.overlay.loading=!0,g(function(){a.form.$visible=!1,d.enabled=!0,b.removeClass("edit-active"),a.form.$setPristine(),h.current.reloadOnSearch=!1,i.search("edit",null),a.endEditFn(),g(function(){h.current.reloadOnSearch=void 0}),g(function(){k.overlay.loading=!1},0)},0)}function p(){a.data=q}a.form=b.inheritedData("$formController"),a.form.$edit=l,a.form.$cancel=m,a.form.$save=n,a.form.$endEdit=o;var q;g(function(){var b=a.form.$name.split("."),c=b[b.length-1];f.edit==c&&a.form.$edit()})}]}}).directive("saveButton",function(){return{restrict:"E",transclude:!0,scope:{entity:"=",saveFn:"&"},templateUrl:"modules/edit-toolbar/tpls/save-button.html",controller:["$scope","$interval","XxhashService",function(a,b,c){function d(){f=c(JSON.stringify(a.entity),43981).toString(),f!=g?a.status="unsaved":a.status="saved"}function e(){g=f,a.status="saving",a.saveFn().then(function(b){a.status="saved"})}var f,g;a.save=e,a.status="unsaved",b(d,1e3)}]}}).directive("editToolbar",function(){return{restrict:"E",transclude:!0,templateUrl:"modules/edit-toolbar/tpls/edit-toolbar.html"}});
angular.module("modules.editor",["modules.uploads","modules.edit-toolbar"]),angular.module("modules.editor").service("EditorModalService",["$mdDialog",function(a){this.insertLink=function(b,c){return a.show({templateUrl:"modules/editor/tpls/insert-link-modal.html",controller:["link","$scope",function(b,c){c.link=angular.copy(b),c.cancel=function(){a.cancel()},c.save=function(){c.LinkForm.$valid&&a.hide(c.link)}}],locals:{link:c},targetEvent:b})}}]).directive("ctrlEnterSubmit",function(){return{restrict:"A",link:function(a,b,c){b.bind("keydown",function(b){var d=b.keyCode||b.which;13===d&&b.ctrlKey&&a.$apply(c.ctrlEnterSubmit)})}}}).directive("replyEditor",function(){return{restrict:"E",scope:{},templateUrl:"modules/editor/tpls/reply-editor.html",controller:["$scope","$rootScope","EditorService","Authentication","$element",function(a,b,c,d,e){a.editorOptions={realtime:!1,contained:!0,minimal:!0},a.editor=c.replyEditor,a.currentUser=d.currentUser,a.submit=function(){a.editor.submit()},c.replyEditor.element=e,a.$watch("editor.model",function(){a.editor.model&&(c.replyEditor.locked=!0)}),a.closeFn=function(){a.editor.visible=!1,a.editor.locked=!1},a.$watch("editor.toggle",function(b,c){a.editor.minimised===!0?a.maximise():a.animate=!a.animate})}]}}).service("EditorService",["$timeout",function(a){function b(){c.replyEditor.element[0].querySelector("[contenteditable]").focus()}var c={zenMode:{visible:!1,model:"",save:function(){console.error("No save function configured")}},replyEditor:{element:"",visible:!1,model:"",locked:!1,toggle:!1,minimised:!1,submitText:"",show:function(){c.replyEditor.visible=!0,c.replyEditor.minimised=!1,c.replyEditor.tooltip="bottom",a(b,500)},minimise:function(){c.replyEditor.visible=!0,c.replyEditor.minimised=!0},reset:function(){c.replyEditor.visible=!1,c.replyEditor.locked=!1,c.replyEditor.model=""},submit:function(){console.error("No submit function configured")}}};return c}]);
angular.module("modules.error-handling",[]),angular.module("modules.error-handling").config(["$httpProvider",function(a){a.interceptors.push(["$q","$window","$injector",function(a,b,c){return{response:function(a){return a},responseError:function(b){var d,e=c.get("$mdToast");return b.data&&b.data.error&&(d=b.data.error),/50\d/.test(b.status)&&("POST"==b.config.method&&(d="Something went wrong - we have been notified."),$.ajax({type:"POST",url:"/api/v1/logging/clienterrors",contentType:"application/json",data:angular.toJson({errorUrl:b.config.url,errorParams:b.config.params,errorStatus:b.status,errorResponse:b.data})})),d&&e.show(e.simple().theme("warn").content(d)),a.reject(b)}}}])}]).run(["$rootScope","$state","$timeout",function(a,b,c){a.$on("$stateChangeError",function(a,c,d,e,f,g){console.log("Error"),b.go("app.404",null,{location:!1})})}]).service("ErrorModalService",["$mdDialog",function(a){this.error=function(b,c){return a.show({templateUrl:"modules/error-handling/tpls/error-modal.html",controller:["data","$scope",function(b,c){c.data=b,c.confirm=function(){a.hide()},c.cancel=function(){a.cancel()}}],locals:{data:c},clickOutsideToClose:c.clickOutsideToClose||!1,targetEvent:b})}}]).provider("$exceptionHandler",{$get:["errorLogService",function(a){return a}]}).factory("stacktraceService",function(){return{print:printStackTrace}}).factory("errorLogService",["$log","$window","stacktraceService","FunctionLibrary",function(a,b,c,d){function e(e,g){a.error.apply(a,arguments);try{if(!d.isCrawler()){var h=e.toString(),i=c.print({e:e});h!==f&&$.ajax({type:"POST",url:"/api/v1/logging/clienterrors",contentType:"application/json",data:angular.toJson({errorUrl:b.location.href,errorMessage:h,stackTrace:i,cause:g||""})})}f=h}catch(j){a.warn("Error logging failed"),a.log(j)}}var f=null;return e}]).directive("fallbackSrc",function(){return{restrict:"A",link:function(a,b,c){_.isEmpty(c.ngSrc)&&b.attr("src",c.fallbackSrc),b.bind("error",function(){b.attr("src",c.fallbackSrc)})}}}).directive("errSrc",function(){return{link:function(a,b,c){b.bind("error",function(){c.src!=c.errSrc&&c.$set("src",c.errSrc)})}}});
angular.module("modules.explanation-modals",[]),angular.module("modules.explanation-modals").directive("showExplanationModal",["$mdDialog",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(b){var c=["project","field","question","ambassador","job"];-1!=c.indexOf(d.showExplanationModal)?a.show({templateUrl:"modules/explanation-modals/tpls/explanation-modal.html",controller:["$scope","$mdDialog",function(a,b){a.modal=e[d.showExplanationModal],a.cancel=b.cancel}],clickOutsideToClose:!0,targetEvent:b}):console.error("Modal not found")});var e={project:{title:"What is a project?",body:"<p>If it follows the scientific method, it can be a project on STEMN. Projects here are often experiments, research, and theses. If your idea helps unlock new knowledge, then we can help.</p>",image:"assets/images/explanation-modals/droid.svg",buttonText:"Back to projects"},field:{title:"What is a field?",body:"<p>Fields are short for “scientific fields”, “scientific disciplines”, or “sciences”.</p><p>Be sure to tag your projects and questions with appropriate fields so it is easy to find.</p>",image:"assets/images/explanation-modals/rover.svg",buttonText:"Great, thanks!"},question:{title:"What is a question?",body:"<p>Questions can be anything you need help with:</p><ul><li>Technical questions</li><li>Asking for feedback</li><li>Recruiting new members to your team. </li></ul><p>How can the STEMN community help? Science is more fun with friends.</p>",image:"assets/images/explanation-modals/telescope.svg",buttonText:"Back to questions"},ambassador:{title:"Become an ambassador",body:'<p>STEMN ambassadors get paid real $$$$ for everyone they signup at their company or university.</p><p>Interested? Email <a class="text-green" href="mailto:ambassador@stemn.com">ambassador@stemn.com</a> to find out more.</p>',image:"assets/images/explanation-modals/deal.svg",buttonText:"Back to referrals"},job:{title:"How do STEMN jobs work?",body:"<p>Once you have created a profile and added some projects to your portfolio you can apply for jobs.</p><p>When you apply for a position, we'll pair you with a member of our Talent Team. They'll polish your application and prepare you for each company.</p><p>You'll be introduced to our partner companies. Over <b>64% of applicants</b> via STEMN land interviews!</p>",image:"assets/images/explanation-modals/moon-landing.svg",buttonText:"Back to jobs"}}}}}]);
angular.module("modules.favico",[]).factory("favicoService",function(){var a=new Favico({animation:"popFade",bgColor:"#5CB85C",textColor:"#fff"}),b=function(b){a.badge(b)},c=function(){a.reset()};return{badge:b,reset:c}});
!function(){"use strict";function a(a,b){return{restrict:"E",scope:{data:"=?",itemType:"@?",size:"@?"},templateUrl:"modules/feed/tpls/feed-item.html",controller:["$scope",function(c){function d(){if(c.data.loading!==!0){var b=c.data.data||c.data;c.type=b.type,c.altType=a.getAltType(c.type),c.id=b._id,c.title=b.name,c.blurb=b.blurb,c.fields=b.fields,c.wordCount=b.wordCount,c.sref=a.getSref(b.type,b.stub),c.image=b.picture,c.srefComments=a.getSrefBase(b.type)+'({"stub":"'+b.stub+'","#":"responses"})',c.srefCommentsReply=a.getSrefBase(b.type)+'({"stub":"'+b.stub+'", "reply" : "true", "#":"reply"})',c.numPosts=b.numPosts||b.numComments,c.likes={num:b.likes},b.updated&&(c.timeDesc="Updated",c.time=b.updated),b.submitted&&(c.timeDesc="Submitted",c.time=b.submitted),"project"==b.type?e(b.organisations,b.team):e(b.organisations,b.owner,b.projects),c.loading=!1}else c.loading=!0}function e(b,d,e){var f;b&&b[0]&&(f=b[0]);var g;e&&e[0]&&(g=e[0]);var h=d[0]||d;f?(c.avatar=f.picture,c.owner=f.name,c.ownerId=f._id,c.ownerStub=f.stub,c.ownerSref=a.getSref("organisation",f.stub),c.subOwner=h.name,c.subOwnerSref=a.getSref("user",h.stub),c.ownerType="organisation"):g?(c.avatar=g.picture,c.owner=g.name,c.ownerId=g._id,c.ownerStub=g.stub,c.ownerSref=a.getSref("project",g.stub),c.subOwner=h.name,c.subOwnerSref=a.getSref("user",h.stub),c.ownerType="project"):(c.avatar=h.picture,c.owner=h.name,c.ownerId=h._id,c.ownerStub=h.stub,c.ownerSref=a.getSref("user",h.stub),c.ownerType="user")}var f=c.data.data||c.data;f.name?d():(c.loading=!0,b.getFeedItem({_id:f._id,type:f.type}).then(function(a){f=a,d()})),c.$watch("data.loading",function(){d()})}]}}function b(){return{restrict:"E",scope:{parentId:"@",parentType:"@",parent:"=?",type:"@",data:"=?",published:"=?",showEdit:"=?"},templateUrl:"modules/feed/tpls/feed-widget.html",controller:"feedWidgetCtrl"}}function c(){return{restrict:"E",scope:{parentId:"@",parentType:"@",parent:"=?",type:"@",data:"=?",published:"=?",showEdit:"=?"},templateUrl:"modules/feed/tpls/feed-widget-timeline.html",controller:"feedWidgetCtrl"}}function d(){return{restrict:"E",replace:!0,templateUrl:"modules/feed/tpls/feed-loading.html"}}function e(){return{restrict:"E",scope:{fields:"=",limit:"="},templateUrl:"modules/feed/tpls/item-fields.html",controller:["$scope","CoreLibrary",function(a,b){_.forEach(a.fields,function(a){a.sref=b.getSref("field",a.stub)})}]}}function f(){return{restrict:"E",transclude:!0,scope:{avatar:"@",type:"@",ownerId:"@",ownerStub:"@"},templateUrl:"modules/feed/tpls/item-owner.html"}}function g(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"modules/feed/tpls/item-image.html"}}function h(){return{restrict:"E",scope:{parentId:"@",parentType:"@",parent:"=?",type:"@",size:"@?",contained:"@?",data:"=?",resolved:"=?",published:"=?",showEdit:"=?",hideInput:"="},templateUrl:"modules/feed/tpls/feed.html",controller:["$scope","ForumModalService","NewCreationsService","HttpQuery",function(a,b,c,d){function e(){a.query=d({url:"api/v1/feed",params:{parentType:a.parentType,parentId:a.parentId,type:a.type,sort:"updated",size:i,published:a.published,populate:!0}}),a.typeInfo=j[a.type],f(),a.newEntitySubmit=g,a.query.results=[{loading:!0,name:"loading"},{loading:!0,name:"loading"},{loading:!0,name:"loading"}],a.query.more()}function f(){a.newEntity={},a.sectionData={},a.radioDetails={options:a.typeInfo.inputRadioOptions,selected:a.typeInfo.inputRadioOptions[0].val},!a.parent||"organisation"!=a.parentType&&"project"!=a.parentType&&"field"!=a.parentType||(a.newEntity[a.parentType+"s"]=[{_id:a.parent._id,stub:a.parent.stub,name:a.parent.name,picture:a.parent.picture}],"project"==a.parentType&&(a.newEntity.organisations=a.parent.organisations))}function g(){var b;a.newEntity.sectionData=a.sectionData.model,a.newEntity.type=a.radioDetails.selected,b="project"==a.radioDetails.selected?"project":"thread",c.create(b,a.newEntity)}function h(){return{all:{noMoreSingular:"Nothing here yet.",noMoreMulti:"No more results.",inputPlaceholder:"Post a project, blog or question.",inputRadioOptions:[{val:"project",title:"Project"},{val:"blog",title:"Blog / Update"},{val:"question",title:"Question"}]},projects:{noMoreSingular:"No projects yet.",noMoreMulti:"No more projects.",inputPlaceholder:"Post a project or Research paper",inputRadioOptions:[{val:"project"}]},blogs:{noMoreSingular:"No blogs here yet",noMoreMulti:"No more blogs.",inputPlaceholder:"Start a project blog or post something interesting...",inputRadioOptions:[{val:"blog"}]},discussions:{noMoreSingular:"No questions yet.",noMoreMulti:"No more questions.",inputPlaceholder:"Ask a question or request some help.",inputRadioOptions:[{val:"question"}]},questions:{noMoreSingular:"No questions yet.",noMoreMulti:"No more questions.",inputPlaceholder:"Ask a question or request some help.",inputRadioOptions:[{val:"question"}]}}}var i=10,j=h();a.$watch("parentId",e)}]}}function i(){return{restrict:"E",replace:!0,scope:{parentId:"@",parentType:"@",sort:"@",type:"@",size:"@",hideMore:"=?",query:"=?"},templateUrl:"modules/feed/tpls/card-feed.html",controller:["$scope","$timeout","HttpQuery",function(a,b,c){function d(){b.cancel(f),f=b(e,g)}function e(){a.size=a.size||3,a.sort=a.sort||"updated",a.query=c({url:"api/v1/feed",params:{parentType:a.parentId?a.parentType:"",parentId:a.parentId,type:a.type,sort:a.sort,size:a.size,published:a.published,populate:!0},requerySize:12}),a.query.more(),"projects"==a.type?(a.messageMore="See more projects",a.messageNoMore="No more projects"):"blogs"==a.type?(a.messageMore="See more updates",a.messageNoMore="No more updates"):"discussions"==a.type?(a.messageMore="See more questions",a.messageNoMore="No more questions"):(a.messageMore="See more",a.messageNoMore="No more results")}var f,g=10;a.$watch("parentId",d,!0),a.$watch("sort",d,!0)}]}}function j(a,b,c,d,e){var f={blogs:{moreSref:"project"==a.parentType?"app."+a.parentType+".blogs":"app."+a.parentType+".blogs",inputPlaceholder:"Add a Blog",inputFn:b.newThread,inputFnType:"blog",empty:"No updates yet."},discussions:{moreSref:"project"==a.parentType?"app."+a.parentType+".threads":"app."+a.parentType+".forum",inputPlaceholder:"Add a question",inputFn:b.newThread,inputFnType:"general",empty:"No questions yet."},all:{moreSref:"",inputPlaceholder:"Add a Discussion",inputFn:b.newThread,inputFnType:"general",empty:"Nothing yet."}};a.query=e({url:"api/v1/feed",params:{parentType:a.parentType,parentId:a.parentId,type:a.type,sort:"submitted",size:4,published:a.published},onSuccess:function(a){return _.forEach(a,function(a){a.data.sref=d.getSref(a.data.type,a.data.stub)}),a}}),a.query.more(),a.typeInfo=f[a.type],a.inputFnData={},"organisation"==a.parentType?(a.inputFnData.organisations=[{_id:a.parent._id,stub:a.parent.stub,name:a.parent.name,picture:a.parent.picture}],a.inputFnData.fields=a.parent.fields):"project"==a.parentType?(a.inputFnData.projects=[{_id:a.parent._id,stub:a.parent.stub,name:a.parent.name,picture:a.parent.picture}],a.inputFnData.organisations=a.parent.organisations):"field"==a.parentType&&(a.inputFnData.fields=[{_id:a.parent._id,stub:a.parent.stub,name:a.parent.name,picture:a.parent.picture}]),a.inputFnData.type=a.typeInfo.inputFnType}function k(a,b){return{restrict:"E",replace:!0,scope:{entityType:"@",entityId:"@"},templateUrl:"modules/feed/tpls/feed-recommend.html",link:function(c,d){d.bind("click",function(d){a.post("/api/v1/feed/recommend",{entityType:c.entityType,entityId:c.entityId}).then(function(a){b.show(b.simple().content("Recommended to everybody!"))})})}}}function l(a,b,c,d){this.getFeed=function(a){return d({method:"GET",url:"api/v1/feed",params:a})},this.getFeedItem=function(a){return"project"==a.type?c.getProject(a._id,"md"):b.getThread(a._id,"md")}}angular.module("modules.feed",["modules.call-to-action"]),angular.module("modules.feed").directive("feedItem",a).directive("feedWidget",b).directive("feedWidgetTimeline",c).directive("cardFeed",i).directive("loadingFeed",d).directive("itemFields",e).directive("itemOwner",f).directive("itemImage",g).directive("feed",h).directive("feedRecommend",k).service("FeedService",l).controller("feedWidgetCtrl",j),a.$inject=["CoreLibrary","FeedService"],j.$inject=["$scope","ForumModalService","ProjectModalService","CoreLibrary","HttpQuery"],k.$inject=["$http","$mdToast"],l.$inject=["Restangular","ThreadService","ProjectService","HttpService"]}();
angular.module("modules.fields",["modules.authentication","modules.restangular","modules.uploads"]),angular.module("modules.fields").directive("fieldCard",function(){return{restrict:"E",scope:{id:"@?",data:"=?",size:"@?"},templateUrl:"modules/fields/tpls/field-card.html",controller:["$scope","Authentication","FieldService",function(a,b,c){a.id&&(a.loading=!0,c.getField(a.id).then(function(b){a.data=b,a.loading=!1}))}]}}).service("FieldModalService",["$mdDialog",function(a){this.fieldNewModal=function(b,c){return a.show({templateUrl:"modules/fields/tpls/field-new-modal.html",controller:"FieldNewModalCtrl",clickOutsideToClose:!0,targetEvent:b,locals:{data:c}})}}]).controller("FieldNewModalCtrl",["data","$scope","$mdDialog","FieldService","SearchService","CoreLibrary",function(a,b,c,d,e,f){b.data=angular.copy(a),b.checkFieldExists=function(a){a&&(b.stub=f.stubify(a),e.search({type:"field",key:"stub",value:b.stub,match:"insensitive"}).then(function(a){0===a.data.length?b.NewFieldForm.name.$setValidity("fieldexists",!0):b.NewFieldForm.name.$setValidity("fieldexists",!1)}))},b.cancel=function(){c.cancel()},b.save=function(){d.updateField(b.data).then(function(a){c.hide(a)})}}]).service("FieldService",["Restangular","Authentication","HttpService",function(a,b,c){this.createField=function(b){return analytics.track("Field Create",{field:b.name}),a.all("fields").post(b).then(function(a){return a})},this.getField=function(b){return a.one("fields",b).get()},this.getFields=function(b){return a.all("fields").getList(b)},this.updateField=function(c){return analytics.track("Field Update",{updater:b.currentUser.name,field:c.name}),c._id?a.one("fields",c._id).customPUT(c):this.createField(c)},this.deleteField=function(a){return c({method:"delete",url:"/api/v1/fields/"+a})}}]);
angular.module("modules.filters",[]),angular.module("modules.filters").filter("capitaliseFirst",function(){return function(a){return a=a||"",a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase()}}).filter("nospace",function(){return function(a){return a?a.replace(/ /g,""):""}}).filter("money",["CoreLibrary",function(a){return function(b,c){var d,e,f,g="",h=a.getCurrencies();if(h[c]&&(g=h[c].symbol),b)if(e=b.toString(),f=e.split(".")[0],f.length>=4){var i=0;d=parseInt(e)/1e3,4==f.length&&(i=1),d=d.toFixed(i)+"k"}else d=e;return g+d}}]).filter("bytes",function(){return function(a,b){if(0===a||isNaN(parseFloat(a))||!isFinite(a))return"-";"undefined"==typeof b&&(b=1);var c=["bytes","kB","MB","GB","TB","PB"],d=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,Math.floor(d))).toFixed(b)+" "+c[d]}}).filter("words",function(){return function(a,b){if(isNaN(b))return a;if(0>=b)return"";if(a){var c=a.split(/\s+/);c.length>b&&(a=c.slice(0,b).join(" ")+"…")}return a}}).filter("trustAsHtml",["$sce",function(a){return a.trustAsHtml}]).filter("letters",function(){return function(a,b){return isNaN(b)?a:0>=b?"":(a&&a.length>b&&(a=a.slice(0,b)+"…"),a)}}).filter("orderObjectBy",function(){return function(a,b){if(!angular.isObject(a))return a;var c=[];for(var d in a)c.push(a[d]);return c.sort(function(a,c){return a=parseInt(a[b]),c=parseInt(c[b]),a-c}),c}}).filter("hasValue",function(){return function(a){return null===a?!1:""===a?!1:!0}}).filter("firstWord",function(){return function(a){return a=a.split(" ")[0]}}).filter("lastWord",function(){return function(a){return a=a.split(" ").pop()}}).filter("isEmptyObject",["$filter",function(a){return function(b){return _.every(b,function(b,c){return _.isArray(b)?_.every(b,a("isEmptyObject")):"$$hashKey"===c?!0:_.isEmpty(b)})}}]).filter("consolelog",function(){return function(a){console.log(a)}}).filter("trueValues",function(){return function(a){var b=[];return _.each(a,function(a,c){if(a===!0){var d={};d[c]=a,b.push(d)}}),b}}).filter("values",function(){return function(a){var b=[];return _.each(a,function(a,c){var d={};d[c]=a,b.push(d)}),b}}).filter("toJSON",function(){return function(a){return JSON.stringify(a,null,4)}}).filter("stripHttp",function(){return function(a){return a.toString().replace("http://","").replace("https://","").replace("www.","").replace("http://www.","").replace("https://www.","")}}).filter("typeaheadHighlightMatch",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp("\\b"+a(c),"gi"),"<strong>$&</strong>"):b}});
angular.module("modules.following",[]),angular.module("modules.following").directive("followingDetailed",function(){return{restrict:"E",templateUrl:"modules/following/tpls/following-detailed.html",scope:{type:"@",userId:"@",size:"@",hideMore:"@",moreFn:"=?",showDivider:"=?"},controller:["FollowService","Authentication","$scope","HttpQuery",function(a,b,c,d){function e(a){var b={field:{typeTitle:"Fields",followSome:"app.browse.fields"},organisation:{typeTitle:"Organisations",followSome:"app.browse.organisations"},project:{typeTitle:"Projects",followSome:"app.browse.projects"},user:{typeTitle:"Users",followSome:"app.browse.users"},thread:{typeTitle:"Blogs and Questions",followSome:"app.browse.questions"}};return b[a]}c.page=0,c.size=c.size||20,c.userId=c.userId||b.currentUser._id,c.showEdit=c.userId==b.currentUser._id,c.typeInfo=e(c.type),c.query=d({url:"api/v1/users/"+c.userId+"/following",params:{type:c.type,page:c.page,size:c.size},requerySize:20}),c.query.results=[{loading:!0},{loading:!0},{loading:!0}],c.query.more()}]}});
angular.module("modules.footer",[]),angular.module("modules.footer").directive("footer",["FooterService",function(a){return{restrict:"E",scope:{},replace:!0,templateUrl:"modules/footer/tpls/footer.html",controller:["$scope","LayoutOptions",function(b,c){b.LayoutOptions=c,b.items=a.items}]}}]).service("FooterService",["Restangular",function(a){this.items=[{text:"About",sref:"app.project.overview({'stub':'stemn'})"},{text:"Careers",sref:"app.blog({'stub':'join-our-rocketship'})"},{text:"Terms & Privacy",sref:"app.terms"},{text:"Partners",sref:"app.partners"},{text:"Say Hello",sref:"app.project.overview({'stub':'stemn'})"}]}]);
angular.module("modules.forum",["modules.editor","modules.tags","modules.social-media"]),angular.module("modules.forum").directive("forum",function(){return{restrict:"E",templateUrl:"modules/forum/tpls/forum.html",scope:{parentId:"@?",parentType:"@?",size:"@?",query:"=?"},controller:["$scope","HttpQuery",function(a,b){function c(a){if(a.picture)return a.picture;var b=_.find(a.fields,"picture");return b?b.picture:void 0}function d(a){return a.projects.length>0?_.find(a.projects,"picture"):void 0}a.size=a.size||20,a.query=b({url:"api/v1/search",params:{parentType:a.parentId?a.parentType:"",parentId:a.parentId,sort:"updated",type:"thread",size:a.size,select:["picture","name","stub","blurb","owner","projects","numPosts","fields"],populate:!0,criteria:{type:["question","general"]}},onSuccess:function(a){return _.forEach(a,function(a){a.picture=c(a),a.project=d(a)}),a},requestSize:20}),a.query.more()}]}}).directive("threadMetaRelations",function(){return{restrict:"E",template:'<h2 ng-if="relations" ng-bind-html="relations"><h2>',scope:{projects:"=?",organisations:"=?"},controller:["$scope",function(a){function b(a,b){c[d]=b+' <a class="bold" href='+a.href+">"+a.name+"</a>",d++}var c=[],d=0;a.projects[0]&&(a.projects[0].href="projects/"+a.projects[0].stub,b(a.projects[0],"project")),a.organisations[0]&&(a.organisations[0].href="org/"+a.organisations[0].stub+"/top",b(a.organisations[0],"organisation")),2===c.length?a.relations="In reference to the "+c[0]+" and the "+c[1]+".":1===c.length?a.relations="In reference to the "+c[0]+".":a.relations=!1}]}}).directive("clickCreateThread",["NewCreationsService",function(a){return{restrict:"A",scope:{thread:"=?"},link:function(b,c,d){c.bind("click",function(c){a.create("thread",b.thread)})}}}]).service("ThreadService",["$http","HttpService","LocalCache","Restangular","Authentication","$q","ModularEditorService",function(a,b,c,d,e,f,g){function h(a,c){var d,e;return"sm"==c?(d=["stub","name","picture","blurb"],e=!1):"md"==c?(d=["stub","name","picture","blurb","followers"],e=!1):(d=["*"],c="lg",e=!0),b({url:"/api/v1/threads/"+a,method:"GET"})}function i(a){if(a._id){analytics.track("Thread Update",{projects:a.projects,fields:a.fields,organisations:a.organisations,threadLength:a.body.length});var b=_.clone(a,!0);return b.posts=void 0,g.stripSectionsDomElements(b.sectionData.sections),d.one("threads",a._id).customPUT(b)}return analytics.track("Thread New",{projects:a.projects,fields:a.fields,organisations:a.organisations,threadLength:a.body.length}),d.all("threads").post(a)}function j(a){return analytics.track("Thread Delete",{thread:a}),d.all("threads").one(a).remove()}this.getThread=h,this.saveThread=i,this.deleteThread=j}]).service("ForumModalService",["$mdDialog",function(a){this.newThread=function(b,c){return a.show({templateUrl:"modules/forum/tpls/new-thread-modal.html",controller:"NewThreadModalCtrl",targetEvent:b,locals:{data:c,event:b}})}}]).controller("NewThreadModalCtrl",["data","event","$scope","$mdDialog","$timeout","CoreLibrary","NewCreationsService",function(a,b,c,d,e,f,g){c.thread={},angular.extend(c.thread,a),c.typeInfos={question:{title:"Submit a question",href:"threads",type:"question"},blog:{title:"Write your blog",href:"blogs",type:"blog"},general:{title:"Start a discussion",href:"threads",type:"discussion"}},c.cancel=function(){d.cancel()},c.save=function(){c.CreateThreadForm.$valid&&g.create("thread",c.thread)}}]);
angular.module("modules.horizontal-menu",["modules.search","modules.authentication","modules.notifications","modules.layout-options","modules.project","modules.site-search","modules.top-banner"]),angular.module("modules.horizontal-menu").directive("mainHorizontalMenu",["$window","$mdSidenav",function(a,b){return{restrict:"E",scope:{},templateUrl:"modules/horizontal-menu/tpls/main-horizontal-menu.html",controller:["$rootScope","$scope","$window","Authentication","LayoutOptions","AuthenticationModalService","ProjectModalService","MenuItems","$mdMedia","$timeout","$state","HorizontalMenuService","NewCreationsService",function(a,c,d,e,f,g,h,i,j,k,l,m,n){function o(){b("left").toggle().then(function(){console.log("toggle")})}c.user=e.currentUser,c.LayoutOptions=f,c.HorizontalMenuService=m,c.$mdMedia=j,c.$state=l,c.MenuItems=i,c.openLoginModal=function(a){g.login(a)},c.newSomething=function(a){n.createModal(a)},c.toggleMenu=o,c.$watch(function(){b("left").isOpen()?f.body.disableScroll=!0:f.body.disableScroll=!1})}]}}]).service("HorizontalMenuService",["$rootScope",function(a){function b(a){c.enabled=a===!1?!1:!0}var c=this;this.enabled=!0,this.enable=b}]).directive("userSettingsDropdown",function(){return{restrict:"E",templateUrl:"modules/horizontal-menu/tpls/user-settings-dropdown.html",controller:"userSettingsCtrl"}}).directive("userSettingsSidebar",function(){return{restrict:"E",templateUrl:"modules/horizontal-menu/tpls/user-settings-sidebar.html",controller:"userSettingsCtrl"}}).controller("userSettingsCtrl",["$scope","Authentication","MenuItems","LayoutOptions","ProjectModalService","OrganisationModalService","$state","$mdToast","AuthenticationModalService","$mdSidenav","NewCreationsService",function(a,b,c,d,e,f,g,h,i,j,k){a.user=b.currentUser,a.MenuItems=c,a.newSomething=function(a){k.createModal(a)},a.newOrganisation=function(a){f.organisationNewModal(a).then(function(a){g.go("app.organisation-onboarding.picture",{stub:a.stub})})},a.login=i.login,a.close=function(){j("left").close()},a.popLogout=function(){h.show(h.simple().theme("warn").content("Goodbye. Hope to see you again soon :)"))},a.menu=[{label:"My profile",href:"/users/"+a.user.stub},{label:"My Creations",href:"/creations"},{label:"My Job Applications",href:"/applications"},{label:"Create something",click:function(a){k.createModal(a)}},{label:"Create Organisation",click:function(a){f.organisationNewModal(a).then(function(a){g.go("app.organisation-onboarding.picture",{stub:a.stub})})},divider:!0},{label:"Settings",href:"/settings/account"},{label:"Sign out",click:function(b){a.user.logout(),a.popLogout()}}]}]).directive("stickOnScrollUp",["$window",function(a){return{restrict:"A",link:function(b,c,d){function e(){var a=k.scrollTop();Math.abs(i-a)<=j||(a>i&&a>l?f():g(),i=a)}function f(){c.css({transform:"translateY(-"+l+"px)"})}function g(){c.css({transform:"translateY(0px)"})}var h,i=0,j=5,k=angular.element(a),l=c[0].offsetHeight;k.on("scroll",function(a){h=!0}),setInterval(function(){h&&(e(),h=!1)},250)}}}]).directive("dockToMenu",["$window",function(a){return{restrict:"A",link:function(b,c,d){function e(){var a=f.scrollTop();64>a?c.css({"padding-top":64-a+"px"}):c.css({"padding-top":"0px"})}var f=angular.element(a);"false"!=d.dockToMenu&&(e(),f.on("scroll",b.$apply.bind(b,e)))}}}]).run(["$rootScope","CoreLibrary","MenuItems",function(a,b,c){a.$on("$stateChangeSuccess",function(a,d,e,f,g){var h=d.$$state(),i=b.checkStateParents(h,"menu");c.main=i.main,c.more=i.more,c.setBodyClasses()})}]).service("MenuItems",function(){function a(){0===b.main.length?angular.element(document.body).addClass("no-tabs"):angular.element(document.body).removeClass("no-tabs")}var b=this;this.setBodyClasses=a,this.main=[],this.more=[]});
!function(){"use strict";function a(a,b,c){function d(d,e){a.current.reloadOnSearch=!1,b.search(d,e),c(function(){a.current.reloadOnSearch=void 0})}this.set=d}function b(a,b,c){return function(c){return a(c).then(function(a){return a.data})["catch"](function(a){return b.reject(a)})}}function c(a,b,c,d,e){var f=function(f){function g(){console.log("You must assign get function")}function h(b){q.get=function(){q.loading=!0,a({url:b,method:"GET",params:q.params}).then(q.success)}}function i(){f.requerySize&&1==q.params.page&&q.params.size!=f.requerySize?q.params.size=f.requerySize:q.params.page++,q.get()}function j(){q.params.page=1,q.get()}function k(a){f.onSuccess&&(a=f.onSuccess(a)),1==q.params.page&&(q.notEnoughResults=a.length<q.params.size,q.results=[]),q.loading=!1,q.results=q.results.concat(a),q.noMoreResults=a.length<q.params.size}function l(a){var b=angular.copy(a);return _.forEach(f.urlParams,function(a){d[a]&&(b[a]=d[a])}),b}function m(){c.cancel(n),n=c(function(){_.forEach(f.urlParams,function(a){q.params[a]&&q.params[a]!=p[a]?b.set(a,q.params[a]):b.set(a,null)})},o)}var n,o=1e3,p=angular.copy(f.params),q={params:{}};return q.params.page=0,q.params.size=10,q.params=_.merge(q.params,f.params),q.params=l(q.params),e.$on("$stateChangeStart",function(){c.cancel(n)}),q.loading=!1,q.get=g,q.setGet=h,q.more=i,q.refresh=j,q.success=k,q.updateQueryParams=m,f.url&&q.setGet(f.url),q};return f}angular.module("modules.http",[]),angular.module("modules.http").service("HttpService",b).service("HttpQuery",c).service("QueryParamsService",a),a.$inject=["$state","$location","$timeout"],b.$inject=["$http","$q","$mdToast"],c.$inject=["HttpService","QueryParamsService","$timeout","$stateParams","$rootScope"]}();
angular.module("modules.idle",[]),angular.module("modules.idle").run(["IdleService",function(a){a.watch()}]).service("IdleService",["$timeout","$interval","$rootScope",function(a,b,c){function d(){f.idleTimeout=a(function(){c.$broadcast("Idle.inactive"),f.status="inactive"},g)}function e(){var b="mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll";angular.element(document.body).on(b,function(){"inactive"==f.status&&c.$broadcast("Idle.active"),f.status="active",a.cancel(f.idleTimeout),f.newIdleTimeout()})}var f=this,g=3e4;this.watch=e,this.idleTimeout="",this.status="active",this.newIdleTimeout=d,f.newIdleTimeout()}]);
angular.module("modules.invite",[]),angular.module("modules.invite").directive("showInviteLinkModal",["$mdDialog",function(a){return{restrict:"A",scope:{parent:"=",group:"@?",role:"@?",modalCallback:"&?"},link:function(b,c,d){c.bind("click",function(c){var d={parentId:b.parent._id,parentType:b.parent.type,group:b.group,role:b.role};return a.show({templateUrl:"modules/invite/tpls/invite-link-modal.html",controller:["data","$scope","InviteService","Authentication",function(b,c,d,e){c.type=b.parentType,d.generateInviteCode({parentId:b.parentId,parentType:b.parentType}).then(function(a){c.url="https://stemn.com?invitecode="+a.data._id,b.group&&(c.url=c.url+"&invitegroup="+b.group),b.role&&(c.url=c.url+"&inviterole="+b.role),e.currentUser.ref&&(c.url=c.url+"&ref="+e.currentUser.ref)}),c.cancel=function(){a.cancel()}}],locals:{data:d},clickOutsideToClose:!0,targetEvent:c}).then(b.modalCallback)["catch"](b.modalCallback)})}}}]).service("InviteService",["$rootScope","$stateParams","$state","$location","$localStorage","$http","$mdToast","Authentication","AuthenticationModalService",function(a,b,c,d,e,f,g,h,i){function j(){c.current.reloadOnSearch=!1,d.search("invitecode",null),d.search("inviterole",null),d.search("invitegroup",null),b.invitecode&&(b.invitecode=n(b.invitecode),e.inviteCode=b.invitecode,e.inviteRole=decodeURIComponent(b.inviterole),e.inviteGroup=decodeURIComponent(b.invitegroup),h.currentUser.isLoggedIn()?o.sendInviteCode():g.show({controller:["$scope","$mdToast",function(a,b){a.closeToast=function(){b.hide(),i.login(event)}}],template:'<md-toast><span flex>You\'ve been invited to a project. <b>{{result.name}}</b></span><md-button ng-click="closeToast()">Click here to join</md-button></md-toast>',hideDelay:15e3}))}function k(){var a={inviteCode:e.inviteCode,inviteRole:e.inviteRole,inviteGroup:e.inviteGroup};return a}function l(){o.getInviteCode()&&f({url:"/api/v1/invite/accept",method:"GET",params:{inviteId:o.getInviteCode().inviteCode,role:o.getInviteCode().inviteRole,group:o.getInviteCode().inviteGroup}}).success(function(a){g.show({controller:["$scope","$mdToast","CoreLibrary",function(b,c,d){b.sref=d.getSref(a.type,a.stub),b.closeToast=function(){c.hide()},b.result=a}],template:'<md-toast><span flex>You\'ve been invited to the {{result.type}}: <b>{{result.name}}</b></span><md-button ui-sref="{{sref}}" ng-click="closeToast()">View {{result.type}}</md-button></md-toast>',hideDelay:15e3}),delete e.inviteCode,delete e.inviteRole,delete e.inviteGroup})["catch"](function(){delete e.inviteCode,delete e.inviteRole,delete e.inviteGroup})}function m(a){return a.parentId&&a.parentType?f({url:"/api/v1/invite",method:"GET",params:{parentType:a.parentType,parentId:a.parentId}}):void 0}function n(a){return a.split("?ref")[0]}var o=this;this.setInviteCode=j,this.getInviteCode=k,this.sendInviteCode=l,this.generateInviteCode=m,a.$on("authentication.logIn",function(){o.sendInviteCode()})}]);

angular.module("modules.jobs",[]),angular.module("modules.jobs").directive("jobRows",function(){return{restrict:"E",replace:!0,scope:{parentType:"@",parentId:"@",size:"@",currentJobId:"@",hideMore:"=?",query:"=?",near:"=?"},templateUrl:"modules/jobs/tpls/job-rows.html",controller:["$scope","HttpQuery","SearchService",function(a,b,c){a.size=a.size||6,a.query=b({url:"/api/v1/search",params:{type:"job",size:a.size,key:"name",select:["name","organisation","location.name","pay","jobType","level","stub","organisations"],parentType:a.parentType,parentId:a.parentId,near:a.near,radius:0}}),a.parentId&&a.query.more()}]}}).directive("jobTile",function(){return{restrict:"E",replace:!0,scope:{entityId:"@?"},templateUrl:"modules/jobs/tpls/job-tile.html",controller:["$scope","EntityService","CoreLibrary",function(a,b,c){a.loading=!0,b.get("job",a.entityId,"sm").then(function(b){a.item=b,a.item.url=c.getHref("job",b.stub),a.loading=!1})}]}}).directive("resubmitApplicationButton",function(){return{restrict:"EA",scope:{application:"=",resubmitted:"=?"},templateUrl:"modules/jobs/tpls/resubmit-application-button.html",controller:["$scope","EntityService","$mdToast",function(a,b,c){a.resubmitApplication=function(){a.application.status.state="pendingReview",a.resubmitted=!0,b.update("application",a.application).then(function(){c.show(c.simple().content("Application successfully resubmitted."))})}}]}}).directive("applicationRows",function(){return{restrict:"E",replace:!0,scope:{parentType:"@",parentId:"@",job:"=?"},templateUrl:"modules/jobs/tpls/application-rows.html",controller:["$scope","HttpQuery","SearchService",function(a,b,c){a.query=b({url:"/api/v1/search",params:{type:"application",size:6,parentType:a.parentType,parentId:a.parentId},onSuccess:function(a){return a}}),a.query.more()}]}}).directive("applyButton",function(){return{restrict:"E",replace:!0,scope:{job:"=?",jobId:"@",jobStub:"@",changeState:"@",textApplied:"@?",textApply:"@?",buttonStatus:"=?"},templateUrl:"modules/jobs/tpls/apply-button.html",controller:["$scope","$state","$timeout","ApplicationService","JobModalService","Authentication",function(a,b,c,d,e,f){function g(b){e.applyForJob(b,a.job).then(function(c){d.sendApplication(a.jobId,c).then(function(c){e.applicationSuccess(b,c),a.buttonStatus.status=c._id})})}f.currentUser.isLoggedIn()&&d.getStatus(a.jobId).then(function(b){a.buttonStatus=b}),a.jobApply=function(d){a.buttonStatus.status?b.go("app.application",{stub:a.buttonStatus.status}):a.changeState?b.go("app.job",{stub:a.jobStub||a.jobId}).then(function(a){c(function(){g(d)},200)}):g(d)}}]}}).service("JobModalService",["$mdDialog",function(a){function b(b,c){return a.show({templateUrl:"modules/jobs/tpls/create-job-modal.html",controller:["data","$scope","$state","Authentication","$mdToast","UserService","OrganisationService","NewCreationsService","OrganisationModalService","HttpQuery",function(b,c,d,e,f,g,h,i,j,k){c.entity={organisations:[]},c.queryOrganisations=k({url:"/api/v1/search",params:{type:"organisation",size:3,sort:"submitted","select[]":["name"],parentType:"user",parentId:e.currentUser._id}}),c.queryOrganisations.more(),c.createOrganisation=function(a){j.organisationNewModal(a).then(function(a){d.go("app.organisation-onboarding.picture",{stub:a.stub})})},c.confirm=function(){c.form.$valid?(i.create("job",c.entity),a.hide()):f.show(f.simple().theme("warn").content("Organisation or name is missing"))},c.cancel=function(){a.cancel()}}],locals:{data:c},targetEvent:b,clickOutsideToClose:!0})}function c(b,c){return a.show({templateUrl:"modules/jobs/tpls/application-success-modal.html",controller:["$scope","$state",function(b,c){b.cancel=function(){a.cancel()},b.confirm=function(){c.go("app.applications")}}],targetEvent:b,clickOutsideToClose:!0})}function d(b,c){return a.show({templateUrl:"modules/jobs/tpls/job-application-modal.html",controller:["job","$scope","$state","Authentication","$mdToast","HttpQuery","LocationService","$http","EntityService",function(b,c,d,e,f,g,h,i,j){c.job=b,c.forms={},j.get("user",e.currentUser._id,"lg").then(function(a){c.user=a}),j.get("job",b._id,"lg").then(function(a){c.job=a}),c.application={email:e.currentUser.email,coverLetter:""},i({method:"GET",url:"/api/v1/jobs/matchRating",params:{jobId:b._id,userId:e.currentUser._id}}).then(function(a){c.matchRating=a.data.matchRating}),c.projectsQuery=g({url:"/api/v1/search",params:{type:"project",size:3,sort:"submitted",select:["name","stub","picture","blurb"],parentType:"user",parentId:e.currentUser._id}}),c.projectsQuery.more(),c.activeTab="Requirements",c.tabs=[{label:"Requirements",click:function(){c.activeTab="Requirements"}},{label:"Cover Letter",click:function(){c.activeTab="Cover Letter"}},{label:"Other Info",click:function(){c.activeTab="Other Info"}}],c.isFailedRequiredFields=function(){return _.find(c.job.requiredFields,"active",!1)},c.isFailedRequiredProjects=function(){return!c.projectsQuery.results||c.projectsQuery.results.length<2},c.isFailedRequirements=function(){return c.isFailedRequiredProjects()||c.isFailedRequiredFields()},c.steps={Requirements:{nextText:"Next",nextFn:function(){c.activeTab="Cover Letter"},isDisabled:c.isFailedRequirements},"Cover Letter":{nextText:"Next",nextFn:function(){c.activeTab="Other Info"}},"Other Info":{nextText:"Submit",nextFn:function(){j.update("user",c.user),a.hide(c.application)},isDisabled:function(){return c.forms.infoForm&&c.forms.infoForm.$invalid}}},c.cancel=function(){a.cancel()}}],locals:{job:c},targetEvent:b})}this.applyForJob=d,this.createJob=b,this.applicationSuccess=c}]).service("ApplicationService",["HttpService","LocalCache","Authentication",function(a,b,c){function d(d){var e=function(b){return a({url:"/api/v1/social",method:"GET",params:{socialType:"application","parentIds[]":b,childId:c.currentUser._id}})};return b.getPackaged("application-status",d,e)}function e(c,d){return a({method:"POST",url:"api/v1/jobs/"+c+"/apply",data:d}).then(function(a){return b.save("application-status",{_id:c,status:a._id}),a})}this.getStatus=d,this.sendApplication=e}]).service("JobService",["HttpService","LocalCache","CoreLibrary",function(a,b,c){function d(c,d){var e;"sm"==d?e=i:"md"==d?e=j:(e=k,d="lg");var f=function(b){return a({url:"/api/v1/jobs",method:"GET",params:{"select[]":e,"ids[]":b}})};return b.getPackaged(h+d,c,f)}function e(b){return a({method:"POST",url:"api/v1/jobs",data:b})}function f(c){return b.save(h+"lg",c),a({method:"PUT",url:"api/v1/jobs/"+c._id,data:c})}function g(b){return a({url:"/api/v1/jobs/"+b,method:"DELETE"})}this.getJob=d,this.createJob=e,this.updateJob=f,this.deleteJob=g;var h="job",i=["stub","name","picture","blurb"],j=["stub","name","picture","blurb","created","updated","fields","organisations","team","likes","numComments","location"],k=["*"]}]);
angular.module("modules.keyboard-navigation",[]),angular.module("modules.keyboard-navigation").directive("listKeyboardNavigation",["SearchService",function(a){return{restrict:"A",scope:{enable:"=",list:"=",activeIndex:"=",selector:"@",escFn:"&?"},controller:["$scope","$timeout","$document","CoreLibrary",function(a,b,c,d){function e(b){b.keyCode==d.keyCodes.ESCAPE?(b.preventDefault(),a.escFn(),a.$apply()):b.keyCode==d.keyCodes.UPARROW?(b.preventDefault(),g--,-1==g&&(g=a.list.length-1),a.activeIndex=g%a.list.length,a.$apply()):b.keyCode==d.keyCodes.DOWNARROW?(b.preventDefault(),g++,a.activeIndex=g%a.list.length,a.$apply()):b.keyCode==d.keyCodes.RETURNKEY&&(b.preventDefault(),b.stopPropagation(),angular.element("."+a.selector).trigger("click"))}function f(){c.off("keydown",e)}var g;a.activeIndex=0,a.$watch("enable",function(){a.enable?(g=0,a.activeIndex=0,c.on("keydown",e)):(g=0,a.activeIndex=0,c.off("keydown",e))}),a.$on("$destroy",f)}]}}]);
angular.module("modules.layout-options",[]),angular.module("modules.layout-options").run(["$timeout","$rootScope","LayoutOptions","HorizontalMenuService","TopBannerService","CoreLibrary",function(a,b,c,d,e,f){b.$on("$stateChangeSuccess",function(a,b,g,h,i){c["default"]();var j=b.$$state(),k=f.checkStateParents(j,"layout");k&&("lg"==k.size&&(c.body.size="lg"),"md"==k.size&&(c.body.size="md"),k.topBanner===!1&&e.hideBanner(),k.footer===!0&&(c.footer.hideFooter=!1),k.smooch===!1&&(c.smooch.hideButton=!0),k.bgColor&&(c.body.color=k.bgColor)),k=k||{},d.enable(k.horizontalMenu)})}]).service("LayoutOptions",["$timeout","TopBannerService","Authentication",function(a,b,c){var d={header:{},body:{},footer:{},overlay:{},settings:{},back:{},smooch:{},"default":function(){d.header.landing=!1,d.body.hideOverflow=!1,d.body.disableScroll=!1,d.body.size="sm",d.body.color="#fff",d.footer.hideFooter=!0,d.footer.hideSubFooter=!1,d.footer.hideMainFooter=!1,d.overlay.highlight=!1,d.overlay.loading=!1,d.settings.showSettings=!1,d.smooch.hideButton=!1,c.currentUser.isLoggedIn()&&c.currentUser.verified||b.banner.closed||b.showBanner()}};return d}]);
angular.module("modules.lazy-loading",[]),angular.module("modules.lazy-loading").directive("blurLoad",["$timeout","$window","LazyLoadingService",function(a,b,c){return{restrict:"E",link:function(a,d,e){function f(){c.isElementInViewport(d[0])&&(l||(l=new Image,l.className="large",l.src=e.bgSrc,d.append(l),l.onload=function(){l.className="large show",i.off("scroll",f)}))}function g(){i.off("scroll",f)}function h(){e.bgWidth?parseInt(e.bgWidth)<=parseInt(e.bgMaxWidth)?angular.element(d).css({width:e.bgWidth+"px"}):angular.element(d).css({width:e.bgMaxWidth+"px"}):e.bgWidth&&angular.element(d).css({width:e.bgMaxWidth+"px"})}var i=(angular.element(document.body),angular.element(b)),j=1==e.bgSrc.split("?").length?"?scale=auto":"&scale=auto",k=new Image;k.className="placeholder",k.src=e.bgSrc+j,d.append(k),h();var l;i.on("scroll",f),a.$on("$destroy",g),f()}}}]).directive("blurLoadBg",["$timeout","$window","LazyLoadingService",function(a,b,c){return{restrict:"A",link:function(d,e,f){function g(){c.isElementInViewport(e[0])&&(l||(l=new Image,l.src=f.bgSrc,l.onload=function(){k.css({opacity:"0"}),e.css({"background-image":"url("+f.bgSrc+")"}),i.off("scroll",g),a(function(){k.remove()},3e3)}))}function h(){i.off("scroll",g)}var i=(angular.element(document.body),angular.element(b)),j=1==f.bgSrc.split("?").length?"?scale=auto":"&scale=auto";e.addClass("blur-load-bg");var k=e.clone();k.css({"background-image":"url("+f.bgSrc+j}),k.addClass("placeholder"),e.append(k);var l;i.on("scroll",g),d.$on("$destroy",h),g()}}}]).directive("imageOnLoad",function(){return{restrict:"A",link:function(a,b,c){b.bind("load",function(){a.$apply(c.imageOnLoad)}),b.bind("error",function(){})}}}).service("LazyLoadingService",function(){function a(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.top<=(window.innerHeight||document.documentElement.clientHeight)}this.isElementInViewport=a});
angular.module("modules.lightbox",[]),angular.module("modules.lightbox").directive("lightbox",["$mdDialog","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){d.bind("click",function(d){if("false"!=e.lightbox){var f=b(e.lightboxImage)(c),g=b(e.lightboxImages)(c),h={lightboxImage:f,lightboxImages:g};if(f||g)return a.show({templateUrl:"modules/lightbox/tpls/lightbox-modal.html",targetEvent:d,locals:{data:h},controller:["data","$scope",function(b,c){function d(a){a.image?c.currentImage=a:c.currentImage={image:{url:a},caption:""}}if(c.lightboxImages=b.lightboxImages,c.lightboxImage=b.lightboxImage,c.loading=!0,c.lightboxImages){var e;e=-1!=c.lightboxImages.indexOf(c.lightboxImage)?c.lightboxImages.indexOf(c.lightboxImage):0;var g=c.lightboxImages.length;d(c.lightboxImages[e]),c.next=function(){e==g-1?e=0:e+=1,c.setImage(e),c.current=e,c.loading=!0},c.prev=function(){0===e?e=g-1:e-=1,c.setImage(e),c.current=e,c.loading=!0},c.setImage=function(a){d(c.lightboxImages[a])},c.current=e}c.lightboxImages||d(f),c.cancel=function(){a.cancel()}}]})}})}}}]);
!function(){function a(a){function d(d,e,f){a(function(){var a=1,g=+f.clamp,h=0,i=0,j=e.html().replace(/\n/g," "),k=e[0].offsetWidth,l=b();e.empty(),e.append(l),j.replace(/ /g,function(d,f){a>=g||(l.html(j.slice(h,f)),l[0].offsetWidth>k&&(l.html(j.slice(h,i)),c(l),a++,h=i+1,l=b(),e.append(l)),i=f)}),l.html(j.slice(h)),c(l,!0),d.$emit("clampCallback",e,f)})}var e={restrict:"A",link:d};return e}function b(){var a=document.createElement("div");return function(a){a.position="absolute",a.whiteSpace="pre",a.visibility="hidden",a.display="inline-block"}(a.style),angular.element(a)}function c(a,b){a.css({position:"inherit",overflow:"hidden",display:"block",textOverflow:b?"ellipsis":"clip",visibility:"inherit",whiteSpace:"nowrap",width:"100%"})}angular.module("modules.line-clamp",[]).directive("clamp",a),a.$inject=["$timeout"]}();
angular.module("modules.loadbar",["angular-loading-bar"]),angular.module("modules.loadbar").config(["$httpProvider","cfpLoadingBarProvider",function(a,b){b.includeSpinner=!1,a.interceptors.unshift(function(){return{request:function(a){return(a.url.indexOf("api/v1/notifications")>-1||a.url.indexOf("api/v1/search")>-1||a.url.indexOf("api/v1/events")>-1||a.url.indexOf("maps.googleapis.com")>-1||a.url.indexOf("api/v1/geolocate")>-1)&&(a.ignoreLoadingBar=!0),a}}})}]);
angular.module("modules.local-cache",[]),angular.module("modules.local-cache").service("LocalCache",["$timeout","$q","CoreLibrary",function(a,b,c){function d(d,e,k,l){j.requestCache[d]=j.requestCache[d]||{},j.requestCache[d].cache=j.requestCache[d].cache||{},j.requestCache[d].index=j.requestCache[d].index||{},j.requestCache[d].stubCache=j.requestCache[d].stubCache||{};var m=b.defer(),n=f(d,e);return n&&!l?n.promise||b.when(n):(j.requestCache[d].packagePromise?i(d,e):(h(d,k,e),j.requestCache[d].packagePromise=a(function(){return j.requestCache[d].packagePromise=void 0,g(d)},10)),c.isObjectId(e)?j.requestCache[d].cache[e]=m:j.requestCache[d].stubCache[e]=m,m.promise)}function e(a,b){j.requestCache[a]&&(b.stub&&(j.requestCache[a].index[b.stub]=b._id),b._id&&(j.requestCache[a].cache[b._id]=b))}function f(a,b){var c;return j.requestCache[a]&&(j.requestCache[a].cache||j.requestCache[a].stubCache)?j.requestCache[a].cache[b]?(c=j.requestCache[a].cache[b],c.error?!1:c):j.requestCache[a].cache[j.requestCache[a].index[b]]?(c=j.requestCache[a].cache[j.requestCache[a].index[b]],c.error?!1:c):j.requestCache[a].stubCache[b]?(c=j.requestCache[a].stubCache[b],c.error?!1:c):!1:!1}function g(a){return j.requestCache[a].request(j.requestCache[a]["package"]).then(function(b){_.forEach(b,function(b){b.error?(j.requestCache[a].cache[b._id]&&j.requestCache[a].cache[b._id].reject&&j.requestCache[a].cache[b._id].reject(b),j.requestCache[a].stubCache[b.stub]&&j.requestCache[a].stubCache[b.stub].reject&&j.requestCache[a].stubCache[b.stub].reject(b)):(j.requestCache[a].cache[b._id]&&j.requestCache[a].cache[b._id].resolve&&j.requestCache[a].cache[b._id].resolve(b),j.requestCache[a].stubCache[b.stub]&&j.requestCache[a].stubCache[b.stub].resolve&&j.requestCache[a].stubCache[b.stub].resolve(b)),e(a,b)})})["catch"](function(b){_.forEach(j.requestCache[a]["package"],function(c){j.requestCache[a].cache[c]&&j.requestCache[a].cache[c].reject&&j.requestCache[a].cache[c].reject(b),j.requestCache[a].stubCache[c]&&j.requestCache[a].stubCache[c].reject&&j.requestCache[a].stubCache[c].reject(b)})})}function h(a,b,c){j.requestCache[a]["package"]=[c],j.requestCache[a].request=b}function i(a,b){j.requestCache[a]["package"].push(b)}var j=this;this.getPackaged=d,this.save=e,this.requestCache={}}]);
angular.module("modules.location",[]),angular.module("modules.location").config(["$httpProvider",function(a){a.interceptors.push(function(){return{request:function(a){return a.url.indexOf("maps.googleapis.com")>-1&&(a.headers.Authorization=void 0),a}}})}]).run(["LocationService",function(a){a.getLocation()}]).directive("countrySelect",["$http",function(a){return{restrict:"E",scope:{ngModel:"=",placeholder:"@"},templateUrl:"modules/location/tpls/country-select.html",controller:["$scope","LocationService",function(a,b){a.ngModel.length<1&&(a.ngModel=[""]),a.locations=b.getCountries(),a.remove=function(b){a.ngModel.splice(b,1)},a.addAnother=function(){a.ngModel.push("")}}]}}]).service("LocationService",["$http","$q","FunctionLibrary",function(a,b,c){function d(){return[{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}function e(){var d=b.defer();return g.location?d.resolve(g.location):c.isCrawler()?d.reject():(g.location=d.promise,a({url:"/api/v1/geolocate",method:"GET"}).then(function(a){g.location=a.data,d.resolve(a.data)})["catch"](d.reject)),d.promise}function f(b){return a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:b,sensor:!1}}).then(function(a){return a.data.results.map(function(a){var b={name:a.formatted_address,geo:a.geometry.location,components:a.address_components};return b})})}var g=this;this.location=void 0,this.getLocation=e,this.geoCode=f,this.getCountries=d}]);
angular.module("modules.mapbox",[]),angular.module("modules.mapbox").directive("mapbox",function(){return{restrict:"E",scope:{callback:"="},templateUrl:"modules/mapbox/tpls/mapbox.html",link:function(a,b,c){L.mapbox.accessToken="pk.eyJ1IjoiZGF2aWRyZXZheSIsImEiOiJjaWdrMXdzbjgwMDhtdW5sem80ZzU2ZnB1In0.Rnao2anlQSjflypv84f-Xw";var d=L.mapbox.map(b[0],"davidrevay.o2lae1db",{maxBounds:[[-90,-180],[90,180]],maxBoundsViscosity:1,minZoom:3});a.callback(d)}}});
angular.module("modules.maps",[]),angular.module("modules.maps").directive("goToMap",["$state",function(a){return{restrict:"A",scope:{location:"=",locationType:"@"},link:function(b,c,d){c.bind("click",function(c){a.go("app.map",{type:b.locationType,c:b.location.lat+":"+b.location.lng+":20"})})}}}]).service("MapService",function(){});
angular.module("modules.material-design",["ngMaterial","ngMessages"]),angular.module("modules.material-design").config(["$mdIconProvider","$mdThemingProvider",function(a,b){a.icon("video-collection","/assets/icons/av/svg/production/ic_video_collection_48px.svg").icon("menu","/assets/icons/navigation/svg/production/ic_menu_48px.svg").icon("more-v","/assets/icons/navigation/svg/production/ic_more_vert_48px.svg").icon("more-h","/assets/icons/navigation/svg/production/ic_more_horiz_48px.svg").icon("close","/assets/icons/navigation/svg/production/ic_close_48px.svg").icon("chevron-left","/assets/icons/navigation/svg/production/ic_chevron_left_48px.svg").icon("chevron-right","/assets/icons/navigation/svg/production/ic_chevron_right_48px.svg").icon("expand-more","/assets/icons/navigation/svg/production/ic_expand_more_48px.svg").icon("arrow-back","/assets/icons/navigation/svg/production/ic_arrow_back_48px.svg").icon("notification","/assets/icons/social/svg/production/ic_notifications_48px.svg").icon("share","/assets/icons/social/svg/production/ic_share_48px.svg").icon("person","/assets/icons/social/svg/production/ic_person_48px.svg").icon("location-city","/assets/icons/social/svg/production/ic_location_city_48px.svg").icon("add","/assets/icons/content/svg/production/ic_add_48px.svg").icon("add-circle","/assets/icons/content/svg/production/ic_add_circle_48px.svg").icon("add-circle-outline","/assets/icons/content/svg/production/ic_add_circle_outline_48px.svg").icon("remove","/assets/icons/content/svg/production/ic_remove_48px.svg").icon("reply","/assets/icons/content/svg/production/ic_reply_48px.svg").icon("sort","/assets/icons/content/svg/production/ic_sort_24px.svg").icon("link","/assets/icons/content/svg/production/ic_link_48px.svg").icon("messenger","/assets/icons/communication/svg/production/ic_messenger_48px.svg").icon("move-up","/assets/icons/hardware/svg/production/ic_keyboard_capslock_24px.svg").icon("memory","/assets/icons/hardware/svg/production/ic_memory_48px.svg").icon("assignment","/assets/icons/action/svg/production/ic_assignment_48px.svg").icon("bug-report","/assets/icons/action/svg/production/ic_bug_report_48px.svg").icon("done","/assets/icons/action/svg/production/ic_done_48px.svg").icon("exit_to_app","/assets/icons/action/svg/production/ic_exit_to_app_48px.svg").icon("help","/assets/icons/action/svg/production/ic_help_48px.svg").icon("settings","/assets/icons/action/svg/production/ic_settings_48px.svg").icon("search","/assets/icons/action/svg/production/ic_search_48px.svg").icon("visibility","/assets/icons/action/svg/production/ic_visibility_48px.svg").icon("visibility-off","/assets/icons/action/svg/production/ic_visibility_off_48px.svg").icon("lock-outline","/assets/icons/action/svg/production/ic_lock_outline_24px.svg").icon("checkbox","/assets/icons/toggle/svg/production/ic_check_box_48px.svg").icon("star-o","/assets/icons/toggle/svg/production/ic_star_outline_24px.svg").icon("star","/assets/icons/toggle/svg/production/ic_star_24px.svg").icon("upload","/assets/icons/file/svg/production/ic_file_upload_48px.svg").icon("download","/assets/icons/file/svg/production/ic_file_download_48px.svg").icon("edit","/assets/icons/editor/svg/production/ic_mode_edit_48px.svg").icon("insert-photo","/assets/icons/editor/svg/production/ic_insert_photo_48px.svg").icon("section-move","/assets/icons/editor/svg/production/ic_format_line_spacing_24px.svg").icon("functions","/assets/icons/editor/svg/production/ic_functions_24px.svg").icon("access-time","/assets/icons/device/svg/production/ic_access_time_24px.svg").icon("gps-fixed","/assets/icons/device/svg/production/ic_gps_fixed_48px.svg").icon("up-o","/assets/icons/other/up_outline_24px.svg").icon("up","/assets/icons/other/up_24px.svg").icon("down-o","/assets/icons/other/up_outline_24px.svg").icon("down","/assets/icons/other/up_24px.svg").icon("twitter","/assets/icons/other/twitter_24px.svg").icon("twitter-filled","/assets/icons/other/twitter_filled_24px.svg").icon("facebook","/assets/icons/other/facebook_24px.svg").icon("facebook-filled","/assets/icons/other/facebook_filled_24px.svg").icon("heart","/assets/icons/other/heart_24px.svg").icon("heart-filled","/assets/icons/other/heart_filled_24px.svg").icon("response","/assets/icons/other/response_24px.svg").icon("response-filled","/assets/icons/other/response_filled_24px.svg").icon("layout-left","/assets/icons/other/editor-layout-left.svg").icon("layout-right","/assets/icons/other/editor-layout-right.svg").icon("layout-center","/assets/icons/other/editor-layout-center.svg").icon("layout-full-width","/assets/icons/other/editor-layout-full-width.svg").icon("layout-full-width-banner","/assets/icons/other/editor-layout-full-width-banner.svg").icon("layout-full-width-banner-text","/assets/icons/other/editor-layout-full-width-banner-text.svg").icon("layout-wide","/assets/icons/other/editor-layout-wide.svg");var c=b.extendPalette("light-green",{contrastDefaultColor:"dark",contrastLightColors:["500"]});b.definePalette("stemnGreen",c),b.theme("default").accentPalette("stemnGreen",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}),b.theme("warn").primaryPalette("red"),b.theme("orange").primaryPalette("orange"),b.theme("default").accentPalette("stemnGreen",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).primaryPalette("grey",{"default":"500","hue-1":"500","hue-2":"500","hue-3":"500"})}]).directive("mdContainer",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<div layout="row" layout-align="center"><div layout="column" class="md-content-container" ng-transclude></div></div>'}}).run(["$rootScope","$mdDialog",function(a,b){a.$on("$stateChangeSuccess",function(a,c,d,e,f){c.dialog||b.cancel()})}]);
angular.module("modules.mathjax",[]),angular.module("modules.mathjax").config(function(){window.MathJax.Hub.Config({skipStartupTypeset:!0,messageStyle:"none","HTML-CSS":{}}),window.MathJax.Hub.Configured()}).directive("mathjaxBind",function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,b,c){a.$watch(c.mathjaxBind,function(a){var c=angular.element("<script type='math/tex'>").html(void 0===a?"":a);b.html(""),b.append(c),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,"MathOutput"])})}]}}).directive("renderInlineMathjax",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){function e(){a(function(){angular.forEach(c[0].querySelectorAll(".math"),function(a){a=angular.element(a);var b=a[0].innerText||a[0].textContent,c=angular.element('<span class="inlineMathJax"></span>');a.after(c),a.remove();var d=angular.element("<script type='math/tex'>").html(void 0===b?"":b);c.html(""),c.append(d),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,"MathOutput"])})},1)}b.$watch(d.ngBindHtml,e)}}}]);
angular.module("modules.medium-editor-ext-backspace-merge",[]),angular.module("modules.medium-editor-ext-backspace-merge").service("MediumEditorBackspaceMergeExt",["$timeout","RealtimeEditorService",function(a,b){function c(a,c){return window.MediumEditor.Extension.extend({name:"backspace-section-merge",init:function(){this.subscribe("editableKeyup",this.handleKeydown.bind(this))},memory:{lastCaretOffset:""},handleKeydown:function(c,d){function e(a,b){for(var c=document.createTreeWalker(b,NodeFilter.SHOW_TEXT,function(b){var c=document.createRange();return c.selectNode(b),c.compareBoundaryPoints(Range.END_TO_END,a)<1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1),d=0;c.nextNode();)d+=c.currentNode.length;return 3==a.startContainer.nodeType&&(d+=a.startOffset),d}function f(){delete a.editorSections[a.editorSectionId],a.editorOrder.splice(a.editorSectionIndex,1),a.editorOptions.realtime&&b.deleteSection(a.editorSectionId)}function g(){return!a.editorSections[a.editorOrder[a.editorSectionIndex]]||!a.editorSections[a.editorOrder[a.editorSectionIndex-1]]||b.edits[a.editorOrder[a.editorSectionIndex-1]]&&a.editorOptions.realtime||"text"!=a.editorSections[a.editorOrder[a.editorSectionIndex]].type||"text"!=a.editorSections[a.editorOrder[a.editorSectionIndex-1]].type?!1:!0}function h(){g()&&(a.editorSections[a.editorOrder[a.editorSectionIndex-1]].content=a.editorSections[a.editorOrder[a.editorSectionIndex-1]].content+a.editorSections[a.editorOrder[a.editorSectionIndex]].content,a.editorOptions.realtime&&b.saveSection(a.editorSections[a.editorOrder[a.editorSectionIndex-1]]),a.editorSections[a.editorOrder[a.editorSectionIndex-1]].contentElement.focus(),f())}var i=this;if(8==c.keyCode&&g()){var j=window.getSelection().getRangeAt(0),k=e(j,d);0===k&&0===i.memory.lastCaretOffset&&(h(),a.$apply()),i.memory.lastCaretOffset=k}}})}this.backspaceMerge=c}]);
angular.module("modules.medium-editor-ext-insert-media",["modules.core"]),angular.module("modules.medium-editor-ext-insert-media").service("MediumEditorInsertMediaExt",["$compile","$timeout","MediumEditorUtilService",function(a,b,c){function d(d,e,f,g){return window.MediumEditor.Extension.extend({name:"insert-media",init:function(){this.initialise(),this.subscribe("editableClick",this.handleKeydown.bind(this)),this.subscribe("editableKeyup",this.handleKeydown.bind(this))},elements:{insertButtonEle:""},handleKeydown:function(f,g){function h(){d.showInsertButtons=!1,d.showInsertTools=!1,d.$apply()}function i(){d.showInsertButtons=!0,d.$apply()}function j(a,b){var c=b.position();a.css(c)}function k(){var b=angular.element("<editor-insert-buttons></editor-insert-buttons");return a(b)(d),e.after(b),b}c.removeSpanStyles(e),c.removeEmptyP(e);var l,m,n=(angular.element(f.target),angular.element(g),window.getSelection()),o=this;b(function(){return l=n.getRangeAt(0),m=angular.element(l.commonAncestorContainer),"TD"==m[0].tagName&&m[0].cellIndex>0?void h():void(m.length&&""===m.text().trim()&&"#text"!==m[0].nodeName?(o.elements.insertButtonEle||(o.elements.insertButtonEle=k()),b(function(){j(o.elements.insertButtonEle,m)},0),i()):h())},1),73==f.which&&f.ctrlKey&&(d.showInsertTools=!d.showInsertTools,d.$apply()),27==f.which&&(d.showInsertTools=!1,d.$apply())},initialise:function(){d.ctrl=g,d.iElement=e}})}this.insertMedia=d}]);
angular.module("modules.medium-editor-ext-mathjax",["modules.mathjax"]),angular.module("modules.medium-editor-ext-mathjax").service("MediumEditorMathjaxExt",["$rootScope",function(a){function b(){return MediumEditor.extensions.button.extend({name:"math",tagNames:["mark"],contentDefault:"<b>H</b>",contentFA:'<i class="fa fa-superscript"></i>',aria:"Hightlight",action:"highlight",init:function(){MediumEditor.extensions.button.prototype.init.call(this),this.classApplier=rangy.createClassApplier("math",{elementTagName:"mark",normalize:!0})},handleClick:function(a){this.classApplier.toggleSelection()}})}function c(){return MediumEditor.Extension.extend({name:"math-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,mathElementType:"mark",init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this))},createPreview:function(){var a=this.document.createElement("div");return a.id="medium-editor-anchor-preview-"+this.getEditorId(),a.className="medium-editor-anchor-preview",a.innerHTML=this.getTemplate(),this.on(a,"click",this.handleClick.bind(this)),a},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview medium-editor-math-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(a){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||a.getAttribute("data-disable-preview")?!0:(this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=a,this.positionPreview(),this.attachPreviewHandlers(),this)},updatePreviewText:function(a){var b=this,c=a.textContent;c!=this.lastMathText&&(this.renderMath(c),setTimeout(function(){b.positionPreview(a)},400))},positionPreview:function(a){a=a||this.activeAnchor;var b,c,d=this.anchorPreview.offsetHeight,e=a.getBoundingClientRect(),f=(e.left+e.right)/2,g=this.diffLeft,h=this.diffTop;b=this.anchorPreview.offsetWidth/2;var i=this.base.getExtensionByName("toolbar");i&&(g=i.diffLeft,h=i.diffTop),c=g-b,this.anchorPreview.style.top=Math.round(d+e.bottom-h+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",b>f?this.anchorPreview.style.left=c+b+"px":this.window.innerWidth-f<b?this.anchorPreview.style.left=this.window.innerWidth+c-b+"px":this.anchorPreview.style.left=c+f+"px"},renderMath:function(a){var b=angular.element(this.anchorPreview.querySelector(this.previewValueSelector)),c=angular.element("<script type='math/tex'>").html(void 0===a?"":a);b.empty(),b.append(c),window.MathJax.Hub.Queue(["Reprocess",window.MathJax.Hub,b[0]]),this.lastMathText=a},handleClick:function(a){var b=this.base.getExtensionByName("anchor"),c=this.activeAnchor;b&&c&&(a.preventDefault(),this.base.selectElement(this.activeAnchor)),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(a){var b=MediumEditor.util.getClosestTag(a.target,this.mathElementType);this.handleEditableGeneric(b)},handleEditableKeyup:function(a){var b=MediumEditor.util.getClosestTag(this.getSelectionStart(),this.mathElementType);this.handleEditableGeneric(b)},handleEditableGeneric:function(a){if(!1!==a){var b=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&b&&b.isDisplayed&&b.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==a&&this.detachPreviewHandlers(),this.anchorToPreview=a,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&(this.showPreview(this.anchorToPreview),this.updatePreviewText(this.anchorToPreview))}.bind(this))}},getSelectionStart:function(){var a=document.getSelection().anchorNode;return 3==a.nodeType?a.parentNode:a},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(a){a.relatedTarget&&/anchor-preview/.test(a.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var a=(new Date).getTime()-this.lastOver;a>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}})}this.mathButton=b,this.mathPreview=c,rangy.init()}]);
"use strict";angular.module("modules.medium-editor-ext-mentions",["modules.popup","modules.keyboard-navigation"]),angular.module("modules.medium-editor-ext-mentions").service("MediumEditorMentionsExt",["$rootScope","$timeout","PopupService","CoreLibrary",function(a,b,c,d){function e(){function e(){o.popupEl=c.create({template:'<mention-search class="md-whiteframe-z2"></mention-search>',scope:o})}function f(a){var b=window.MediumEditor.util.getKeyCode(a);b!=d.keyCodes.ESCAPE&&b!=d.keyCodes.UPARROW&&b!=d.keyCodes.DOWNARROW&&b!=d.keyCodes.RETURNKEY&&(o.word=l(a.target,0),o.word&&o.word.word?g():h())}function g(){c.show(o),o.activeMention=m(o.word,o),c.position({popupEl:o.popupEl,targetEl:o.activeMention,type:"start",side:"bottom",padding:"10px 0 0 0"})}function h(){c.hide(o)}function i(){!o.popupShow&&o.activeMention&&(o.activeMention.getAttribute("id")?b(function(){var a=window.rangy.getSelection(),b=window.rangy.createRange(),c=o.activeMention;b.setStartAfter(c),b.setEndAfter(c),a.removeAllRanges(),a.addRange(b),j("&nbsp;",b)},500):(o.base.saveSelection(),n(o.activeMention,document),o.base.restoreSelection()))}function j(a,b){var c;b.collapse(!1);var d=document.createElement("div");d.innerHTML=a;for(var c,e,f=document.createDocumentFragment();c=d.firstChild;)e=f.appendChild(c);b.insertNode(f)}function k(a,b,c){var e=d.getUuid();o.activeMention.innerHTML=o.word.trigger+c,o.activeMention.setAttribute("contenteditable","false"),o.activeMention.setAttribute("id",e),o.activeMention.setAttribute("type",e+"-"+b+"-"+a),o.hidePanel()}function l(a,b){function c(a,b){for(var c=!0;c;){var d=a,e=b;c=!1;var f=h[d-1];if(null==f||0===f.trim().length||0>=d||h.length<d)return d;a=d+e,b=e,c=!0,f=void 0}}var d=window.MediumEditor.selection.getSelectionRange(document),e=d.startContainer,f=d.startOffset,g=d.endContainer;d.endOffset;if(e===g){var h=e.textContent,i=c(f+b,-1),j=c(f+b,1)-1,k=h.slice(i,j),l=k.slice(0,1),m=c(i-1,-1),n=i-1,o=h.slice(m,n),p=o.slice(0,1),s={};return-1!=q.indexOf(l)?(s.wordStart=i,s.wordEnd=j):-1!=q.indexOf(p)?(s.wordStart=m,s.wordEnd=j):(s.wordStart=0,s.wordEnd=0),s.word=h.slice(s.wordStart,s.wordEnd),s.trigger=s.word.slice(0,1),s.wordSearch=s.word.substring(1),s.triggerClassName=r[s.trigger],s}}function m(a){var b=document.getSelection(),c=angular.element(b.anchorNode.parentElement);if(c.hasClass(a.triggerClassName))return c[0];if(b.rangeCount){var d=b.getRangeAt(0).cloneRange();d.setStart(d.startContainer,a.wordStart),d.setEnd(d.startContainer,Math.min(a.wordEnd,d.startContainer.textContent.length));var e=document.createElement(p);return e.classList.add(a.triggerClassName),d.surroundContents(e),b.removeAllRanges(),b.addRange(d),window.MediumEditor.selection.select(document,e.firstChild,a.word.length),e}}function n(a,b){var c,d,e=a.parentNode;for(window.MediumEditor.util.unwrap(a,b),d=e.lastChild;c=d.previousSibling;)3===d.nodeType&&3===c.nodeType&&(c.textContent+=d.textContent,e.removeChild(d)),d=c}var o=a.$new(!0);o.showPanel=g,o.hidePanel=h,o.mentionSelect=k,o.$watch("showPopup",i);var p="strong",q=["@"],r={"@":"mention-at"};return window.MediumEditor.Extension.extend({name:"mention",init:function(){e(),o.base=this.base,this.subscribe("editableKeyup",f.bind(this))},destroy:function(){c.destroy(o.popupEl)}})}this.mentions=e}]).directive("mentionSearch",["SearchService",function(a){return{restrict:"E",templateUrl:"modules/medium-editor-ext-mentions/tpls/mention-search.html",controller:["$scope","$timeout","$document","CoreLibrary",function(b,c,d,e){function f(){b.word&&a.search({types:["user","project","organisation"],key:"name",value:b.word.wordSearch,select:["name","picture"]}).then(function(a){b.results=a.data})}b.$watch("word.wordSearch",f)}]}}]).directive("renderMentions",["$timeout","CoreLibrary","$compile",function(a,b,c){return{restrict:"A",link:function(d,e,f){function g(){a(function(){angular.forEach(e[0].querySelectorAll(".mention-at"),function(a){a=angular.element(a);var e=a[0].getAttribute("type");if(e){var f=e.split("-");if(3==f.length){var g=f[0],h=f[1],i=f[2],j=a[0].textContent,k="<card card-type='"+h+"' card-id='"+i+"'></card>",l=angular.element('<a class="mention" popup popup-content="'+k+'" id="'+g+'" href="'+b.getHref(h,i)+'">'+j+"</a>");c(l)(d),a.after(l),a.remove()}}})},1)}d.$watch(f.ngBindHtml,g)}}}]);
angular.module("modules.medium-editor",["modules.medium-editor-ext-backspace-merge","modules.medium-editor-ext-insert-media","modules.medium-editor-ext-mentions","modules.medium-editor-ext-mathjax"]),angular.module("modules.medium-editor").directive("mediumEditor",["MediumEditorInsertMediaExt","MediumEditorBackspaceMergeExt","MediumEditorMathjaxExt","MediumEditorMentionsExt","$timeout","$interval",function(a,b,c,d,e,f){return{require:"ngModel",restrict:"EA",scope:{bindOptions:"=",editorOrder:"=",editorSections:"=",editorSectionIndex:"=",editorSectionId:"=",editorType:"@?",editorOptions:"=?"},link:function(f,g,h,i){function j(a,b,c,d){return window.MediumEditor.Extension.extend({init:function(){e(function(){angular.forEach(b[0].querySelectorAll("h2,blockquote"),function(a){angular.element(a).contents().unwrap().wrap("<p></p>")}),angular.forEach(b[0].querySelectorAll("i"),function(a){angular.element(a).contents().unwrap()})},0)}})}var k=a.insertMedia(f,g,h,i),l=d.mentions(f,g,h,i),m=b.backspaceMerge(f,g,h,i),j=j(f,g,h,i),n=c.mathButton();angular.element(g).addClass("angular-medium-editor");var o={};o="caption"==f.editorType?{toolbar:{buttons:["bold","underline","anchor"]},placeholder:{text:"Enter your caption here..."},extensions:{"insert-media":new k,"clean-caption":new j},autoLink:!0,targetBlank:!0,imageDragging:!1,buttonLabels:"fontawesome",anchor:{linkValidation:!0}}:"caption-banner"==f.editorType?{toolbar:{buttons:["h2","bold","italic","underline","quote","anchor"]},placeholder:{text:"Enter your caption here..."},extensions:{"insert-media":new k},autoLink:!0,targetBlank:!0,imageDragging:!1,buttonLabels:"fontawesome",anchor:{linkValidation:!0}}:"text"==f.editorType?{toolbar:{buttons:["bold","underline","anchor"]},placeholder:{text:h.placeholder||"Type your text"},autoLink:!0,targetBlank:!0,imageDragging:!1,buttonLabels:"fontawesome"}:"text-rich"==f.editorType?{toolbar:{buttons:["bold","underline","anchor","quote","unorderedlist"]},placeholder:{text:h.placeholder||"Type your text"},extensions:{mentions:new l},autoLink:!0,targetBlank:!0,imageDragging:!1,buttonLabels:"fontawesome",anchor:{linkValidation:!0}}:{toolbar:{buttons:["h2","h3","bold","italic","underline","quote","unorderedlist","anchor","table","math"]},placeholder:{text:h.placeholder||"Text section"},extensions:{"insert-media":new k,"backspace-section-merge":new m,mentions:new l,MathPreview:new(c.mathPreview()),MathButton:new n,table:new MediumEditorTable},autoLink:!0,targetBlank:!0,imageDragging:!1,buttonLabels:"fontawesome",anchor:{linkValidation:!0}};var p=function(){f.$apply(function(){if("<br>"===g.html()||""===g.html()){new MediumEditor(g,o)}i.$setViewValue(g.html())})},q=function(){var a=g.html();a&&"<p></p>"!=a&&"<br>"!=a&&"<h1></h1>"!=a&&"<h2></h2>"!=a&&"<h3></h3>"!=a||g.html("<p><br></p>")};g.on("focus",q),g.on("blur",p),g.on("input",p),i.$render=function(){this.editor||(this.editor=new MediumEditor(g,o)),i.$viewValue&&"<p></p>"!=i.$viewValue&&"<p><br></p>"!=i.$viewValue&&'<p class=""></p>'!=i.$viewValue&&"<p class></p>"!=i.$viewValue&&"<br>"!=i.$viewValue?(g.html(i.$viewValue),g.removeClass("medium-editor-placeholder")):(g.html("<p><br></p>"),g.addClass("medium-editor-placeholder"))}}}}]).service("MediumEditorModalService",["$mdDialog",function(a){this.insertVideo=function(b){return a.show({templateUrl:"modules/medium-editor/tpls/editor-video-modal.html",controller:["$scope",function(b){b.cancel=function(){a.cancel()},b.save=function(){b.LinkForm.$valid&&a.hide(b.link)}}],targetEvent:b})},this.createLink=function(b,c){return a.show({templateUrl:"modules/medium-editor/tpls/editor-link-modal.html",controller:["data","$scope",function(b,c){c.data={link:b},c.cancel=function(){a.cancel()},c.save=function(){c.LinkForm.$valid&&a.hide(c.data)}}],targetEvent:b,locals:{data:c}})}}]).service("MediumEditorUtilService",["$mdDialog",function(a){function b(a){angular.element(a).find("span[style]").contents().unwrap()}function c(a){angular.element(a).find("p:empty").remove()}this.removeSpanStyles=b,this.removeEmptyP=c}]);
angular.module("modules.missing-fields",[]),angular.module("modules.missing-fields").directive("missingFields",function(){return{restrict:"E",replace:!0,scope:{entity:"=",requiredFields:"=",form:"=?"},controller:["$scope",function(a){a.$watch(function(){a.form.$completed=!_.find(a.requiredFields,"missing"),_.forEach(a.requiredFields,function(b){b.missing=!b.condition(a.entity)})})}],templateUrl:"modules/missing-fields/tpls/missing-fields.html"}});
angular.module("modules.modular-editor.append-buttons",[]),angular.module("modules.modular-editor.append-buttons").directive("editorAppendButtons",function(){return{restrict:"E",templateUrl:"modules/modular-editor/append-buttons/append-buttons.html",controller:["$scope","$timeout","ModularEditorService","UploadsModalService","MediumEditorModalService","RealtimeEditorService",function(a,b,c,d,e,f){function g(c){b(function(){a.editorSections.sections[c].contentElement&&a.editorSections.sections[c].contentElement.focus()},200)}a.insertText=function(b){var d=c.getTextSection();c.pushNewSection(a.editorSections,d);var e={};e[d.id]=d,a.editorOptions.realtime&&f.addSections(e,a.editorSections.sectionOrder),g(d.id)},a.insertImage=function(b){d.uploadImageNewModal(b).then(function(b){var d=c.getImageSection(b);c.pushNewSection(a.editorSections,d);var e={};e[d.id]=d,a.editorOptions.realtime&&f.addSections(e,a.editorSections.sectionOrder),g(d.id)})},a.insertVideo=function(b){e.insertVideo(b).then(function(b){var d=c.getVideoSection(b);c.pushNewSection(a.editorSections,d);var e={};e[d.id]=d,a.editorOptions.realtime&&f.addSections(e,a.editorSections.sectionOrder),g(d.id)})},a.insertMath=function(b){var d=c.getMathSection();c.pushNewSection(a.editorSections,d);var e={};e[d.id]=d,a.editorOptions.realtime&&f.addSections(e,a.editorSections.sectionOrder),g(d.id)},a.insertCode=function(b){var d=c.getCodeSection();c.pushNewSection(a.editorSections,d);var e={};e[d.id]=d,a.editorOptions.realtime&&f.addSections(e,a.editorSections.sectionOrder),g(d.id)},a.insertFiles=function(b){d.uploadFiles(b).then(function(b){var d=c.getFileSection(b);c.pushNewSection(a.editorSections,d);var e={};e[d.id]=d,a.editorOptions.realtime&&f.addSections(e,a.editorSections.sectonOrder),g(d.id)})}}]}});
angular.module("modules.modular-editor.caption",[]),angular.module("modules.modular-editor.caption").directive("editorCaptionPublic",function(){return{restrict:"E",templateUrl:"modules/modular-editor/caption/public/caption.html"}}).directive("editorCaptionEdit",function(){return{restrict:"E",templateUrl:"modules/modular-editor/caption/edit/caption.html"}});
angular.module("modules.modular-editor.help-footer",[]),angular.module("modules.modular-editor.help-footer").directive("editorHelpFooter",function(){return{restrict:"E",templateUrl:"modules/modular-editor/help-footer/help-footer.html",controller:["$scope","TipService","Authentication",function(a,b,c){function d(){c.currentUser.isLoggedIn()&&b.getStatuses().then(function(b){h=b,a.editorOptions.showHelp=!1})}function e(){h.editorHelp&&b.markAsRead("editorHelp"),a.editorOptions.showHelp=!1}function f(){i++,a.currentHelpSection=Math.abs(i%a.helpSections.length)}function g(){i--,a.currentHelpSection=Math.abs(i%a.helpSections.length)}a.currentHelpSection=0,a.next=f,a.previous=g,a.close=e,d(),a.helpSections=[{html:'<div class="md-headline text-center">Add images and other media by starting a new line and clicking the <img src="/assets/images/editor/insert.png" alt="Insert Button"> or [Ctrl + I]</div><img src="/assets/images/editor/InsertTool.gif" alt="Insert Media">'},{html:'<div class="md-headline text-center">Want to change text formatting, add links or headings?</div><img src="/assets/images/editor/ChangeTextFormat.gif" alt="Change Text Formatting">'}];var h,i=0}]}});
angular.module("modules.modular-editor.insert-buttons",[]),angular.module("modules.modular-editor.insert-buttons").directive("editorInsertButtons",["ModularEditorService","UploadsModalService","RealtimeEditorService","MediumEditorModalService","$timeout",function(a,b,c,d,e){return{restrict:"E",replace:!0,templateUrl:"modules/modular-editor/insert-buttons/insert-buttons.html",link:function(f,g,h,i){function j(a,b,c,d){var e={};return a>=1&&(e[c[d]]=b[c[d]]),a>=2&&(e[c[d+1]]=b[c[d+1]]),a>=3&&(e[c[d+2]]=b[c[d+2]]),e}function k(){e(function(){(f.editorSections[f.editorOrder[f.editorSectionIndex+1]].contentElement||f.editorSections[f.editorOrder[f.editorSectionIndex+1]].captionElement).focus()},100),i.$setViewValue(q.html())}function l(){var b=m();return b&&'<p class=""></p>'!=b&&"<p></p>"!=b&&"<br>"!=b&&"</br>"!=b&&"<h1></h1>"!=b&&"<h2></h2>"!=b||(b=""),a.getTextSection(b)}function m(){var a=window.getSelection();if(a.rangeCount){var b=a.getRangeAt(0),c=n(b.endContainer);if(c){var d=b.cloneRange();d.selectNodeContents(c),d.setStart(b.endContainer,b.endOffset);var e=d.extractContents(),f=angular.element(document.body),g=angular.element('<div class="hidden"></div>');f.append(g),g.append(e);var h=g[0].innerHTML;return g.remove(),h}}}function n(a){for(;a;){if(1==a.nodeType&&a.hasAttribute("medium-editor"))return a;a=a.parentNode}}function o(){var a;return window.getSelection?a=window.getSelection().getRangeAt(0):document.selection&&(a=document.selection.createRange()),a}function p(a){if(q.focus(),null!==a)if(window.getSelection){var b=window.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else document.createRange?window.getSelection().addRange(a):document.selection&&a.select()}i=f.ctrl;var q=f.iElement;f.toggleInsertTools=function(){f.showInsertTools=!f.showInsertTools},f.insertTextSection=function(){f.showInsertButtons=!1,f.showInsertTools=!1,a.addNewSections({editorSections:f.editorSections,editorOrder:f.editorOrder,sections:[l()],location:f.editorSectionIndex}),k();var b=j(2,f.editorSections,f.editorOrder,f.editorSectionIndex);f.editorOptions.realtime&&c.addSections(b,f.editorOrder)},f.insertImage=function(d){f.showInsertButtons=!1,f.showInsertTools=!1;var e=o();b.uploadImageNewModal(d).then(function(b){p(e),a.addNewSections({editorSections:f.editorSections,editorOrder:f.editorOrder,sections:[a.getImageSection(b),l()],location:f.editorSectionIndex}),k();var d=j(3,f.editorSections,f.editorOrder,f.editorSectionIndex);f.editorOptions.realtime&&c.addSections(d,f.editorOrder)})},f.insertFiles=function(d){f.showInsertButtons=!1,f.showInsertTools=!1;var e=o();b.uploadFiles(d).then(function(b){p(e),a.addNewSections({editorSections:f.editorSections,editorOrder:f.editorOrder,sections:[a.getFileSection(b),l()],location:f.editorSectionIndex});var d=j(3,f.editorSections,f.editorOrder,f.editorSectionIndex);f.editorOptions.realtime&&c.addSections(d,f.editorOrder)})},f.insertVideo=function(b){f.showInsertButtons=!1,f.showInsertTools=!1;var e=o();d.insertVideo(b).then(function(b){p(e),a.addNewSections({editorSections:f.editorSections,editorOrder:f.editorOrder,sections:[a.getVideoSection(b),l()],location:f.editorSectionIndex}),k();var d=j(3,f.editorSections,f.editorOrder,f.editorSectionIndex);f.editorOptions.realtime&&c.addSections(d,f.editorOrder)})},f.insertMath=function(b){f.showInsertButtons=!1,f.showInsertTools=!1,a.addNewSections({editorSections:f.editorSections,editorOrder:f.editorOrder,sections:[a.getMathSection(),l()],location:f.editorSectionIndex}),k();var d=j(3,f.editorSections,f.editorOrder,f.editorSectionIndex);f.editorOptions.realtime&&c.addSections(d,f.editorOrder)},f.insertCode=function(b){f.showInsertButtons=!1,f.showInsertTools=!1,a.addNewSections({editorSections:f.editorSections,editorOrder:f.editorOrder,sections:[a.getCodeSection(),l()],location:f.editorSectionIndex}),k();var d=j(3,f.editorSections,f.editorOrder,f.editorSectionIndex);f.editorOptions.realtime&&c.addSections(d,f.editorOrder)}}}}]);
angular.module("modules.modular-editor",["modules.modular-editor.section","modules.modular-editor.caption","modules.modular-editor.append-buttons","modules.modular-editor.help-footer","modules.modular-editor.insert-buttons","modules.modular-editor.section-buttons","modules.modular-editor.toolbar","modules.medium-editor","anguvideo","modules.mathjax"]),angular.module("modules.modular-editor").service("ModularEditorService",["CoreLibrary","$timeout",function(a,b){function c(a){delete a.captionElement,delete a.contentElement,delete a.sectionElement,delete a.toc}function d(a){_.forEach(a,function(a){c(a)})}function e(b){var c={id:a.getUuid(),content:b||"",type:"text"};return c}function f(b){console.log(b);var c={id:a.getUuid(),image:b,type:"image",layout:"center",caption:""};return c}function g(b){var c={id:a.getUuid(),videoUrl:b,videoType:"youtube",type:"video",layout:"wide",caption:""};return c}function h(b){var c={id:a.getUuid(),files:b||[],type:"file"};return c}function i(b){var c={id:a.getUuid(),code:b,type:"code"};return c}function j(b){var c={id:a.getUuid(),content:b,type:"math",caption:""};return c}function k(a,b){a.sections=a.sections||{},a.sections[b.id]=b,a.sectionOrder.push(b.id)}function l(a){_.forEachRight(a.sections,function(b){a.editorSections[b.id]=b,a.editorOrder.splice(a.location+1,0,b.id)})}function m(a){a.sectionOrder[0]&&b(function(){document.getElementById("content-"+a.sectionOrder[0]).focus()},100)}this.stripSectionDomElements=c,this.stripSectionsDomElements=d,this.getTextSection=e,this.getImageSection=f,this.getVideoSection=g,this.getFileSection=h,this.getMathSection=j,this.getCodeSection=i,this.pushNewSection=k,this.addNewSections=l,this.focusFirstContent=m}]).directive("editorSectionElement",function(){return{restrict:"A",link:function(a,b,c){a.section.sectionElement=b}}}).directive("editorContentElement",function(){return{restrict:"A",link:function(a,b,c){a.section.contentElement=b}}}).directive("editorCaptionElement",function(){return{restrict:"A",link:function(a,b,c){a.section.captionElement=b}}}).directive("modularEditor",function(){return{restrict:"E",templateUrl:"modules/modular-editor/tpls/editor-sections.html",scope:{editorSections:"=",editorOptions:"=",edit:"=",focus:"=?",placeholder:"@?"},controller:["$scope","ModularEditorService","RealtimeEditorService","$timeout","$interval","$element",function(a,b,c,d,e,f){function g(){a.focus&&b.focusFirstContent(a.editorSections)}a.editorOptions=a.editorOptions||{},a.editorOptions.realtime=a.editorOptions.realtime||!1,a.editorOptions.contained=a.editorOptions.contained||!1,a.editorOptions.minimal=a.editorOptions.minimal||!1,a.editorSections=a.editorSections||{},a.editorSections.sections=a.editorSections.sections||{},a.editorSections.sectionOrder=a.editorSections.sectionOrder||[],a.RealtimeEditorService=c,a.editorOptions.realtime&&(c.sectionOrder=a.editorSections.sectionOrder,c.sections=a.editorSections.sections,a.editorSections=c),a.addTextSection=function(){var c=b.getTextSection();a.editorSections.sections[c.id]=c,a.editorSections.sectionOrder.push(c.id)},0==a.editorSections.sectionOrder.length&&a.addTextSection(),a.sortableConfig={handle:".my-handle",animation:300,onUpdate:function(b){a.editorOptions.realtime&&c.changeSectionOrder(b.models)}},a.$watch("focus",g)}]}}).directive("editorDivider",function(){return{restrict:"E",scope:{section:"=",editorSections:"=",editorOrder:"=",editorSectionIndex:"=",editorSectionId:"=",editorOptions:"="},templateUrl:"modules/modular-editor/tpls/editor-divider.html"}});
angular.module("modules.modular-editor.section-buttons",[]),angular.module("modules.modular-editor.section-buttons").directive("editorSectionButtons",["UploadsModalService","MediumEditorModalService","RealtimeEditorService",function(a,b,c){return{restrict:"E",replace:!0,templateUrl:"modules/modular-editor/section-buttons/section-buttons.html",controller:["$scope",function(d){function e(){delete d.editorSections[d.editorSectionId],d.editorOrder.splice(d.editorSectionIndex,1),d.editorOptions.realtime&&c.deleteSection(d.editorSectionId)}function f(){return!d.editorSections[d.editorOrder[d.editorSectionIndex]]||!d.editorSections[d.editorOrder[d.editorSectionIndex-1]]||c.edits[d.editorOrder[d.editorSectionIndex-1]]&&d.editorOptions.realtime||"text"!=d.editorSections[d.editorOrder[d.editorSectionIndex]].type||"text"!=d.editorSections[d.editorOrder[d.editorSectionIndex-1]].type?!1:!0}function g(){return!d.editorSections[d.editorOrder[d.editorSectionIndex]]||!d.editorSections[d.editorOrder[d.editorSectionIndex+1]]||c.edits[d.editorOrder[d.editorSectionIndex+1]]&&d.editorOptions.realtime||"text"!=d.editorSections[d.editorOrder[d.editorSectionIndex]].type||"text"!=d.editorSections[d.editorOrder[d.editorSectionIndex+1]].type?!1:!0}function h(){f()&&(d.editorSections[d.editorOrder[d.editorSectionIndex-1]].content=d.editorSections[d.editorOrder[d.editorSectionIndex-1]].content+d.editorSections[d.editorOrder[d.editorSectionIndex]].content,d.editorOptions.realtime&&c.saveSection(d.editorSections[d.editorOrder[d.editorSectionIndex-1]]),d.editorSections[d.editorOrder[d.editorSectionIndex-1]].contentElement.focus(),e(),s())}function i(){g()&&(d.editorSections[d.editorOrder[d.editorSectionIndex+1]].content=d.editorSections[d.editorOrder[d.editorSectionIndex]].content+d.editorSections[d.editorOrder[d.editorSectionIndex+1]].content,d.editorOptions.realtime&&c.saveSection(d.editorSections[d.editorOrder[d.editorSectionIndex+1]]),d.editorSections[d.editorOrder[d.editorSectionIndex+1]].contentElement.focus(),e(),s())}function j(b){a.uploadImageNewModal(b).then(function(a){d.section.image=a})}function k(b){a.uploadFiles(b).then(function(a){d.section.files=d.section.files.concat(a)})}function l(a){b.insertVideo(a).then(function(a){d.section.videoUrl=a})}function m(a,c){b.createLink(a,c).then(function(a){d.section.linkUrl=a.link})}function n(a){d.editorSections[d.editorOrder[a]].sectionElement.addClass("highlight-edit")}function o(a){d.editorSections[d.editorOrder[a]].sectionElement.addClass("highlight-delete")}function p(a){d.editorSections[d.editorOrder[a]].sectionElement.removeClass("highlight-delete")}function q(a){d.editorSections[d.editorOrder[a]].sectionElement.removeClass("highlight-edit")}function r(){_.forEach(d.editorSections,function(a){a.sectionElement&&a.sectionElement.addClass("highlight-edit")})}function s(){_.forEach(d.editorSections,function(a){a.sectionElement&&a.sectionElement.removeClass("highlight-edit")})}d.deleteSection=e,d.checkMergeAbove=f,d.checkMergeBelow=g,d.mergeWihAbove=h,d.mergeWithBelow=i,d.changeImage=j,d.uploadFiles=k,d.changeVideo=l,d.createLink=m,d.highlightSection=n,d.deleteHighlight=o,d.deleteUnhighlight=p,d.unhighlightSection=q,d.highlightSections=r,d.unhighlightSections=s}]}}]);
angular.module("modules.modular-editor.section",[]),angular.module("modules.modular-editor.section").directive("editorSection",["CodeMirrorService",function(a){return{restrict:"E",scope:{section:"=",editorSections:"=",editorOrder:"=",editorSectionIndex:"=",editorSectionId:"=",editorOptions:"=",edit:"=",placeholder:"@"},link:function(b,c,d){function e(){var a="modules/modular-editor/section/";a+=b.section.type+"/",a+=b.edit?"edit/":"public/",a+=b.section.layout?b.section.layout:b.section.type,a+=".html",b.template=a}b.$watch("section.layout",e),"code"==b.section.type&&(b.options={indentWithTabs:!0,readOnly:!b.edit,dragDrop:!1,lineWrapping:!0,onLoad:function(c){b.cmEditor=c,window.CodeMirror.modeURL="/js/codemirror/mode/%N/%N.js",a.changeCodeMode(c,b.section.codeMode)}})},template:'<div layout="row" layout-align="center" ng-include="template"></div>'}}]).directive("editorVideoOverlay",function(){return{restrict:"E",replace:!0,template:'<div tabindex="0" ng-if="edit" class="editor-video-overlay"></div>'}});
angular.module("modules.modular-editor.toolbar",[]),angular.module("modules.modular-editor.toolbar").directive("editorToolbarLayout",function(){return{restrict:"E",replace:!0,templateUrl:"modules/modular-editor/toolbar/toolbar.html",controller:["$scope",function(a){a.layoutButtonDetails={"full-width":{tooltip:"Full width",icon:"layout-full-width"},"full-width-banner":{tooltip:"Full width banner",icon:"layout-full-width-banner"},"full-width-banner-text":{tooltip:"Full width banner text",icon:"layout-full-width-banner-text"},left:{tooltip:"Left",icon:"layout-left"},right:{tooltip:"Right",icon:"layout-right"},center:{tooltip:"Center",icon:"layout-center"},wide:{tooltip:"Wide",icon:"layout-wide"}},"image"==a.section.type?a.editorOptions.contained?a.layoutButtons=["left","center","wide","right"]:a.layoutButtons=["full-width","full-width-banner","full-width-banner-text","left","center","wide","right"]:"video"==a.section.type?a.layoutButtons=["left","wide","right"]:console.error("No type defined")}]}}).directive("editorToolbar",["$compile","$timeout","$document",function(a,b,c){return{restrict:"A",link:function(d,e,f){function g(){j=angular.element("<editor-toolbar-layout></editor-toolbar-layout>"),a(j)(d),k.append(j)}function h(a,b){a[0].style.left="0";var c=-10,d=0,e=this.window.innerWidth,f=b[0].getBoundingClientRect(),g=(f.left+f.right)/2,h=a[0].offsetHeight,i=a[0].offsetWidth,j=i/2,k=50,l=d-j;f.top<k?(a[0].classList.add("medium-toolbar-arrow-over"),a[0].classList.remove("medium-toolbar-arrow-under"),a[0].style.top=k+f.bottom-c+this.window.pageYOffset-h+"px"):(a[0].classList.add("medium-toolbar-arrow-under"),a[0].classList.remove("medium-toolbar-arrow-over"),a[0].style.top=f.top+c+this.window.pageYOffset-h+"px"),j>g?a[0].style.left=l+j+"px":j>e-g?a[0].style.left=e+l-j+"px":a[0].style.left=l+g+"px"}function i(){c.bind("click",function(a){c.unbind("click"),j.removeClass("medium-editor-toolbar-active"),d.$apply()})}var j,k=angular.element(document.body);e.bind("click",function(){"true"==f.editorToolbar&&(j||g(),b(function(){h(j,e),j.addClass("medium-editor-toolbar-active"),i()},100))})}}}]);
angular.module("modules.moment",["angularMoment"]),angular.module("modules.moment").run(["moment",function(a){a.locale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}})}]);
angular.module("modules.new-creations",[]),angular.module("modules.new-creations").directive("clickCreate",["NewCreationsService",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(b){a.createModal(b)})}}}]).service("NewCreationsService",["ProjectService","ThreadService","$state","$mdDialog","EntityService",function(a,b,c,d,e){function f(a,b){"project"==a?e.create("project",b).then(function(a){c.go("app.project-onboarding.summary",{stub:a.stub})}):"thread"==a?e.create("thread",b).then(function(a){"blog"==b.type?c.go("app.blog",{stub:a.stub}):c.go("app.thread",{stub:a.stub})}):"job"==a&&e.create("job",b).then(function(a){c.go("app.job",{stub:a._id,edit:"JobForm"})})}function g(a,b){return d.show({templateUrl:"modules/new-creations/tpls/new-something-modal.html",controller:"NewSomethingModalCtrl",clickOutsideToClose:!0,targetEvent:a,locals:{data:b}})}this.create=f,this.createModal=g}]).controller("NewSomethingModalCtrl",["data","$scope","$mdDialog","ProjectModalService","ForumModalService",function(a,b,c,d,e){a=a||{},b.cancel=function(){c.cancel()},b.options=[{title:"Create a project",description:"Your experiment, PhD thesis, or a fun side project. Even if it's just an inkling of an idea.",picture:"/assets/images/howitworks/project.svg",clickFn:function(b){d.newProject(a)}},{title:"Create a blog post / update",description:"Have an idea you'd like to share with a scientifically literate audience? Easily share your story or project update without the setup, overhead, or commitment of starting a blog.",picture:"/assets/images/howitworks/ownership.svg",clickFn:function(b){a.type="blog",e.newThread("thread",a)}},{title:"Create a question",description:"What challenges are you facing with your project? How can the STEMN community help? Your question will be answered by an expert within 24h.",picture:"/assets/images/howitworks/questions.svg",clickFn:function(b){a.type="question",e.newThread("thread",a)}}]}]);
angular.module("modules.notifications",["modules.authentication"]),angular.module("modules.notifications").directive("notifications",function(){return{restrict:"E",replace:!0,templateUrl:"modules/notifications/tpls/notifications.html",controller:["$scope","NotificationService","$state","HttpQuery",function(a,b,c,d){a.query=b.query,a.markAllRead=b.markAllRead,a.markRead=b.markRead,a.goSettings=function(){c.go("app.usersettings.notifications")}}]}}).directive("notification",function(){return{restrict:"E",replace:!0,templateUrl:"modules/notifications/tpls/notification.html"}}).service("NotificationService",["Authentication","favicoService","$interval","HttpService","HttpQuery","$http",function(a,b,c,d,e,f){var g=this;c(function(){g.query.refresh()},2e4),this.query=e({url:"api/v1/notifications",params:{size:20,order:"timestamp"},onSuccess:function(a){return _.forEach(a,function(a){a.text=g.notificationText[a.type]}),g.updateFavicoCount(),a}}),this.query.more(),this.notificationText={"added-project":"added you to their project","added-organisation":"added you to the organisation","invite-accepted":"joined","followed-user-project":"has a new project","followed-user-blog":"has a new blog","followed-user-general":"has a new discussion","followed-user-question":"has a new question","followed-project-blog":"has a new blog","followed-project-general":"has a new discussion","followed-project-question":"has a new question","followed-project-post":"commented","followed-field-project":"has a new project","followed-field-blog":"has a new blog","followed-field-general":"has a new discussion","followed-organisation-project":"has a new project","followed-field-question":"has a new question","followed-organisation-blog":"has a new blog","followed-organisation-general":"has a new discussion","followed-organisation-question":"has a new question","followed-own-user":"is now following you.","followed-own-project":"is now following your project","followed-own-question":"is now following your question","followed-own-blog":"is now following your blog","followed-own-general":"is now following your discussion","followed-own-organisation":"is now following your organisation","followed-question-post":"posted an answer in","followed-blog-post":"posted a comment on","followed-general-post":"posted a reply in","own-question-post":"answered your question","own-blog-post":"posted on your blog","own-general-post":"replied in your discussion","own-question-like":"liked your question","own-blog-like":"liked your blog","own-general-like":"liked your discussion","own-post-like":"liked your post","own-post-post":"replied to your post","own-user-mention":"mentioned you in","own-project-mention":"mentioned your project in","own-organisation-mention":"mentioned your organisation in","own-blog-mention":"mentioned your blog in","own-general-mention":"mentioned your discussion in","own-question-mention":"mentioned your question in","own-application-pendingReview":"application is now pending review.","own-application-underReview":"application is now under review.","own-application-awaitingUpdate":"application is awaiting update.","own-application-readyToSubmit":"application is now submitted.","own-application-submittedToCompany":"application has been rejected.","own-application-rejected":"application has been rejected.","own-application-processLater":"application is now submitted."},this.markAllRead=function(){_.each(g.query.results,function(a){g.markRead(a)})},this.markRead=function(a){return a.read=!0,g.updateFavicoCount(),f({method:"PUT",url:"/api/v1/notifications/"+a._id,data:{read:!0}})},this.updateFavicoCount=function(a){a=a||_.where(g.query.results,{read:!1}).length,b.badge(a)}}]);
angular.module("modules.onboarding-wizard",[]),angular.module("modules.onboarding-wizard");
angular.module("modules.onboarding",["modules.onboarding-wizard","modules.settings","modules.users","modules.checklist","modules.state-history"]),angular.module("modules.onboarding").service("OnboardingService",["$state","StateHistoryService",function(a,b){function c(){var c=b.stateHistory[0];-1!=c.name.indexOf("job")?a.go("app.landing.jobs"):a.go("app.landing.index")}this.goToLanding=c,this.beenLanding=!1}]).directive("tipThrobber",["$compile","$window","$timeout","$rootScope","$mdDialog","TipService","Authentication",function(a,b,c,d,e,f,g){return{restrict:"A",link:function(b,d,h){function i(a){var b={};"bottom-right"==h.tipPosition?(b.bottom=h.tipOffsetY||0,b.right=h.tipOffsetX||0,b.marginBottom="-29px",b.marginRight="-29px"):"bottom-left"==h.tipPosition?(b.bottom=h.tipOffsetY||0,b.left=h.tipOffsetX||0,b.marginBottom="-29px",b.marginLeft="-29px"):"top-left"==h.tipPosition?(b.top=h.tipOffsetY||0,b.left=h.tipOffsetX||0,b.marginTop="-29px",b.marginLeft="-29px"):"top-right"==h.tipPosition?(b.top=h.tipOffsetY||0,b.right=h.tipOffsetX||0,b.marginTop="-29px",b.marginRight="-29px"):console.error("Tip Throbber Position Undefined"),a.css(b)}function j(a){n.bind("click touchstart",function(b){f.markAsRead(a),n.addClass("explode"),c(function(){n.remove()},1e3),k(d),e.show({templateUrl:"modules/onboarding/tpls/tip-modal.html",controller:["tip","$scope","TipService",function(a,b,c){b.data=c.tips[a],b.cancel=function(){e.cancel()},b.confirm=function(){e.hide()},b.optOut=function(){c.markAllAsRead(),e.hide()}}],locals:{tip:a},targetEvent:b,clickOutsideToClose:!0}).then(function(){l(d)})["catch"](function(){l(d)})})}function k(a){a.css({"z-index":200})}function l(a){a.css({"z-index":""})}function m(){var c=angular.element("<tip-throbber></tip-throbber>");return a(c)(b),d.append(c),c}var n,o=h.tipThrobber;g.currentUser.isLoggedIn()&&o&&f.getStatuses().then(function(a){a[o]&&(n=m(),i(n),j(o))})}}}]).directive("tipBanner",["TipService","Authentication",function(a,b){return{restrict:"E",transclude:!0,replace:!0,scope:{tip:"@?",tipHide:"=?",local:"=?"},templateUrl:"modules/onboarding/tpls/tip-banner.html",link:function(c,d,e){function f(){b.currentUser.isLoggedIn()&&(c.local?c.enableTip=!0:c.tip?a.getStatuses().then(function(a){a[c.tip]?c.enableTip=!0:void 0==a[c.tip]?console.error("No tip exists with the name: "+c.tip):c.enableTip=!1}):console.error("No Tip configured"))}function g(){c.tip&&a.markAsRead(c.tip),c.hideTip=!0}f(),c.close=g}}}]).service("TipService",["$mdDialog","SettingsService","Authentication",function(a,b,c){var d;this.tips={dynamicMenu:{title:"The Dynamic menu",body:"<img src=\"/assets/images/tips/dynamicMenu.png\"><p>Normally, the top navigation of a website never really changes. This is <strong>not</strong> the case on STEMN...</p><p>You'll notice that the top menu adapts to the page you are on. This means it is different for each and every type of page. Keep an eye out for these menu changes because they'll reveal lots of different content and settings.</p>"},backToHome:{title:"Your feed",body:'<img src="/assets/images/tips/backToHome.png"><p>Wherever you are, click on the astronaut and she\'ll take you back home.</p>'},saveDraft:{title:"Save Draft",body:'<p>You can save your drafts at any time. It will not be publically available until you actually decide to publish it.</p><p>You can find this and any other drafts in <a class="text-green" href="/creations" target="_blank">your creations.</a></p>'}},this.markAllAsRead=function(){_.forEach(d.tips,function(a,b){d.tips[b]=!1}),d.save()},this.markAllAsUnread=function(a){_.forEach(d.tips,function(a,b){d.tips[b]=!0}),d.save()},this.markAsRead=function(a){d.tips[a]=!1,d.save()},this.getStatuses=function(){return b.getSettings().then(function(a){return d=a,d.tips})}}]).directive("feedChecklist",["ChecklistService",function(a){return{restrict:"E",scope:{incomplete:"="},templateUrl:"modules/onboarding/tpls/feed-checklist.html",link:function(b,c,d){a.updateChecklist(),b.checklist=a.checklist,b.checklistItems=a.checklistItems,b.incomplete=a.incomplete}}}]).service("ChecklistService",["Authentication","FollowService","$q","NewCreationsService","UserService","SettingsService","$mdDialog",function(a,b,c,d,e,f,g){function h(){a.currentUser.isLoggedIn()&&a.loadUserData().then(function(){c.all([i(n.checklistItems.followFields),j(n.checklistItems.basicProfile)]).then(function(){n.checklistItems.hasPosted.complete=k(),n.checklistItems.newProject.complete=l(),n.checklistItems.newQuestion.complete=m(),n.checklistItems.followFields.complete&&n.checklistItems.basicProfile.complete&&n.checklistItems.hasPosted.complete&&n.checklistItems.newProject.complete&&n.checklistItems.newQuestion.complete?n.incomplete.status=!1:n.incomplete.status=!0})})}function i(c){return b.getFollowing({user:a.currentUser._id,type:"field",page:1,size:5}).then(function(a){c.complete=a.length>=5})}function j(a){return f.getSettings().then(function(b){a.complete=!b.messages.userOnboarding})}function k(){return a.currentUser.numComments>0||a.currentUser.numPosts>0}function l(){return a.currentUser.numProjects>0}function m(){return a.currentUser.numGenerals>0||a.currentUser.numQuestions>0}var n=this;this.checklistItems={newsfeed:{text:"Visit your newsfeed.",href:"/",complete:!0},followFields:{text:"Follow 5 fields",href:"/browse/fields",complete:!1},basicProfile:{text:"Fill out your basic profile.",href:"/profile-wizard",complete:!1},hasPosted:{text:"Comment on a project, question or update",href:"/browse/fields",complete:!1},newProject:{text:"Create a project.",click:d.createModal,complete:!1},newQuestion:{text:"Ask a question, get an answer in 24h.",click:d.createModal,complete:!1}},this.checklist=["newsfeed","followFields","basicProfile","newProject","newQuestion"],this.incomplete={status:!1},this.updateChecklist=h,h()}]);
angular.module("modules.organisations",["modules.authentication","modules.restangular","modules.uploads"]),angular.module("modules.organisations").directive("organisationIcon",function(){return{restrict:"E",replace:!0,scope:{itemId:"@?",item:"=?"},templateUrl:"modules/organisations/tpls/organisation-icon.html",controller:["$scope","Authentication","OrganisationService",function(a,b,c){a.itemId&&c.getOrganisation(a.itemId,"sm").then(function(b){a.item=b})}]}}).directive("organisationCards",function(){return{restrict:"E",replace:!0,scope:{size:"@?",field:"@?",sort:"@?",hideMore:"=?",items:"=?"},templateUrl:"modules/organisations/tpls/organisation-cards.html",controller:["$scope","HttpService",function(a,b){function c(){a.noMoreResults=!1,a.notEnoughResults=!1,a.page=0,a.size=a.size||4,a.sort=a.sort||"updated",d()}function d(){return a.noMoreResults||a.notEnoughResults?void 0:(a.page++,a.size<8&&2==a.page&&(a.size=8,a.page=1),a.loading=!0,b({method:"GET",url:"api/v1/organisations",params:{field:a.field,page:a.page,size:a.size,sort:a.sort}}).then(function(b){1==a.page&&(a.notEnoughResults=b.length<a.size,a.items=[]),a.loading=!1,a.items=a.items.concat(b),a.noMoreResults=b.length<a.size}))}c(),a.more=d}]}}).directive("organisationGroups",["$mdDialog","$timeout",function(a,b){return{restrict:"E",scope:{size:"@",organisations:"=",saveFn:"&",showEdit:"=?",viewLayout:"@?",title:"@?",showRole:"@?",edit:"=?"},templateUrl:"modules/organisations/tpls/organisation-groups.html",controller:["$scope",function(a){a.save=function(){b(a.saveFn,1)},a.sortConfig={animation:150,handle:".my-handle"},a["delete"]=function(a,b){a.splice(b,1)}}]}}]).service("OrganisationModalService",["$mdDialog",function(a){this.organisationNewModal=function(b,c){return a.show({templateUrl:"modules/organisations/tpls/organisation-new-modal.html",controller:"OrganisationNewModalCtrl",clickOutsideToClose:!0,targetEvent:b,locals:{data:c}})}}]).controller("OrganisationNewModalCtrl",["data","$scope","$mdDialog","SearchService","OrganisationService","Authentication","CoreLibrary",function(a,b,c,d,e,f,g){b.data=angular.copy(a),b.checkOrganisationExists=function(a){a&&(b.stub=g.stubify(a),d.search({type:"organisation",key:"stub",value:b.stub,match:"insensitive"}).then(function(a){0===a.data.length?b.NewOrganisationForm.name.$setValidity("exists",!0):b.NewOrganisationForm.name.$setValidity("exists",!1)}))},b.cancel=function(){c.cancel()},b.save=function(){b.data.team=b.data.team||[],b.data.team.push({_id:f.currentUser._id,role:"Creator",group:"Core Team"}),e.updateOrganisation(b.data).then(function(a){c.hide(a)})}}]).service("OrganisationService",["Restangular","Authentication",function(a,b){this.createOrganisation=function(b){return analytics.track("Organisation Create",{organisation:b.name}),a.all("organisations").post(b).then(function(a){return a})},this.getOrganisation=function(b){return a.one("organisations",b).get()},this.getOrganisations=function(b){return a.all("organisations").getList(b)},this.updateOrganisation=function(c){return analytics.track("Organisation Update",{updater:b.currentUser.name,organisation:c.name}),c._id?a.one("organisations",c._id).customPUT(c):this.createOrganisation(c)},this.deleteOrganisation=function(a){return analytics.track("Organisation Delete",{organisation:a.name}),a.remove()}}]);
angular.module("modules.overlay-tabs",[]),angular.module("modules.overlay-tabs").directive("overlayViews",function(){return{restrict:"E",transclude:!0,template:'<fade-overlay ng-click="back()" ng-show="showOverlay"></fade-overlay><div ng-transclude></div>',controller:["$scope","$element","$rootScope","ActiveOverlaysService","$state","$timeout","$window","LayoutOptions",function(a,b,c,d,e,f,g,h){function i(){f.cancel(k),a.showOverlay=!0,b.addClass("enabled")}function j(){a.showOverlay=!1,k=f(function(){b.removeClass("enabled")},1e3)}a.back=function(){e.go(d.underlay.name,d.underlay.params)};var k;c.$on("$stateChangeSuccess",function(){d.underlay&&e.current.overlay?i():j()})}]}}).directive("overlay",["$state","$rootScope","$timeout","$compile","ActiveOverlaysService",function(a,b,c,d,e){return{restrict:"E",transclude:!0,scope:{ngHide:"=",view:"@"},template:"<md-content><div ng-transclude></div></md-content>",link:function(c,d,f,g){function h(){e.activeView==c.view?(c.ngHide=!1,a.current.overlay?(d.addClass("enabled"),d.attr("layout-offset-top-banner",!0)):(d.removeClass("enabled"),d.attr("layout-offset-top-banner",""))):e.underlay.viewname==c.view?(a.current.overlay?c.ngHide=!1:c.ngHide=!0,d.removeClass("enabled"),d.attr("layout-offset-top-banner","")):c.ngHide=!0}b.$on("$stateChangeSuccess",h),h()}}}]).service("ActiveOverlaysService",["$rootScope","$stickyState","$state","$stateParams","$previousState",function(a,b,c,d,e){function f(){var a=_.map(b.getInactiveStates(),"self").reverse(),c=_.find(a,function(a){return!a.overlay});c?(h.underlay=c,h.underlay.params=d,c.views&&(h.underlay.viewname=Object.keys(c.views)[0].split("@")[0])):h.underlay=!1}function g(){c.current.views?h.activeView=Object.keys(c.current.views)[0].split("@")[0]:h.activeView=""}var h={activeView:"",underlay:{}};return f(),g(),a.$on("$stateChangeSuccess",function(){f(),g()}),h}]);
angular.module("modules.page-loading-overlay",["modules.loadbar"]),angular.module("modules.page-loading-overlay").directive("pageLoadingOverlay",["$timeout","$document","$rootScope","cfpLoadingBar",function(a,b,c,d){return{restrict:"E",link:function(e,f,g){function h(b){f.addClass("animate"),a(function(){f.remove(),window.prerenderReady=!0},800)}var i,j=1;b.ready(function(){i=a(h,1500)}),c.$on("cfpLoadingBar:started",function(){a.cancel(i),a(h,1e4)}),c.$on("cfpLoadingBar:loaded",function(){a.cancel(i)}),c.$on("cfpLoadingBar:completed",function(){j++,(d.status()>=.5||j>1)&&(i=a(h,500))})}}}]);
angular.module("modules.pagination",[]),angular.module("modules.pagination").directive("loadMore",function(){return{restrict:"E",replace:!0,scope:{page:"=?",loading:"=?",loadFn:"&?"},templateUrl:"modules/pagination/tpls/load-more.html",controller:["$scope","$state",function(a,b){a.loading=!1,a.loadMore=function(){a.loadFn()}}]}}).directive("simplePagination",function(){return{restrict:"E",replace:!0,templateUrl:"modules/pagination/tpls/simple-pagination.html",scope:{noMoreResults:"=?",page:"=?"},controller:["$scope","$stateParams","$location",function(a,b,c){a.page||(a.page=b.page||1),a.prev=function(){a.page--},a.next=function(){a.page++},a.nextPage=parseInt(a.page)+1,a.prevPage=parseInt(a.page)-1}]}});
angular.module("modules.popup-cards",["modules.popup","modules.users","modules.organisations","modules.projects"]),angular.module("modules.popup-cards").directive("popupUser",function(){return{restrict:"A",replace:!0,transclude:!0,link:function(a,b,c){c.$observe("userId",function(b){a.userId=b}),a.userId=c.userId,a.href=c.href},template:"<a ng-href=\"{{::href}}\" popup popup-content=\"<personcard id='{{userId}}' size='sm'></personcard>\" ng-transclude></a>"}}).directive("popupField",function(){return{restrict:"A",replace:!0,transclude:!0,link:function(a,b,c){a.fieldId=c.fieldId,a.href=c.href},template:"<a ng-href=\"{{::href}}\" popup popup-content=\"<field-card style='padding-top: 10px; display: block;' id='{{::fieldId}}' size='sm'></field-card>\" ng-transclude></a>"}}).directive("popupOrganisation",function(){return{restrict:"A",replace:!0,transclude:!0,link:function(a,b,c){a.organisationId=c.organisationId,a.href=c.href},template:"<a ng-href=\"{{::href}}\" popup popup-content=\"<organisation-card id='{{organisationId}}' size='sm'></organisation-card>\" ng-transclude></a>"}}).directive("popupProject",function(){return{restrict:"A",replace:!0,transclude:!0,link:function(a,b,c){a.projectId=c.projectId,a.href=c.href},template:"<a ng-href=\"{{::href}}\" popup popup-content=\"<creation-card entity-type='project' entity-id='{{projectId}}'></creation-card>\" ng-transclude></a>"}}).directive("urlCard",function(){return{restrict:"E",transclude:!0,scope:{title:"@?",subTitle:"@?",anchor:"@?"},controller:["$scope",function(a){a.href="https://stemn.com"+location.pathname}],templateUrl:"modules/popup-cards/tpls/url-card.html"}});
angular.module("modules.popup",[]),angular.module("modules.popup").directive("popup",["$timeout","$window","$compile","$rootScope","$document",function(a,b,c,d,e){return{restrict:"A",scope:{popupContent:"@",popupWidth:"@?",popupFixedBottom:"=?"},link:function(e,f,g){var h,i,j={},k=400;j.width=e.popupWidth||300;var l=function(){j.position=p(),j.element=j.element?j.element:o(),n(j.element,j.position),e.show=!0,e.$apply()},m=function(){e.show=!1,e.$apply()},n=function(a,b){a.css({top:b.top,left:b.left,width:j.width}),e.popupFixedBottom&&a.css({top:"",bottom:"50px",position:"fixed"})},o=function(){var a=angular.element('<div class="popup" ng-show="show">'+e.popupContent+"</div>");return c(a)(e),q(a),r(a),angular.element(document.body).append(a),a},p=function(){var a=angular.element(b),c=a.scrollTop(),d=f[0].getBoundingClientRect(),e=d.left+d.width/2,g=e-j.width/2,h=e+j.width/2;return 0>g?{left:15,top:d.bottom+c}:h>b.innerWidth?{left:b.innerWidth-j.width-15,top:d.bottom+c}:{left:g,top:d.bottom+c}},q=function(b){b.bind("mouseenter",function(){a.cancel(i),h=a(l,k)})},r=function(b){b.bind("mouseleave",function(){a.cancel(h),i=a(m,50)})};q(f),r(f),d.$on("$stateChangeSuccess",function(){a.cancel(h),j.element&&j.element.remove()})}}}]).directive("popup",["PopupService","$timeout",function(a,b){return{restrict:"E",transclude:!0,replace:!0,template:"<div ng-transclude></div>",scope:{},link:function(c,d,e){function f(){j||g(),c.showPopup=!0,b(function(){a.position({popupEl:j,targetEl:l[0],side:e.popupSide||"right",type:e.popupPosition||"start",arrow:"true",padding:e.popupPadding})}),c.$apply()}function g(){j=a.create({scope:c}),k=angular.element(j[0].querySelector(".popup-content")),k.append(d),h("popup")}function h(b){a.bindTrigger({popupEl:j,targetEl:l,trigger:"hover",scope:c,showFn:f,hideFn:i,delayOpen:10},b)}function i(){c.showPopup=!1,c.$apply()}var j,k,l=d.parent();d.detach(),b(function(){h("target")},100),c.$on("$destroy",function(){a.destroy(j)})}}}]).directive("popupTooltip",["PopupService","$timeout",function(a,b){return{restrict:"A",scope:{popupTooltip:"@"},link:function(c,d,e){function f(){c.showPopup=!0,b(function(){a.position({popupEl:h,targetEl:d[0],side:e.popupSide||"right",type:e.popupPosition||"start",arrow:"true",padding:e.popupPadding})}),c.$apply()}function g(){c.showPopup=!1,c.$apply()}var h=a.create({template:'<div class="tooltip-popup">'+c.popupTooltip+"</div>",scope:c});b(function(){a.bindTrigger({popupEl:h,targetEl:d,trigger:"hover",scope:c,showFn:f,hideFn:g})},100),c.$on("$destroy",function(){a.destroy(h)})}}}]).service("PopupService",["$compile","$timeout","$rootScope",function(a,b,c){function d(b){var c=angular.element('<div class="popup" ng-show="showPopup"><div class="popup-arrow"></div><div class="popup-content">'+(b.template||"")+"</div></div>");return angular.element(document.body).append(c),a(c)(b.scope),c}function e(a,d){if(d=d||"both","hover"==a.trigger){var e=a.delayOpen||400,f=50;"target"==d?(l(a.targetEl,a.scope,e,a.showFn),m(a.targetEl,a.scope,f,a.hideFn)):"popup"==d?(l(a.popupEl,a.scope,e,a.showFn),m(a.popupEl,a.scope,f,a.hideFn)):(l(a.targetEl,a.scope,e,a.showFn),l(a.popupEl,a.scope,e,a.showFn),m(a.targetEl,a.scope,f,a.hideFn),m(a.popupEl,a.scope,f,a.hideFn)),c.$on("$stateChangeSuccess",function(){b.cancel(a.scope.popupShowTimeout),a.popupEl&&(a.scope.showPopup=!1)})}}function f(a){a&&a.remove()}function g(a){var b=15;a.side=a.side||"bottom",a.type=a.type||"center",h(a);var c,d,e=a.targetEl.getBoundingClientRect(),f=e.bottom,g=e.left,i=e.width,j=e.height,k=((e.left+e.right)/2,window.pageXOffset),l=window.pageYOffset,m=window.innerWidth,o=a.popupEl[0].offsetWidth,p=a.popupEl[0].offsetHeight;if("bottom"==a.side||"top"==a.side?"start"==a.type?c=k+g:"end"==a.type?c=k+g+i-o:"center"==a.type&&(c=k+g+i/2-o/2):("right"==a.side||"left"==a.side)&&("start"==a.type?d=l+f-j:"end"==a.type?d=l+f:"center"==a.type&&(d=l+f-j/2-p/2)),"right"==a.side?c=k+g+i:"left"==a.side?c=k+g:"bottom"==a.side?d=l+f:"top"==a.side&&(d=l+f-j),"left"==a.side||"right"==a.side){if(c+o>=m||0>=c)return a.side="bottom",a.arrow=!1,a.padding="",void n.position(a)}else c+o>=m?(c=m-o-b,h(a,!0)):0>=c&&(c=b,h(a,!0));a.popupEl.css({top:d+"px",left:c+"px",margin:a.padding})}function h(a,b){var c={},d={},e=10,f="-5px",g="7px",h=angular.element(a.popupEl[0].querySelector(".popup-arrow"));if(a.arrow&&!b)"bottom"==a.side||"top"==a.side?"start"==a.type?c.left="2px":"end"==a.type?c.right="2px":"center"==a.type&&(c.left="50%",c["margin-left"]=-e/2+"px"):("right"==a.side||"left"==a.side)&&("start"==a.type?c.top="2px":"end"==a.type?c.bottom="2px":"center"==a.type&&(c.top="50%",c["margin-top"]=-e/2+"px")),d["margin-top"]="0px",d["margin-right"]="0px",d["margin-bottom"]="0px",d["margin-left"]="0px","right"==a.side?(c.left=f,d["margin-left"]=g):"left"==a.side?(c.right=f,d["margin-right"]=g):"bottom"==a.side?(c.top=f,d["margin-top"]=g):"top"==a.side&&(c.bottom=f,d["margin-bottom"]=g);else if(b){var i=a.targetEl.getBoundingClientRect(),j=window.innerWidth-(i.left+i.width/2);c.right=j-15,c.left="auto"}else c.opacity=0;h.css(c),a.popupEl.css(d)}function i(a){a.popupCloseClick||k(a),o.off("mousedown",a.popupCloseClick),o.on("mousedown",a.popupCloseClick),a.showPopup=!0}function j(a){o.off("mousedown",a.popupCloseClick),a.showPopup=!1}function k(a){a.popupCloseClick=function(b){var c=b.target;if(!angular.element(c).hasClass("popup")){var d=angular.element(c).parents(".popup")[0];d||j(a)}}}function l(a,c,d,e){a.bind("mouseenter",function(){b.cancel(c.popupHideTimeout),c.popupShowTimeout=b(function(){e()},d)})}function m(a,c,d,e){a.bind("mouseleave",function(){b.cancel(c.popupShowTimeout),c.popupHideTimeout=b(function(){e()},d)})}var n=this;this.create=d,this.destroy=f,this.position=g,this.show=i,this.bindTrigger=e,this.hide=j;var o=angular.element(window)}]);
angular.module("modules.posts",["modules.editor","modules.scroll-highlight"]),angular.module("modules.posts").directive("posts",function(){return{restrict:"E",scope:{parent:"="},templateUrl:"modules/posts/tpls/posts.html",controller:["$scope","PostService","$stateParams","$timeout","HighlightElement",function(a,b,c,d,e){function f(c){e.scrollHighlightElement("reply",{background:!0,offset:200}),a.inputTitle=c.owner.name?"Replying to "+c.owner.name+"'s post.":"",a.postInputStatus.active=!0,a.reply=b.newPost(a.parent),c&&(a.reply.parent=c._id),a.postInputStatus.active=!0}function g(){a.reply||(a.reply=b.newPost(a.parent));var c;a.reply.sectionData=a.sectionData.model,b.savePost(a.reply).then(function(b){a.postInputStatus.active=!1,a.sectionData={},a.reply="",c=b,c.timestamp=moment(Date.now()).format("YYYY-MM-DDTHH:mm:ssZZ"),a.parent.posts.push(c)})["catch"](function(){a.postInputStatus.active=!0})}function h(a){0===a.posts.length&&b.getPosts(a).then(function(b){a.posts=b})}function i(){"timestamp"==a.orderFilter?(a.orderFilter="",a.sortIcon="sort"):(a.orderFilter="timestamp",a.sortIcon="access-time")}function j(){a.parent.posts&&a.parent.posts.length>0&&(a.posts=k(a.parent.posts))}function k(a){for(var b=angular.copy(a),c=[],d=0;d<b.length;)b[d].parent?d++:(b[d].indentation=0,c.push(b[d]),b.splice(d,1));for(d=0;d<c.length;){for(var e=b.length-1;e>=0;e--)b[e].parent==c[d]._id&&(b[e].indentation=c[d].indentation+1,c.splice(d+1,0,b[e]),b.splice(e,1));d++}return _.forEach(c,function(a,b){a.tree=b}),c}h(a.parent),a.orderFilter="",a.toggleSort=i,a.reply="",a.sectionData={},a.setReply=f,a.sendReply=g,a.$watchCollection("parent.posts",j),c.reply&&d(a.setReply,1e3)}]}}).directive("post",function(){return{restrict:"E",templateUrl:"modules/posts/tpls/post.html",scope:{data:"=",parent:"=",replyFn:"&?"},controller:["$scope","EditorService","PostService","UtilsService",function(a,b,c,d){function e(){_.any(a.parent.projects,function(b){_.any(b.team,function(b){return b&&b._id?b._id==a.post.owner._id:void 0})})}function f(){return a.parent.owner?a.post.owner._id==a.parent.owner._id:void 0}function g(){c.deletePost(a.post).then(function(){c.getPosts(a.parent).then(function(b){0===b.length?a.parent.posts=[]:a.parent.posts=b})})}function h(){a.edit=!0}function i(){a.edit=!1}function j(){a.edit=!1,c.savePost(a.post).then(function(b){a.post.edited=moment(Date.now()).format("YYYY-MM-DDTHH:mm:ssZZ")})}a.post=a.data,a.post.isTeam=e(),a.post.isOwner=f(),a.deletePost=g,a.editPost=h,a.savePost=j,a.cancel=i,a.editorOptions={realtime:!1,contained:!0,minimal:!0},a.post.sectionData=a.post.sectionData||{sectionOrder:[]}}]}}).directive("postSummary",function(){return{restrict:"E",templateUrl:"modules/posts/tpls/post-summary.html",scope:{post:"="},controller:["$scope","CoreLibrary",function(a,b){a.post.thread&&a.post.thread.type?a.sref=b.getSrefBase(a.post.thread.type)+'({"stub": "'+a.post.thread.stub+'",  "#" : "'+a.post._id+'"})':a.sref=b.getSrefBase("project")+'({"stub": "'+a.post.project.stub+'",  "#" : "'+a.post._id+'"})',a.editorOptions={realtime:!1,contained:!0,minimal:!0}}]}}).directive("userPosts",function(){return{restrict:"E",templateUrl:"modules/posts/tpls/user-posts.html",scope:{userId:"@"},controller:["$scope","PostService",function(a,b){b.getUserPosts({owner:a.userId}).then(function(b){a.data=b.data})}]}}).service("PostService",["Restangular","$http","Authentication","ModularEditorService","$q",function(a,b,c,d,e){function f(a){if(!a||!a.owner)return console.error("Invalid Input");var c=b({url:"/api/v1/posts",method:"GET",params:{owner:a.owner,sort:"_id",order:"dsc"}}),d=b({url:"/api/v1/comments",method:"GET",params:{owner:a.owner,sort:"_id",order:"dsc"}});return e.all([c,d]).then(function(a){return c=a[0],d=a[1],{data:c.data.concat(d.data)}})}function g(b){return a.one(k(b),b._id).all("posts").getList()}function h(a){var b={owner:{_id:c.currentUser._id,profile:c.currentUser}};return a.team?b.project=a._id:b.thread=a._id,b}function i(b){var c=_.clone(b,!0);return d.stripSectionsDomElements(c.sectionData.sections),c._id?(analytics.track("Post Update",{thread:c.thread,project:c.project,parent:c.parent}),a.one(m(c),c._id).customPUT(c).then(function(a){return a})):(analytics.track("Post New",{thread:c.thread,project:c.project,parent:c.parent}),a.one(k(c),l(c)).all("posts").post(c))}function j(b){return analytics.track("Post Delete",{post:b}),b.project?a.all("comments").one(b._id).remove():a.all("posts").one(b._id).remove()}function k(a){return a.team?"projects":a.posts?"threads":a.thread?"threads":"projects"}function l(a){return a.thread||a.project}function m(a){return a.thread?"posts":"comments"}this.getPosts=g,this.newPost=h,this.savePost=i,this.deletePost=j,this.getUserPosts=f}]);
angular.module("modules.project",[]),angular.module("modules.project").service("ProjectModalService",["$mdDialog",function(a){this.newProject=function(b,c){return a.show({templateUrl:"modules/project/tpls/new-project-modal.html",controller:"NewProjectModalCtrl",targetEvent:b,locals:{data:c}})}}]).directive("clickCreateProject",["ProjectModalService",function(a){return{restrict:"A",scope:{project:"=?"},link:function(b,c,d){c.bind("click",function(c){a.newProject(c,b.project)})}}}]).controller("NewProjectModalCtrl",["data","$scope","$state","$mdDialog","ProjectModalService","NewCreationsService","Authentication","SearchService","CoreLibrary",function(a,b,c,d,e,f,g,h,i){b.project=a||{},b.cancel=function(){d.cancel()},b.createProject=function(){f.create("project",b.project)}}]).service("ProjectStatusData",function(){return[{value:"1",text:"Planned"},{value:"2",text:"Underway"},{value:"3",text:"Postponed"},{value:"4",text:"Complete"},{value:"5",text:"Cancelled"}]}).service("LicenseData",function(){return{licenses:[{type:"CC BY",name:"Creative Commons - Attribution",url:"http://creativecommons.org/licenses/by/4.0/",symbols:["cc","cc-by"],description:"This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation."},{type:"CC BY-SA",name:"Creative Commons - Attribution - Share Alike",url:"http://creativecommons.org/licenses/by-sa/4.0/",symbols:["cc","cc-by","cc-sa"],description:"This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms."},{type:"CC BY-ND",name:"Creative Commons - Attribution - No Derivatives",url:"http://creativecommons.org/licenses/by-nd/4.0/",symbols:["cc","cc-by","cc-nd"],description:"This license allows for redistribution, commercial and non-commercial, as long as it is passed along unchanged and in whole, with credit to you."},{type:"CC BY-NC",name:"Creative Commons - Attribution - Non-Commercial",url:"http://creativecommons.org/licenses/by-nc/4.0/",symbols:["cc","cc-by","cc-nc"],description:"This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don’t have to license their derivative works on the same terms."},{type:"CC BY-NC-SA",name:"Creative Commons - Attribution - Non-Commercial - Share Alike",url:"http://creativecommons.org/licenses/by-nc-sa/4.0/",symbols:["cc","cc-by","cc-nd","cc-sa"],description:"This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms."},{type:"CC BY-NC-ND",name:"Creative Commons - Attribution - Non-Commercial - No Derivatives",url:"http://creativecommons.org/licenses/by-nc-nd/4.0/",symbols:["cc","cc-by","cc-nd","cc-nc"],description:"This license is the most restrictive of the Creative Commons licenses, only allowing others to download your works and share them with others as long as they credit you, but they can’t change them in any way or use them commercially."},{type:"MPL",name:"Mozilla Public License",url:"https://www.mozilla.org/MPL/2.0/",symbols:[],description:"The MPL allows source code to be mixed with other files under a different, even proprietary license. However, code files licensed under the MPL must remain under the MPL and freely available in source form."},{type:"Other",name:"Other License",url:"",symbols:[],description:"Other License"}],symbols:{cc:{tooltip:"Creative Commons"},"cc-by":{tooltip:"Attribution"},"cc-sa":{tooltip:"Share-alike"},"cc-nd":{tooltip:"No Derivative Works"},"cc-nc":{tooltip:"Non-commercial"},mozilla:{tooltip:"Non-commercial"}}}});
angular.module("modules.projects",["modules.project"]),angular.module("modules.projects").directive("projectFilterBar",function(){return{restrict:"E",scope:{filter:"=",view:"="},templateUrl:"modules/projects/tpls/projects-filter-bar.html",controller:["$scope",function(a){a.filters=[{text:"Activity",model:"updated",reverse:!0},{text:"Threads",model:"numThreads",reverse:!0},{text:"Likes",model:"likes",reverse:!0},{text:"Age",model:"created",reverse:!0}],a.view=a.view||"block",a.updateFilter=function(){a.filter.sort=a.active.filter.model,a.filter.order=a.active.filter.reverse?"des":"asc",a.filter.page=1},a.active={filter:a.filters[0]}}]}}).service("ProjectService",["HttpService","Restangular","Authentication","ModularEditorService","LocalCache",function(a,b,c,d,e){function f(b,c){var d;"sm"==c?d=["stub","name","picture","blurb"]:"md"==c?d=["stub","name","picture","blurb","created","updated","fields","organisations","team","likes","numComments","location"]:(d=["*"],c="lg");var f=function(b){return a({url:"/api/v1/projects",method:"GET",params:{"select[]":d,"ids[]":b}})};return e.getPackaged(k+c,b,f)}function g(a){return a.type?(a.type=a.type+"s",b.one(a.type,a._id).all("projects").getList(a)):b.all("projects").getList(a)}function h(b){return a({method:"POST",url:"api/v1/projects",data:b})}function i(b){analytics.track("Project Update",{project:b.stub,teamMembers:b.team.length});var c=_.clone(b,!0);return d.stripSectionsDomElements(c.sectionData.sections),e.save(k+"lg",c),a({method:"PUT",url:"api/v1/projects/"+c._id,data:c})}function j(b){return a({url:"/api/v1/projects/"+b,method:"DELETE"})}this.getProject=f,this.getProjects=g,this.createProject=h,this.deleteProject=j,this.updateProject=i;var k="project"}]);
angular.module("modules.prompt-overlay",[]),angular.module("modules.prompt-overlay").directive("promptOverlay",function(){return{restrict:"E",transclude:!0,scope:{img:"@"},templateUrl:"modules/prompt-overlay/tpls/prompt-overlay.html",controller:["$scope","PromptOverlayService",function(a,b){a.PromptOverlayService=b,a.close=function(){a.PromptOverlayService.showPrompt=!1}}]}}).service("PromptOverlayService",function(){this.showPrompt=!0});
angular.module("modules.publish",["modules.transition-overlay"]),angular.module("modules.publish").directive("publishShareLink",["$mdDialog","$location",function(a,b){return{restrict:"A",link:function(c,d,e){d.bind("click",function(c){a.show({templateUrl:"modules/publish/tpls/publish-share-link-modal.html",controller:["data","$scope",function(c,d){d.url=b.absUrl(),d.cancel=function(){a.cancel()},d.confirm=function(){a.hide()}}],clickOutsideToClose:!0,targetEvent:c,locals:{data:e.publishShareLink}})})}}}]).directive("clickUnpublish",function(){return{restrict:"A",scope:{entity:"=",saveFn:"&"},link:function(a,b,c){b.bind("click",function(b){a.entity.published=!1,console.log(a.saveFn),a.saveFn()})}}}).service("PublishService",["$mdDialog","$mdToast",function(a,b){function c(a){var c=b.simple().content("You must add missing fields.").theme("warn").highlightAction(!1);a&&!a.$visible&&c.action("Edit"),b.show(c).then(function(b){"ok"==b&&(a.$visible||a.$edit())})}function d(b,c,d){return d=d||"",a.show({templateUrl:"modules/publish/tpls/select-stub-modal.html",controller:["entity","$scope","CoreLibrary","SearchService",function(b,c,e,f){function g(a){a&&(c.stub=e.stubify(d+a),c.stub&&f.search({type:c.type,key:"stub",value:c.stub,match:"insensitive",published:!0}).then(function(a){0===a.data.length?c.Form.title.$setValidity("notavailable",!0):c.Form.title.$setValidity("notavailable",!1)}))}c.checkAvailability=g,c.entity=b;var h=["project","job","organisation","field","blog"];c.type=b.entityType,-1!=h.indexOf(b.type||b.entityType)?c.urlType=b.type||b.entityType:c.urlType="thread",g(b.name),c.cancel=function(){a.cancel()},c.save=function(){c.Form.$valid&&a.hide(c.stub)}}],locals:{entity:c},targetEvent:b})}this.entity={},this.showEdit="",this.selectStubModal=d,this.missingFieldsToast=c}]);
angular.module("modules.reading-time",[]),angular.module("modules.reading-time").directive("readingTime",function(){return{restrict:"E",replace:!0,template:"<span>{{readingTime}}</span>",link:function(a,b,c){var d=250,e=Math.floor(parseInt(c.words)/d);1>e?a.readingTime="1 min read":a.readingTime=e+" min read"}}});
angular.module("modules.realtime-editor",["modules.socket","modules.xxhash","modules.error-handling"]),angular.module("modules.realtime-editor").service("RealtimeEditorService",["SocketService","$mdToast","$document","$timeout","Authentication","XxhashService","RealtimeEditorModalService","ErrorModalService",function(a,b,c,d,e,f,g,h){function i(b){w.entity=b,a.emit("reset"),a.emit("join",{id:w.entity.id,type:w.entity.type,user:e.currentUser._id})}function j(){a.emit("leave",{id:w.entity.id,user:e.currentUser._id})}function k(b){w.saveStatus.message="Saving Section...";var c=_.clone(b,!0);q(c),a.emit("section-save",{id:w.entity.id,section:c,user:e.currentUser._id},function(a){"success"===a.result?(t(),w.saveStatus.message="Saved"):w.saveStatus.message="Failed to save"})}function l(b){w.sectionOrder=b,w.finishEditingSection(),a.emit("section-reorder",{id:w.entity.id,sectionOrder:b,user:e.currentUser._id})}function m(b){if(b!=w.currentSectionId){r(),w.currentSectionId=b,t(),d.cancel(v);var c={id:w.entity.id,section:w.currentSectionId,type:w.entity.type,user:e.currentUser._id};console.log("section-edit",c),a.emit("section-edit",c)}}function n(){if(w.currentSectionId){var b={id:w.entity.id,section:w.currentSectionId,type:w.entity.type,user:e.currentUser._id};v=d(function(){a.emit("section-deedit",b)},100),r(),w.currentSectionId=null}}function o(b){a.emit("section-delete",{id:w.entity.id,section:b,user:e.currentUser._id})}function p(b,c){var d=_.clone(b,!0);_.forEach(d,function(a){q(a)}),a.emit("section-add",{id:w.entity.id,sections:d,sectionOrder:c,user:e.currentUser._id})}function q(a){delete a.captionElement,delete a.contentElement,delete a.sectionElement}function r(){s()&&w.saveSection(w.sections[w.currentSectionId])}function s(){if(w.sections[w.currentSectionId]){var a=f(JSON.stringify(w.sections[w.currentSectionId]),43981).toString();return w.currentSectionInitialHash!==a?(w.saveStatus.message="Unsaved changes",!0):(w.saveStatus.message="Saved",!1)}return!1}function t(){w.sections[w.currentSectionId]&&(w.currentSectionInitialHash=f(JSON.stringify(w.sections[w.currentSectionId]),43981).toString())}function u(){a.on("state",function(a){_.forEach(a,function(b,c){b==e.currentUser._id&&delete a[c]}),w.edits=a}),a.on("section-edit",function(a){w.edits=w.edits||{};var b=a[Object.keys(a)[0]];Object.keys(w.edits).forEach(function(a){w.edits[a]===b&&delete w.edits[a]}),_.extend(w.edits,a)}),a.on("section-deedit",function(a){var b=Object.keys(a)[0];delete w.edits[b]}),a.on("section-reorder",function(a){w.sectionOrder=a.sectionOrder}),a.on("section-delete",function(a){w.sectionOrder.splice(w.sectionOrder.indexOf(a.section),1),delete w.sections[a.section]}),a.on("section-add",function(a){w.sectionOrder=a.sectionOrder,_.merge(w.sections,a.sections)}),a.on("section-update",function(a){_.merge(w.sections,a)}),a.on("err",function(a){console.log("socket err",a),"multiple-edit"==a.type?g.multipleEdit():h.error(null,{title:"Editor error",body:a.message})})}var v;u(),this.subscribeToEdits=i,this.unsubscribeToEdits=j,this.saveSection=k,this.startEditingSection=m,this.finishEditingSection=n,this.saveSectionIfChanged=r,this.checkIfSectionChanged=s,this.changeSectionOrder=l,this.deleteSection=o,this.addSections=p,this.entity={},this.edits={},this.sectionOrder=[],this.sections={},this.saveStatus={},this.currentSectionId="",this.currentSectionInitialHash="";var w=this}]).service("RealtimeEditorModalService",["$mdDialog",function(a){this.multipleEdit=function(b,c){return a.show({templateUrl:"modules/realtime-editor/tpls/multiple-edit-modal.html",controller:["data","$scope",function(b,c){c.data=b,c.cancel=function(){a.cancel()}}],locals:{data:c},clickOutsideToClose:!1,targetEvent:b})}}]).directive("realtimeEditorSaveStatus",["RealtimeEditorService",function(a){return{restrict:"E",template:"<div>{{saveStatus.message}}</div>",link:function(b,c,d){b.saveStatus=a.saveStatus}}}]).directive("realtimeEditor",["RealtimeEditorService","$interval","$document","$timeout",function(a,b,c,d){return{restrict:"A",link:function(c,e,f){function g(){a.checkIfSectionChanged()?l||(l=d(function(){a.saveSectionIfChanged(),l=null},j)):(d.cancel(l),l=null)}function h(){a.unsubscribeToEdits()}var i=500,j=500,k={id:f.entityId,type:f.entityType};a.subscribeToEdits(k),c.$on("$destroy",h),b(g,i);var l}}}]).directive("realtimeEditorSection",["RealtimeEditorService","XxhashService","$document","$timeout",function(a,b,c,d){return{restrict:"A",link:function(b,c,d){function e(b){var c=b.target;if(angular.element(c)[0].hasAttribute("editor-section-element")){var d=angular.element(c).scope(),e=d.editorSectionId||d.$parent.editorSectionId||d.$parent.$parent.editorSectionId;a.startEditingSection(e)}else{var f=angular.element(c).parents("[editor-section-element]")[0];if(f){var d=angular.element(f).scope(),e=d.editorSectionId||d.$parent.editorSectionId||d.$parent.$parent.editorSectionId;a.startEditingSection(e)}else a.finishEditingSection()}}function f(){b.sectionId&&a.startEditingSection(b.sectionId)}"true"==d.realtimeEditorSection&&(c.on("mousedown",function(a){e(a)}),c.bind("focusin",f))}}}]).directive("realtimeEditorLocked",function(){return{restrict:"E",scope:{section:"="},templateUrl:"modules/realtime-editor/tpls/realtime-editor-locked.html",controller:["$scope","RealtimeEditorService",function(a,b){a.RealtimeEditorService=b}]}});
angular.module("modules.referrals",["ngStorage"]),angular.module("modules.referrals").service("ReferralsService",["$stateParams","$state","$location","$localStorage",function(a,b,c,d){function e(){a.ref&&(b.current.reloadOnSearch=!1,c.search("ref",null),d.refCode=a.ref)}function f(){return d.refCode}this.setRefCode=e,this.getRefCode=f}]);
angular.module("modules.related",["modules.tags","modules.feed"]),angular.module("modules.related").directive("related",["RelatedService",function(a){return{restrict:"E",scope:{parentType:"@",parentId:"@",type:"@?",displayStyle:"@?"},replace:!0,template:'<div ng-include="template"></div>',controller:["$scope","$timeout","$element",function(b,c,d){b.type=b.type||"field";var e={field:{size:10,title:"Related Fields"},user:{size:4,title:"Related People"},organisation:{size:10,title:"Related Organisations"},project:{size:3,title:"Similar Projects"},blog:{size:3,title:"Similar Blogs"},general:{size:3,title:"Similar Discussions"},question:{size:3,title:"Similar Questions"}};b.typeInfo=e[b.type],"feed"!=b.displayStyle&&"project"==b.type&&(b.typeInfo.title="Top Projects"),b.displayStyle=b.displayStyle||"tags";var f={feed:{template:"modules/related/tpls/related-compact-feed.html"},tags:{template:"modules/related/tpls/related-tags.html"}};b.template=f[b.displayStyle].template;var g=function(c){a.getRelated({parentType:b.parentType,parentId:b.parentId,type:b.type,page:c,size:b.typeInfo.size}).then(function(a){0===a.length&&(b.noMoreResults=!0),c>1?b.data=b.data.concat(a):b.data=a,0===a.length&&1==c&&d.addClass("hide")})};g(1);var h=2;b.more=function(){g(h),h++}}]}}]).directive("tagged",function(){return{restrict:"E",scope:{tags:"=?",type:"@?"},replace:!0,templateUrl:"modules/related/tpls/related-tags.html",controller:["$scope","$timeout","Authentication",function(a,b,c){a.type=a.type||"field";var d={field:{title:"Tagged Fields"},organisation:{title:"Tagged Organisations"},project:{title:"Tagged Projects"}};a.typeInfo=d[a.type];var e=6,f=1,g=a.tags,h=function(){var b=g.length-e*f;0>b&&(b=0),a.data=g.slice(b).reverse(),e*f>a.data.length&&(a.noMoreResults=!0),f++};h(),a.more=function(){h(),b(function(){a.currentTab=0},500)}}]}}).service("RelatedService",["Restangular",function(a){this.getRelated=function(b){return a.one(b.parentType+"s",b.parentId).all("related").getList(b)}}]);
angular.module("modules.request-ownership",[]),angular.module("modules.request-ownership").directive("clickRequestOwnership",["$http","$mdToast","Authentication",function(a,b,c){return{restrict:"A",scope:{parentType:"@",parentId:"@"},link:function(d,e,f){d.message="Account: "+JSON.stringify(c.currentUser.accounts),e.bind("click",function(c){a({url:"/api/v1/request-ownership",method:"GET",params:{parentType:d.parentType,parentId:d.parentId,message:d.message}}).success(function(a){e.css({opacity:"0.5","pointer-events":"none",display:"inline-block"}),b.show(b.simple().content("Review pending... We'll email you if we require more info"))})["catch"](function(){b.show(b.simple().theme("warn").content("Something went wrong. Please email requests@stemn.com"))})})}}}]);
angular.module("modules.restangular",["restangular","modules.authentication"]),angular.module("modules.restangular").run(["Restangular","$mdToast","Authentication",function(a,b,c){a.setErrorInterceptor(function(a,d,e){if(401===a.status)"/api/v1/notifications"===a.config.url?c.currentUser.logout():b.show(b.simple().theme("warn").content(a.data.error||"You're not authorized to do that!")),b.show(b.simple().theme("warn").content(a.data.error||"You're not authorized to do that!"));else if(404===a.status)b.show(b.simple().theme("warn").content(a.data.error||"Couldn't find that, sorry."));else if(480===a.status)b.show(b.simple().theme("warn").content("Can't do that "+a.data.error));else{if(422!==a.status)return!1;b.show(b.simple().theme("warn").content("Oops... "+a.data.error))}})}]).config(["RestangularProvider",function(a){a.setBaseUrl("/api/v1"),a.setRestangularFields({id:"_id"}),a.addResponseInterceptor(function(a,b,c,d,e,f){return"false"===a?a=!1:"true"===a?a=!0:"null"===a&&(a=null),a})}]);
angular.module("modules.row-views",[]),angular.module("modules.row-views").directive("userRow",function(){return{restrict:"E",scope:{itemId:"@?",data:"=?",showEdit:"=?",deleteFn:"&?"},controller:["$scope","UserService",function(a,b){a.itemId&&(a.loading=!0,b.getUser(a.itemId,"sm").then(function(b){a.data=b,a.loading=!1}))}],templateUrl:"modules/row-views/tpls/user-row.html"}}).directive("fieldRow",function(){return{restrict:"E",scope:{data:"="},templateUrl:"modules/row-views/tpls/field-row.html"}}).directive("organisationRow",function(){return{restrict:"E",scope:{data:"=",showEdit:"=?",showRole:"=?",deleteFn:"&?"},templateUrl:"modules/row-views/tpls/organisation-row.html"}}).directive("rowView",function(){return{restrict:"E",scope:{data:"="},templateUrl:"modules/row-views/tpls/row-view.html",controller:["$scope","EntityService","CoreLibrary",function(a,b,c){function d(){a.data.href=c.getHref(a.data.type||a.data.entityType,a.data.stub||a.data._id)}function e(){"user"==a.data.entityType?a.avatarType="avatar-circle":"organisation"==a.data.entityType||"job"==a.data.entityType?a.avatarType="avatar-square-contain":a.avatarType="avatar-square-cover"}a.data=angular.copy(a.data),e(),a.data.name||a.data.blurb||a.data.loading?d():(a.data.loading=!0,b.get(a.data.entityType,a.data._id,"sm").then(function(b){a.data=b,a.data.loading=!1,d()}))}]}}).directive("loadingRow",function(){return{restrict:"E",replace:!0,templateUrl:"modules/row-views/tpls/loading-row.html"}});
angular.module("modules.schema",[]),angular.module("modules.schema").directive("schemaJsonLd",["$http",function(a){return{restrict:"E",replace:!0,template:'<script type="application/ld+json"></script>',link:function(a,b,c){var d={articleBody:"The full body of the article"};b[0].innerHTML=JSON.stringify(d)}}}]);
angular.module("modules.scroll-highlight",[]),angular.module("modules.scroll-highlight").run(["$rootScope","$location","$timeout","HighlightElement","$document","$stateParams",function(a,b,c,d,e,f){a.$on("$stateChangeSuccess",function(a,e,g,h,i){var j,k;k=h.name?500:3e3,f.slowscroll?(j=5e3,k=3e3):(j=500,k=3e3),b.hash()&&c(function(){d.scrollHighlightElement(b.hash(),{speed:j})},k)})}]).directive("scrollHighlight",["HighlightElement",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(b){a.scrollHighlightElement(d.scrollHighlight,{background:!0})})}}}]).service("HighlightElement",["$timeout","$document","$stateParams",function(a,b,c){function d(a,d){d=d||{},d.speed=d.speed||500,d.offset=d.offset||64;var e=angular.element(document.getElementById(a));return e[0]?(b.scrollToElement(e,d.offset,d.speed).then(function(){c.slowscroll?b.scrollTopAnimated(0,d.speed/3):d.background?g.background(e):g.outline(e)}),e):void 0}function e(b){a(function(){b.css({outline:"10px solid rgba(255, 255, 214, 0)"})},0),a(function(){b.css({transition:"all 0.5s linear"})},100),a(function(){b.css({outline:"10px solid rgba(255, 255, 214, 1)"})},500),a(function(){b.css({background:"rgb(255, 255, 214)"})},500),a(function(){b.css({background:""})},2e3),a(function(){b.css({outline:"10px solid rgba(255, 255, 214, 0)"})},2e3),a(function(){b.css({outline:""})},3e3),a(function(){b.css({transition:""})},3e3)}function f(b){a(function(){b.css({transition:"all 0.5s linear"})},0),a(function(){b.css({background:"rgb(255, 255, 214)"})},400),a(function(){b.css({background:""})},2e3),a(function(){b.css({transition:""})},3e3)}this.outline=e,this.background=f,this.scrollHighlightElement=d;var g=this}]);
angular.module("modules.scroll",["duScroll"]),angular.module("modules.scroll").value("duScrollOffset",0).value("duScrollGreedy",!0).run(["$rootScope","$document",function(a,b){a.$on("$stateChangeSuccess",function(a,c,d,e,f){var g=c.name.split("."),h=e.name.split(".");"search"===g[1]&&"search"===h[1]||b.scrollTopAnimated(0,100)})}]).directive("smoothScrollToc",["$document",function(a){return{link:function(b,c,d){c.on("click",function(b){if(d.href&&-1!==d.href.indexOf("#")||""!==d.smoothScrollToc){var e=d.href?d.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):d.smoothScrollToc,f=document.getElementById(e)||document.getElementsByName(e)[0];if(f&&f.getBoundingClientRect){var g=c[0].getBoundingClientRect().top;a.scrollToElement(f,g,500),b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}}})}}}]).directive("fixTopOrBottom",["$window",function(a){return{restrict:"A",link:function(b,c,d){var e=angular.element(a),f=function(){c[0].offsetHeight<=a.innerHeight?c.css({position:"fixed",top:"0px",bottom:""}):a.innerHeight+e.scrollTop()>=c[0].offsetHeight?c.css({position:"fixed",top:"",bottom:"0px"}):c.css({position:"absolute",top:"0px",bottom:""})};e.on("scroll",b.$apply.bind(b,f)),f()}}}]).directive("scrollDown",["$window",function(a){return{restrict:"E",replace:!0,template:'<a class="scroll-down"><md-icon md-svg-icon="expand-more"></md-icon></a>',link:function(b,c,d){function e(){0===h.scrollTop()?g.removeClass("scrolled-past-top"):g.addClass("scrolled-past-top")}function f(){h.off("scroll",e)}var g=angular.element(document.body),h=angular.element(a);h.on("scroll",e),b.$on("$destroy",f),e()}}}]);
angular.module("modules.search.organisation",[]),angular.module("modules.search.organisation").directive("organisationSearch",function(){return{restrict:"E",replace:!0,scope:{data:"=",single:"=?",noArray:"=?",placeholder:"@?",searchText:"=?",focus:"=?",organisationType:"@?"},templateUrl:"modules/search/organisation-search/tpls/organisation-search.html",controller:["$scope","$http","OrganisationModalService",function(a,b,c){a.data=a.data||[],a.noArray&&a.data&&a.data.name?a.searchText=a.data.name:a.single&&a.data[0]&&a.data[0].name&&(a.searchText=a.data[0].name),a.search=function(c){return b({url:"/api/v1/search",params:{type:"organisation",key:"name",value:c,match:"regex"}}).then(function(b){var d=b.data.filter(function(b){return!_.any(a.existing,{_id:b._id})});return d.push({addNew:!0,name:(0===d.length?"Organisation not found. Create ":"None of these? Create ")+c,searchText:c}),d})},a.processResult=function(b){b&&(b.addNew?(a.create(null,b.searchText),a.searchText=""):a.noArray?a.data=b:a.single?(a.data[0]=b,a.searchText=b.name):(a.data.push(b),a.data=_.uniq(a.data,"_id"),a.searchText=""))},a.create=function(b,d){var e={name:d,organisationType:a.organisationType};c.organisationNewModal(b,e).then(function(b){a.processResult(b)})}}]}});
angular.module("modules.search",["modules.restangular","modules.fields","modules.organisations","modules.users","modules.search.organisation"]),angular.module("modules.search").directive("locationSearch",["$http",function(a){return{restrict:"E",replace:!0,scope:{data:"=",placeholder:"@?",single:"=?",focus:"=?"},templateUrl:"modules/search/tpls/location-search.html",controller:["$scope","LocationService",function(a,b){a.data=a.data||[],a.single&&a.data[0]&&(a.searchText=a.data[0].name),a.getLocation=function(a){return b.geoCode(a)},a.processResult=function(b){b&&(a.single?a.data[0]=b:(a.data.push(b),a.data=_.uniq(a.data,"name"),a.searchText=""))}}]}}]).directive("userSearch",["$http",function(a){return{restrict:"E",replace:!0,scope:{data:"=",single:"=?",placeholder:"@",parent:"=?",group:"@?",focus:"=?",modalCallback:"&?"},templateUrl:"modules/search/tpls/user-search.html",controller:["$scope","SearchService","UsersModalService","$mdToast",function(a,b,c,d){a.data=a.data||[],a.single&&a.data[0]&&a.data[0].name&&(a.searchText=a.data[0].name),a.search=function(c){return b.search({type:"user",key:"name",value:c}).then(function(b){var d=b.data.filter(function(b){return!_.any(a.data,{_id:b._id})});return d.push({addNew:!0,name:(0===d.length?"User not found. Invite ":"None of these? Invite ")+c,searchText:c}),d})};var e=!1;a.processResult=function(b){e===!1?b&&b.addNew?(a.create(null,b.searchText),a.searchText=""):a.single?a.data[0]=b:(_.find(a.data,"_id",b._id)?d.show(d.simple().theme("warn").content("Can't do that. "+b.profile.firstname+" has already been added")):a.data.push(b),a.data=_.uniq(a.data,"_id"),a.searchText="",e=!0):e=!1},a.create=function(b,d){var e={name:d,parentType:a.parent.type,parentId:a.parent._id,group:a.group};c.usersNew(b,e).then(function(b){a.searchText=""}).then(a.modalCallback)["catch"](a.modalCallback)}}]}}]).directive("projectSearch",function(){return{restrict:"E",replace:!0,scope:{data:"=",single:"=?",placeholder:"@?",focus:"=?"},templateUrl:"modules/search/tpls/project-search.html",controller:["$scope","SearchService",function(a,b){a.data=a.data||[],a.single&&a.data[0]&&(a.searchText=a.data[0].name),a.search=function(c){return b.search({type:"project",key:"name",value:c}).then(function(b){var c=b.data.filter(function(b){return!_.any(a.data,{_id:b._id})});return c})},a.processResult=function(b){b&&(a.single?a.data[0]=b:(a.data.push(b),a.data=_.uniq(a.data,"_id"),a.searchText=""))}}]}}).directive("fieldSearch",function(){return{restrict:"E",replace:!0,scope:{data:"=",single:"=?",placeholder:"@?",focus:"=?"},templateUrl:"modules/search/tpls/field-search.html",controller:["$scope","SearchService","FieldModalService",function(a,b,c){a.data=a.data||[],a.single&&a.data[0]&&(a.searchText=a.data[0].name),a.search=function(c){return b.search({type:"field",key:"name",value:c,match:"regex",sort:"numProjects"}).then(function(b){var d=b.data.filter(function(b){return!_.any(a.data,{_id:b._id})});return d.push({addNew:!0,name:(0===d.length?"Field not found. Create ":"None of these? Create ")+c,searchText:c}),d})},a.processResult=function(b){b&&(b.addNew?(a.create(null,b.searchText),a.searchText=""):a.single?a.data[0]=b:(a.data.push(b),a.data=_.uniq(a.data,"_id"),a.searchText=""))},a.create=function(b,d){var e={name:d};c.fieldNewModal(b,e).then(function(b){console.log(b),a.processResult(b)})}}]}}).service("SearchService",["$http",function(a){this.search=function(b){return a({url:"/api/v1/search",method:"GET",params:{type:b.type,"types[]":b.types,key:b.key,value:b.value,match:b.match||"regex",order:b.order,sort:b.sort,size:b.size,page:b.page,"select[]":b.select,location:b.location,populate:b.populate,published:b.published,parentType:b.parentType,parentId:b.parentId}})}}]);
angular.module("modules.seo",[]),angular.module("modules.seo").run(["$rootScope","$state","CoreLibrary",function(a,b,c){a.page={},a.$on("$stateChangeSuccess",function(d,e,f,g,h){function i(b){a.page.title=b.title,a.page.description=b.description,a.page.picture=b.picture}var j=b.$current.locals.resolve.$$values,k=e.$$state(),l=c.checkStateParentsSeo(k,"seo","title",j),m=c.checkStateParentsSeo(k,"seo","picture",j),n=c.checkStateParentsSeo(k,"seo","description",j),o={title:l,picture:m,description:n};i(o)})}]);
angular.module("modules.settings",[]),angular.module("modules.settings").service("SettingsService",["Restangular","$q",function(a,b){var c;this.getSettings=function(){var d=b.defer();return c?d.resolve(c):(c=d.promise,a.one("settings").get().then(function(a){c=a,c.tips=c.tips||{},c.messages=c.messages||{},c.feed=c.feed||{},c.notifications=c.notifications||{},c.emails=c.emails||{},d.resolve(c)})),d.promise},this.updatePassword=function(b,c,d){return a.one("settings").all("password").post({oldPassword:b,newPassword:c,resetToken:d}).then(function(a){return a})},this.updateEmail=function(b){return a.one("settings").all("email").post({email:b}).then(function(a){return a})},this.saveSettings=function(){return c.save()},this.reset=function(){c=void 0},this.toggleData={"added-project":{name:"Project invites",description:"When someone adds you to a project."},"added-organisation":{name:"Organisation invites",description:"When someone adds you to an organisation."},"invite-accepted":{name:"Project accept",description:"When someone accepts your invite to a project."},"followed-user-project":{name:"Followed user projects",description:"When someone you follow adds a new project."},"followed-user-blog":{name:"Followed user blogs",description:"When someone you follow posts a blog."},"followed-user-general":{name:"Followed user discussions",description:"When someone you follow starts a discussion."},"followed-user-question":{name:"Followed user questions",description:"When someone you follow asks a question."},"followed-project-blog":{name:"Followed project blogs",description:"When a blog is posted on a project you follow."},"followed-project-general":{name:"Followed project discussions",description:"When a discussion is posted on a project you follow."},"followed-project-question":{name:"Followed project questions",description:"When a question is asked on a project you follow."},"followed-field-project":{name:"Followed field projects",description:"When a project is posted to a field you follow."},"followed-field-blog":{name:"Followed field blogs",description:"When a blog is posted to a field you follow."},"followed-field-general":{name:"Followed field discussions",description:"When a discussion is posted to a field you follow."},"followed-field-question":{name:"Followed field questions",description:"When a question is asked on a field you follow."},"followed-organisation-project":{name:"Followed organisation projects",description:"When a project is posted to an organisation you follow."},"followed-organisation-blog":{name:"Followed organisation blogs",description:"When a blog is posted to an organisation you follow."},"followed-organisation-general":{name:"Followed organisation discussions",description:"When a discussion is posted to an organisation you follow."},"followed-organisation-question":{name:"Followed Organisation question",description:"When a question is asked an organisation you follow."},"followed-own-user":{name:"New follower",description:"When someone follows you."},"followed-own-project":{name:"New project follower",description:"When someone follows your project."},"followed-own-question":{name:"New question follower",description:"When someone follows your question."},"followed-own-blog":{name:"New blog follower",description:"When someone follows your blog."},"followed-own-general":{name:"New discussion follower",description:"When someone follows your discussion."},"followed-question-post":{name:"Followed question answers",description:"When someone answers a question you follow."},"followed-blog-post":{name:"Followed blog replies",description:"When someone posts in a blog you follow."},"followed-general-post":{name:"Followed discussion replies",description:"When someone posts in a discussion you follow."},"followed-project-comment":{name:"Followed project replies",description:"When someone posts in a project you follow."},"own-question-post":{name:"Question replies",description:"When someone answers your question."},"own-blog-post":{name:"Blog replies",description:"When someone posts in your blog."},"own-general-post":{name:"Discussion replies",description:"When someone posts in your discussion."},"own-question-like":{name:"Question likes",description:"When someone likes your question."},"own-blog-like":{name:"Blog likes",description:"When someone likes your blog."},"own-general-like":{name:"Discussion likes",description:"When someone likes your discussion."},"own-post-like":{name:"Post likes",description:"When someone likes your post."},"own-post-post":{name:"Post replies",description:"When someone replies to your post."},"own-project-comment":{name:"Project comments",description:"When someone posts in your project."},digest:{name:"Weekly Digests",description:"Just once a week, you'll get a community-curated list of the best space projects."},jobs:{name:"Weekly Jobs Digests",description:"Just once a week, you'll get a personalised list of the latest space jobs based on the fields you follow."},product:{name:"Product Updates",description:"We're proud of every new feature we add to STEMN, and when a new feature is ready for you, we want you to be the first to know."},"own-user-mention":{name:"Direct mentions",description:"When someone mentions you."},"own-project-mention":{name:"Project mentions",description:"When someone mentions your project."},"own-organisation-mention":{name:"Organisation mentions",description:"When someone mentions your organisation."},"own-thread-mention":{name:"Blog, question, and discussion mentions",description:"When someone mentions your blog, question, or discussion."}},this.notificationToggles=[{name:"Invites",title:"Invites",description:"When you are invited to projects.",toggles:["added-project","added-organisation"]},{name:"FollowedUserProjectCreation",title:"People and Projects you follow",description:"When something is posted by someone or a project you follow.",toggles:["followed-user-project","followed-user-blog","followed-user-general","followed-user-question","followed-project-blog","followed-project-general","followed-project-question"]},{name:"FollowedFieldOrgCreation",title:"Fields and Organisations you follow",description:"When something is posted to a field or organisation you follow.",toggles:["followed-field-project","followed-field-blog","followed-field-general","followed-field-question","followed-organisation-project","followed-organisation-blog","followed-organisation-general","followed-organisation-question"]},{name:"FollowedCreationPost",title:"Blogs, Questions and Discussion you follow",description:"When someone posts on project, blog or thread you follow.",toggles:["followed-question-post","followed-blog-post","followed-general-post","followed-project-comment"]},{name:"FollowedLikeOwnCreation",title:"Likes and Follows on your creations",description:"When others like or follow you or your creations.",toggles:["followed-own-user","followed-own-project","followed-own-blog","followed-own-general","followed-own-question","own-question-like","own-blog-like","own-general-like","own-post-like"]},{name:"OwnCreationsPost",title:"Posts on your creations",description:"When others reply to you or post on your creations.",toggles:["own-question-post","own-blog-post","own-general-post","own-project-comment","own-post-post"]},{name:"Mentions",title:"Mentions",description:"When others mention you or your creations.",toggles:["own-user-mention","own-project-mention","own-organisation-mention","own-thread-mention"]}],this.emailsToggles=[{name:"News",title:"STEMN News",description:"Friendly emails including community-curated list of the best space projects, the latest STEMN features, and occasional VIP treatment (exclusive previews, invitations to events etc.)",toggles:["digest","jobs","product"]},{name:"Invites",title:"Invites",description:"When you are invited to projects.",toggles:["added-project","added-organisation"]},{name:"FollowedOwnCreation",title:"Follows on your creations",description:"When others follow you or your creations.",toggles:["followed-own-user","followed-own-project","followed-own-question","followed-own-blog","followed-own-general"]},{name:"FollowedUserProjectCreation",title:"People and Projects you follow",description:"When something is posted by someone or a project you follow.",toggles:["followed-user-project","followed-user-blog","followed-user-general","followed-user-question","followed-project-blog","followed-project-general","followed-project-question"]},{name:"FollowedFieldOrgCreation",title:"Fields and Organisations you follow",description:"When something is posted to a field or organisation you follow.",toggles:["followed-field-project","followed-field-blog","followed-field-general","followed-field-question","followed-organisation-project","followed-organisation-blog","followed-organisation-general","followed-organisation-question"]},{name:"FollowedCreationPost",title:"Blogs, Questions and discussion you follow",description:"When someone posts on blog or thread you follow.",toggles:["followed-question-post","followed-blog-post","followed-general-post","followed-project-comment"]},{name:"OwnCreationsPost",title:"Posts on your creations",description:"When others reply to you or post on your creations.",toggles:["own-question-post","own-blog-post","own-general-post","own-project-comment","own-post-post"]},{name:"Mentions",title:"Mentions",description:"When others mention you or your creations.",toggles:["own-user-mention","own-project-mention","own-organisation-mention","own-thread-mention"]}],this.feedToggles=[{name:"FollowedUserProjectCreation",title:"People and projects you follow.",description:"When something is posted by someone or a project you follow.",toggles:["followed-user-project","followed-user-blog","followed-user-general","followed-user-question","followed-project-blog","followed-project-general","followed-project-question"]},{name:"FollowedFieldOrgCreation",title:"Fields and Organisations you follow",description:"When something is posted to a field or organisation you follow.",toggles:["followed-field-project","followed-field-blog","followed-field-general","followed-organisation-project","followed-field-question","followed-organisation-blog","followed-organisation-general","followed-organisation-question"]},{name:"FollowedCreationPost",title:"Blogs, Questions and Discussion you follow",description:"When someone posts on a blog or thread you follow.",toggles:["followed-question-post","followed-blog-post","followed-general-post"]},{name:"FollowedLikeOwnCreation",title:"Likes on your creations",description:"When others like you or your creations.",toggles:["own-question-like","own-blog-like","own-general-like","own-post-like"]},{name:"OwnCreationsPost",title:"Posts on your creations",description:"When others reply to you or post on your creations.",toggles:["own-question-post","own-blog-post","own-general-post","own-project-comment","own-post-post"]}]}]);
angular.module("modules.site-search",["modules.search"]),angular.module("modules.site-search").directive("siteSearch",function(){return{restrict:"E",templateUrl:"modules/site-search/tpls/site-search.html",scope:{},controller:["$scope","$timeout","$state","$document","$element","CoreLibrary","SearchService",function(a,b,c,d,e,f,g){function h(){b.cancel(o),a.search?o=b(function(){l(),a.fullResults=[],g.search({types:["project","field","user","thread","organisation","job"],key:"name",value:a.search,size:3,page:1,populate:!1,select:["name","picture","stub","type"]}).then(function(b){var c=f.groupByKey(b.data,"entityType");c.creations=c.creations||[],c.thread=c.thread||[],c.project=c.project||[],c.project&&c.project.length>0?c.creations=c.project.concat(c.thread):c.thread&&c.thread.length>0&&(c.creations=c.thread),c.creations&&(c.creations=c.creations.splice(0,3)),_.forEach(c,function(b,c){a.results[c]=a.results[c]||[],f.assignArray(a.results[c],b,"_id")}),0===b.data.length&&_.forEach(a.results,function(a){a&&f.assignArray(a,[],"_id")})})},p):k()}function i(){a.fullResults=[],a.fullResults=a.fullResults.concat(a.results.creations,a.results.user,a.results.organisation,a.results.field,a.results.job)}function j(a,b){"user"===b?c.go("app.user.profile",{stub:a},{inherit:!1}):"project"===b?c.go("app.project.overview",{stub:a},{inherit:!1}):"organisation"===b?c.go("app.organisation.overview",{stub:a},{inherit:!1}):"field"===b?c.go("app.field.top",{stub:a},{inherit:!1}):"blog"===b?c.go("app.blog",{stub:a},{inherit:!1}):"general"===b?c.go("app.thread",{stub:a},{inherit:!1}):"question"===b?c.go("app.thread",{stub:a},{inherit:!1}):"job"===b&&c.go("app.job",{stub:a},{inherit:!1}),k()}function k(){d.off("mousedown",m),a.showResults=!1}function l(){d.off("mousedown",m),d.on("mousedown",m),a.showResults=!0}function m(b){var c=b.target;if(!angular.element(c).hasClass("showResultsOnClick")){var d=angular.element(c).parents(".showResultsOnClick")[0];d||(k(),a.$apply())}}function n(){d.off("mousedown",m)}var o,p=300;a.results={},a.hidePanel=k,a.goToResult=j,a.$watch("search",h),a.$watch("results",i,!0),a.$watch("showResults",i,!0),a.$on("$destroy",n)}]}});
angular.module("modules.skills",[]),angular.module("modules.skills").directive("userSkills",function(){return{restrict:"E",scope:{user:"=",activeFields:"="},templateUrl:"modules/skills/tpls/user-skills.html",controller:["$scope","$http","EntityService","SkillsService",function(a,b,c,d){function e(a){_.forEach(a,function(a){-1!=f.indexOf(a._id)&&(a.active=!0)})}var f=_.map(a.activeFields,"_id");a.tags=a.user.profile.profileDetails.skills.concat(a.user.profile.profileDetails.technologies),d.getSkills(a.user._id).then(function(b){var c=b.data;a.unclassifiedFields=d.createFieldsFromEvidence(c)}),e(a.tags)}]}}).directive("evidencedFields",function(){return{restrict:"E",scope:{user:"=",edit:"=",activeFields:"="},templateUrl:"modules/skills/tpls/evidenced-fields.html",controller:["$scope","$http","EntityService","SkillsService",function(a,b,c,d){function e(){d.getSkills(a.user._id).then(function(b){f=b.data,a.unclassifiedFields=d.createFieldsFromEvidence(f),d.mergeEvidencedSkills(a.user.profile.profileDetails.skills,f,a.unclassifiedFields),d.mergeEvidencedSkills(a.user.profile.profileDetails.technologies,f,a.unclassifiedFields),a.$watch("user.profile.profileDetails.skills",function(b,c){b.length!=c.length&&d.mergeEvidencedSkills(a.user.profile.profileDetails.skills,f,a.unclassifiedFields)},!0),a.$watch("user.profile.profileDetails.technologies",function(b,c){b.length!=c.length&&d.mergeEvidencedSkills(a.user.profile.profileDetails.technologies,f,a.unclassifiedFields)},!0),d.populateFields(a.unclassifiedFields)})}var f;e()}]}}).service("SkillsService",["HttpService","LocalCache","Authentication","$http","EntityService",function(a,b,c,d,e){function f(d){var e=function(b){return a({url:"/api/v1/social",method:"GET",params:{socialType:"skill","parentIds[]":b,childId:c.currentUser._id}})};return b.getPackaged("skills-status",d,e)}function g(a){return d({url:"api/v1/users/"+a+"/skills",method:"GET"})}function h(a,b,c){b&&_.forEach(a,function(a){if(b[a._id]){a.evidence=b[a._id],a.noDelete=!0;var d=_.findIndex(c,{_id:a._id});-1!=d&&c.splice(d,1)}})}function i(a){_.forEach(a,function(a){e.get("field",a._id,"sm").then(function(b){_.extend(a,b)})})}function j(a){return _.map(a,function(a,b){return{_id:b,evidence:a,noDelete:!0}})}this.getStatus=f,this.getSkills=g,this.mergeEvidencedSkills=h,this.populateFields=i,this.createFieldsFromEvidence=j}]);
angular.module("modules.smooch",[]),angular.module("modules.smooch").directive("smoochIcon",function(){return{restrict:"E",templateUrl:"modules/smooch/tpls/smooch-icon.html",controller:["$scope","$timeout","$rootScope","Authentication","$dynamicFooter","LayoutOptions",function(a,b,c,d,e,f){function g(){window.Smooch&&d.currentUser.isLoggedIn()&&(window.Smooch.updateUser({givenName:d.currentUser.firstname,surname:d.currentUser.lastname,email:d.currentUser.email}),window.Smooch.login(d.currentUser._id))}a.$dynamicFooter=e,a.LayoutOptions=f,a.openSmooch=function(){window.Smooch&&window.Smooch.open()},b(g,2e3),c.$on("authentication.logIn",function(){g()}),c.$on("authentication.logOut",function(){window.Smooch&&window.Smooch.logout()})}]}});
angular.module("modules.social-media",["modules.authentication"]),angular.module("modules.social-media").service("SocialModalService",["$mdDialog",function(a){function b(b,c){return a.show({templateUrl:"modules/social-media/tpls/social-prompt-modal.html",controller:["$scope","$mdDialog","data",function(a,b,c){a.data=c,a.cancel=b.hide}],targetEvent:b,clickOutsideToClose:!0,locals:{data:c}})}this.sharePrompt=b}]).directive("socialShareButton",["Authentication",function(a){return{restrict:"E",templateUrl:"modules/social-media/tpls/social-share-button.html",scope:{title:"@?",summary:"@?",root:"@?"},controller:["$scope","$rootScope","$location",function(b,c,d){if("true"==b.root)b.url="https://stemn.com/",b.ref=a.currentUser.ref,b.ref&&(b.url=b.url.concat("?ref="+a.currentUser.ref));else{b.url=d.absUrl();var e=b.url.indexOf("?edit=")||b.url.indexOf("&edit=");e&&(b.url=b.url.substring(0,e))}b.title=b.title||c.page.title,b.summary=b.summary||c.page.description,b.shares=[{title:"Share to Facebook",icon:"fa-facebook",href:"https://www.facebook.com/sharer/sharer.php?u="+b.url},{title:"Share to Twitter",icon:"fa-twitter",href:"https://twitter.com/home?status="+b.summary+"%20%20@stem_network%20"+b.url},{title:"Share to Linkedin",icon:"fa-linkedin",href:"https://www.linkedin.com/shareArticle?mini=true&url="+b.url+"&title="+b.title+"&summary="+b.summary+"&source="}]}]}}]).directive("socialShareButtons",["Authentication",function(a){return{restrict:"E",templateUrl:"modules/social-media/tpls/social-share-buttons.html",scope:{title:"@?",summary:"@?",root:"@?",tiles:"=?",ref:"@?"},controller:["$scope","$rootScope","$location",function(a,b,c){if("true"==a.root)a.url="https://stemn.com/",a.ref&&(a.url=a.url.concat("?ref="+a.ref));else{a.url=c.absUrl();var d=a.url.indexOf("?edit=")||a.url.indexOf("&edit=");d&&(a.url=a.url.substring(0,d))}a.title=a.title||b.page.title,a.summary=a.summary||b.page.description,a.summaryShort=a.summary.slice(0,120)+"... ",a.shareDetails=[{title:"Share to twitter",icon:"twitter",href:"https://twitter.com/home?status="+a.summaryShort+"%20%20@stem_network%20"+a.url},{title:"Share to linkedin",icon:"linkedin",href:"https://www.linkedin.com/shareArticle?mini=true&url="+a.url+"&title="+a.title+"&summary="+a.summaryShort+"&source="},{title:"Share to facebook",icon:"facebook",href:"https://www.facebook.com/sharer/sharer.php?u="+a.url}],a.tiles?a.shares=a.shareDetails:a.shares=[a.shareDetails[0],a.shareDetails[2]]}]}}]).directive("socialLinks",["$timeout",function(a){return{restrict:"E",scope:{data:"=",edit:"=?",type:"@?",showEdit:"=?",saveFn:"&?"},templateUrl:"modules/social-media/tpls/social-links.html",controller:["$scope","$mdDialog",function(b,c){function d(d){c.show({templateUrl:"modules/social-media/tpls/social-links-modal.html",controller:["data","type","$scope",function(a,b,d){d.data=angular.copy(a),d.type=b,d.confirm=function(){c.hide(d.data)},d.cancel=function(){c.cancel()}}],locals:{data:b.data,type:b.type},targetEvent:event}).then(function(c){b.data=c,a(b.saveFn,0)})}b.data||(b.data={}),b.type||(b.type="user"),"user"==b.type?b.linkOrder=["website","twitter","facebook","linkedin","github","google","stack","youtube"]:"project"==b.type?b.linkOrder=["website","twitter","facebook","github","youtube"]:"organisation"==b.type?b.linkOrder=["website","twitter","facebook","linkedin","youtube"]:console.log("Error - Social links Type must be defined"),b.editModal=d,b.links={website:{base:"http://",alt:"http://",icon:"fa-globe"},twitter:{base:"https://twitter.com/",icon:"fa-twitter"},facebook:{base:"http://facebook.com/",icon:"fa-facebook"},linkedin:{base:"http://linkedin.com/",icon:"fa-linkedin"},github:{base:"https://github.com/",icon:"fa-github"},google:{base:"http://plus.google.com/",icon:"fa-google-plus"},stack:{base:"http://stackoverflow.com/",icon:"fa-stack-overflow"},youtube:{base:"http://youtube.com/",icon:"fa-youtube-play"}}}]}}]);
angular.module("modules.socket",[]),angular.module("modules.socket").service("SocketService",["$rootScope",function(a){function b(){}function c(){}this.on=b,this.emit=c}]);
angular.module("modules.sortable",["ng-sortable"]),angular.module("modules.sortable"),function(a){"use strict";window.angular&&window.Sortable?a(angular,Sortable):"function"==typeof define&&define.amd&&define(["angular","./Sortable"],a)}(function(a,b){"use strict";a.module("ng-sortable",[]).constant("version","0.3.7").directive("ngSortable",["$parse",function(c){function d(b){var d=a.element(b).scope(),e=[].filter.call(b.childNodes,function(a){return 8===a.nodeType&&-1!==a.nodeValue.indexOf("ngRepeat:")})[0];if(!e)return null;e=e.nodeValue.match(/ngRepeat:\s*(?:\(.*?,\s*)?([^\s)]+)[\s)]+in\s+([^\s|]+)/);var f=c(e[1]),g=c(e[2]);return{item:function(b){return f(a.element(b).scope())},items:function(){return g(d)}}}var e,f;return{restrict:"AC",link:function(c,g,h){function i(a,b){var c="on"+a.type.charAt(0).toUpperCase()+a.type.substr(1);n[c]&&n[c]({model:b||o&&o.item(a.item),models:o&&o.items(),oldIndex:a.oldIndex,newIndex:a.newIndex})}function j(b){if(o){var g=b.oldIndex,h=b.newIndex,i=o.items();if(l!==b.from){var j=d(b.from),k=j.items();g=k.indexOf(j.item(b.item)),e=k[g],b.clone?(b.from.removeChild(b.clone),e=a.copy(e)):k.splice(g,1),i.splice(h,0,e),b.from.insertBefore(b.item,f)}else i.splice(h,0,i.splice(g,1)[0]);c.$apply()}}var k,l=g[0],m=h.ngSortable,n=c.$eval(m)||{},o=d(l);k=b.create(l,Object.keys(n).reduce(function(a,b){return a[b]=a[b]||n[b],a},{onStart:function(a){f=a.item.nextSibling,i(a),c.$apply()},onEnd:function(a){i(a,e),c.$apply()},onAdd:function(a){j(a),i(a,e),c.$apply()},onUpdate:function(a){j(a),i(a)},onRemove:function(a){i(a,e)},onSort:function(a){i(a)}})),g.on("$destroy",function(){k.destroy(),k=null,f=null}),m&&!/{|}/.test(m)&&a.forEach(["sort","disabled","draggable","handle","animation","onStart","onEnd","onAdd","onUpdate","onRemove","onSort"],function(a){c.$watch(m+"."+a,function(b){void 0!==b&&(n[a]=b,/^on[A-Z]/.test(a)||k.option(a,b))})})}}}])});
angular.module("modules.state-history",[]),angular.module("modules.state-history").run(["$rootScope","StateHistoryService",function(a,b){a.$on("$stateChangeSuccess",b.processStateChange)}]).service("StateHistoryService",function(){function a(a,c){b.stateHistory.push({name:c.name,params:c.params})}var b=this;this.stateHistory=[],this.processStateChange=a});
angular.module("modules.statistics",["modules.authentication"]),angular.module("modules.statistics").directive("statButton",function(){return{restrict:"E",replace:"true",scope:{parentId:"@?",parentType:"@?",type:"@",count:"=?",displayStyle:"@?",entityText:"@?"},templateUrl:"modules/statistics/tpls/stat-button.html",controller:["$scope","Authentication","StatButtonTypes","$element","FollowLikeService","LocalCache",function(a,b,c,d,e,f){function g(){a.parentId==b.currentUser._id&&d.addClass("vishidden")}a.hover=!1,b.currentUser._id&&a.$watch("parentId",function(b,c){if(a.parentId){g();var d=e.convertTypes(a.parentType,a.type);a.parentType=d.parentType,a.type=d.type,e.checkStatus(a).then(function(b){a.itemStatus=b})}}),a.types=c,a.clickButton=function(){var b=e.convertTypes(a.parentType,a.type);a.parentType=b.parentType,a.type=b.type,a.itemStatus.status?a.itemStatus&&(a.itemStatus.status=!1,e.unfollowLike(a)):(a.itemStatus.status=!0,e.followLike(a)),a.hover=!1}}]}}).service("FollowLikeService",["HttpService","LocalCache","EntityService","Restangular","Authentication","StatButtonTypes","$q","$mdToast","$timeout","$mdDialog",function(a,b,c,d,e,f,g,h,i,j){function k(a,b){return("thread"==a||"question"==a||"blog"==a||"discussion"==a||"general"==a)&&(a="thread"),{parentType:a,type:b}}function l(c){if(!e.currentUser._id||!c.parentType||!c.type)return void console.error("Error - Invalid follow inputs");var d=function(b){return a({url:"/api/v1/social",method:"GET",params:{childId:e.currentUser._id,"parentIds[]":b,socialType:c.type}})};return b.getPackaged("social-"+e.currentUser._id+"-"+c.type,c.parentId,d)}function m(a){d.one("users",e.currentUser._id).one(a.type+"s",a.parentId).put().then(function(){a.count++,b.save("social-"+e.currentUser._id+"-"+a.type,{_id:a.parentId,status:!0}),c.get(a.parentType,a.parentId,"sm").then(function(b){var c="post"==a.parentType?"'s post.":"";h.show({controller:["$scope","$mdToast",function(a,c){a.entityName=b.name||b.owner.name}],template:"<md-toast><span flex>You have "+f[a.type].doVerb+" <b>{{entityName | letters: 20}}</b>"+c+"</span></md-toast>",hideDelay:2e3})})})}function n(a){d.one("users",e.currentUser._id).one(a.type+"s",a.parentId).remove().then(function(){a.count--,b.save("social-"+e.currentUser._id+"-"+a.type,{_id:a.parentId,status:!1}),c.get(a.parentType,a.parentId,"sm").then(function(b){var c="post"==a.parentType?"'s post.":"";h.show({controller:["$scope","$mdToast",function(a,c){a.entityName=b.name||b.owner.name}],template:'<md-toast class="md-orange-theme"><span flex>You have '+f[a.type].undoVerb+" <b>{{entityName | letters: 20}}"+c+"</b></span></md-toast>",hideDelay:2e3})})})}this.followLike=m,this.unfollowLike=n,this.checkStatus=l,this.convertTypes=k}]).directive("statDisplayModal",function(){return{restrict:"A",scope:{parentId:"@?",parentType:"@?",type:"@?"},controller:["$scope","$element","$mdDialog","$timeout","FollowLikeService",function(a,b,c,d,e){b.bind("click",function(b){var d=e.convertTypes(a.parentType,a.type);a.parentType=d.parentType,a.type=d.type;var f={like:"Likers",follow:"Followers",vote:"Likers"},g={parentId:a.parentId,parentType:a.parentType,type:a.type,title:f[a.type]};return c.show({templateUrl:"modules/statistics/tpls/stat-display-modal.html",targetEvent:b,locals:{data:g},controller:["data","$scope","$mdDialog",function(a,b,c){b.data=a,b.cancel=function(){c.cancel()}}]})})}]}}).directive("statDisplay",function(){return{restrict:"E",scope:{parentId:"@?",parentType:"@?",type:"@?",refreshCallback:"=?"},templateUrl:"modules/statistics/tpls/stat-display.html",controller:["$scope","$element","Restangular",function(a,b,c){var d=1,e=12;a.results=[],a.more=function(){c.one(a.parentType+"s",a.parentId).all(a.type+"s").getList({page:d,size:e,type:a.parentType}).then(function(b){a.results=a.results.concat(b),b.length<e?(a.loading=!0,a.noMoreResults=!0):a.loading=!1,d++})},a.refreshCallback=function(){d=1,a.results=[],a.more()}}]}}).directive("statCounter",function(){return{restrict:"E",scope:{parentId:"@?",parentType:"@?",type:"@?",count:"="},template:'<a stat-display-modal parent-id="{{parentId}}" parent-type="{{parentType}}" type="{{type}}" ng-if="count>0">{{count}} {{count==1 ? "person" : "people"}} {{::title}} this</a>',link:function(a,b,c){var d={like:"liked",follow:"followed",vote:"liked"};a.title=d[a.type]}}}).service("StatButtonTypes",["$rootScope",function(a){return{like:{inactive:{usual:{text:"Like",icon:"heart"},hover:{text:"Like",icon:"heart"}},active:{usual:{text:"Liked",icon:"heart-filled"},hover:{text:"Unlike",icon:"heart-filled"}},doVerb:"liked",undoVerb:"unliked"},follow:{inactive:{usual:{text:"Follow",icon:"add-circle-outline"},hover:{text:"Follow",icon:"add-circle-outline"}},active:{usual:{text:"Following",icon:"add-circle"},hover:{text:"Following",icon:"add-circle"}},doVerb:"followed",undoVerb:"unfollowed"},vote:{inactive:{usual:{text:"Like",icon:"heart"},hover:{text:"Like",icon:"heart"}},active:{usual:{text:"Liked",icon:"heart-filled"},hover:{text:"Unlike",icon:"heart-filled"}},doVerb:"liked",undoVerb:"unliked"}}}]).service("FollowService",["HttpService",function(a){this.getFollowing=function(b){return a({method:"GET",url:"api/v1/users/"+b.user+"/following",params:{type:b.type,page:b.page,size:b.size}})}}]);
angular.module("modules.tab-dropdown",[]),angular.module("modules.tab-dropdown").directive("tabDropdown",["$compile","$document","$timeout",function(a,b,c){return{restrict:"A",scope:{tabDropdown:"="},link:function(d,e,f){function g(a){b.bind("click touchstart",function(b){a.remove(),h()})}function h(){b.unbind("click touchstart")}function i(a){var b=e[0].getBoundingClientRect();a.css({position:"fixed",top:b.top,left:b.left,right:window.innerWidth-b.right})}function j(){var b=angular.element('<tab-dropdown><div ng-repeat="item in tabDropdown"><a>{{item.name}}</a></div></tab-dropdown>');return a(b)(d),angular.element(document.body).append(b),b}e.bind("click",function(a){var b=j();i(b),c(function(){g(b)},10)})}}}]);
angular.module("modules.tables",[]),angular.module("modules.tables").directive("filterColumnOrder",["$parse","$stateParams",function(a,b){return{restrict:"A",scope:{filterObject:"=",filterModel:"@",filterReverse:"=?",filterQuery:"=?"},link:function(a,b,c){b.bind("click",function(b){a.filterObject.model==a.filterModel&&a.filterReverse?a.filterObject.reverse=!a.filterObject.reverse:(a.filterObject.model=a.filterModel,a.filterObject.reverse=!1),a.filterObject.onChange&&a.filterObject.onChange({model:a.filterObject.model,reverse:a.filterObject.reverse});var c=a.filterObject.query||a.filterQuery;c&&(c.params.sort=a.filterObject.model,c.params.order=a.filterObject.reverse?"asc":"dsc",c.updateQueryParams(),c.refresh()),a.$apply()}),a.$watch("filterObject",function(){a.filterObject.model==a.filterModel?a.filterObject.reverse===!0?(b.addClass("up"),b.removeClass("down")):a.filterObject.reverse===!1&&(b.addClass("down"),b.removeClass("up")):(b.removeClass("down"),b.removeClass("up"))},!0)}}}]);
angular.module("modules.tabs",[]),angular.module("modules.tabs").directive("textTabs",["$timeout",function(a){return{restrict:"AC",transclude:!0,templateUrl:"modules/tabs/tpls/tabs.html",link:function(b,c,d){function e(){f[0].scrollLeft+f[0].offsetWidth+g>f[0].scrollWidth?c.removeClass("isNotEnded"):c.addClass("isNotEnded"),f[0].scrollLeft>g?c.addClass("isNotStart"):c.removeClass("isNotStart")}var f=angular.element(c.children()[1]),g=10;a(e,1),f.bind("scroll",e)}}}]);
angular.module("modules.tags",["modules.popup-cards"]),angular.module("modules.tags").directive("tags",function(){return{restrict:"E",replace:!0,scope:{tags:"=",type:"@?",size:"@?",edit:"=?",image:"=?",limit:"=?",evidence:"=?",status:"=?",dropArea:"=?"},templateUrl:"modules/tags/tpls/tags.html",link:function(a,b,c){var d="modules/tags/tpls/types/";a.edit?a.template=d+"tag-edit.html":a.template=d+a.type+".html"},controller:["$scope","CoreLibrary","SkillsService","Authentication",function(a,b,c,d){a.limit=a.limit||"1000",a.delTag=function(b){a.tags.splice(b,1)},a.sortableConfig={handle:".my-handle",animation:150,group:a.type,onAdd:function(a){b.uniqueArray(a.models,"_id")}},a.status&&"field"==a.type&&d.currentUser._id&&_.forEach(a.tags,function(a){c.getStatus(a._id).then(function(b){a.active=b.status})})}]}}).service("TagsModalService",["$mdDialog",function(a){this.editTags=function(b,c){return a.show({templateUrl:"modules/tags/tpls/tags-edit-modal.html",controller:"TagsEditModalCtrl",targetEvent:b,locals:{data:c}})}}]).controller("TagsEditModalCtrl",["data","$scope","$mdDialog",function(a,b,c){b.data=angular.copy(a),b.cancel=function(){c.cancel()},b.save=function(){c.hide(b.data)}}]);
angular.module("modules.toc",[]),angular.module("modules.toc").directive("tocContent",function(){return{restrict:"A",scope:{tocPrepend:"=?",tocAppend:"=?",tocContent:"=",tocRefresh:"=?"},controller:["$scope","$document","$timeout","$element",function(a,b,c,d){function e(){var b=angular.copy(a.tocPrepend)||[];angular.forEach(d[0].querySelectorAll("h2,h3"),function(a){var c=(65536*(1+Math.random())|0).toString(16).substring(1);a.id=c;var d={id:c,level:a.tagName,label:":"===angular.element(a).text().slice(-1)?angular.element(a).text().slice(0,-1):angular.element(a).text(),element:a};d.label.length>2&&b.push(d)}),b=b.concat(a.tocAppend),a.tocContent=b}a.$watch("tocRefresh",function(){a.tocRefresh&&c(e,0)})}]}}).directive("tocNav",function(){return{restrict:"E",scope:{sections:"="},templateUrl:"modules/toc/tpls/toc.html",controller:["$scope","$document",function(a,b){}]}});
angular.module("modules.top-banner",[]),angular.module("modules.top-banner").directive("topBanner",function(){return{restrict:"E",replace:!0,templateUrl:"modules/top-banner/tpls/top-banner.html",scope:{},controller:["$rootScope","$stateParams","$scope","$timeout","TopBannerService","AuthenticationModalService","Authentication","$state","$http","$mdToast","OnboardingService",function(a,b,c,d,e,f,g,h,i,j,k){function l(){i.get("/api/v1/account/reverify"),c.resendVerificationDisabled=!0,c.resendVerificationCount++,d(function(){c.resendVerificationDisabled=!1},5e3),j.show({controller:["$scope","$mdToast",function(a,b){a.closeToast=function(){b.hide()},a.currentUser=g.currentUser}],template:'<md-toast><span flex>Email sent to {{currentUser.email}}</span><md-button ui-sref="app.usersettings.account" ng-click="closeToast()">Change Email</md-button></md-toast>',hideDelay:8e3,position:"bottom left"})}c.TopBannerService=e,c.currentUser=g.currentUser,c.$on("authentication.logIn",c.TopBannerService.hideBanner),c.$on("authentication.logOut",c.TopBannerService.showBanner),c.resendVerification=l,c.resendVerificationDisabled=!1,c.resendVerificationCount=0,c.signup=f.login,c.learnMore=k.goToLanding}]}}).service("TopBannerService",function(){function a(){d.banner.open=!0,e.addClass("top-banner-open")}function b(){d.banner.open=!1,e.removeClass("top-banner-open")}function c(){d.banner.open=!1,d.banner.closed=!0,e.removeClass("top-banner-open")}var d=this,e=angular.element(document.body);this.banner={open:!1,closed:!1},this.showBanner=a,this.hideBanner=b,this.closeBanner=c});
angular.module("modules.transition-overlay",[]),angular.module("modules.transition-overlay").directive("transitionOverlay",["$rootScope",function(a){return{restrict:"E",scope:{},replace:!0,template:'<div class="transition-overlay" ng-show="OverlayService.transitionOverlay.show"></div>',controller:["$scope","$rootScope","OverlayService",function(a,b,c){a.OverlayService=c,b.$on("$stateChangeStart",function(){c.transitionOverlay.show=!0}),b.$on("$stateChangeSuccess",function(){c.transitionOverlay.show=!1}),b.$on("$stateChangeError",function(){c.transitionOverlay.show=!1})}]}}]).service("OverlayService",function(){this.transitionOverlay={show:!1}});
angular.module("modules.upload-files",[]),angular.module("modules.upload-files").directive("uploadFilesDisplay",["FileUploadService","UploadsModalService",function(a,b){return{restrict:"E",templateUrl:"modules/upload-files/tpls/upload-files-display.html",scope:{edit:"=",files:"="},controller:["$scope",function(b){function c(a){b.files.splice(a,1)}b.files=b.files||[],b.sortableConfig={handle:".my-handle",draggable:".draggable",group:"files",animation:150,onSort:function(a){_.forEach(a.models,function(b,c){b&&b.url||a.models.splice(c,1)})}},b.uploader=a.generalFileUploader(),b.uploader.onCompleteItem=function(a,c,d,e){var f=a.file.name.split(".");a.file.type=f[f.length-1],b.files.push(a.file)},b["delete"]=c}]}}]).directive("uploadedFile",["$mdDialog",function(a){return{restrict:"E",templateUrl:"modules/upload-files/tpls/uploaded-file.html",controller:["$scope",function(b){function c(c){a.show({templateUrl:"modules/upload-files/tpls/uploaded-file-edit-modal.html",controller:["data","$scope",function(b,c){c.data=angular.copy(b),c.cancel=function(){a.cancel()},c["delete"]=function(){a.hide("delete")},c.save=function(){c.LinkForm.$valid&&a.hide(c.data)}}],targetEvent:c,locals:{data:b.file}}).then(function(a){"delete"==a?b["delete"](b.$index):b.file=a})}b.editFile=c}]}}]);
angular.module("modules.uploads",["modules.upload-files"]),angular.module("modules.uploads").directive("uploadImage",["$compile","UploadsModalService","$timeout","FileUploadService",function(a,b,c,d){return{restrict:"E",trasclude:"true",scope:{image:"=",direct:"=?",icon:"=?",circle:"=?",noOverlay:"=?"},link:function(e,f,g){var h=angular.element(f.children()[0]);c(function(){e.noOverlay||h.addClass("darken-image"),f.css({cursor:"pointer"})});var i;e.direct?(e.uploader=d.uploader(),e.uploader.onCompleteItem=function(a,b,c,d){a.file.url&&"false"!=a.file.url&&(e.image=a.file.url)},i=angular.element('<label class="btn-upload" layout="column" layout-align="center center" ng-class="{\'img-circle\' : circle}" style="overflow: hidden;"><input type="file" accept=".png, .jpg, .jpeg, .gif" class="upload" nv-file-select="" uploader="uploader" /><md-icon ng-show="icon" style="color: #FFF;" class="upload-icon" md-svg-icon="upload"></md-icon><loading-overlay ng-if="uploader.progress > 0 && uploader.progress < 100" determinate="uploader.progress"></loading-overlay><loading-overlay ng-if="uploader.progress == 100 && !uploader.queue[uploader.queue.length-1].file.url"></loading-overlay></label>')):i=angular.element('<md-icon ng-show="icon" style="color: #FFF;" class="upload-icon" md-svg-icon="upload"></md-icon>'),f.append(i),a(i)(e),f.bind("click",function(a){e.direct||b.uploadImageNewModal(a,e.image).then(function(a){e.image=a.url})})}}}]).directive("clickUploadImage",["UploadsModalService",function(a){return{restrict:"A",scope:{image:"="},link:function(b,c,d){c.bind("click",function(c){a.uploadImageNewModal(c).then(function(a){b.image=a.url})})}}}]).service("UploadsModalService",["$mdDialog",function(a){this.uploadImageNewModal=function(b,c){return a.show({templateUrl:"modules/uploads/tpls/upload-image-new-modal.html",controller:"UploadImageNewModalCtrl",targetEvent:b,clickOutsideToClose:!0,locals:{data:c}})},this.uploadImagesNewModal=function(b,c){return a.show({templateUrl:"modules/uploads/tpls/upload-images-new-modal.html",controller:"UploadImagesNewModalCtrl",targetEvent:b,locals:{data:c}})},this.uploadFiles=function(b,c){return a.show({templateUrl:"modules/uploads/tpls/upload-files-modal.html",controller:"UploadFilesModalCtrl",targetEvent:b,clickOutsideToClose:!0,locals:{data:c}})}}]).controller("UploadImageNewModalCtrl",["data","$scope","$mdDialog","FileUploadService",function(a,b,c,d){function e(){c.hide({url:""})}b.currentImage=a,b.cancel=function(){c.cancel()},b.remove=e,b.uploader=d.uploader(),b.uploader.onCompleteItem=function(a,b,d,e){var f={url:b.url,width:b.width,height:b.height};c.hide(f)}}]).controller("UploadImagesNewModalCtrl",["data","$scope","$mdDialog","FileUploadService",function(a,b,c,d){b.images=angular.copy(a),b.sortableConfig={animation:150},b.remove=function(a){b.images.splice(a,1)},b.cancel=function(){c.cancel()},b.save=function(){c.hide(b.images)},b.uploader=d.uploader(),b.uploader.onCompleteItem=function(a,c,d,e){b.images.push({url:a.file.url})}}]).controller("UploadFilesModalCtrl",["data","$scope","$mdDialog","FileUploadService",function(a,b,c,d){var e=[];b.cancel=function(){c.cancel()},b.uploader=d.generalFileUploader(),b.uploader.onCompleteItem=function(a,d,f,g){var h=a.file.name.split(".");a.file.type=h[h.length-1],e.push(a.file),100==b.uploader.progress&&c.hide(e)}}]).service("FileUploadService",["FileUploader","$mdToast","Authentication","$state","$stateParams",function(a,b,c,d,e){function f(a,c,d,e){b.show(b.simple().theme("warn").content("Something went wrong, your file was not uploaded."))}function g(a,b,c,d){a.file.url=b.url}this.uploader=function(){var b=new a({url:"/api/v1/uploads",autoUpload:!0,headers:{Authorization:"Bearer "+c.getToken()},formData:[{state:d.current.name},{params:JSON.stringify(e)}]});return b.filters.push(h),b.filters.push(j),b.onSuccessItem=g,b.onErrorItem=f,b},this.generalFileUploader=function(){var b=new a({url:"/api/v1/uploads/files",autoUpload:!0,headers:{Authorization:"Bearer "+c.getToken()},formData:[{state:d.current.name},{params:JSON.stringify(d.current.params)}]});return b.filters.push(j),b.onSuccessItem=g,b.onErrorItem=f,b},this.documentFileUploader=function(){var b=new a({url:"/api/v1/uploads/files",autoUpload:!0,headers:{Authorization:"Bearer "+c.getToken()},formData:[{state:d.current.name},{params:JSON.stringify(d.current.params)}]});return b.filters.push(i),b.filters.push(j),b.onSuccessItem=g,b.onErrorItem=f,b},this.FileItem=a.FileItem;var h={name:"imageFilter",types:"|jpg|png|jpeg|bmp|gif|",fn:function(a,c){var d="|"+a.type.slice(a.type.lastIndexOf("/")+1)+"|";return-1=="|jpg|jpeg|png|bmp|gif|".indexOf(d)?(b.show(b.simple().theme("warn").content("We only accept jpg, png, bmp, and gif.")),!1):!0}},i={name:"documentFilter",fn:function(a,c){var d=("|"+a.type.slice(a.type.lastIndexOf("/")+1)+"|",a.name.split("."));return"docx"!=d[d.length-1]?(b.show(b.simple().theme("warn").content("Invalid file. We only accept .docx")),!1):!0}},j={name:"fileSize",fn:function(a){return a.size>10485760?(b.show(b.simple().theme("warn").content("File too large. Try and keep it under 10MB would ya?")),!1):!0}}}]).service("ImageCropService",function(){return{image:""}}).controller("CropCtrl",["$scope","ImageCropService",function(a,b){a.myImage=b.image,a.myCroppedImage="",a.ImageCropService=b,a.EndCrop=function(c){b.image=a.myCroppedImage};var c=function(b){var c=b.currentTarget.files[0],d=new FileReader;d.onload=function(b){a.$apply(function(a){a.myImage=b.target.result})},d.readAsDataURL(c)};angular.element(document.querySelector("#fileInput")).on("change",c)}]);
angular.module("modules.user-subdomain",[]),angular.module("modules.user-subdomain").directive("userSubdomainInput",function(){return{restrict:"E",scope:{displayType:"@?",username:"=?"},templateUrl:"modules/user-subdomain/tpls/user-subdomain-input.html",controller:"userSubdomainCtrl"}}).controller("userSubdomainCtrl",["$scope","$state","$timeout","$mdToast","CoreLibrary","SearchService","EntityService","AuthenticationModalService","Authentication","UserSubdomainService",function(a,b,c,d,e,f,g,h,i,j){function k(b){b&&(a.formModel.username=e.stubify(b),a.formModel.username&&f.search({type:"user",key:"stub",value:a.formModel.username,match:"insensitive",published:"both"}).then(function(b){0===b.data.length?a.forms.GetSubdomainForm.subdomain.$setValidity("nameexists",!0):a.forms.GetSubdomainForm.subdomain.$setValidity("nameexists",!1)}))}a.checkUsernameExists=k,a.forms={},a.formModel={username:angular.copy(a.username)},a.submit=function(){if(a.forms.GetSubdomainForm.subdomain.$valid)if(i.currentUser.isLoggedIn())j.username=a.formModel.username,j.saveUsername(i.currentUser._id).then(function(){a.username=angular.copy(a.formModel.username),g.updateSuccess(),a.forms.GetSubdomainForm.$setPristine()});else{j.username=a.formModel.username;var b={title:"Sign in to claim",subtitle:"Your domain will be "+j.username+".stemn.com"};h.login(null,b)}else d.show(d.simple().theme("warn").content("That domain is not available."))}}]).service("UserSubdomainService",["Restangular","LocalCache","$rootScope",function(a,b,c){function d(d){return e.username?a.one("users",d).get().then(function(a){return a.profile.username=e.username,a.stub=e.username,b.save("userlg",a),c.$broadcast("user.save"),a.put()}):void 0}var e=this;this.username="",this.saveUsername=d}]);
angular.module("modules.user-widgets",["modules.checklist","modules.feed"]),angular.module("modules.user-widgets").directive("userPortfolioWidget",["$state","$timeout","$window","OrganisationModalService","UserService","ProjectModalService","UserWidgetService","UserWidgetModalService","FeedService",function(a,b,c,d,e,f,g,h,i){return{restrict:"E",templateUrl:"modules/user-widgets/tpls/user-portfolio-widget.html",controller:["$scope","Authentication",function(a,b){}]}}]).directive("userCompletionWidget",["$timeout","$window","UserService","ProjectModalService","UserWidgetService","UserWidgetModalService",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"modules/user-widgets/tpls/user-completion-widget.html",scope:{displayType:"@?",completionPercentage:"=?"},controller:["$scope","Authentication",function(a,b){function d(){c.getUser(b.currentUser._id,"lg").then(function(b){a.status=e.getCompletionStatus(b),a.completionPercentage=e.getCompletionPercentage()})}d(),a.$on("user.save",d),a.checklistModal=f.checklist}]}}]).directive("userOrganisationsWidget",function(){return{restrict:"E",templateUrl:"modules/user-widgets/tpls/user-organisations-widget.html",controller:["$scope","$state","Authentication","UserService","OrganisationModalService",function(a,b,c,d,e){d.getUserOrgs(c.currentUser._id).then(function(b){a.organisations=b.data}),a.newOrganisation=function(a){e.organisationNewModal(a).then(function(a){b.go("app.organisation-onboarding.picture",{stub:a.stub})})}}]}}).directive("userProjectsWidget",function(){return{restrict:"E",scope:{query:"=?",size:"@?"},templateUrl:"modules/user-widgets/tpls/user-projects-widget.html",controller:["$scope","Authentication","HttpQuery",function(a,b,c){a.size=a.size||7,a.query=c({url:"/api/v1/search",params:{type:"project",size:a.size,sort:"submitted",select:["name","stub","picture"],parentType:"user",parentId:b.currentUser._id}}),a.query.more()}]}}).directive("userRecentWidget",function(){return{restrict:"E",templateUrl:"modules/user-widgets/tpls/user-recent-widget.html",scope:{displayType:"@?",completionPercentage:"=?"},controller:["$scope","$http",function(a,b){function c(){var c=6048e5;return b({url:"/api/v1/analytics/activeUsersInPeriod",params:{start:Date.now()-c,days:7,repeat:1,page:d,size:e,picture:!0},method:"GET"}).then(function(b){a.users=a.users||[],b.data.length<e&&(a.noMoreResults=!0),a.users=a.users.concat(b.data),d++})}var d=1,e=14;c(),a.more=c}]}}).service("UserWidgetService",["$mdDialog","ForumModalService","ProjectModalService",function(a,b,c){function d(a){return f.completionStatus=[{status:a.name?!0:!1,message:"Add your name.",href:"/users/"+a.stub+"?edit=OverviewForm#name"},{status:a.blurb?!0:!1,message:"Add a blurb.",href:"/users/"+a.stub+"?edit=OverviewForm#blurb"},{status:a.picture?!0:!1,message:"Upload a profile picture.",href:"/users/"+a.stub+"?edit=OverviewForm#picture"},{status:a.profile.banner.url?!0:!1,message:"Upload a custom image banner.",href:"/users/"+a.stub+"?edit=OverviewForm"},{status:a.profile.profileDetails.education[0]&&(a.profile.profileDetails.education[0].degree||a.profile.profileDetails.education[0].organisations.length>0)?!0:!1,message:"Add your education.",href:"/users/"+a.stub+"?edit=EducationForm#education"},{status:a.profile.profileDetails.experience[0]&&(a.profile.profileDetails.experience[0].company||a.profile.profileDetails.experience[0].organisations.length>0)?!0:!1,message:"Add your work experience.",href:"/users/"+a.stub+"?edit=ExperienceForm#experience"},{status:a.profile.profileDetails.summary?!0:!1,message:"Add a profile summary.",href:"/users/"+a.stub+"?edit=AboutForm#summary"},{status:_.some(a.profile.socialLinks)?!0:!1,message:"Add links to your website / social media.",href:"/users/"+a.stub+"?edit=FooterForm#social"},{status:a.numProjects?!0:!1,message:"Add a project.",click:c.newProject},{status:a.numBlogs?!0:!1,message:"Add a blog.",click:function(a){b.newThread(a,{type:"blog"})}},{status:a.numThreads?!0:!1,message:"Add a discussion.",click:function(a){b.newThread(a,{type:"general"})}},{status:a.numQuestions?!0:!1,message:"Ask a question.",click:function(a){b.newThread(a,{type:"question"})}}],f.completionStatus}function e(){var a=0,b=0;return _.forEach(f.completionStatus,function(c){c.status&&b++,a++}),Math.round(b/a*100)}var f=this;this.completionStatus={},this.getCompletionStatus=d,this.getCompletionPercentage=e}]).service("UserWidgetModalService",["$mdDialog",function(a){this.checklist=function(b){return a.show({templateUrl:"modules/user-widgets/tpls/user-portfolio-checklist-modal.html",targetEvent:b,clickOutsideToClose:!0,controller:["$scope","$mdDialog","UserWidgetService",function(a,b,c){a.completionStatus=c.completionStatus,a.completionPecentage=c.getCompletionPercentage(),a.cancel=function(){b.cancel()}}]})}}]);
angular.module("modules.users",["modules.authentication","modules.restangular"]),angular.module("modules.users").directive("users",function(){return{restrict:"E",scope:{parentType:"@?",parentId:"@?",type:"@?"},templateUrl:"modules/users/tpls/users.html",controller:["$scope","UserService",function(a,b){var c={topProjects:{title:"Top Projects"},topBloggers:{title:"Top Bloggers"},topContributors:{title:"Top Contributors"},project:{title:"Top Projects"}};a.typeInfo=c[a.type]||c.topProjects,a.users=[];var d=a.users.length?2:1;a.query=function(){b.getUsers({page:d,size:5,sort:"numProjects"}).then(function(b){a.users=_.union(a.users,_.compact(_.map(b,function(a){return a.blurb?a:void 0})))}),d++},a.query()}]}}).directive("userRows",function(){return{restrict:"E",scope:{query:"=?",sort:"=?",order:"=?",criteria:"=?"},templateUrl:"modules/users/tpls/user-rows.html",controller:["$scope","UserService","HttpQuery",function(a,b,c){console.log(a.criteria),a.query=c({url:"api/v1/search",params:{type:"user",select:["name","blurb","stub","numProjects","picture","followers"],size:24,order:"dsc",sort:a.sort,criteria:a.criteria||{}}}),a.orderFilter={model:a.sort,reverse:"asc"==a.order?!0:!1},a.query.more()}]}}).directive("usersGroups",["$mdDialog","$timeout",function(a,b){return{restrict:"E",scope:{users:"=",saveFn:"&?",showEdit:"=?",parent:"=?",edit:"=?",modalCallback:"&?"},templateUrl:"modules/users/tpls/users-groups.html",controller:["$scope",function(a){function c(a){var b=[];return a.forEach(function(a){var c=_.find(b,{name:a.group});c||(c={name:a.group,members:[]},b.push(c)),c.members.push(a)}),b}function d(a){var b=[];return a.forEach(function(a){a.members.forEach(function(c){c.group=a.name,b.push(c)})}),b}a.usersGroups=c(a.users),a.save=function(){a.users=d(a.usersGroups),b(a.saveFn,0)},a.$watch("usersGroups",function(){a.users=d(a.usersGroups)},!0),a.userSortConfig={group:"users",animation:150,handle:".my-handle"},a.userGroupSortConfig={animation:150,handle:".my-handle"},a["delete"]=function(a,b){a.splice(b,1)},a.newGroup=function(){var b={name:"",members:[]};a.usersGroups.push(b)},0===a.users.length&&a.newGroup()}]}}]).directive("emptyGroup",function(){return{restrict:"E",scope:{deleteFn:"&?"},templateUrl:"modules/users/tpls/empty-group.html"}}).directive("addRow",function(){return{restrict:"E",scope:{addFn:"&?"},templateUrl:"modules/users/tpls/add-row.html"}}).directive("personcard",function(){return{restrict:"E",scope:{id:"@?",size:"@",user:"=?"},templateUrl:"modules/users/tpls/personcard.html",controller:["$scope","Authentication","UserService",function(a,b,c){function d(){a.user&&!a.user.profile.banner.url&&(a.alternateBanner="assets/images/banners/space"+a.user.profile.banner.gradient+".jpg")}d(),a.id&&(a.loading=!0,c.getUser(a.id,"md").then(function(b){a.user=b,d(),a.loading=!1}))}]}}).directive("userRowDetailed",function(){return{restrict:"E",replace:!0,scope:{userId:"@?",user:"=?",showEdit:"=?",buttonText:"@",buttonHref:"@",job:"=?"},templateUrl:"modules/users/tpls/user-row-detailed.html",controller:["$scope","UserService",function(a,b){a.userId&&(a.loading=!0,b.getUser(a.userId,"lg").then(function(b){a.user=b,a.loading=!1})),a.itemLimit=2,a.raiseLimit=function(){a.itemLimit=100}}]}}).directive("userIcon",function(){return{restrict:"E",scope:{userId:"@?",user:"=?"},templateUrl:"modules/users/tpls/user-icon.html",controller:["$scope","Authentication","UserService",function(a,b,c){a.userId&&c.getUser(a.userId,"sm").then(function(b){a.user=b})}]}}).service("UsersModalService",["$mdDialog",function(a){var b=this;this.usersNew=function(b,c){return a.show({templateUrl:"modules/users/tpls/users-new-modal.html",controller:"UsersNewModalCtrl",clickOutsideToClose:!0,targetEvent:b,locals:{data:c}})},this.editTeam=function(c,d){return a.show({templateUrl:"modules/users/tpls/edit-team-modal.html",controller:["data","$scope",function(c,d){d.data=c,d.hide=a.hide,d.modalCallback=function(){b.editTeam(null,c)}}],clickOutsideToClose:!0,targetEvent:c,locals:{data:d}})}}]).controller("UsersNewModalCtrl",["data","$scope","$mdDialog","OrganisationService","$http","$mdToast","Authentication","InviteService",function(a,b,c,d,e,f,g,h){b.data=angular.copy(a),h.generateInviteCode({parentType:a.parentType,parentId:a.parentId}).then(function(a){b.inviteId=a.data._id}),b.cancel=function(){c.cancel()},b.invite=function(){b.NewUserForm.$valid&&e.post("/api/v1/mail/invite/project",{email:b.data.email,parentType:b.data.parentType,name:b.data.name,inviteId:b.inviteId,role:b.role,group:b.data.group}).success(function(){f.show(f.simple().content("Great stuff... "+b.data.name+" was invited to your "+b.data.parentType)),c.hide()})}}]).service("UserService",["$http","HttpService","Restangular","LocalCache","$rootScope",function(a,b,c,d,e){function f(b){return a({url:"/api/v1/users/"+b+"/organisations",method:"GET"})}function g(a,c,e){var f;"sm"==c?f=["stub","name","picture","blurb"]:"md"==c?f=["stub","name","picture","blurb","profile.banner","followers","numProjects"]:(f=["*"],c="lg");var g=function(a){return b({url:"/api/v1/users",method:"GET",params:{"select[]":f,"ids[]":a}})};return d.getPackaged(j+c,a,g,e)}function h(a){return c.all("users").getList(a)}function i(a){return d.save(j+"lg",a),analytics.track("Profile Save"),b({url:"/api/v1/users/"+a._id,method:"PUT",data:a}).then(function(){e.$broadcast("user.save",a)})}this.getUser=g,this.getUserOrgs=f,this.getUsers=h,this.updateUser=i;var j="user"}]);
angular.module("modules.utils",[]),angular.module("modules.utils").service("UtilsService",["CoreLibrary","$timeout",function(a,b){var c=this;this.convertProject=function(a,b){var d={sections:{},sectionOrder:[]},e=["SC1","SC2","SC3","SC4","SC5","SC6","SC7","SC8"];return angular.forEach(e,function(e){var f=a[e];if(f){var g="<h1>"+b[e]+"</h1>"+f,h=c.convertHtmlToSections(g);d.sectionOrder=d.sectionOrder.concat(h.sectionOrder),_.extend(d.sections,h.sections)}}),d},this.convertHtmlToSections=function(b){function c(a){q.push(a.id),r[a.id]=a}function d(b,c){return"math"==b?{id:a.getUuid(),content:c,type:"math",caption:""}:"video"==b?{id:a.getUuid(),videoUrl:c,videoType:"youtube",type:"video",layout:"wide",caption:""}:"image"==b?{id:a.getUuid(),image:{url:c},type:"image",layout:"center",caption:""}:void 0}function e(a){var b=document.createRange();b.setStartBefore(a),b.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(b)}function f(a,b){e(a);var c=window.getSelection();if(c.rangeCount){var d=c.getRangeAt(0),f=b;if(f){var g=d.cloneRange();g.selectNodeContents(f),g.setStart(d.endContainer,d.endOffset);var h=g.extractContents(),l=angular.element('<div class="hidden"></div>');s.append(l),l.append(h),j(l[0]),k(l[0]),i(l[0]),i(l[0]),i(l[0]),i(l[0]),i(l[0]),i(l[0]),i(l[0]),i(l[0]),i(l[0]);var m=l[0].innerHTML;return l.remove(),m}}}function g(){angular.forEach(t[0].querySelectorAll("*"),function(a){angular.element(a).removeAttr("style"),angular.element(a).removeAttr("id"),angular.element(a).removeAttr("dir"),angular.element(a).removeAttr("color"),angular.element(a).removeAttr("language")})}function h(a){angular.forEach(a.querySelectorAll("*"),function(a){angular.element(a).removeAttr("class")})}function i(a){angular.forEach(a.querySelectorAll("*:empty"),function(a){"BR"!=a.nodeName&&"IMG"!=a.nodeName&&a.remove()})}function j(a){angular.forEach(a.querySelectorAll("img"),function(a){a.remove()})}function k(a){angular.forEach(a.querySelectorAll(".math"),function(a){a.remove()})}function l(){angular.forEach(t[0].querySelectorAll("font"),function(a){angular.element(a).contents().unwrap()})}function m(){angular.forEach(t[0].querySelectorAll("div"),function(a){angular.element(a).contents().unwrap().wrap("<p></p>")})}function n(){angular.forEach(t[0].querySelectorAll("h1"),function(a){angular.element(a).contents().unwrap().wrap("<h2></h2>")})}function o(){angular.forEach(t[0].querySelectorAll("h2"),function(a){angular.element(a).contents().unwrap().wrap("<h3></h3>")})}function p(a,b){angular.forEach(a,function(a){"text"==a.type&&(a.content&&"<br>"!=a.content&&"<br><br>"!=a.content&&"<p><br></p>"!=a.content&&"<p><br></p><p><br></p>"!=a.content&&"<p></p>"!=a.content&&"<p>&nbsp;<br></p>"!=a.content&&"<p>&nbsp;</p>"!=a.content||(b.splice(b.indexOf(a.id),1),delete a.content))})}var q=[],r={},s=angular.element(document.body),t=angular.element('<block contenteditable style="position: absolute; top: 0; right: 0; left: 0; bottom: 0; z-index: 100000; background: white"></block>');s.append(t),t.html(b),t.focus(),g(),l(),m(),o(),n();var u;angular.forEach(t[0].querySelectorAll("img,.math"),function(b){var e,g,h,i=angular.element(b);-1!=i[0].className.indexOf("math")?(e="math",g=i[0].innerHTML,console.log(g)):i.attr("ta-insert-video")?(e="video",g=i.attr("ta-insert-video")):i.attr("src")?(e="image",g=i.attr("src")):console.error("Couldn't find type");var j=u||t[0].children[0],k=b,l=f(j,k);if(l){var m={id:a.getUuid(),content:l,type:"text"};c(m)}h=d(e,g),c(h),u=b}),j(t[0]),k(t[0]),h(t[0]),i(t[0]),i(t[0]),i(t[0]),i(t[0]),i(t[0]),i(t[0]),i(t[0]),i(t[0]),i(t[0]);var v={id:a.getUuid(),content:t.html(),type:"text"};c(v),t.remove(),p(r,q);var w={sections:r,sectionOrder:q};return w}}]);
angular.module("modules.validation",[]),angular.module("modules.validation").directive("charCount",["$compile",function(a){return{restrict:"A",scope:{text:"=ngModel",maxlength:"="},link:function(b,c,d){c.wrap('<div class="rel-box"></div>');var e=angular.element('<span class="char-count">{{remaining}}</span>');e.insertAfter(c),a(e)(b)},controller:["$scope",function(a){a.$watch("text",function(b,c){a.text&&(a.remaining=a.maxlength-a.text.length)})}]}}]).directive("easyValidation",["$compile","$timeout",function(a,b){return{restrict:"A",require:["^form","ngModel"],controller:["$scope","$element","$attrs",function(c,d,e){b(function(){var b=(d.inheritedData("$formController"),d.inheritedData("$ngModelController")),f=d.parent(),g=[],h={},i=c.$new(!0);i.model=b;var j=angular.element('<div class="help-block height-min">{{errormessage}}</div>');j.insertAfter(d),a(j)(i),i.$watch(function(){b.$invalid&&b.touched?f.addClass("has-error"):f.removeClass("has-error")}),e.$observe("validationName",function(a){var b=e.validationName;h={required:"Sorry, this is required.",email:"Sorry, that is not a valid email.",minlength:"Your "+b+" is too short. Min "+e.ngMinlength+" characters",maxlength:"Your "+b+" is too long. Max "+e.ngMaxlength+" characters",taMinText:"Your "+b+" is too short. Min "+e.taMinText+" characters",taMaxText:"Your "+b+" is too long. Max "+e.taMaxText+" characters",min:"Your "+b+" is too long. Max "+e.min+" characters",max:"Your "+b+" is too long. Max "+e.max+" characters"}}),d.on("click",function(){j.addClass("height-min"),b.touched=!0}),d.on("focus",function(){j.addClass("height-min"),b.touched=!0}),d.on("blur",function(){b.$invalid?(g=_.compact(_.map(_.keys(b.$error),function(a){return b.$error[a]===!0?a:void 0})),f.addClass("has-error"),j.removeClass("height-min"),i.$apply(function(){i.errormessage=h[g[g.length-1]]})):(f.removeClass("has-error"),j.addClass("height-min"),i.$apply(function(){i.show=!1}))})},0)}]}}]);
angular.module("modules.view-cache",[]),angular.module("modules.view-cache");
angular.module("modules.xxhash",[]),angular.module("modules.xxhash").service("XxhashService",["$window",function(a){var b=a.XXH;return b||console.error("XXHash not found!!!"),b}]);
angular.module("views.app",["modules.layout-options","modules.horizontal-menu","modules.transition-overlay","modules.authentication","modules.forum","modules.overlay-tabs","modules.invite","modules.analytics"]),angular.module("views.app").config(["$stateProvider",function(a){a.state("app",{"abstract":!0,url:"?id&ref&org&hidebanner&slowscroll&invitecode&inviterole&invitegroup",templateUrl:"views/app/app.html",resolve:{jwt:["Authentication","$stateParams",function(a,b){return b.id?a.setToken(b.id,!1):void 0}],userdata:["jwt","Authentication",function(a,b){return b.loadUserData()}]},layout:{},menu:{main:[{label:"Feed",sref:"app.home",authenticate:"false"},{label:"Projects",sref:"app.browse.projects",authenticate:"false"},{label:"Questions",sref:"app.browse.questions",authenticate:"false"},{label:"Blogs",sref:"app.browse.blogs",authenticate:"false"},{label:"Jobs",sref:"app.browse.jobs",authenticate:"false"},{label:"My Creations",sref:"app.creations.all",authenticate:"true"}],more:[{label:"My Job Applications",sref:"app.applications",authenticate:!0},{label:"Referrals & Prizes",sref:"app.referrals",authenticate:!0},{label:"Following",sref:"app.following.all",divider:!0,authenticate:!0},{label:"Fields",sref:"app.browse.fields",authenticate:"false"},{label:"Organisations",sref:"app.browse.organisations",authenticate:"false"},{label:"Users",sref:"app.browse.users",authenticate:"false"},{label:"Map",sref:"app.map",authenticate:"false",divider:!0},{label:"About",sref:'app.project.overview({"stub":"stemn"})',authenticate:"false"},{label:"FAQ",sref:"app.faq",authenticate:"false"},{label:"Landing Page",sref:"app.landing.index",authenticate:"false"}]},authLevel:"public",controller:["userdata","$scope","$timeout","$state","$location","Authentication","LayoutOptions","$mdSidenav","$stateParams","ReferralsService","InviteService",function(a,b,c,d,e,f,g,h,i,j,k){j.setRefCode(),k.setInviteCode(),b.LayoutOptions=g,b.toggleSidenav=function(a){h(a).toggle()},c(function(){var a=angular.element(document.body).children();_.forEach(a,function(a){a.hasAttribute("ui-view")&&0===a.innerHTML.length&&a.remove()})},100)}],seo:function(a){return{title:"STEMN - The Largest Community for Space Projects, Questions and Answers",picture:"/uploads/upload_05fd16476dd86c21c8d09ae149a0f734.png",description:"STEMN is a network connecting the knowledge of the international space community. Showcase your projects, get recognition for your research, and discover what the rest of the community is creating. Let's build space. Together."}}})}]);
angular.module("views.applications",[]),angular.module("views.applications").config(["$stateProvider",function(a){a.state("app.applications",{url:"/applications",templateUrl:"views/applications/tpls/applications.html",authLevel:"user",seo:function(a){return{title:"My Applications - STEMN"}},layout:{size:"md",footer:!1,bgColor:"rgba(0, 0, 0, 0.03)"},controller:["$scope","HttpQuery","Authentication","CoreLibrary","ApplicationStatusService","EntityService",function(a,b,c,d,e,f){function g(a){_.forEach(a,function(a){a.href=d.getHref("application",a._id)})}a.query=b({url:"api/v1/search",params:{parentType:"user",parentId:c.currentUser._id,type:"application",sort:"_id",size:10,"select[]":["*"]},onSuccess:function(a){return _.forEach(a,function(a){var b=e.getMappedStatus(a.status.state);a.mappedStatusText=e.getMappedStatusText(b)}),g(a),a}}),a.query.more()}]}).state("app.application",{url:"/applications/:stub",templateUrl:"views/applications/tpls/application.html",resolve:{entity:["EntityService","$stateParams","$state","$timeout",function(a,b,c,d){return a.get("application",b.stub)}]},seo:function(a){return{title:"Job Application - STEMN"}},layout:{size:"md",footer:!1},controller:["entity","$scope","Authentication","EntityService","ApplicationStatusService",function(a,b,c,d,e){function f(){return d.update("application",b.entity).then(d.updateSuccess)}b.saveApplication=f,b.entity=a,b.mappedStatus=e.getMappedStatus(b.entity.status.state),b.statusMessage=e.getStatusExplanation(b.mappedStatus,b.entity.organisations[0].name),b.showEdit=b.entity.child._id==c.currentUser._id,b.showEdit||(b.isAdmin=c.currentUser.isAdmin),b.ratings=[0,1,2,3,4,5]}]})}]).service("ApplicationStatusService",function(){function a(a){var b=e.getStatuses(),c=b[a];return c.map}function b(a){var b={pendingReview:"Pending Review",underReview:"Under Review",awaitingUpdate:"Awaiting Profile Update",submitted:"Submitted",rejected:"Rejected",archived:"Archived"};return b[a]||b.pendingReview}function c(a,b){var c={pendingReview:"Your application is <b>Pending Review</b>. A member of the STEMN talent team will be in contact with you in the next few days to polish up your application for free (before it is sent off to "+b+").",underReview:"Your application is <b>Under Review</b>. You can continue to update your user profile and project portfolio whilst your application is under review.",awaitingUpdate:"Your application is <b>Awaiting Update</b>. Before we can send it through to <b>"+b+"</b> you must add additional detail to your project portfolio. Once your updates are complete, your application will be reviewed again.",submitted:"Your application has been <b>Submitted</b> to <b>"+b+"</b>. They should contact you directly within the next week if they wish to proceed with an interview.",rejected:"Your application has been <b>Rejected</b>. This is usually because you skills and experience did not match those required for this role.",archived:"Your application has been <b>Archived</b>. Email <b>applications@stemn.com</b> if you want us to re-assess you application"};return c[a]||c.pendingReview}function d(){return{pendingReview:{model:"pendingReview",name:"Pending Review",nextSteps:["pendingReview","underReview","awaitingUpdate","readyToSubmit","archived","processLater"],map:"pendingReview"},underReview:{model:"underReview",name:"Under Review",nextSteps:["underReview","awaitingUpdate","readyToSubmit","archived","processLater"],map:"underReview"},awaitingUpdate:{model:"awaitingUpdate",name:"Awaiting Profile Update",nextSteps:["awaitingUpdate","pendingReview","archived"],map:"awaitingUpdate"},readyToSubmit:{model:"readyToSubmit",name:"Read to Submit",nextSteps:["readyToSubmit","submittedToCompany","archived"],map:"submitted"},submittedToCompany:{model:"submittedToCompany",name:"Submitted",nextSteps:["submittedToCompany","rejected","hired","archived"],map:"submitted"},rejected:{model:"rejected",name:"Rejected",nextSteps:["rejected"],map:"rejected"},hired:{model:"hired",name:"Hired",nextSteps:["hired","archived"],map:"submitted"},archived:{model:"archived",name:"Archived",nextSteps:["archived"],map:"archived"},processLater:{model:"processLater",name:"Process Later",nextSteps:["processLater","pendingReview"],map:"submitted"}}}var e=this;this.getStatuses=d,this.getMappedStatus=a,this.getStatusExplanation=c,this.getMappedStatusText=b});
angular.module("views.blog",[]),angular.module("views.blog").config(["$stateProvider",function(a){a.state("app.blog",{url:"/blogs/:stub?edit&reply",resolve:{blog:["userdata","$stateParams","ThreadService","PublishService","$timeout","$state",function(a,b,c,d,e,f){return c.getThread(b.stub)["catch"](function(a){e(function(){f.go("app.404",null,{location:!1})})})}]},templateUrl:"views/blog/tpls/blog.html",controller:["blog","$rootScope","$document","$scope","$timeout","$mdToast","$dynamicFooter","HighlightElement","SocialModalService","ThreadService","TagsModalService","Authentication","PublishService","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){g.open=!0,g.content="<entity-footer refresh-id='"+a._id+"' entity='blog' user-can-edit='userCanEdit' show-edit='showEdit' edit-fn='forms.BlogForm.$edit()' publish-fn='publish($event)'></entity-footer>",g.scope=d}function p(a){_.find(d.requiredFields,"missing")?(d.publishAttempted=!0,c.scrollTopAnimated(0),m.missingFieldsToast(d.forms.BlogForm)):m.selectStubModal(a,d.blog).then(function(b){d.blog.stub=b,d.blog.updated=Date.now();var c=_.clone(d.blog,!0);c.published=!0,j.saveThread(c).then(function(b){d.blog.published=!0,d.forms.BlogForm.$endEdit(),f.show(f.simple().content("Your blog has been published. It will now be public.")),i.sharePrompt(a,{entity:"blog"})})})}d.userCanEdit=a.owner._id==l.currentUser._id,d.showEdit=d.userCanEdit,d.blog=a,m.entity=a,m.showEdit=d.showEdit,d.forms={},d.editorOptions={realtime:!1,contained:!1},d.tocPrepend=[{id:"entityTitle",level:"H1",label:d.blog.name}],d.tocAppend=[{id:"responses",level:"H2",label:"Comments"}],o(),!a.published&&d.userCanEdit&&e(function(){d.forms.BlogForm.$edit()}),d.saveThread=function(){return j.saveThread(d.blog)},d.editTags=function(a){k.editTags(a,d.blog).then(function(a){d.blog=a,j.saveThread(d.blog)})},d.deleteThread=function(){j.deleteThread(d.blog._id).then(function(){history.back()})},d.publish=p,d.requiredFields=[{model:"name",condition:function(a){return!!a.name},title:'You must add a blog name. <a ng-click="field.click()">Click here to add one.</a>',click:function(){h.scrollHighlightElement("nameEdit",{background:!0,offset:100})}},{model:"fields",condition:function(a){return a.fields.length>0},title:'You have not added any field tags <a ng-click="field.click()">Add field tags.</a>',click:function(){h.scrollHighlightElement("tagsEdit",{background:!0,offset:100})}}]}],seo:function(a){return{title:a.blog.name+" - STEMN"||"Untitled Blog",picture:a.blog.picture,description:a.blog.blurb}}})}]).directive("blogFooter",function(){return{restrict:"E",replace:!0,templateUrl:"views/blog/tpls/blog-footer.html"}});
angular.module("views.browse.blogs",[]),angular.module("views.browse.blogs").config(["$stateProvider",function(a){a.state("app.browse.blogs",{url:"/blogs?page&sort",templateUrl:"views/browse/browse-blogs/browse-blogs.html",layout:{size:"md",footer:!0},seo:function(a){return{title:"Browse Engineering and Space Projects - STEMN"}},controller:"BrowseBlogsViewCtrl",resolve:{fields:["SearchService","$stateParams",function(a,b){return a.search({type:"field",page:1,size:11,sort:"numBlogs",key:"name"}).then(function(a){return a.data})}]}})}]).controller("BrowseBlogsViewCtrl",["fields","ForumModalService","$scope","$stateParams",function(a,b,c,d){function e(a){b.newThread(a,{type:"blog"})}c.newBlog=e,c.fieldFilter={current:"",options:a},c.sortFilter={current:d.sort||"updated",options:[{model:"views",name:"Views"},{model:"numPosts",name:"Comments"},{model:"likes",name:"Likes"},{model:"updated",name:"Updated"}]}}]);
angular.module("views.browse.fields",[]),angular.module("views.browse.fields").config(["$stateProvider",function(a){a.state("app.browse.fields",{url:"/fields?sort&order&q",templateUrl:"views/browse/browse-fields/browse-fields.html",layout:{size:"lg",footer:!0},seo:function(a){return{title:"Browse Engineering and Space Fields - STEMN"}},controller:"BrowseFieldsViewCtrl"})}]).controller("BrowseFieldsViewCtrl",["$scope","$state","$location","HttpQuery","$stateParams","SearchService","FieldModalService",function(a,b,c,d,e,f,g){function h(a){g.fieldNewModal(a).then(function(a){b.go("app.field.top",{stub:a.stub})})}function i(){a.orderFilter.model&&(a.query.params.sort=a.orderFilter.model,a.query.params.order=a.orderFilter.reverse?"asc":"dsc",a.query.updateQueryParams(),a.query.refresh())}function j(){a.searchFilter.model="",a.query.params.criteria={},a.query.refresh()}e.sort=e.sort||"numProjects",e.order=e.order||"dsc",a.newField=h,a.clearFilter=j,a.query=d({url:"api/v1/search",params:{type:"field",select:["name","stub","numProjects","numJobs","picture","followers"],size:24,order:"dsc",sort:e.sort,criteria:{}}}),a.orderFilter={model:e.sort,reverse:"asc"==e.order?!0:!1},a.searchFilter={model:"",onChange:function(){a.query.params.criteria.name=a.searchFilter.model?"/"+a.searchFilter.model+"/i":"",a.query.refresh()}},a.$watch("orderFilter",i,!0),a.query.more()}]);
angular.module("views.browse.jobs",[]),angular.module("views.browse.jobs").config(["$stateProvider",function(a){a.state("app.browse.jobs",{url:"/jobs?near[]&sort&order&parentType&parentId",templateUrl:"views/browse/browse-jobs/browse-jobs.html",layout:{size:"lg",footer:!0},resolve:{fields:["SearchService",function(a){return a.search({type:"field",page:1,size:11,sort:"numJobs",select:["name","numJobs"],key:"name"}).then(function(a){return a.data})}]},seo:function(a){return{title:"Aerospace Jobs - Simple 2 Click Application - STEMN"}},controller:"BrowseJobsViewCtrl"})}]).controller("BrowseJobsViewCtrl",["fields","$scope","$http","$timeout","HttpQuery","NewCreationsService","LocationService","Authentication","JobModalService","QueryParamsService","$stateParams","CoreLibrary",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){i.createJob(a)}function n(){delete b.query.params.sort,delete b.query.params.order,b.query.params["near[]"]=[b.location.longitude,b.location.latitude],b.query.updateQueryParams(),b.query.refresh()}function o(){b.searchFilter.model="",b.query.params.criteria={},b.query.refresh()}g.getLocation().then(function(a){b.location=a});b.orderFilter={model:k.sort||"organisations[0].name",reverse:k.order?"asc"==k.order?!0:!1:"asc",onChange:function(a){delete b.query.params["near[]"],"location[0].name"==b.orderFilter.model&&b.location.latitude&&b.location.longitude?n():(b.query.params.sort=b.orderFilter.model,b.query.params.order=b.orderFilter.reverse?"asc":"dsc",b.query.updateQueryParams(),b.query.refresh())}},b.create=m,b.clearFilter=o,b.sortByNear=n,b.query=e({url:"/api/v1/search",urlParams:["near[]","sort","order","parentType","parentId"],params:{type:"job",size:20,key:"name",select:["name","organisation","location.name","pay","jobType","level","stub","organisations"],criteria:{}}}),h.currentUser.isLoggedIn()&&(b.suggestedJobs=!0,b.query.params.skills=h.currentUser._id),b.location&&b.location.latitude&&b.location.longitude?(b.orderFilter.model="location[0].name",b.orderFilter.reverse=!1,n()):h.currentUser.isLoggedIn()?(b.orderFilter.model="rating",b.orderFilter.reverse=!1,b.query.params.sort="rating",b.query.params.order="dsc",b.query.more()):(b.query.params.sort="organisations[0].name",b.query.params.order="asc",b.query.more()),b.searchFilter={model:"",onChange:function(){b.query.params.criteria.organisationName=b.searchFilter.model?"/"+b.searchFilter.model+"/i":"",b.query.refresh()}},b.fieldFilter={current:k.parentId||"",options:a,change:function(a){b.query.params.parentType="field",b.query.params.parentId=a,b.query.updateQueryParams(),b.query.refresh()}}}]);
angular.module("views.browse.organisations",[]),angular.module("views.browse.organisations").config(["$stateProvider",function(a){a.state("app.browse.organisations",{url:"/organisations?sort&order&q",templateUrl:"views/browse/browse-organisations/browse-organisations.html",resolve:{fields:["SearchService",function(a){return a.search({type:"field",page:1,size:11,sort:"numOrganisations",select:["name","numOrganisations"],key:"name"}).then(function(a){return a.data})}]},layout:{size:"lg",footer:!0},seo:function(a){return{title:"Browse Engineering and Space Organisations - STEMN"}},controller:"BrowseOrganisationsViewCtrl"})}]).controller("BrowseOrganisationsViewCtrl",["fields","$scope","$state","$location","HttpQuery","$stateParams","SearchService","OrganisationModalService",function(a,b,c,d,e,f,g,h){function i(a){h.organisationNewModal(a).then(function(a){c.go("app.organisation-onboarding.picture",{stub:a.stub})})}function j(){b.orderFilter.model&&(b.query.params.sort=b.orderFilter.model,b.query.params.order=b.orderFilter.reverse?"asc":"dsc",b.query.updateQueryParams(),b.query.refresh())}function k(){b.fieldFilter.current="",b.query.params.parentId="",b.searchFilter.model="",b.query.params.criteria.name="",b.query.refresh()}f.sort=f.sort||"numProjects",f.order=f.order||"dsc",b.fields=a,b.newOrganisation=i,b.clearFilter=k,b.query=e({url:"api/v1/search",params:{type:"organisation",select:["name","stub","numProjects","picture","followers"],size:24,order:"dsc",sort:f.sort,criteria:{}}}),b.fieldFilter={current:"",options:a,change:function(a){b.query.params.parentType="field",b.query.params.parentId=a,b.query.updateQueryParams(),b.query.refresh()}},b.orderFilter={model:f.sort,reverse:"asc"==f.order?!0:!1},b.searchFilter={model:"",onChange:function(){b.query.params.criteria.name=b.searchFilter.model?"/"+b.searchFilter.model+"/i":"",b.query.refresh()}},b.$watch("orderFilter",j,!0),b.query.more()}]);
angular.module("views.browse.projects",[]),angular.module("views.browse.projects").config(["$stateProvider",function(a){a.state("app.browse.projects",{url:"/projects?page&sort",templateUrl:"views/browse/browse-projects/browse-projects.html",layout:{size:"md",footer:!0},seo:function(a){return{title:"Browse Engineering and Space Projects - STEMN"}},controller:"BrowseProjectsViewCtrl",resolve:{fields:["SearchService","$stateParams",function(a,b){return a.search({type:"field",page:1,size:11,sort:"numProjects",key:"name"}).then(function(a){return a.data})}]}})}]).controller("BrowseProjectsViewCtrl",["fields","$rootScope","$scope","$state","$location","$stateParams","FeedService",function(a,b,c,d,e,f,g){c.fieldFilter={current:"",options:a},c.sortFilter={current:f.sort||"updated",options:[{model:"views",name:"Views"},{model:"numComments",name:"Comments"},{model:"likes",name:"Likes"},{model:"updated",name:"Updated"}]}}]);
angular.module("views.browse.questions",[]),angular.module("views.browse.questions").config(["$stateProvider",function(a){a.state("app.browse.questions",{url:"/questions?sort&order&parentType&parentId&criteria",templateUrl:"views/browse/browse-questions/browse-questions.html",resolve:{fields:["SearchService","$stateParams",function(a,b){return a.search({type:"field",page:1,size:11,sort:"numThreads",select:["name","numThreads"],key:"name"}).then(function(a){return a.data})}]},seo:function(a){return{title:"Browse Engineering and Space Questions - STEMN"}},layout:{size:"lg",footer:!0},controller:"BrowseQuestionsViewCtrl"})}]).controller("BrowseQuestionsViewCtrl",["fields","$scope","$stateParams","FeedService","ForumModalService",function(a,b,c,d,e){b.newThread=e.newThread,b.fieldFilter={current:"",options:a,change:function(a){b.query.params.parentType="field",b.query.params.parentId=a,b.query.updateQueryParams(),b.query.refresh()}},b.statusFilter={current:"",options:[{name:"All",model:""},{name:"Answered",model:"answered"},{name:"Unanswered",model:"unanswered"}],change:function(a){"answered"==a?b.query.params.criteria.numPosts=";>1":"unanswered"==a?b.query.params.criteria.numPosts="0":b.query.params.criteria.numPosts="",b.query.updateQueryParams(),b.query.refresh()}},b.typeFilter={current:"",options:[{name:"All",model:""},{name:"Question",model:"question"},{name:"Discussion",model:"discussion"}],change:function(a){"question"==a?b.query.params.criteria.type="question":"discussion"==a?b.query.params.criteria.type="general":b.query.params.criteria.type=["question","general"],b.query.updateQueryParams(),b.query.refresh()}},b.sortFilter={current:c.sort||"updated",options:[{model:"views",name:"Views"},{model:"numComments",name:"Replies"},{model:"likes",name:"Likes"},{model:"updated",name:"Updated"}]}}]);
angular.module("views.browse.users",[]),angular.module("views.browse.users").config(["$stateProvider",function(a){a.state("app.browse.users",{url:"/people?page&sort",templateUrl:"views/browse/browse-users/browse-users.html",resolve:{educationOrgs:["SearchService",function(a){return a.search({type:"organisation",page:1,size:11,sort:"numEducations",select:["name","numEducations"],key:"name"}).then(function(a){return a.data})}]},layout:{size:"lg",footer:!0},seo:function(a){return{title:"Browse Users interested in Aerospace and Enigneering - STEMN"}},controller:"BrowseUsersViewCtrl"})}]).controller("BrowseUsersViewCtrl",["educationOrgs","$scope","$state","$location","HttpQuery","$stateParams","SearchService","OrganisationModalService",function(a,b,c,d,e,f,g,h){function i(){b.searchFilter.model="",b.query.params.criteria={},b.query.refresh()}f.sort=f.sort||"numProjects",f.order=f.order||"dsc",b.sort=f.sort,b.clearFilter=i,b.searchFilter={model:"",onChange:function(){b.query.params.criteria.name=b.searchFilter.model?"/"+b.searchFilter.model+"/i":"",b.query.refresh()}},b.educationFilter={current:"",options:a,change:function(a){b.query.params.criteria["profile.profileDetails.education.organisations"]=this.current,b.query.updateQueryParams(),b.query.refresh()}}}]);
angular.module("views.browse",["modules.pagination","modules.organisations","modules.jobs","modules.location","views.browse.organisations","views.browse.projects","views.browse.fields","views.browse.jobs","views.browse.questions","views.browse.users","views.browse.blogs"]),angular.module("views.browse").config(["$stateProvider",function(a){a.state("app.browse",{url:"/browse",template:'<ui-view layout="column" class="browseView"></ui-view>',"abstract":!0}).state("app.browse.all",{url:"/",templateUrl:"views/browse/browse-all.html",layout:{size:"md",footer:!0},seo:function(a){return{title:"Browse Projects, Questions and Organisations - STEMN"}}})}]).directive("fieldsFilter",function(){return{restrict:"E",templateUrl:"views/browse/tpls/fields-filter.html",replace:!0,scope:{filter:"="},controller:["$scope",function(a){function b(b){a.filter.current=b}a.select=b,a.filter=a.filter||{}}]}});
angular.module("views.careers",[]),angular.module("views.careers").config(["$stateProvider",function(a){a.state("app.careers",{url:"/careers?tab",params:{tab:"leader"},templateUrl:"views/careers/careers.html",controller:["$rootScope","$scope","$state","Authentication","$mdToast",function(a,b,c,d,e){b.tab=c.params.tab,b.authenticate=function(a){b.loading=!0,d.authenticate(a).then(function(a){e.show(e.simple().content("We now have your Linkedin profile. Please email us your other info.")),b.loading=!1})["catch"](function(a){e.show(e.simple().theme("warn").content("We couldn't log you in: "+(a.error||a.data.message||a.data))),b.loading=!1})}}],seo:function(a){return{title:"Join our team - Careers at STEMN",description:"We are always looking for great leaders and developers. If you think you have what it takes, apply here."}}})}]);
angular.module("views.contact",[]),angular.module("views.contact").config(["$stateProvider",function(a){a.state("app.contact",{url:"/contact",templateUrl:"views/contact/contact.html",controller:"ContactFormCtrl",layout:{footer:!0},seo:function(a){return{title:"Get in touch - Contact STEMN"}}})}]).controller("ContactFormCtrl",["$scope","$rootScope","$http","$timeout","$mdToast",function(a,b,c,d,e){a.contact={},a.forms={},a.submitContactForm=function(){a.forms.contactForm.$valid&&c.post("/api/v1/mail/contact",a.contact).then(function(b){e.show(e.simple().content("Your message has been sent, we'll get back to you ASAP.")),a.contact={}})["catch"](function(){e.show(e.simple().theme("warn").content("Something went wrong... We could't send the message."))})}}]);
angular.module("views.create",[]),angular.module("views.create").config(["$stateProvider",function(a){a.state("app.create",{url:"/create","abstract":!0}).state("app.create.something",{url:"",dialog:!0,onEnter:["NewCreationsService","$state",function(a,b){a.createModal()["catch"](function(a){b.go("app.home")})}]}).state("app.create.project",{url:"/project",dialog:!0,onEnter:["ProjectModalService","$state",function(a,b){a.newProject()["catch"](function(a){b.go("app.home")})}]}).state("app.create.question",{url:"/question",dialog:!0,onEnter:["ForumModalService","$state",function(a,b){a.newThread(event,{type:"question"})["catch"](function(a){b.go("app.home")})}]}).state("app.create.general",{url:"/general",dialog:!0,onEnter:["ForumModalService","$state",function(a,b){a.newThread(event,{type:"general"})["catch"](function(a){b.go("app.home")})}]}).state("app.create.blog",{url:"/blog",dialog:!0,onEnter:["ForumModalService","$state",function(a,b){a.newThread(null,{type:"blog"})["catch"](function(a){b.go("app.home")})}]})}]);
angular.module("views.creations",[]),angular.module("views.creations").config(["$stateProvider",function(a){a.state("app.creations",{url:"/creations","abstract":!0,authLevel:"user",sticky:!0,templateUrl:"views/creations/tpls/creations.html",controller:["$scope","$rootScope","$state","NewCreationsService","Authentication","CoreLibrary",function(a,b,c,d,e,f){a.user=e.currentUser,a.$state=c,a.tabs=[{label:"All",sref:"app.creations.all"},{label:"Published",sref:"app.creations.published"},{label:"Drafts",sref:"app.creations.drafts"}]}],layout:{size:"md",footer:!1,bgColor:"rgba(0, 0, 0, 0.03)"},seo:function(a){return{title:"Your Creations - STEMN",description:"Find your blogs, questions, discussions and projects. Everything you have created is here!"}}}).state("app.creations.all",{url:"",sticky:!0,views:{all:{templateUrl:"views/creations/tpls/creations-all.html"}}}).state("app.creations.drafts",{url:"/drafts",sticky:!0,views:{drafts:{templateUrl:"views/creations/tpls/creations-drafts.html"}}}).state("app.creations.published",{url:"/published",sticky:!0,views:{published:{templateUrl:"views/creations/tpls/creations-published.html"}}})}]).directive("myCreations",["$timeout","$state",function(a,b){return{restrict:"E",scope:{published:"@"},templateUrl:"views/creations/tpls/my-creations.html",controller:["$scope","FeedService","Authentication","CoreLibrary","ThreadService","ProjectService","$location","HttpQuery","EntityService",function(a,c,d,e,f,g,h,i,j){function k(a){_.forEach(a,function(a){a.type?"project"==a.type?a.typeText="Project":"blog"==a.type?a.typeText="Blog":"general"==a.type?a.typeText="discussion":a.typeText="question":a.typeText=a.entityType})}function l(){var b;return b="false"==a.published?"<p>You have no drafts.</p>":"true"==a.published?"<p>You haven’t published anything yet.</p><p>Your projects/questions/blogs will not appear on your profile or in search results until it has been published. Only people with the link can view a your work if it is unpublished.</p>":"<p>You haven’t published anything yet.</p>"}function m(a){_.forEach(a,function(a){a.name?a.name=a.published?a.name:a.name+" (Unpublished)":a.name=a.published?"Untitled "+a.entityType:"Unpublished "+a.entityType})}function n(a){_.forEach(a,function(a){a.href=e.getHref(a.type||a.entityType,a.stub||a._id)})}function o(b,c){"project"==c?g.deleteProject(b):"job"==c?j.remove("job",b):f.deleteThread(b);var d=_.findIndex(a.query.results,function(a){return a._id==b});a.query.results.splice(d,1)}function p(a){var c;"project"==a.entityType?b.go("app.project-onboarding.summary",{stub:a.stub||a._id}):(c="blog"==a.entityType?"BlogForm":"job"==a.entityType?"JobForm":"ThreadForm",h.url(a.href+"?edit="+c))}a.message=l(),a.query=i({url:"/api/v1/search",params:{types:["job","project","thread"],size:20,sort:"updated",key:"name",select:["name","stub","entityType","type","updated","published","likes","numPosts","numComments"],parentType:"user",published:a.published,parentId:d.currentUser._id},onSuccess:function(a){return k(a),m(a),n(a),a}}),a.query.more(),a.deleteCreation=o,a.edit=p}]}}]);
angular.module("views.error",["modules.layout-options"]),angular.module("views.error").config(["$stateProvider",function(a){a.state("app.verify",{url:"/verify?id",resolve:{jwt:["Authentication","$stateParams",function(a,b){return b.id?a.setToken(b.id,!1):void 0}],verify:["$http","$stateParams","jwt","Authentication",function(a,b,c,d){return a.get("/api/v1/account/verify").then(function(a){return d.currentUser.verified=!!a.data.success,a.data})}]},templateUrl:"views/error/error.html",controller:"VerifyCtrl"}).state("app.404",{url:"/404",controller:"404PageCtrl",templateUrl:"views/error/error.html",seo:function(a){return{title:"Lost in Space - STEMN"}},layout:{size:"md",bgColor:"#102232"}}).state("app.unpublished",{url:"/unpublished",controller:"ErrorUnpublishedCtrl",templateUrl:"views/error/error.html",layout:{size:"md",bgColor:"#211032"}}).state("app.admin-only",{url:"/admin-only",controller:"AdminOnlyCtrl",templateUrl:"views/error/error.html",layout:{size:"md",bgColor:"#321017"}})}]).controller("VerifyCtrl",["$rootScope","$scope","verify","LayoutOptions",function(a,b,c,d){c.success?(d.body.color="rgb(123, 173, 66)",b.title="SUCCESS!",b.description="Your account is fully verified.",b.buttontext="Head to your news feed"):(d.body.color="#730409",b.title="OOPS, SOMETHING WENT WRONG",b.description="Something went wrong. Your user ID does not exist. If this keeps occuring, please contact us.",b.buttontext="Head back to base",b.image="assets/images/TransFull-Rect-600.png")}]).controller("404PageCtrl",["$scope","$rootScope",function(a,b){a.title="LOST IN SPACE",a.description="It looks like the page your were looking for is gone.",a.buttontext="Head back to base",a.image="assets/images/TransFull-Rect-600.png"}]).controller("ErrorUnpublishedCtrl",["$scope","$rootScope",function(a,b){a.title="CAN'T SHOW YOU THAT",a.description="This has not been published yet",a.buttontext="Head back to base"}]).controller("AdminOnlyCtrl",["$scope","$rootScope",function(a,b){a.title="SORRY, ADMINS ONLY",a.description="This is where we keep our secrets.",a.buttontext="Get outa here"}]);
angular.module("views.faq",[]),angular.module("views.faq").config(["$stateProvider",function(a){a.state("app.faq",{url:"/faq",templateUrl:"views/faq/faq.html",controller:["$scope","$rootScope","NewCreationsService",function(a,b,c){a.newSomething=c.createModal}],seo:function(a){return{title:"FAQs - STEMN"}}})}]);
angular.module("views.field",["modules.fields"]),angular.module("views.field").config(["$stateProvider","$urlRouterProvider",function(a,b){b.when("/fields/:stub","/fields/:stub/projects"),a.state("app.field",{url:"/fields/:stub?projectview&location",sticky:!0,templateUrl:"views/field/field.html",resolve:{field:["FieldService","$stateParams",function(a,b){return a.getField(b.stub).then(function(a){return a})}]},"abstract":!0,controller:"FieldViewCtrl",seo:function(a){return{title:a.field.name+"Field - STEMN",picture:a.field.banner.url,description:a.field.blurb}},layout:{size:"md",footer:!0}}).state("app.field.top",{url:"/top",templateUrl:"views/field/tpls/field-top.html",seo:function(a){return{title:"Top "+a.field.name+" Projects, Questions and Organisations - STEMN"}}}).state("app.field.threads",{url:"/threads",templateUrl:"views/field/tpls/field-threads.html",data:{name:"forum"},seo:function(a){return{title:a.field.name+" Forum - Questions and Discussions - STEMN"}}}).state("app.field.blogs",{url:"/blogs",templateUrl:"views/field/tpls/field-blogs.html",data:{name:"updates"},seo:function(a){return{title:"Latest "+a.field.name+" Blogs and Project updates - STEMN"}}}).state("app.field.projects",{url:"/projects",templateUrl:"views/field/tpls/field-project.html",data:{name:"projects"},seo:function(a){return{title:"Latest "+a.field.name+" Projects - STEMN"}}}).state("app.field.jobs",{url:"/jobs",templateUrl:"views/field/tpls/field-jobs.html",data:{name:"jobs"},seo:function(a){return{title:a.field.name+" Jobs and careers - STEMN"}}}).state("app.field.organisations",{url:"/organisations",templateUrl:"views/field/tpls/field-organisations.html",data:{name:"organisations"},seo:function(a){return{title:a.field.name+" Organisations and Companies - STEMN"}}})}]).controller("FieldViewCtrl",["$scope","$rootScope","$state","field","FieldService","CoreLibrary","HttpService","PublishService",function(a,b,c,d,e,f,g,h){function i(b){h.selectStubModal(b,a.field).then(function(b){a.field.stub=b,a.save()})}a.field=d,a.showEdit=!0,a.save=function(){e.updateField(a.field)},a.deleteField=function(){e.deleteField(a.field._id).then(function(){c.go("app.browse.fields")})},a.editStub=i}]);
angular.module("views.following",["modules.following"]),angular.module("views.following").config(["$stateProvider",function(a){a.state("app.following",{url:"/following","abstract":"true",authLevel:"user",template:"<ui-view></ui-view>",layout:{size:"sm",footer:!0}}).state("app.following.all",{url:"",templateUrl:"views/following/tpls/following-all.html"}).state("app.following.fields",{url:"/fields",templateUrl:"views/following/tpls/following.html",controller:["$scope",function(a){a.type="field",a.title="Fields"}]}).state("app.following.organisations",{url:"/organisations",templateUrl:"views/following/tpls/following.html",controller:["$scope",function(a){a.type="organisation",a.title="Organisations"}]}).state("app.following.projects",{url:"/projects",templateUrl:"views/following/tpls/following.html",controller:["$scope",function(a){a.type="project",a.title="Projects"}]}).state("app.following.threads",{url:"/threads",templateUrl:"views/following/tpls/following.html",controller:["$scope",function(a){a.type="thread",a.title="Blogs and Questions"}]}).state("app.following.users",{url:"/users",templateUrl:"views/following/tpls/following.html",controller:["$scope",function(a){a.type="user",a.title="Users"}]})}]);
angular.module("views.home",[]),angular.module("views.home").config(["$stateProvider",function(a){a.state("app.home",{url:"/?type&projectview&location",resolve:{userdata:["userdata",function(a){return a}]},templateUrl:"views/home/home.html",controller:"HomeViewCtrl",layout:{smooch:!1,topBanner:!1,bgColor:"rgba(0, 0, 0, 0.03)",size:"md"},seo:function(a){return{title:"STEMN - The Largest Community for Space Projects, Questions and Answers",description:"STEMN is a network connecting the knowledge of the international space community. Showcase your projects, get recognition for your research, and discover what the rest of the community is creating. Let's build space. Together."}}})}]).controller("HomeViewCtrl",["OnboardingService","$mdToast","FooterService","$scope","$state","Authentication","NewCreationsService","UserService","HttpQuery","EntityService","OnboardingService",function(a,b,c,d,e,f,g,h,i,j,a){function k(a){f.authenticate(a).then(function(c){b.show(b.simple().content("You can now log in to this account using "+a+"!"))})["catch"](function(a){b.show(b.simple().theme("warn").content("Oops... "+a.data.message||a.data))})}d.footerItems=c.items,d.currentUser=f.currentUser,d.newSomething=g.createModal,d.learnMore=a.goToLanding,d.authenticate=k,h.getUser(f.currentUser._id,"lg").then(function(a){d.user=a,d.peopleQuery=i({url:"/api/v1/users/"+a._id+"/peopleYouMayKnow",params:{size:4},requerySize:12,onSuccess:function(a){return _.forEach(a,function(a){j.get("user",a._id,"sm").then(function(b){a.user=b})}),a}}),d.peopleQuery.more()});var l=String.fromCharCode(97+(new Date).getHours());d.jobQuery=i({url:"/api/v1/search",params:{type:"job",size:3,key:"name",select:["name","stub","organisations"],sort:"numApplications",criteria:{name:"/"+l+"/i"}}}),d.jobQuery.more(),f.currentUser.isLoggedIn()||a.beenLanding||a.goToLanding()}]);
angular.module("views.how-it-works",[]),angular.module("views.how-it-works").config(["$stateProvider",function(a){a.state("app.how-it-works",{url:"/how-it-works",templateUrl:"views/how-it-works/tpls/how-it-works.html",controller:"HowItWorksViewCtrl",seo:function(){return{title:"How it Works - Get project results faster in 3 easy steps - STEMN",description:"Working on a project or experiment? Got an idea? Start your project on the fast track. Get your questions answered in 24hr by our passionate community. Get to your results faster."}},layout:{size:"md",footer:!0}})}]).controller("HowItWorksViewCtrl",["$scope",function(a){}]);
angular.module("views.index",[]),angular.module("views.index").config(["$stateProvider",function(a){a.state("app.index",{url:"/explore",template:"<ui-view></ui-view>",layout:{size:"md",footer:!0}}).state("app.jobsIndex",{url:"/explore/jobs",templateUrl:"views/index/tpls/jobs-index.html",resolve:{fields:["SearchService",function(a){return a.search({type:"field",page:1,size:40,sort:"numJobs",select:["name","stub","picture"],key:"name"}).then(function(a){return a.data})}]},controller:["fields","$scope","LocationService",function(a,b,c){b.fields=a}],seo:function(a){return{title:"Explore Jobs by Fields Category - STEMN",description:"Find a jobs that interest you. Explore jobs near you in Science, Engineering and Aerospace."}},layout:{size:"md",footer:!0}}).state("app.jobsQuery",{url:"/browse-jobs/:field?locations",templateUrl:"views/index/tpls/jobs-query-field.html",resolve:{field:["SearchService","$stateParams",function(a,b){return a.search({key:"stub",type:"field",size:1,value:b.field,"select[]":["name","stub"]}).then(function(a){return a.data[0]})}]},controller:["field","$scope","$http","$stateParams","$state","$timeout",function(a,b,c,d,e,f){function g(){f(function(){b.locationsPage=parseInt(e.params.locations||1),b.locationsLimit=10*b.locationsPage-1})}b.field=a,c({method:"GET",url:"api/v1/jobs/locations",params:{size:10}}).then(function(a){console.log(a),b.locations=a.data}),b.assignStateParams=g,g()}],seo:function(a){return{title:"Explore "+a.field.name+" Jobs - STEMN",picture:a.field.picture}},layout:{size:"md",footer:!0}}).state("app.jobsQuery.location",{url:"/:location",templateUrl:"views/index/tpls/jobs-query-field-location.html",resolve:{location:["LocationService","$stateParams",function(a,b){return a.geoCode(b.location).then(function(a){return a[0]})}]},controller:["location","field","$scope",function(a,b,c){c.field=b,c.location=a}],seo:function(a){return{title:"Explore "+a.field.name+" Jobs and Careers in "+a.location.components[0].long_name+" - STEMN",picture:a.field.picture}}})}]);
angular.module("views.job",["modules.jobs"]),angular.module("views.job").config(["$stateProvider",function(a){a.state("app.job",{url:"/jobs/:stub?edit",templateUrl:"views/job/tpls/job.html",controller:"JobViewCtrl",seo:function(a){return{title:a.entity.name+" - STEMN"||"Untitled Job",picture:a.entity.organisation?a.entity.organisation[0].picture||"":"",description:a.entity.blurb}},resolve:{entity:["userdata","$timeout","$state","$stateParams","EntityService",function(a,b,c,d,e){return e.get("job",d.stub)["catch"](function(a){b(function(){c.go("app.404",null,{location:!1})})})}]},layout:{size:"md",footer:!0}})}]).controller("JobViewCtrl",["entity","$scope","$state","$document","$timeout","$http","$mdToast","Authentication","HighlightElement","LayoutOptions","JobModalService","CoreLibrary","ApplicationService","PublishService","EntityService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){function a(){g.show(g.simple().content("Source Check failed").theme("warn"))}b.entity.sourceUrl&&b.entity.sourceKnownString?f({method:"GET",url:"/api/v1/download/sourceCheck",params:{url:b.entity.sourceUrl,string:b.entity.sourceKnownString}}).then(function(b){b.data.found?g.show(g.simple().content("Job source is valid")):a()})["catch"](a):a()}function q(a){return a.deadline=r(a.deadline),a}function r(a){return a=a?new Date(a):""}function s(){j.footer.hideFooter=!0}function t(){j.footer.hideFooter=!1}function u(){return b.entity.updated=Date.now(),o.update("job",b.entity).then(function(a){b.entity=q(a)})}function v(){o.remove("job",b.entity._id).then(function(){history.back()})}function w(a){_.find(b.requiredFields,"missing")?(b.publishAttempted=!0,d.scrollTopAnimated(0),n.missingFieldsToast(b.forms.JobForm)):n.selectStubModal(a,b.entity,b.entity.organisations[0].name+"-").then(function(a){b.entity.stub=a,b.entity.updated=Date.now();var d=_.clone(b.entity,!0);d.published=!0,o.update("job",d).then(function(a){b.forms.JobForm.$endEdit(),b.entity=q(a),g.show(g.simple().content("Your job listing has been published. It will now be public.")),e(function(){c.go("app.job",{stub:a.stub})},0)})})}b.forms={},b.entity=q(a),b.user=h.currentUser,b.userCanEdit=_.any(a.owners,function(a){return h.currentUser._id===a})||h.currentUser.isAdmin,b.showEdit=b.userCanEdit,!b.entity.published&&b.userCanEdit&&e(function(){b.forms.JobForm.$edit()}),b.jobTypes=["Full-time","Part-time","Casual","Internship","Volunteer","Temporary"],b.visas=["Available","Not Available","Not Applicable","No - Must be citizen"],b.currency=l.getCurrencies(),b.save=u,b.publish=w,b.deleteJob=v,b.editFn=s,b.endEditFn=t,b.createJob=k.createJob,b.formatDate=r,b.checkSourceValid=p,b.requiredFields=[{model:"name",condition:function(a){return!!a.name},title:'You must add a job name. <a ng-click="field.click()">Click here to add one.</a>',click:function(){i.scrollHighlightElement("nameEdit",{background:!0,offset:100})}},{model:"fields",condition:function(a){return a.fields.length>0},title:'You have not added any related fields <a ng-click="field.click()">Add field tags.</a>',click:function(){i.scrollHighlightElement("fieldsEdit",{background:!0,offset:100})}},{model:"location",condition:function(a){return a.location.length>0},title:'You have not added a location yet. <a ng-click="field.click()">Click here to add one.</a>',click:function(){i.scrollHighlightElement("locationEdit",{background:!0,offset:100})}},{model:"description",condition:function(a){return a.description&&a.description.length>10},title:'You must have a job description. <a ng-click="field.click()">Click here.</a>',click:function(){i.scrollHighlightElement("descriptionEdit",{background:!0,offset:100})}}]}]);
angular.module("views.landing.editor",[]),angular.module("views.landing.editor").config(["$stateProvider",function(a){a.state("app.landing.editor",{url:"/editor",templateUrl:"views/landing/landing-editor/landing-editor.html",controller:"LandingEditorViewCtrl",layout:{size:"md",footer:!0,topBanner:!1}})}]).controller("LandingEditorViewCtrl",["jwt","$scope","LayoutOptions","OnboardingService",function(a,b,c,d){b.playCenter=!0,c.header.landing=!0,d.beenLanding=!0}]);
angular.module("views.landing.index",[]),angular.module("views.landing.index").config(["$stateProvider",function(a){a.state("app.landing.index",{url:"",templateUrl:"views/landing/landing-index/landing-index.html",controller:"LandingIndexViewCtrl",layout:{size:"md",footer:!0,topBanner:!1}})}]).controller("LandingIndexViewCtrl",["jwt","$scope","LayoutOptions","OnboardingService",function(a,b,c,d){c.header.landing=!0,d.beenLanding=!0,b.slides=[{image:"assets/images/landing/workshop/rover-night.jpg"},{image:"assets/images/landing/workshop/lathe.jpg"},{image:"assets/images/landing/workshop/explore.jpg"},{image:"assets/images/landing/workshop/rover-day.jpg"}]}]);
angular.module("views.landing.jobs",[]),angular.module("views.landing.jobs").config(["$stateProvider",function(a){a.state("app.landing.jobs",{url:"/jobs",templateUrl:"views/landing/landing-jobs/tpls/landing-jobs.html",controller:["OnboardingService",function(a){a.beenLanding=!0}],seo:function(){return{title:"Aerospace Jobs - Simple 2 Click Application - STEMN"}},layout:{size:"md",sidebar:!1,footer:!0,topBanner:!1}})}]);
angular.module("views.landing.recruiting",[]),angular.module("views.landing.recruiting").config(["$stateProvider",function(a){a.state("app.landing.recruiting",{url:"/recruiting",templateUrl:"views/landing/landing-recruiting/landing-recruiting.html",controller:["OnboardingService",function(a){a.beenLanding=!0}],seo:function(){return{title:"For Employers - Recruit the world's best scientists and engineers - STEMN"}},layout:{size:"md",sidebar:!1,footer:!0,topBanner:!1}})}]);
angular.module("views.landing.signup",[]),angular.module("views.landing.signup").config(["$stateProvider",function(a){a.state("app.landing.signup",{url:"/signup",templateUrl:"views/landing/landing-signup/landing-signup.html",controller:["$scope","OnboardingService","$mdToast","$http",function(a,b,c,d){b.beenLanding=!0,a.signup={},a.submitSignup=function(){a.SignupForm.$valid?d({method:"POST",url:"api/v1/mail/companyInquiry",data:a.signup}).then(function(){c.show(c.simple().content("Signup submitted successfully")),a.signupFormSuccess=!0}):c.show(c.simple().theme("warn").content("Signup form invalid"))}}],seo:function(){return{title:"Signup as an Employer - Recruit the world's best scientists and engineers - STEMN"}},layout:{size:"md",sidebar:!1,footer:!0,topBanner:!1,bgColor:"rgba(0, 0, 0, 0.03)"}})}]);
angular.module("views.landing",["views.landing.index","views.landing.jobs","views.landing.recruiting","views.landing.editor","views.landing.signup","modules.authentication","modules.layout-options","modules.user-subdomain","modules.carousel"]),angular.module("views.landing").config(["$stateProvider",function(a){a.state("app.landing",{"abstract":!0,url:"/landing",template:'<ui-view class="landingView"></ui-view>',controller:"LandingViewCtrl",menu:{main:[{label:"STEMN",sref:"app.landing.index",authenticate:"false"},{label:"Project Publishing",sref:"app.landing.editor",authenticate:"false"},{label:"Find a job",sref:"app.landing.jobs",authenticate:"false"},{label:"For Employers",sref:"app.landing.recruiting",authenticate:"false"}],more:[]},seo:function(a){return{title:"Welcome to STEMN - Connecting the Aerospace Community"}}})}]).controller("LandingViewCtrl",["$scope","$state","Authentication","AuthenticationModalService","OnboardingService","LayoutOptions",function(a,b,c,d,e,f){f.header.landing=!0,e.beenLanding=!0,a.login=function(a,e){c.currentUser.isLoggedIn()?b.go(e||"app.home"):d.login(a)}}]).directive("playVideoOnHover",["$timeout",function(a){return{restrict:"A",link:function(a,b,c){b.bind("mouseenter",function(a){b[0].play()}),b.bind("mouseleave",function(a){b[0].pause()})}}}]).directive("videoSpeed",["$timeout",function(a){return{restrict:"A",link:function(a,b,c){b[0].playbackRate=parseInt(c.videoSpeed)}}}]).directive("videoPlay",["$timeout",function(a){return{restrict:"A",scope:{videoPlay:"="},link:function(a,b,c){a.$watch("videoPlay",function(){a.videoPlay?b[0].play():b[0].pause()})}}}]).directive("particles",["$window",function(a){return{restrict:"E",replace:!0,template:'<div class="particleJs"></div>',link:function(b,c,d,e){var f={particles:{number:{value:200,density:{enable:!0,value_area:600}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"",width:180,height:240}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:2,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.05,width:1},move:{enable:!0,speed:.5,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:80,line_linked:{opacity:.5}},bubble:{distance:50,size:0,duration:2,opacity:0,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:10},remove:{particles_nb:2}}},retina_detect:!0};d.altDisplay&&(f={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#d8d8d8"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#b4b4b4",opacity:.4,width:1},move:{enable:!0,speed:3,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:159.84015984015983,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),d.noInteractive&&(f.interactivity.events.onhover.enable=!1,f.interactivity.events.onclick.enable=!1,f.particles.move.speed=.5),a.particlesJS(d.id,f)}}}]);
angular.module("views.login",["modules.authentication"]),angular.module("views.login").config(["$stateProvider",function(a){a.state("app.login",{url:"/login",dialog:!0,onEnter:["AuthenticationModalService","$state","$timeout",function(a,b,c){c(function(){b.go("app.home").then(function(){c(a.login,1e3)})},1)}]})}]);
angular.module("views.map",["modules.mapbox","modules.maps","ngGeolocation","modules.prompt-overlay"]),angular.module("views.map").config(["$stateProvider",function(a){a.state("app.map",{url:"/map?type&c",templateUrl:"views/map/tpls/map.html",controller:"MapViewCtrl",layout:{size:"lg",smooch:!1}})}]).controller("MapViewCtrl",["$scope","Authentication","SearchService","CoreLibrary","$timeout","LayoutOptions","$geolocation","$location","$state","OrganisationModalService",function(a,b,c,d,e,f,g,h,i,j){function k(){var b=v.getBounds(),e={northeast:{latitude:b._northEast.lat,longitude:b._northEast.lng},southwest:{latitude:b._southWest.lat,longitude:b._southWest.lng}};c.search({type:a.query.type,location:e,select:["_id","location","picture","name","blurb","stub"],size:50}).then(function(b){var c=_.map(w._layers,"feature.properties.id"),e=[];_.forEach(b.data,function(a){-1===c.indexOf(a._id)&&e.push(a)});var f=l(e,a.query.type);w.addData(f),t(),w.eachLayer(function(a){var b='<div class="marker-title">'+a.feature.properties.title+'</div><div class="marker-description">'+d.stringTruncate(a.feature.properties.description,140)+'</div><a class="text-green capitalise" href="'+d.getHref(a.feature.properties.type,a.feature.properties.stub)+'">Go To '+a.feature.properties.type+"</a>";a.bindPopup(b)}),a.results=a.results||[],d.assignArray(a.results,b.data,"_id")})}function l(a,b){var c=[];return _.forEach(a,function(a){var d="project"==b?"&crop=true":"";c.push({type:"Feature",geometry:{type:"Point",coordinates:m(a._id,a.location[0].coords)},properties:{id:a._id,stub:a.stub,title:a.name,type:b,description:a.blurb,icon:{iconId:"marker-asffsafas",iconUrl:(a.picture||"/assets/images/default/user-1.png")+"?size=thumb"+d,iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,-25],className:"marker"}}})}),c}function m(a,b){var c=2*(parseInt(a.substr(20,4),16)/Math.pow(16,4)-.5),d=2*(parseInt(a.substr(16,4),16)/Math.pow(16,4)-.5);return[b[1]+c/2e3,b[0]+d/2e3]}function n(){g.getCurrentPosition({timeout:6e4,enableHighAccuracy:!0}).then(function(a){L.circle([a.coords.latitude,a.coords.longitude],a.coords.accuracy,{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:1,opacity:.5}).addTo(v),L.circleMarker([a.coords.latitude,a.coords.longitude],{color:"#136AEC",fillColor:"#136AEC",fillOpacity:1,weight:2,opacity:.9,radius:5}).addTo(v),x=[a.coords.latitude,a.coords.longitude],y=13,v&&v.setView(x,y)})}function o(a,b){w.eachLayer(function(a){a.feature.properties.id===b&&(q(a._icon),a.openPopup())}),v.setView(a,15)}function p(b){a.query.type=b,w.clearLayers(),k()}function q(a){var b=a.layer?angular.element(a.layer._icon):angular.element(a);b.css({"z-index":z}),z++}function r(){var b=["project","organisation","job"];if(-1!=b.indexOf(i.params.type)&&(a.query.type=i.params.type),i.params.c){var c=i.params.c.split(":");x=[c[0],c[1]],y=c[2],v&&v.setView(x,y)}}function s(){var b=105,c=window.innerHeight;a.displayLimit=Math.floor(.5*c/b)}function t(){if(A>=1){var a=v.getCenter(),b=a.lat+":"+a.lng+":"+v.getZoom();h.search("c",b)}A++}function u(a){j.organisationNewModal(a).then(function(a){i.go("app.organisation-onboarding.picture",{stub:a.stub})})}var v,w,x=[30,0],y=4;f.header.landing=!0,i.current.reloadOnSearch=!1,a.query={type:"project"},s(),r(),a.setType=p,a.panToMarker=o,a.geolocate=n,a.newOrganisation=u,a.$state=i,a.$watch("$state.params",r),a.callback=function(a){v=a,w=L.geoJson().addTo(v),w.on("mouseover",q);var b=L.latLng(40.712,-74.227),c=L.latLng(40.774,-74.125);L.latLngBounds(b,c);v.zoomControl.removeFrom(v),v.setView(x,y),k(),v.on("move",_.debounce(k,150)),w.on("layeradd",function(a){var b=a.layer,c=b.feature;b.setIcon(L.icon(c.properties.icon))})};var z=1e3,A=0}]);
angular.module("views.notifications",[]),angular.module("views.notifications").config(["$stateProvider",function(a){a.state("app.notifications",{url:"/notifications","abstract":!0,templateUrl:"views/notifications/notifications.html",controller:["$scope",function(a){a.tabs=[{label:"All",sref:"app.notifications.all"},{label:"Invites",sref:"app.notifications.invites"},{label:"Job Applications",sref:"app.notifications.applications"}]}],layout:{size:"md",bgColor:"rgba(0, 0, 0, 0.03)"},seo:function(a){return{title:"Notifications - STEMN"}}}).state("app.notifications.all",{url:"",sticky:!0,views:{all:{templateUrl:"views/notifications/notifications-all.html"}}}).state("app.notifications.invites",{url:"/invites",views:{invites:{templateUrl:"views/notifications/notifications-invites.html"}}}).state("app.notifications.applications",{url:"/applications",views:{applications:{templateUrl:"views/notifications/notifications-applications.html"}}})}]).directive("notificationCards",function(){return{restrict:"E",scope:{query:"=",type:"=?"},templateUrl:"views/notifications/tpls/notification-cards.html",controller:["$scope","NotificationService","HttpQuery",function(a,b,c){a.query=c({url:"api/v1/notifications",params:{size:20,order:"timestamp",criteria:{type:a.type}},onSuccess:function(a){return _.forEach(a,function(a){a.text=b.notificationText[a.type]}),a}}),a.query.more()}]}});
angular.module("views.organisation-onboarding",[]),angular.module("views.organisation-onboarding").config(["$stateProvider",function(a){a.state("app.organisation-onboarding",{url:"/organisation-wizard/:stub","abstract":!0,templateUrl:"views/organisation-onboarding/tpls/organisation-onboarding.html",controller:"OrganisationOnboardingModalCtrl",resolve:{organisation:["OrganisationService","$stateParams",function(a,b){return a.getOrganisation(b.stub).then(function(a){return a})}]},layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1},authLevel:"user"}).state("app.organisation-onboarding.picture",{url:"",templateUrl:"views/organisation-onboarding/tpls/organisation-onboarding.picture.html",controller:["$scope",function(a){a.setProgress(0)}],layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1},authLevel:"user"}).state("app.organisation-onboarding.details",{url:"/details",templateUrl:"views/organisation-onboarding/tpls/organisation-onboarding.details.html",controller:["$scope",function(a){a.setProgress(1)}],layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1},authLevel:"user"}).state("app.organisation-onboarding.invite",{url:"/invite",templateUrl:"views/organisation-onboarding/tpls/organisation-onboarding.invite.html",controller:["$scope",function(a){a.setProgress(2)}],layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1},authLevel:"user"}).state("app.organisation-onboarding.links",{url:"/links",templateUrl:"views/organisation-onboarding/tpls/organisation-onboarding.links.html",controller:["$scope",function(a){a.setProgress(3)}],layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1},authLevel:"user"})}]).controller("OrganisationOnboardingModalCtrl",["organisation","$scope","$state","OrganisationService",function(a,b,c,d){function e(a){b.currentStep=a,b.progress=(a+1)/b.steps*100}function f(){c.go("app.organisation.overview",{stub:a.stub})}function g(){return d.updateOrganisation(b.organisation)}b.organisation=a,b.forms={},b.setProgress=e,b.cancel=f,b.save=g,b.stepInfo=[{confirmEnable:function(){return b.organisation.logo.url},confirmTxt:"Next",confirm:function(){b.save().then(function(){c.go("app.organisation-onboarding.details")})}},{confirmEnable:function(){return!0},back:function(){c.go("app.organisation-onboarding.picture")},confirmTxt:"Next",confirm:function(){b.save().then(function(){c.go("app.organisation-onboarding.invite")})}},{confirmEnable:function(){return!0},back:function(){c.go("app.organisation-onboarding.details")},confirmTxt:"Next",confirm:function(){b.save().then(function(){c.go("app.organisation-onboarding.links")})}},{confirmEnable:function(){return!0},back:function(){c.go("app.organisation-onboarding.invite")},confirmTxt:"Finish",confirm:function(){b.save().then(function(){c.go("app.organisation.overview",{stub:a.stub,showEdit:!0})})}}],b.steps=b.stepInfo.length}]);
angular.module("views.organisation",["modules.organisations","modules.contributors","modules.request-ownership"]),angular.module("views.organisation").config(["$stateProvider","$urlRouterProvider",function(a,b){b.when("/org/:stub","/org/:stub/overview").when("/org/:stub/people","/org/:stub/people/contributors").when("/organisations/:stub","/org/:stub"),a.state("app.organisation",{url:"/org/:stub?projectview&location&edit&showEdit","abstract":!0,templateUrl:"views/organisation/organisation.html",resolve:{organisation:["OrganisationService","$stateParams",function(a,b){return a.getOrganisation(b.stub).then(function(a){return a})}]},controller:"OrganisationViewCtrl",seo:function(a){return{title:a.organisation.name+" Organisation - STEMN",picture:a.organisation.picture,description:a.organisation.blurb}},layout:{size:"md",footer:!0}}).state("app.organisation.overview",{url:"/overview",sticky:!0,templateUrl:"views/organisation/tpls/organisation-overview.html",controller:"OrganisationOverviewCtrl",layout:{size:"lg",footer:!0}}).state("app.organisation.applications",{url:"/applications",sticky:!0,templateUrl:"views/organisation/tpls/organisation-applications.html",controller:"OrganisationOverviewCtrl"}).state("app.organisation.people",{url:"/people",sticky:!0,"abstract":!0,templateUrl:"views/organisation/tpls/organisation-people.html",controller:["$scope","CoreLibrary",function(a,b){a.tabs=[{label:b.pluralise(a.organisation.numContributors,"Contributor"),sref:"app.organisation.people.contributors"},{label:b.pluralise(a.organisation.followers,"Follower"),sref:"app.organisation.people.followers"},{label:(a.organisation.numEducations||0)+" Alumni",sref:"app.organisation.people.alumni"}]}]}).state("app.organisation.people.followers",{url:"/followers",templateUrl:"views/organisation/tpls/organisation-followers.html",seo:function(a){return{title:"Followers of the "+a.organisation.name+" Organisation - STEMN"}},data:{name:"Followers"}}).state("app.organisation.people.contributors",{url:"/contributors",templateUrl:"views/organisation/tpls/organisation-contributors.html",seo:function(a){return{title:"People Contributing to the "+a.organisation.name+" Organisation - STEMN"}},data:{name:"Contributors"}}).state("app.organisation.people.alumni",{url:"/alumni",templateUrl:"views/organisation/tpls/organisation-alumni.html",seo:function(a){return{title:"People that went to "+a.organisation.name+" Organisation - STEMN"}},data:{name:"Alumni"}}).state("app.organisation.jobs",{url:"/jobs",sticky:!0,templateUrl:"views/organisation/tpls/organisation-jobs.html",seo:function(a){return{title:"Jobs openings at "+a.organisation.name+" - STEMN"}},data:{name:"Jobs"}}).state("app.organisation.projects",{url:"/projects",sticky:!0,templateUrl:"views/organisation/tpls/organisation-projects.html",seo:function(a){return{title:"Projects Created by the "+a.organisation.name+" Organisation - STEMN"}},data:{name:"Projects"}}).state("app.organisation.forum",{url:"/forum",sticky:!0,templateUrl:"views/organisation/tpls/organisation-forum.html",seo:function(a){return{title:"Questions and Answers from the "+a.organisation.name+" Organisation - STEMN"}},data:{name:"Forum"}}).state("app.organisation.blogs",{url:"/blogs",sticky:!0,templateUrl:"views/organisation/tpls/organisation-blogs.html",seo:function(a){return{title:"Blogs and Updates from the "+a.organisation.name+" Organisation - STEMN"}},data:{name:"Updates"}})}]).controller("OrganisationOverviewCtrl",["organisation","$scope","OrganisationService","FeedService","RelatedService",function(a,b,c,d,e){function f(){d.getFeed({parentType:"organisation",parentId:a._id,type:"projects",sort:"submitted",size:10,page:1,published:!0}).then(function(a){b.projects=a})}function g(c){e.getRelated({parentType:"organisation",parentId:a._id,type:"organisation",page:c,size:6}).then(function(a){b.related=a})}f(),g(1)}]).controller("OrganisationViewCtrl",["$scope","$rootScope","$state","$stateParams","Authentication","OrganisationService","JobModalService","ForumModalService","CoreLibrary","organisation","MenuItems","ProjectModalService",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){l.newProject(a,{organisations:[j]})}function n(a,b){h.newThread(a,{type:b||"question",organisations:[j]})}a.organisation=j,a.newProject=m,a.newThread=n,a.newJob=g.createJob,a.userCanEdit=_.any(j.team,function(a){return e.currentUser._id===a._id})||e.currentUser.isAdmin,a.showEdit=a.userCanEdit,a.numContributorsString=i.pluralise(a.organisation.numContributors,"Creator"),a.tabs=[{label:"Overview",sref:"app.organisation.overview"},{label:i.pluralise(a.organisation.numThreads||0,"Discussion"),sref:"app.organisation.forum"},{label:i.pluralise(a.organisation.numProjects||0,"Project"),sref:"app.organisation.projects"},{label:i.pluralise(a.organisation.numBlogs||0,"Blog"),sref:"app.organisation.blogs"},{label:i.pluralise(a.organisation.numJobs,"Job"),sref:"app.organisation.jobs"},{label:i.pluralise(a.organisation.numContributors+a.organisation.followers+(a.organisation.numEducations||0),"People"),sref:"app.organisation.people.contributors"}],a.save=function(){f.updateOrganisation(a.organisation)}}]);
angular.module("views.partners",[]),angular.module("views.partners").config(["$stateProvider",function(a){a.state("app.partners",{url:"/partners",templateUrl:"views/partners/partners.html",controller:["$scope","$rootScope",function(a,b){a.partners=[{name:"AmericaSpace",desc:"AmericaSpace is a spaceflight news media outlet based out of Austin, Texas, with our staff of writers & photographers spread out across the country's many NASA centers and launch sites. We work hard to deliver the latest news & imagery to our viewers, with numerous aerospace journalists, photojournalists & experts from within the aerospace industry providing in-depth content on a daily basis.",url:"/org/americaspace/overview",image:"AmericaSpace.png",links:{facebook:"AmericaSpace.org/timeline",linkedin:"company/americaspace",twitter:"americaspace",website:"www.americaspace.com/",youtube:"user/AmericaSpace"}},{name:"AYAA",desc:"The Australian Youth Aerospace Association (AYAA) is a not-for-profit organisation managed by student volunteers and young professionals, who have the objective of promoting education, awareness and involvement in the aerospace industry to young Australians.",url:"/org/australian-youth-aerospace-association-ayaa/overview",image:"AYAA.jpg",links:{facebook:"YouthAeroAssoc",website:"ayaa.com.au"}},{name:"SGAC",desc:"The Space Generation Advisory Council (SGAC) works on the international, national and local level to link together university students and young professionals. SGAC has thousands of members in over 100 countries around the world.",url:"/org/space-generation-advisory-council-sgac/overview",image:"SGAC.jpg",links:{facebook:"spacegeneration",linkedin:"company/space-generation-advisory-council",twitter:"sgac",website:"spacegeneration.org/",youtube:"user/spacegeneration"}},{name:"The University Of Sydney",desc:"The University of Sydney is an Australian public university in Sydney. Founded in 1850, it is Australia's first university and is regarded as one of its most prestigious, ranked as the world's 27th most reputable university.",url:"/org/the-university-of-sydney-usyd/overview",image:"Usyd.jpg",links:{facebook:"sydneyuni",website:"sydney.edu.au/",twitter:"Sydney_Uni"}},{name:"SEDS - SJSU",desc:"SEDS is an international organization whose primary goal is to promote the exploration of space through projects, education, and outreach. At SEDS SJSU, we specifically focus on project and technology development that will extend humanity’s reach into space.",url:"/org/seds-san-jose-state-university-sjsu/overview",image:"seds-sjsu.jpg",links:{facebook:"sedssjsu",website:"seds-sjsu.org"}}]}],layout:{footer:!0},seo:function(a){return{title:"Become a Partner and Help the Mission - STEMN "}}})}]);
angular.module("views.password-reset",[]),angular.module("views.password-reset").config(["$stateProvider",function(a){a.state("password-reset",{url:"/password-reset?id&token",templateUrl:"views/password-reset/password-reset.html",resolve:{jwt:["Authentication","$stateParams",function(a,b){return b.id?a.setToken(b.id,!1):void 0}]},controller:["jwt","$stateParams","$scope","$state","$mdToast","SettingsService",function(a,b,c,d,e,f){c.password={},c.updatePassword=function(){c.password.newPassword!==c.password.confirmPassword?e.show(e.simple().theme("warn").content("The passwords you entered don't match!")):f.updatePassword(c.password.oldPassword,c.password.newPassword,b.token).then(function(){e.show(e.simple().content("Great, your password has been updated.")),d.go("app.home")})}}],seo:function(a){return{title:"Change and Reset your Password - STEMN"}}})}]);
angular.module("views.privacy",[]),angular.module("views.privacy").config(["$stateProvider",function(a){a.state("app.privacy",{url:"/privacy",templateUrl:"views/privacy/privacy.html",controller:["$rootScope",function(a){}],layout:{footer:!0},seo:function(a){return{title:"Privacy Policy - STEMN"}}})}]);
angular.module("views.project-onboarding",[]),angular.module("views.project-onboarding").config(["$stateProvider",function(a){a.state("app.project-onboarding",{url:"/projects/:stub/edit","abstract":!0,templateUrl:"views/project-onboarding/tpls/project-onboarding.html",controller:"ProjectOnboardingModalCtrl",resolve:{project:["ProjectService","$stateParams",function(a,b){return a.getProject(b.stub).then(function(a){return a})}]},layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1,size:"md"}}).state("app.project-onboarding.summary",{url:"",sticky:!0,views:{summary:{templateUrl:"views/project-onboarding/tpls/project-onboarding.summary.html",controller:["$scope","$state",function(a,b){}]}},authLevel:"user",layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1,size:"sm"}}).state("app.project-onboarding.content",{url:"/content",sticky:!0,views:{content:{templateUrl:"views/project-onboarding/tpls/project-onboarding.content.html",controller:["$scope","$state",function(a,b){}]}},authLevel:"user",layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1,size:"sm"}}).state("app.project-onboarding.info",{url:"/info",sticky:!0,views:{info:{templateUrl:"views/project-onboarding/tpls/project-onboarding.info.html",controller:["$scope","$state",function(a,b){}]}},authLevel:"user",layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1,size:"md",bgColor:"rgba(0, 0, 0, 0.03)"}}).state("app.project-onboarding.final",{url:"/final",sticky:!0,views:{"final":{templateUrl:"views/project-onboarding/tpls/project-onboarding.final.html",controller:["$scope","$state",function(a,b){}]}},authLevel:"user",layout:{horizontalMenu:!1,sidebar:!1,topBanner:!1,smooch:!1,size:"md",bgColor:"rgba(0, 0, 0, 0.03)"}})}]).controller("ProjectOnboardingModalCtrl",["project","$scope","$state","$timeout","$document","$mdToast","ModularEditorService","ProjectService","SocialModalService","LicenseData","Authentication","PublishService","HighlightElement","AutomaticProjectSections",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){b.project.sectionData={sectionOrder:[],sections:{}},g.pushNewSection(b.project.sectionData,g.getTextSection(""))}function p(){c.go("app.project-onboarding.info"),d(function(){m.scrollHighlightElement("teamEdit",{background:!0,offset:100})},0)}function q(a){_.find(b.requiredFields,"missing")?(b.publishAttempted=!0,e.scrollTopAnimated(0),l.missingFieldsToast()):l.selectStubModal(a,b.project).then(function(d){b.project.stub=d,b.project.updated=Date.now();var e=_.clone(b.project,!0);e.published=!0,h.updateProject(e).then(function(e){b.project.published=!0,f.show(f.simple().content("Your project has been published. It will now be public.")),console.log(e),i.sharePrompt(a,{entity:"project"}).then(function(){c.go("app.project.overview",{stub:d})})["catch"](function(){c.go("app.project.overview",{stub:d})})})})}function r(){t(),c.go("app.project.overview",{stub:a.stub})}function s(){c.go("app.project.overview",{stub:a.stub})}function t(){return b.forms.main.$setPristine(),h.updateProject(b.project)}b.project=a,b.forms={},b.cancel=s,b.saveProject=t,b.publish=q,b.currentUser=k.currentUser,b.preview=r,b.clearContent=o,b.inviteTeam=p,b.licenses=j.licenses,b.$watch("project.license",function(){b.license=_.find(b.licenses,{type:b.project.license})}),b.projectInitial=_.clone(b.project,!0),0===b.project.sectionData.sectionOrder.length&&n.scientificMethod(b.project.sectionData),b.tabs=[{label:"Summary",sref:"app.project-onboarding.summary",click:function(){c.go("app.project-onboarding.summary")}},{label:"Content",sref:"app.project-onboarding.content",click:function(){c.go("app.project-onboarding.content")}},{label:"Info and tags",sref:"app.project-onboarding.info",click:function(){c.go("app.project-onboarding.info")}},{hideCondition:function(){return a.published},label:"Publish",sref:"app.project-onboarding.final",click:function(){c.go("app.project-onboarding.final")}}],b.steps={"app.project-onboarding.summary":{nextText:"Next",nextFn:function(){c.go("app.project-onboarding.content")}},"app.project-onboarding.content":{nextText:"Next",nextFn:function(){c.go("app.project-onboarding.info")}},"app.project-onboarding.info":{nextText:"Next",nextFn:function(){c.go("app.project-onboarding.final")}},"app.project-onboarding.final":{nextText:"Publish",nextFn:q}},b.editorOptions={realtime:!1,contained:!0},b.requiredFields=[{condition:function(a){return!!a.name},title:'You must add a project name. <a ng-click="field.click()">Click here to add one.</a>',click:function(){c.go("app.project-onboarding.summary"),d(function(){m.scrollHighlightElement("nameEdit",{background:!0,offset:100})},0)}},{condition:function(a){return a.summary.length>20},title:'You must have a project summary. <a ng-click="field.click()">Click here to add one.</a>',click:function(){c.go("app.project-onboarding.summary"),d(function(){m.scrollHighlightElement("summaryEdit",{background:!0,offset:100})},0)}},{condition:function(a){return n.checkForDummytext(a.sectionData)},title:'Your content section still contains dummy text. <a ng-click="field.click()">Edit the content section.</a>',click:function(){c.go("app.project-onboarding.content"),d(function(){m.scrollHighlightElement("contentEdit",{background:!0,offset:100})},0)}},{condition:function(a){return a.fields.length>0},title:'You have not added any field tags. <a ng-click="field.click()">Add field tags.</a>',click:function(){c.go("app.project-onboarding.info"),d(function(){m.scrollHighlightElement("fieldsEdit",{background:!0,offset:100})},0)}}]}]).service("AutomaticProjectSections",["ModularEditorService",function(a){function b(a){var b=_.find(a.sections,function(a){return-1!=d.indexOf(a.content)});return!b}function c(b){_.forEach(d,function(c){var d=a.getTextSection(c);a.pushNewSection(b,d)})}var d=["<p>Not sure what to put in your project? Use the sections below as a guide. You can add and remove any sections you want.</p>","<h2>Introduction</h2><p>An effective introduction consists of at least three distinct paragraphs:</p><ul><li><b>The big picture</b>. Introduce the broader context of your project and your motivations (even for hobby side-projects).</li><li><b>Zooming in</b>. Now you've established a frame for thinking about your project , you can present background information in more depth.</li><li><b>Get specific.</b>&nbsp;Go in-depth on your particular investigation<br></li></ul>","<h2>Methods</h2><p>Arguably the most important section to hiring managers. This is where you demonstrate your technical expertise, and lay out your clear and logical approach to problems. Add in code blocks, images, graphs, drawings, videos, and equations where applicable.</p>","<h2>Results</h2><p>Show hiring managers you're someone who can deliver. Again, take advantage of the multi-media (images, graphs, videos etc.) on STEMN that you can't show on pdf!</p>","<h2>Discussion</h2><p>Interpret and contextualize your data. Begin by reiterating the purpose of your research and your major findings. Then, do any or all of the following:</p><ul><li>Connect your findings to other research (published or that of your peers).</li><li>Describe any ambiguities and sources of error in the data, and suggest future experiments to resolve uncertainties.</li><li>Suggest specific experiments for extending your findings.<br></li><li>Describe any conceptual or technical limitations of the project.</li></ul>"];this.scientificMethod=c,this.checkForDummytext=b}]);
angular.module("views.project",["modules.project","modules.publish","modules.filters","modules.missing-fields","modules.scroll-highlight"]),angular.module("views.project").config(["$stateProvider",function(a){a.state("app.project",{"abstract":!0,url:"/projects/:stub?edit&reply",templateUrl:"views/project/tpls/project.html",controller:"ProjectViewCtrl",resolve:{project:["userdata","ProjectService","$stateParams","PublishService","$state","$timeout",function(a,b,c,d,e,f){return b.getProject(c.stub).then(function(a){return a})["catch"](function(a){f(function(){e.go("app.404",null,{location:!1})})})}]},layout:{size:"md"},seo:function(a){return{title:a.project.name?a.project.name+" - STEMN":"Untitled Project - STEMN",picture:a.project.picture,description:a.project.blurb}}}).state("app.project.overview",{url:"",sticky:!0,overlay:!1,templateUrl:"views/project/tpls/project-overview.html",layout:{size:"md"}}).state("app.project.about",{url:"/about",templateUrl:"views/project/tpls/project-about.html",layout:{size:"md",bgColor:"rgba(0, 0, 0, 0.03)"},seo:function(a){return{title:"About "+a.project.name+" - STEMN"}}}).state("app.project.blogs",{url:"/blog",templateUrl:"views/project/tpls/project-blog.html",layout:{size:"md",bgColor:"rgba(0, 0, 0, 0.03)"},seo:function(a){return{title:"Updates - "+a.project.name+" - STEMN"}}}).state("app.project.threads",{url:"/threads",templateUrl:"views/project/tpls/project-threads.html",layout:{size:"md",bgColor:"rgba(0, 0, 0, 0.03)"},seo:function(a){return{title:"Questions - "+a.project.name+" - STEMN"}}})}]).controller("ProjectViewCtrl",["$scope","$document","$timeout","$state","project","Authentication","ProjectStatusData","UsersModalService","SocialModalService","HighlightElement","CoreLibrary","LicenseData","$dynamicFooter","$mdToast","ProjectService","PublishService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){m.open=!0,m.content="<entity-footer refresh-id='"+e._id+"' entity='project' user-can-edit='userCanEdit' show-edit='showEdit' edit-fn='edit()' publish-fn='publish($event)'></entity-footer>",m.scope=a}function r(){d.go("app.project-onboarding.summary",{stub:e.stub})}function s(a){d.go("app.project-onboarding.final",{stub:e.stub})}a.userCanEdit=_.any(e.team,function(a){return f.currentUser._id===a._id})||f.currentUser.isAdmin,a.showEdit=a.userCanEdit,q(),a.tabs=[{label:"Overview",sref:"app.project.overview"},{label:k.pluralise(e.numBlogs,"Update"),sref:"app.project.blogs"},{label:k.pluralise(e.numQuestions+e.numGenerals,"Question"),sref:"app.project.threads"}],a.$watch(function(){a.currentTab=k.getCurrentTab(a.tabs)}),a.project=e,a.edit=r,a.editorOptions={realtime:!1,contained:!0},a.editExpands={details:!1},a.toc={content:[],prepend:[{id:"entityTitle",level:"H1",label:a.project.name}],append:[{id:"responses",level:"H2",label:"Comments"}]},a["delete"]=function(){o.deleteProject(a.project._id).then(function(){d.go("app.creations.all")})},a.projectStatuses=g,a.$watch("project.status",function(){a.status=_.find(a.projectStatuses,{value:a.project.status})}),a.publish=s}]).directive("projectThumbs",function(){return{restrict:"E",replace:!0,scope:{editorSections:"=",images:"=?"},templateUrl:"views/project/tpls/project-thumbs.html",controller:["$scope",function(a){function b(a){var b=[];return _.forEach(a.sections,function(a){"image"==a.type&&b.push(a)}),b}a.images=b(a.editorSections)}]}});
angular.module("views.referrals",[]),angular.module("views.referrals").config(["$stateProvider",function(a){a.state("app.referrals",{url:"/referrals",templateUrl:"views/referrals/referrals.html",controller:["$scope","HttpQuery","Authentication",function(a,b,c){a.user=c.currentUser,a.query=b({url:"/api/v1/referrals/"+a.user.ref}),a.query.more()}],authLevel:"user",layout:{size:"md",footer:!0},seo:function(a){return{title:"Refer your friends, Win awesome prizes! - STEMN "}}})}]);
angular.module("views.scholarship",[]),angular.module("views.scholarship").config(["$stateProvider",function(a){a.state("app.scholarship-aerofutures",{url:"/aerofutures",templateUrl:"views/scholarships/aerofutures",controller:["$rootScope",function(a){a.page.title="AeroFutures Scholarship - STEMN"}]})}]);

angular.module("views.security",[]),angular.module("views.security").config(["$stateProvider",function(a){a.state("app.security",{url:"/security",templateUrl:"views/security/security.html",layout:{footer:!0},seo:function(a){return{title:"Security - STEMN"}}})}]);
angular.module("views.search",["modules.site-search"]),angular.module("views.search").config(["$stateProvider",function(a){a.state("app.search",{"abstract":!0,url:"/search?q&type",templateUrl:"views/site-search/site-search.html",controller:"SearchViewCtrl",seo:function(a){return{title:"Search Engineering and Aerospace Projects, Jobs and Questions - STEMN"}},layout:{bgColor:"rgba(0, 0, 0, 0.03)",size:"sm"}}).state("app.search.all",{url:"/",templateUrl:"views/site-search/site-search-all.html"}).state("app.search.creations",{url:"/creations",templateUrl:"views/site-search/site-search-creations.html"}).state("app.search.organisations",{url:"/organisations",templateUrl:"views/site-search/site-search-organisations.html"}).state("app.search.fields",{url:"/fields",templateUrl:"views/site-search/site-search-fields.html"}).state("app.search.users",{url:"/people",templateUrl:"views/site-search/site-search-users.html"}).state("app.search.jobs",{url:"/jobs",templateUrl:"views/site-search/site-search-jobs.html"})}]).controller("SearchViewCtrl",["$scope","$document","$rootScope","$state","$location","$stateParams","$timeout","CoreLibrary","SearchService",function(a,b,c,d,e,f,g,h,i){function j(){g.cancel(m),m=g(function(){if(a.query.string){var b=[];a.size=12,"all"==a.type?(b=["project","field","user","thread","organisation","job"],a.size=4):"users"==a.type?b=["user"]:"creations"==a.type?b=["project","thread"]:"organisations"==a.type?b=["organisation"]:"fields"==a.type?b=["field"]:"jobs"==a.type?b=["job"]:console.error("Search Type Undefined"),i.search({types:b,key:"name",value:a.query.string,size:a.size,page:a.page,populate:!1,select:["name","picture","stub","blurb","type"]}).then(function(b){var c=h.groupByKey(b.data,"entityType");_.forEach(c,function(b,c){a.page>1?(a.results[c]=a.results[c]||[],a.results[c]=a.results[c].concat(b)):(a.results[c]=a.results[c]||[],h.assignArray(a.results[c],b,"_id"))}),1==a.page&&0===b.data.length&&_.forEach(a.results,function(a){a&&h.assignArray(a,[],"_id")}),a.noMoreResults=b.data.length<a.size})}else a.page=1,a.results={};f.q=a.query.string,q(),p(a.query.string,1e3)},n)}function k(){a.page++,a.searchQuery()}function l(){var a=angular.element(document.getElementById("search-results"));g(function(){b.scrollToElement(a,80,500)},0)}var m,n=300;a.tabs=[{label:"All",sref:"app.search.all"},{label:"Creations",sref:"app.search.creations"},{label:"Organisations",sref:"app.search.organisations"},{label:"Fields",sref:"app.search.fields"},{label:"People",sref:"app.search.users"},{label:"Jobs",sref:"app.search.jobs"}],a.currentTab=h.getCurrentTab(a.tabs),a.scrollOnEnter=l,a.query={string:f.q};var o,p=function(a,b){o=g(function(){d.current.reloadOnSearch=!1,e.search().q!=a&&e.search("q",a),g(function(){d.current.reloadOnSearch=void 0})},b)},q=function(a){g.cancel(o)};a.moreResults=k,a.searchQuery=j,a.results={},a.type=d.current.name.split(".")[2],a.page=1,a.searchQuery(),c.$on("$stateChangeSuccess",function(){a.currentTab=h.getCurrentTab(a.tabs),"search"==d.current.name.split(".")[1]&&(a.type=d.current.name.split(".")[2],a.page=1,a.searchQuery())}),c.$on("$stateChangeStart",function(){q()})}]);
angular.module("views.terms",[]),angular.module("views.terms").config(["$stateProvider",function(a){a.state("app.terms",{url:"/terms",templateUrl:"views/terms/terms.html",layout:{footer:!0},seo:function(a){return{title:"Terms of Service - STEMN"}}})}]);
angular.module("views.test",[]),angular.module("views.test").config(["$stateProvider",function(a){a.state("app.test",{url:"/test",templateUrl:"views/test/test.html",resolve:{project:["userdata","ProjectService","$stateParams","PublishService",function(a,b,c,d){return b.getProject("547db55af7f342380174e212").then(function(a){return a})}]},controller:["project","$scope","$timeout","OnboardingModalService","RealtimeEditorService","$http",function(a,b,c,d,e,f){b.project=a,b.edit={enabled:!0},b.editorOptions={contained:!1,realtime:!0},console.log("here"),f.get("/api/v1/feed",{params:{type:"projects",location:{northeast:{latitude:37.76,longitude:-122.642},southwest:{latitude:37.76,longitude:-122.642}}}}).then(function(a){console.log(a.data)})}]}).state("app.test2",{url:"/test2",templateUrl:"views/test/test2.html",controller:["$scope","$mdDialog",function(a,b){a.cmOption={lineNumbers:!0,indentWithTabs:!0,mode:"javascript",theme:"base16-light"},a.cmModel=';; Scheme code in here.\n(define (double x)\n	(* x x))\n\n\n<!-- XML code in here. -->\n<root>\n	<foo>\n	</foo>\n	<bar/>\n</root>\n\n\n// Javascript code in here.\nfunction foo(msg) {\n	var r = Math.random();\n	return "" + r + " : " + msg;\n}'}]}).state("app.test.test1",{url:"/test1",deepStateRedirect:!0,sticky:!0,data:{selectedTab:0},views:{tab1:{template:"Test 1 View 1111"}}}).state("app.test.test2",{url:"/test2",deepStateRedirect:!0,sticky:!0,data:{selectedTab:1},views:{tab2:{template:"Test 2 View 2222"}}})}]).controller("Test2Ctrl",["$rootScope","$scope",function(a,b){b.my_markdown="*This* **is** [markdown](https://daringfireball.net/projects/markdown/)"}]).controller("mentioDemoCtrl",["$scope","$rootScope","$http","$q","$sce","$timeout","mentioUtil","SearchService","CommentService",function(a,b,c,d,e,f,g,h,i){a.createComment=function(){i.createComment("54bdd04a502696201e7974e1",{text:a.htmlContent})},a.macros={brb:"Be right back",omw:"On my way","(smile)":'<img src="http://a248.e.akamai.net/assets.github.com/images/icons/emoji/smile.png" height="20" width="20">'},a.searchPeople=function(b){return h.search({type:"user",key:"name",value:b}).then(function(b){return a.people=b.data,b.data})},a.searchProjects=function(b){return h.search({type:"project",key:"name",value:b}).then(function(b){return a.projects=b.data,b.data})},a.searchTags=function(b){return h.search({type:"field",key:"field",value:b}).then(function(b){return a.tags=b,console.log(a.tags),b})},a.linkUser=function(a){return'<mention class="text-green bold popover-user" userid="'+a._id+'" contenteditable="false">@'+a.name+"</mention>"},a.linkProject=function(a){return'<span class="text-green bold popover-project" projectid="'+a._id+'" contenteditable="false">!'+a.name+"</span>"},a.linkTag=function(a){return'<a href="/fields/'+a.text+'" class="text-green bold" contenteditable="false">#'+a.text+"</a>"}}]);
angular.module("views.thread",[]),angular.module("views.thread").config(["$stateProvider",function(a){a.state("app.thread",{url:"/threads/:stub?edit&reply",resolve:{thread:["userdata","$stateParams","ThreadService","PublishService","$timeout","$state",function(a,b,c,d,e,f){return c.getThread(b.stub)["catch"](function(a){e(function(){f.go("app.404",null,{location:!1})})})}]},onEnter:["$state","$stateParams",function(a,b){b.stub||a.go("app.home")}],templateUrl:"views/thread/tpls/thread.html",controller:["thread","$rootScope","$document","$timeout","$scope","Authentication","ThreadService","EditorService","SocialModalService","TagsModalService","HighlightElement","$dynamicFooter","$mdToast","PublishService","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){l.open=!0,l.content="<entity-footer refresh-id='"+a._id+"' entity='thread' user-can-edit='userCanEdit' show-edit='showEdit' edit-fn='forms.ThreadForm.$edit()' publish-fn='publish($event)'></entity-footer>",l.scope=e}function q(a){_.find(e.requiredFields,"missing")?(e.publishAttempted=!0,c.scrollTopAnimated(0),n.missingFieldsToast(e.forms.ThreadForm)):n.selectStubModal(a,e.thread).then(function(b){e.thread.stub=b,e.thread.updated=Date.now();var c=_.clone(e.thread,!0);c.published=!0,g.saveThread(c).then(function(b){e.thread.published=!0,e.forms.ThreadForm.$endEdit(),m.show(m.simple().content("Your thread has been published. It will now be public.")),i.sharePrompt(a,{entity:"question"})})})}e.userCanEdit=a.owner._id==f.currentUser._id,e.showEdit=e.userCanEdit,e.thread=a,n.showEdit=e.showEdit,n.entity=a,e.forms={},e.editorOptions={realtime:!1,contained:!0},p(),!a.published&&e.userCanEdit&&d(function(){e.forms.ThreadForm.$edit()}),e.saveThread=function(){return g.saveThread(e.thread)},e.editTags=function(a){j.editTags(a,e.thread).then(function(a){e.thread=a,g.saveThread(e.thread)})},e.deleteThread=function(){g.deleteThread(e.thread._id).then(function(){history.back()})};var r={general:"discussion",question:"question"};e.typeTitle=r[e.thread.type],e.publish=q,e.requiredFields=[{model:"name",condition:function(a){return!!a.name},title:'You must add a thread name. <a ng-click="field.click()">Click here to add one.</a>',click:function(){k.scrollHighlightElement("nameEdit",{background:!0,offset:100})}},{model:"fields",condition:function(a){return a.fields.length>0},title:'You have not added any field tags <a ng-click="field.click()">Add field tags.</a>',click:function(){k.scrollHighlightElement("tagsEdit",{background:!0,offset:100})}}]}],seo:function(a){return{title:a.thread.name+" - STEMN"||"Untitled Question",picture:a.thread.picture,description:a.thread.blurb}},layout:{bgColor:"rgba(0, 0, 0, 0.03)"}})}]).directive("threadFooter",function(){return{restrict:"E",replace:!0,templateUrl:"views/thread/tpls/thread-footer.html"}});
angular.module("views.user-onboarding",["modules.onboarding-wizard"]),angular.module("views.user-onboarding").config(["$stateProvider",function(a){a.state("app.user-onboarding",{url:"/profile-wizard",templateUrl:"views/user-onboarding/tpls/user-onboarding.html",controller:"UserOnboardingCtrl","abstract":!0,resolve:{user:["UserService","Authentication",function(a,b){return a.getUser(b.currentUser._id,"lg").then(function(a){return a})}]},authLevel:"user",layout:{horizontalMenu:!1,topBanner:!1,smooch:!1,size:"md",bgColor:"rgba(0, 0, 0, 0.03)"}}).state("app.user-onboarding.intro",{url:"",templateUrl:"views/user-onboarding/tpls/user-onboarding.intro.html",controller:"UserOnboardingIntroModalCtrl",authLevel:"user"}).state("app.user-onboarding.experience",{url:"/experience",templateUrl:"views/user-onboarding/tpls/user-onboarding.experience.html",controller:"UserOnboardingExperienceModalCtrl",authLevel:"user"}).state("app.user-onboarding.final",{url:"/final",templateUrl:"views/user-onboarding/tpls/user-onboarding.final.html",authLevel:"user",controller:["$scope","$state","$timeout","HighlightElement","HttpQuery","Authentication",function(a,b,c,d,e,f){a.query=e({url:"/api/v1/search",urlParams:["near[]","sort","order","parentType","parentId"],params:{type:"job",size:4,key:"name",select:["name","organisation","location.name","pay","jobType","level","stub","organisations"],criteria:{},skills:f.currentUser._id,sort:"rating",order:"dsc"}}),a.query.more(),a.addMoreFields=function(){b.go("app.user-onboarding.intro"),c(function(){d.scrollHighlightElement("technologiesEdit",{background:!0,offset:100})},0)}}]})}]).controller("UserOnboardingCtrl",["user","$scope","$state","$mdDialog","UserService","Authentication","SettingsService",function(a,b,c,d,e,f,g){function h(){return e.updateUser(b.user)}function i(){e.getUser(f.currentUser._id,"lg").then(function(a){b.user=a})}function j(){g.getSettings().then(function(a){a.messages.userOnboarding=!1,a.save()})}b.user=a,b.steps=4,b.currentStep=0,b.$state=c,b.saveUser=h,b.complete=j,b.delRow=function(a,b){a.splice(b,1)},b.sortConfig={animation:150,handle:".my-handle"},b.forms={},b.getUserData=i,b.tabs=[{label:"About You",sref:"app.user-onboarding.intro",click:function(){h(),c.go("app.user-onboarding.intro")}},{label:"Experience and Education",sref:"app.user-onboarding.experience",click:function(){h(),c.go("app.user-onboarding.experience")}},{label:"Find matches",sref:"app.user-onboarding.final",click:function(){h(),b.complete(),c.go("app.user-onboarding.final")}}]}]).controller("UserOnboardingIntroModalCtrl",["$scope","$state","FieldService","FollowService","Authentication","$mdToast",function(a,b,c,d,e,f){a.linkedinImport=function(b){a.linkedinLoading=!0,e.authenticate("linkedin").then(function(b){f.show(f.simple().content("You accounts are linked and info imported")),a.linkedinImported=!0,a.linkedinLoading=!1,a.getUserData()})["catch"](function(b){f.show(f.simple().theme("warn").content("Couldn't do it... "+b.data.message||b.data)),a.linkedinLoading=!1})},a.nextStep=function(){a.saveUser(),b.go("app.user-onboarding.experience")}}]).controller("UserOnboardingExperienceModalCtrl",["$scope","$state",function(a,b){a.addExperience=function(){a.user.profile.profileDetails.experience.push({})},0==a.user.profile.profileDetails.experience.length&&a.addExperience(),a.addEducation=function(){a.user.profile.profileDetails.education.push({})},0===a.user.profile.profileDetails.education.length&&a.addEducation(),a.nextStep=function(){a.saveUser(),b.go("app.user-onboarding.final")}}]);
angular.module("views.user",["modules.skills"]),angular.module("views.user").config(["$stateProvider",function(a){a.state("app.user",{"abstract":!0,url:"/users/:stub?edit",templateUrl:"views/user/user.html",controller:"ProfileViewCtrl as ProfileCtrl",resolve:{user:["UserService","$stateParams","$timeout","$state",function(a,b,c,d){return a.getUser(b.stub,"lg")["catch"](function(a){c(function(){d.go("app.404",null,{location:!1})})})}]},seo:function(a){return{title:a.user.name+" - STEMN",picture:a.user.picture,description:a.user.blurb}}}).state("app.user.projects",{url:"/projects",sticky:!0,views:{projects:{template:'<feed type="projects" parent-type="user" parent-id="{{user._id}}" parent="user" size="sm" show-edit="showEdit"></feed>'}},layout:{bgColor:"rgba(0, 0, 0, 0.03)"}}).state("app.user.profile",{url:"",sticky:!0,views:{profile:{templateUrl:"views/user/user-profile.html"}}}).state("app.user.threads",{url:"/threads",sticky:!0,views:{threads:{template:'<feed type="discussions" parent-type="user" parent-id="{{user._id}}" parent="user" size="sm" show-edit="showEdit"></feed>'}},layout:{bgColor:"rgba(0, 0, 0, 0.03)"}}).state("app.user.comments",{url:"/comments",sticky:!0,views:{comments:{template:'<user-posts user-id="{{user._id}}"></user-posts>'}},layout:{bgColor:"rgba(0, 0, 0, 0.03)"}}).state("app.user.blogs",{url:"/blog",sticky:!0,views:{blog:{template:'<feed type="blogs" parent-type="user" parent-id="{{user._id}}" parent="user" size="sm" show-edit="showEdit"></feed>'}},layout:{bgColor:"rgba(0, 0, 0, 0.03)"}}).state("app.user.following",{url:"/following",sticky:!0,overlay:!0,views:{"tab3@app":{templateUrl:"views/user/tpls/user-following.html",controller:["user","$scope",function(a,b){b.user=a}]}}}).state("app.user.followers",{url:"/followers",sticky:!0,overlay:!0,views:{"tab4@app":{template:'<md-container><h2 class="md-headline">Followers</h2><stat-display parent-id="{{user._id}}" parent-type="user" type="follow"></stat-display></md-container>',controller:["user","$scope",function(a,b){b.user=a}]}}})}]).controller("ProfileViewCtrl",["user","$timeout","$scope","$window","$http","$rootScope","$state","CoreLibrary","EntityService","Authentication","AuthenticationService","UserService","FollowService","ProjectModalService","NewCreationsService","AuthenticationModalService","$dynamicFooter","FeedService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(){q.content="<user-footer refresh-id='"+a._id+"'></user-footer>",q.scope=c}function t(a){var b=320;return c.showEdit?Math.floor(a/b)-1:Math.floor(a/b)}function u(){c.showEdit=!c.showEdit}function v(){r.getFeed({parentType:"user",parentId:a._id,type:"projects",sort:"submitted",size:10,page:1,published:!0}).then(function(a){c.projects=a})}c.user=a,c.isAdmin=j.currentUser.isAdmin,c.userCanEdit=j.currentUser._id===a._id||c.isAdmin,c.showEdit=c.userCanEdit,c.currentUser=j.currentUser,c.forms={},v(),c.user.profile.banner.url||(c.alternateBanner="assets/images/banners/space"+c.user.profile.banner.gradient+".jpg"),c.$state=g;var w={"app.user.threads":"Discussions","app.user.blogs":"Blogs","app.user.projects":"Projects","app.user.comments":"Comments"};c.$watch("$state.current.name",function(){w[g.current.name]&&(c.tabName=w[g.current.name])}),s(),c.tabs=[{label:"Profile",sref:"app.user.profile"},{label:h.pluralise(a.numProjects,"Project"),sref:"app.user.projects"},{label:h.pluralise(a.numBlogs,"Blog"),sref:"app.user.blogs"},{label:h.pluralise(a.numQuestions+a.numGenerals,"Discussion"),sref:"app.user.threads"},{label:h.pluralise(a.numComments+a.numPosts,"Comment"),sref:"app.user.comments"}],c.$watch(function(){c.currentTab=h.getCurrentTab(c.tabs)}),c.togglePublicView=u,c.authenticateAsUser=k.authenticateAsUser,c.SaveUser=function(){return l.updateUser(c.user)},c.linkedinImport=function(a){p.linkedinWarn(a).then(function(){l.getUser(c.user.stub,"lg",!0).then(function(a){c.user=a})})},c.newSomething=function(a){o.createModal(a)},c.newProject=function(a){n.newProject(a)},c.$watch(function(){return d.innerWidth},function(a){c.numProjectsToShow=t(a)}),c.addExperience=function(){c.user.profile.profileDetails.experience.push({})},c.addEducation=function(){c.user.profile.profileDetails.education.push({})},c.delRow=function(a,b){a.splice(b,1)},c.sortConfig={animation:150,handle:".my-handle"},c.isEmptyExperience=function(){return 0===_.compact(_.map(c.user.profile.profileDetails.experience,"company")).length},c.isEmptyEducation=function(){return 0===_.compact(_.map(c.user.profile.profileDetails.education,"school")).length}}]).directive("userFooter",function(){return{restrict:"E",replace:!0,templateUrl:"views/user/tpls/user-footer.html"}}).directive("addAnother",function(){return{restrict:"E",replace:!0,scope:{addFn:"&",white:"=?"},templateUrl:"views/user/tpls/add-another.html"}}).directive("clickShowEvidence",["CoreModalService","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){d.bind("click",function(d){a.showEntity(d,b(e.clickShowEvidence)(c),{title:"Portfolio Evidence"})})}}}]).directive("dateRange",function(){return{restrict:"E",replace:!0,scope:{start:"=",end:"=",current:"=",edit:"="},templateUrl:"views/user/tpls/date-range.html",controller:["$scope","monthsService","$timeout",function(a,b,c){a.months=b,a.years=_.range(1940,2025),a.edit&&(a.start?a.start.year=a.start.year||2015:(a.start={},a.start.year=2015),a.end?a.end.year=a.end.year||2015:(a.end={},a.end.year=2015))}]}}).service("monthsService",function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});
angular.module("views.usersettings",["modules.layout-options"]),angular.module("views.usersettings").config(["$stateProvider",function(a){a.state("app.usersettings",{url:"/settings?id?toggle",templateUrl:"views/usersettings/usersettings.html",resolve:{jwt:["Authentication","$stateParams",function(a,b){return b.id?a.setToken(b.id,!1):void 0}],settings:["jwt","SettingsService",function(a,b){return b.getSettings()}]},controller:"UserSettingsViewCtrl",authLevel:"user",layout:{size:"md",footer:!1,bgColor:"rgba(0, 0, 0, 0.03)"},seo:function(a){return{title:"User Settings - STEMN"}}}).state("app.usersettings.account",{url:"/account",templateUrl:"views/usersettings/usersettings-account.html"}).state("app.usersettings.email",{url:"/email",templateUrl:"views/usersettings/usersettings-email.html"}).state("app.usersettings.notifications",{url:"/notifications",templateUrl:"views/usersettings/usersettings-notifications.html"}).state("app.usersettings.profile",{url:"/profile",templateUrl:"views/usersettings/usersettings-profile.html"}).state("app.usersettings.feed",{url:"/feed",templateUrl:"views/usersettings/usersettings-feed.html"})}]).controller("UserSettingsViewCtrl",["$scope","$timeout","$rootScope","Authentication","$state","$stateParams","SettingsService","settings","$mdToast","LayoutOptions","CoreLibrary","HighlightElement","AuthenticationModalService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a,b,c){_(b).forEach(function(b){a[b]=c}).value(),h.save()}function o(a,b){var c={};return _.each(b,function(b){c[b.name]={states:[]},_.each(b.toggles,function(d){c[b.name].states.push(a[d])})}),_.each(c,function(a,b){_.each(c[b],function(a,d){1===_.uniq(a).length?c[b]=a[0]:c[b]=void 0})}),c}function p(){if(f.toggle){var a=r();if(a){var b=angular.element(document.getElementById(a));b&&(b.scope().showPanel=!0)}l.scrollHighlightElement(f.toggle,{offset:100})}}function q(){var a;return e.is("app.usersettings.email")?a=g.emailsToggles:e.is("app.usersettings.notifications")?a=g.notificationToggles:e.is("app.usersettings.feed")&&(a=g.feedToggles),a}function r(){var a,b=q();return _.forEach(b,function(b){-1!=b.toggles.indexOf(f.toggle)&&(a=b.name)}),a}b(p,1e3),a.tabs=[{label:"Account",sref:"app.usersettings.account"},{label:"Emails",sref:"app.usersettings.email"},{label:"Notifications",sref:"app.usersettings.notifications"},{label:"News Feed",sref:"app.usersettings.feed"}],a.currentTab=k.getCurrentTab(a.tabs),a.password={},a.updatePassword=function(){a.password.newPassword!==a.password.confirmPassword?i.show(i.simple().theme("warn").content("The passwords you entered don't match!")):g.updatePassword(a.password.oldPassword,a.password.newPassword).then(function(){i.show(i.simple().content("Great, your password has been updated.")),a.password.oldPassword="",a.password.newPassword="",a.password.confirmPassword="",a.UpdatePasswordForm.$setPristine()})},a.updateEmail=function(){g.updateEmail(a.user.email).then(function(){d.loadUserData().then(function(){i.show(i.simple().content("Your email has been updated."))})})},a.linkedinImport=function(a){m.linkedinWarn(a)},a.authenticate=function(a){d.authenticate(a).then(function(b){i.show(i.simple().content("You can now log in to this account using "+a+"!"))})["catch"](function(a){i.show(i.simple().theme("warn").content("Oops... "+a.data.message||a.data))})},a.user=d.currentUser,a.settings=h,a.toggleData=g.toggleData,a.toggleGroup=n,a.notificationToggles=g.notificationToggles,a.notificationGroupStates=o(a.settings.notifications,a.notificationToggles),a.toggleNotification=function(){a.notificationGroupStates=o(a.settings.notifications,a.notificationToggles),h.save()},a.emailsToggles=g.emailsToggles,a.emailsGroupStates=o(a.settings.emails,a.emailsToggles),a.toggleEmails=function(){a.emailsGroupStates=o(a.settings.emails,a.emailsToggles),h.save()},a.feedToggles=g.feedToggles,a.feedGroupStates=o(a.settings.feed,a.feedToggles),a.toggleFeed=function(){a.feedGroupStates=o(a.settings.feed,a.feedToggles),h.save()}}]);
angular.module("templates-app",["views/app/app.html","views/applications/tpls/application.html","views/applications/tpls/applications.html","views/blog/tpls/blog.html","views/browse/browse-all.html","views/browse/browse-blogs/browse-blogs.html","views/browse/browse-fields/browse-fields.html","views/browse/browse-jobs/browse-jobs.html","views/browse/browse-organisations/browse-organisations.html","views/browse/browse-projects/browse-projects.html","views/browse/browse-questions/browse-questions.html","views/browse/browse-users/browse-users.html","views/browse/tpls/fields-filter.html","views/careers/careers.html","views/contact/contact.html","views/creations/tpls/creations-all.html","views/creations/tpls/creations-drafts.html","views/creations/tpls/creations-published.html","views/creations/tpls/creations.html","views/creations/tpls/my-creations.html","views/error/error.html","views/faq/faq.html","views/field/field.html","views/field/tpls/field-blogs.html","views/field/tpls/field-jobs.html","views/field/tpls/field-organisations.html","views/field/tpls/field-people.html","views/field/tpls/field-project.html","views/field/tpls/field-threads.html","views/field/tpls/field-top.html","views/following/tpls/following-all.html","views/following/tpls/following.html","views/home/home.html","views/how-it-works/tpls/how-it-works-images.html","views/how-it-works/tpls/how-it-works.html","views/index/tpls/jobs-index.html","views/index/tpls/jobs-query-field-location.html","views/index/tpls/jobs-query-field.html","views/job/tpls/job.html","views/landing/landing-editor/landing-editor.html","views/landing/landing-index/landing-index.html","views/landing/landing-jobs/tpls/jobs-steps.html","views/landing/landing-jobs/tpls/landing-jobs.html","views/landing/landing-recruiting/landing-recruiting.html","views/landing/landing-recruiting/tpls/recruiting-steps.html","views/landing/landing-signup/landing-signup.html","views/map/tpls/map.html","views/notifications/notifications-all.html","views/notifications/notifications-applications.html","views/notifications/notifications-invites.html","views/notifications/notifications.html","views/notifications/tpls/notification-cards.html","views/organisation-onboarding/tpls/organisation-onboarding.details.html","views/organisation-onboarding/tpls/organisation-onboarding.html","views/organisation-onboarding/tpls/organisation-onboarding.invite.html","views/organisation-onboarding/tpls/organisation-onboarding.links.html","views/organisation-onboarding/tpls/organisation-onboarding.picture.html","views/organisation/organisation.html","views/organisation/tpls/organisation-about.html","views/organisation/tpls/organisation-alumni.html","views/organisation/tpls/organisation-applications.html","views/organisation/tpls/organisation-blogs.html","views/organisation/tpls/organisation-contributors.html","views/organisation/tpls/organisation-followers.html","views/organisation/tpls/organisation-forum.html","views/organisation/tpls/organisation-jobs.html","views/organisation/tpls/organisation-overview.html","views/organisation/tpls/organisation-people.html","views/organisation/tpls/organisation-projects.html","views/partners/partners.html","views/password-reset/password-reset.html","views/privacy/privacy.html","views/project-onboarding/tpls/project-onboarding.content.html","views/project-onboarding/tpls/project-onboarding.final.html","views/project-onboarding/tpls/project-onboarding.html","views/project-onboarding/tpls/project-onboarding.info.html","views/project-onboarding/tpls/project-onboarding.summary.html","views/project/tpls/project-about.html","views/project/tpls/project-blog.html","views/project/tpls/project-overview.html","views/project/tpls/project-threads.html","views/project/tpls/project-thumbs.html","views/project/tpls/project.html","views/referrals/referrals.html","views/scholarship/aerofutures.html","views/search/search.html","views/security/security.html","views/site-search/site-search-all.html","views/site-search/site-search-creations.html","views/site-search/site-search-fields.html","views/site-search/site-search-jobs.html","views/site-search/site-search-organisations.html","views/site-search/site-search-users.html","views/site-search/site-search.html","views/terms/terms.html","views/test/test.html","views/test/test2.html","views/thread/tpls/thread.html","views/user-onboarding/tpls/user-onboarding.experience.html","views/user-onboarding/tpls/user-onboarding.final.html","views/user-onboarding/tpls/user-onboarding.html","views/user-onboarding/tpls/user-onboarding.intro.html","views/user/tpls/add-another.html","views/user/tpls/date-range.html","views/user/tpls/user-following.html","views/user/tpls/user-footer.html","views/user/user-profile.html","views/user/user.html","views/usersettings/usersettings-account.html","views/usersettings/usersettings-email.html","views/usersettings/usersettings-feed.html","views/usersettings/usersettings-notifications.html","views/usersettings/usersettings-profile.html","views/usersettings/usersettings.html"]),angular.module("views/app/app.html",[]).run(["$templateCache",function(a){a.put("views/app/app.html",'<div layout=column style="min-height: 100vh" class=appView layout-offset-top-banner=true><main-horizontal-menu></main-horizontal-menu><div layout-offset-horizontal-menu=true><overlay-views class=contentView><div ui-view class=rel-box></div><div view-cache ui-view=feed class=rel-box></div><overlay ng-hide=tab1 view=tab1><div ui-view=tab1></div></overlay><overlay ng-hide=tab2 view=tab2><div ui-view=tab2></div></overlay><overlay ng-hide=tab3 view=tab3><div ui-view=tab3></div></overlay><overlay ng-hide=tab4 view=tab4><div ui-view=tab4></div></overlay><overlay ng-hide=tab5 view=tab5><div ui-view=tab5></div></overlay><overlay ng-hide=tab6 view=tab6><div ui-view=tab6></div></overlay><overlay ng-hide=tabThread view=tab-thread class=layer2><div ui-view=tab-thread></div></overlay></overlay-views></div><dynamic-footer></dynamic-footer><transition-overlay></transition-overlay><loading-overlay class=page ng-if=LayoutOptions.overlay.loading></loading-overlay><smooch-icon></smooch-icon><div flex=""></div><footer></footer></div>')}]),angular.module("views/applications/tpls/application.html",[]).run(["$templateCache",function(a){a.put("views/applications/tpls/application.html",'<div class=applicationView layout=row layout-align=center><div class=md-content-container><div class="md-subhead m-b-20" ng-show=showEdit><a ui-sref=app.applications class=text-green>My Applications</a> / {{entity.parent.name}}</div><div class="md-subhead m-b-20" ng-show=isAdmin><a ui-sref="app.organisation.overview({\'stub\': entity.organisations[0].stub})" class=text-green>{{entity.organisations[0].name}}</a> / <a ui-sref="app.organisation.jobs({\'stub\': entity.organisations[0].stub})" class=text-green>Jobs</a> / <a ui-sref="app.job({\'stub\': entity.parent.stub})" class=text-green>{{entity.parent.name}}</a> / {{entity.child.name}}</div><tip-banner class=m-b-15 local=true tip-hide="!showEdit || entity.resubmitted"><div layout=row layout-align="start center"><div flex ng-bind-html=statusMessage></div><div ng-show="entity.status.state == \'awaitingUpdate\'"><div resubmit-application-button application=entity resubmitted=entity.resubmitted></div></div></div></tip-banner><div layout=row layout-align=center><a ng-if=entity.organisations[0].picture ui-sref="app.organisation.jobs({\'stub\': entity.organisations[0].stub})" class="avatar avatar-square-contain avatar-lg" style="background-image:url({{entity.organisations[0].picture}}?size=logo-md)"></a></div><h1 class="md-display-1 text-center m-t-15">{{entity.parent.name}}</h1><div class=text-center><a ui-sref="app.organisation.jobs({\'stub\': entity.organisations[0].stub})" class="md-title text-grey light-font">{{entity.organisations[0].name}}</a></div><div class="line-divider-bottom m-b-20 m-t-40" layout=row><div class=md-subhead flex>Applicant Profile</div></div><user-row-detailed user-id={{entity.child._id}} show-edit=showEdit button-text="{{showEdit ? \'Edit Profile\' : \'See Profile\'}}"></user-row-detailed><form name=CoverLetterEdit class=edit-box><edit-button ng-show="showEdit || isAdmin" form=CoverLetterEdit inline=true save-fn=saveApplication()></edit-button><div class="line-divider-bottom m-b-20 m-t-40" layout=row><div class=md-subhead flex>Application Cover Letter</div></div><div class=cover-letter><div class=angular-medium-editor ng-hide="CoverLetterEdit.$visible || entity.coverLetter.length<1" ng-bind-html=entity.coverLetter></div><div ng-if=CoverLetterEdit.$visible><div required class=angular-medium-editor medium-editor name=blurb ng-model=entity.coverLetter editor-type=text style="min-height: 300px" placeholder="Why is this the perfect job for you?"></div></div></div></form><div ng-hide="entity.coverLetter.length>0" class=text-lightgrey>No cover letter included</div><div class="line-divider-bottom m-b-40 m-t-40" layout=row><div class=md-subhead flex>Applicant\'s Project Portfolio</div><a class=text-green ng-show=showEdit click-create-project>Add another project</a></div><card-feed parent-id={{entity.child._id}} parent-type=user type=projects items=projectItems size=12></card-feed></div></div>')}]),angular.module("views/applications/tpls/applications.html",[]).run(["$templateCache",function(a){a.put("views/applications/tpls/applications.html",'<div class="applicationsView m-t-10"><div layout=row layout-align=center><div class=md-content-container><div layout=row layout-align="start center"><h1 flex class=md-display-2>Your Job Applications</h1></div><md-divider class="m-t-40 md-divider-grey"></md-divider></div></div><div layout=row layout-align=center><div class="md-content-container rel-box" infinite-scroll=query.more() infinite-scroll-distance=2 infinite-scroll-disabled="query.loading || query.notEnoughResults || query.noMoreResults"><div ng-repeat="item in query.results" class="card-z1 rel-box m-b-15" layout=column layout-gt-sm=row layout-align="start center"><div layout=column flex><a class="md-title p-r-30 inline" ng-href={{item.href}}><b class=capitalise>{{item.organisations[0].name}}</b>/{{item.parent.name}}</a><div class=m-t-10><a class=text-lightgrey ng-href={{item.href}}>Applied <span am-time-ago=item.timestamp></span></a> <span class=interpunct>Current Status:&nbsp;<span class=text-lightgrey>{{resubmitted ? \'Re-submitted - Pending Review\' : item.mappedStatusText}}</span></span></div></div><div ng-show="item.status.state == \'awaitingUpdate\'"><div resubmit-application-button application=item resubmitted=resubmitted></div></div></div><div layout=row layout-align=center ng-hide="query.results.length>0"><div class="md-content-container content-sm text-center light-font"><p>You have no job applications yet.</p></div></div><loading-overlay ng-if="query.loading && query.params.page==1"></loading-overlay></div></div></div>')}]),angular.module("views/blog/tpls/blog.html",[]).run(["$templateCache",function(a){a.put("views/blog/tpls/blog.html",'<div class=blogView><missing-fields ng-hide="!publishAttempted || forms.BlogForm.$completed || !forms.BlogForm.$visible" entity=blog required-fields=requiredFields form=forms.BlogForm></missing-fields><form unsaved-warning-form novalidate name=forms.BlogForm edit-toolbar save-fn=saveThread() data=blog><div class=image-block ng-class="{\'no-image\': !blog.banner}"><div ng-show=forms.BlogForm.$visible><upload-image class=block name=BlogImage image=blog.banner ng-model=blog.banner icon=blog.banner><div class=banner-image ng-style="blog.banner && {\'background-image\':\'url(\'+(blog.banner)+\'?size=banner-lg&crop=true)\'}"><md-container ng-if=!blog.banner><div layout=row layout-align="start center"><md-icon md-svg-icon=upload></md-icon><div flex>Add an optional banner image</div></div></md-container></div></upload-image></div><div ng-if="!forms.BlogForm.$visible && blog.banner" blur-on-scroll parralax-on-scroll lightbox=true lightbox-image=blog.banner class=banner-image ng-style="blog.banner && {\'background-image\':\'url(\'+(blog.banner)+\'?size=banner-lg&crop=true)\'}"></div></div><md-container><div class=rel-box><h1 id=entityTitle style="margin-top: 0px" ng-hide=forms.BlogForm.$visible class=md-display-1>{{blog.name || \'No Title\'}}</h1><h1 id=nameEdit style="margin-top: 0px" ng-show=forms.BlogForm.$visible class=md-display-1><textarea msd-elastic rows=1 class=editable ng-model=blog.name name=BlogTitle type=text placeholder="Blog Title"></textarea></h1><show-if-owner-or-admin owner={{blog.owner._id}}><settings-button ng-hide=forms.BlogForm.$visible><md-menu-item><md-button ng-click=forms.BlogForm.$edit()>Edit Blog</md-button></md-menu-item><md-menu-item><md-button confirm ng-click=deleteThread()>Delete Blog</md-button></md-menu-item><feed-recommend entity-type=thread entity-id={{blog._id}}></feed-recommend><md-menu-item show-if-admin>Blog id:<br>{{blog._id}}</md-menu-item></settings-button></show-if-owner-or-admin><div ng-if="showEdit && !forms.BlogForm.$visible"><tip-banner tip=blogUnpublished tip-hide=blog.published style="margin-bottom: 30px">Your blog is <strong>not yet published</strong>. It will not be visible to others until you publish it. When you are finished editing, you\'ll find the Publish button in the <strong>bottom right</strong> corner of the footer.</tip-banner><div ng-hide="blog.projects.length>0"><tip-banner tip=blogPublished tip-hide=!blog.published style="margin-bottom: 30px"><strong>Is this blog associated with one of your projects?</strong> Make sure you add a <a ng-click=forms.BlogForm.$edit()>project tag</a> to link them together.</tip-banner></div></div></div></md-container><div layout=row layout-align=center><div class="md-content-container content-sm md-no-padding rel-box"><toc-nav ng-hide=forms.BlogForm.$visible sections=tocContent></toc-nav><div class=widgets-right ng-hide=forms.BlogForm.$visible><div ng-show="blog.projects.length>0"><md-divider></md-divider><div class=md-subhead style="padding: 10px 0">Tagged projects</div><creation-card ng-repeat="project in blog.projects" entity=project size=small style="margin-bottom: 20px"></creation-card></div></div><md-divider style="margin-bottom: 30px"></md-divider></div></div><div style="margin-bottom: 20px" toc-content=tocContent toc-refresh=!forms.BlogForm.$visible toc-prepend=tocPrepend toc-append=tocAppend><modular-editor editor-sections=blog.sectionData editor-options=editorOptions edit=forms.BlogForm.$visible placeholder="Start writing your blog or update here. Be sure to add images and videos to keep it interesting."></modular-editor></div><md-container><div ng-if=forms.BlogForm.$visible id=tagsEdit class=well style="margin-bottom: 30px"><h3 class=md-headline style="margin-top: 0">Tags</h3><div class=text-lightgrey style=margin-bottom:20px>Make sure to tag your blog. Your blog will appear in the newsfeed of anyone that follows the fields/organisations/projects you tag. Add as many accurate tags as you can.</div><field-search data=blog.fields focus=focusField ng-mouseenter="focusField=true" ng-mouseleave="focusField=false"></field-search><tags edit=true size=sm tags=blog.fields type=field></tags><organisation-search data=blog.organisations focus=focusOrg ng-mouseenter="focusOrg=true" ng-mouseleave="focusOrg=false"></organisation-search><tags edit=true size=sm tags=blog.organisations type=organisation></tags><project-search data=blog.projects focus=focusProject ng-mouseenter="focusProject=true" ng-mouseleave="focusProject=false"></project-search><tags edit=true size=sm tags=blog.projects type=project></tags></div><div ng-if=!forms.BlogForm.$visible style="margin-bottom: 30px"><md-divider ng-show="blog.fields.length>0||blog.organisations.length>0"></md-divider><h3 class=md-subhead ng-show="blog.fields.length>0">Fields</h3><tags edit=false size=sm tags=blog.fields type=field></tags><h3 class=md-subhead ng-show="blog.organisations.length>0">Organisations</h3><tags edit=false size=sm tags=blog.organisations type=organisation></tags><md-divider class=m-t-15></md-divider><h3 class=md-subhead>Author</h3><item-owner avatar={{::blog.owner.picture}} type=user class=rel-box><h3><a ui-sref="app.user.profile({\'stub\' : blog.owner.stub })" class=text-green>{{::blog.owner.name}}</a></h3><div class=sub><a ui-sref="app.user.profile({\'stub\' : blog.owner.stub })">{{::blog.owner.blurb}}</a> | posted <span am-time-ago=::blog.submitted></span></div></item-owner></div></md-container></form><div ng-hide=forms.BlogForm.$visible><div id=responses class=replies layout=row layout-align=center><div class=md-content-container><posts parent=blog></posts></div></div><div class=related id=related ng-show=blog.published layout=row layout-align=center hide-footer-when-visible><div class="md-content-container md-no-padding"><related parent-type=thread parent-id={{blog._id}} type=blog display-style=feed></related></div></div></div><edit-toolbar ng-if=forms.BlogForm.$visible><div><b>Editing:</b> <span>{{blog.name}}</span></div><div flex></div><md-button ng-click="editorOptions.showHelp = !editorOptions.showHelp" class=md-icon-button aria-label=help><md-icon md-svg-icon=help></md-icon><md-tooltip md-direction=bottom md-autohide=true>Help</md-tooltip></md-button><md-button publish-share-link={{blog._id}} class="md-icon-button m-0" aria-label=share><md-icon md-svg-icon=share></md-icon><md-tooltip md-direction=bottom md-autohide=true>Share Private Link</md-tooltip></md-button><md-button ng-click=forms.BlogForm.$cancel() class="md-dark-grey md-cornered">Cancel</md-button><md-button ng-hide=blog.published ng-click=forms.BlogForm.$save() class="md-cornered md-dark-grey">Save Draft</md-button><md-button ng-show=blog.published ng-click=forms.BlogForm.$save() class="md-cornered md-raised md-accent md-flat">Save</md-button><md-button ng-show=!blog.published ng-click=publish($event) class="md-raised md-accent md-flat md-cornered">Publish</md-button></edit-toolbar></div>')}]),angular.module("views/browse/browse-all.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-all.html",'<div layout=row layout-align=center><div class=md-content-container><h1 class="md-display-1 text-center m-t-50">Browse</h1><div class="md-title text-grey light-font text-center m-b-60">Explore incredible Aerospace jobs.</div><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Browse Organisations</div><a class=text-green ui-sref=app.browse.projects>See more projects</a></div><card-feed hide-more=true type=projects></card-feed><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Browse Organisations</div><a class=text-green ui-sref=app.browse.questions>See more questions</a></div><card-feed hide-more=true type=discussions></card-feed><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Browse Organisations</div><a class=text-green ui-sref=app.browse.organisations>See more organisations</a></div><organisation-cards hide-more=true size=4 class=m-b-60></organisation-cards></div></div>')}]),angular.module("views/browse/browse-blogs/browse-blogs.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-blogs/browse-blogs.html",'<div layout=row layout-align=center><div class=md-content-container layout=column layout-align="center center"><h1 class="md-display-1 text-center m-t-50">Blogs & Updates</h1><div class="md-title text-grey light-font text-center">Keep updated on recent news</div><a class="text-green m-v-15" authenticate ng-click=newBlog($event)>Create a blog</a></div></div><div layout=row layout-align=center><div class="md-content-container md-no-padding"><div class="line-divider-bottom m-b-30" layout=row><div class=md-subhead flex>Featured Fields</div></div><fields-filter class=m-b-30 filter=fieldFilter></fields-filter></div></div><div layout=row layout-align=center><div class="md-content-container md-no-padding rel-box" layout=column><div class="line-divider-bottom m-b-40" layout=row layout-align="start end"><div class=md-subhead flex>Blogs</div><div layout=row layout-align="start center"><md-select ng-model=sortFilter.current placeholder="Sort by" class="no-margin md-subhead"><md-option ng-repeat="filter in sortFilter.options" value={{filter.model}}>{{filter.name}}</md-option></md-select></div></div><card-feed parent-id={{fieldFilter.current}} parent-type=field type=blogs sort={{sortFilter.current}} size=12></card-feed></div></div>')}]),angular.module("views/browse/browse-fields/browse-fields.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-fields/browse-fields.html",'<div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column layout-align="center center"><h1 class="md-display-1 text-center m-t-50">Fields</h1><div class="md-title text-grey light-font text-center">Follow fields that interest you and they\'ll appear in your newsfeed.</div><a class="text-green text-center m-t-15" show-explanation-modal=field>What is a field?</a></div></div><div layout=row layout-align=center class="m-t-15 overflow-x-box"><div class="md-content-container md-no-padding m-b-60 rel-box" layout=column><div class=md-row layout=row><div hide-sm class=md-col style="width: 300px"><div class=m-b-30><div class="md-subhead m-b-10">Search Fields</div><div class=well-input><input ng-model=searchFilter.model ng-change=searchFilter.onChange() placeholder="Query fields"><md-icon md-svg-icon=search></md-icon></div></div><div class=m-b-30><div class="md-subhead m-b-10">Create a field</div><div class=well layout=column><div class="text-lightgrey m-b-15">Want to start a discussion or project about a new topic?</div><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click=newField($event)>Create a field</md-button></div></div></div><div flex class="md-col rel-box" layout=column><div class=rel-box style="min-height: 100px"><div class="md-subhead m-b-10">Top fields</div><table class=md-table><thead><tr><td style="width: 40px"></td><td>Name</td><td filter-column-order filter-object=orderFilter filter-model=followers style="width: 100px" class=text-center>Followers</td><td filter-column-order filter-object=orderFilter filter-model=numProjects style="width: 100px" class=text-center>Projects</td><td filter-column-order filter-object=orderFilter filter-model=numJobs style="width: 100px" class=text-center>Jobs</td><td hide-sm style="width: 75px"></td></tr></thead><tbody><tr ng-repeat="item in query.results"><td style="padding: 15px 20px 15px 5px"><a ui-sref=app.field.top({stub:item.stub})><div class=avatar-circle ng-style="item.picture && { \'background-image\':\'url(\'+item.picture+\'?size=thumb&crop=true)\'}"></div></a></td><td><a ui-sref=app.field.top({stub:item.stub})>{{item.name}}</a></td><td class=text-center><a stat-display-modal type=follow parent-type=field parent-id={{item._id}}>{{item.followers}}</a></td><td class=text-center><a ui-sref=app.field.projects({stub:item.stub})>{{item.numProjects}}</a></td><td class=text-center><a ui-sref=app.field.jobs({stub:item.stub})>{{item.numJobs}}</a></td><td hide-sm><stat-button hide-stat=true size=sm type=follow parent-type=field parent-id={{item._id}} count=item.followers></stat-button></td></tr></tbody></table><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay><div ng-hide=query.notEnoughResults><a class="well-button m-v-40" layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? \'No more fields\' : \'See more fields\'}}</div></a></div><div ng-show=query.notEnoughResults class="text-lightgrey m-v-40">No more results. <a class="underlined text-green" ng-click=clearFilter()>Clear filters</a></div></div></div></div></div></div>')}]),angular.module("views/browse/browse-jobs/browse-jobs.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-jobs/browse-jobs.html",'<div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column><h1 class="md-display-1 text-center m-t-50">STEMN Jobs</h1><div class="md-title text-grey light-font text-center">Apply to hundreds of jobs with one profile · 100% free</div><a class="text-center text-green m-t-15" show-explanation-modal=job>How it works</a></div></div><div class="infobar m-b-30 p-v-15 overflow-x-box" layout=row layout-align=center><div class=md-content-container><div ng-include="\'views/landing/landing-jobs/tpls/jobs-steps.html\'"></div></div></div><div layout=row layout-align=center class="m-t-15 overflow-x-box"><div class="md-content-container md-no-padding m-b-60 rel-box" layout=column style="min-height: 100px"><div class=md-row layout=row><div hide-sm class=md-col style="width: 300px"><div class=m-b-30><div class="md-subhead m-b-10">Search Jobs</div><div class=well-input><input ng-model=searchFilter.model ng-change=searchFilter.onChange() placeholder="Query jobs"><md-icon md-svg-icon=search></md-icon></div></div><div class="anim-fade m-b-30"><div class="md-subhead m-b-10">Job Map</div><div class=well layout=column><div class="text-lightgrey m-b-15">Want to find jobs in a specific location?</div><md-button class="md-accent md-raised md-flat md-cornered md-md m-0" ui-sref="app.map({type: \'job\'})">Explore job map</md-button></div></div><div class="md-subhead m-b-10">Sort by field</div><div class="well m-b-30" layout=column><md-radio-group class=md-compact ng-model=fieldFilter.current ng-change=fieldFilter.change(fieldFilter.current)><md-radio-button value="" class=md-accent>All</md-radio-button><md-radio-button ng-repeat="field in fieldFilter.options" value={{field._id}} class=md-accent>{{field.name | letters: 23}} ({{field.numJobs}})</md-radio-button></md-radio-group></div><div ng-show="location && location.latitude && location.longitude" class="anim-fade m-b-30"><div class="md-subhead m-b-10">Location</div><div class=well layout=column><div class="text-lightgrey m-b-15"><span ng-show=location.country_name>It looks like you are from <span ng-show=location.city><b>{{location.city}}</b>,</span><b>{{location.country_name}}</b>. Want to see jobs close to you?</span> <span ng-hide=location.country_name>Want to see jobs close to you?</span></div><md-button class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click=sortByNear()>Sort by proximity</md-button></div></div><div class="anim-fade m-b-30"><div class="md-subhead m-b-10">Add a new job</div><div class=well layout=column><div class="text-lightgrey m-b-15">Are you part of an organisation looking to hire?</div><md-button class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click=create($event) authenticate>Add a job</md-button></div></div></div><div flex class="md-col rel-box" layout=column><div class="md-subhead m-b-10">Available Positions</div><table class=md-table><thead><tr><td style="width: 40px"></td><td filter-column-order filter-object=orderFilter filter-reverse=true filter-model=organisations[0].name>Name</td><td filter-column-order filter-object=orderFilter filter-model=location[0].name style="width: 150px" class=text-center>Location</td><td hide-sm hide-md filter-column-order filter-object=orderFilter filter-reverse=true filter-model=rating style="width: 100px" class=text-center ng-show=suggestedJobs>Suitability</td><td hide-sm hide-md filter-column-order filter-object=orderFilter filter-reverse=true filter-model=jobType style="width: 100px" class=text-center>Type</td><td hide-sm hide-md style="width: 95px"></td></tr></thead><tbody><tr ng-repeat="item in query.results"><td style="padding: 15px 20px 15px 5px"><a set-entity-href="\'organisation\'" entity-stub=item.organisations[0].stub><div class="avatar avatar-square-contain" ng-style="item.organisations[0].picture && { \'background-image\':\'url(\'+item.organisations[0].picture+\'?size=thumb)\'}"></div></a></td><td><a set-entity-href="\'job\'" entity-stub=item.stub><div class=bold>{{item.organisations[0].name}}</div><div>{{item.name}}</div></a></td><td class=text-center>{{item.location[0].name}}</td><td hide-sm hide-md class=text-center ng-show=suggestedJobs><div class="rating-pie pie-sm" ng-style="{\'animation-delay\': \'-\'+item.rating+\'s\'}"><div class=number>{{item.rating}}</div><popup class=tooltip-popup popup-side=right popup-position=center popup-padding="0 0 0 8px" style="max-width: 150px"><p>Your skills include <b>{{item.numMatchingSkills}}/{{item.fields.length}}</b> of those listed on this job.</p></popup></div></td><td hide-sm hide-md class=text-center>{{item.jobType}}</td><td hide-sm hide-md class=text-right><apply-button job=item job-id={{item._id}} job-stub={{item.stub}} class="md-sm no-margin" style="min-width: 70px" change-state=true></apply-button></td></tr></tbody></table><div ng-hide=query.notEnoughResults class=m-t-30><a class=well-button layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{noMoreResults ? \'No more results\' : \'See more jobs\'}}</div></a></div><div ng-show=query.notEnoughResults class="text-lightgrey m-v-40">No more results. <a class="underlined text-green" ng-click=clearFilter()>Clear filters</a></div><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay></div></div></div></div>')}]),angular.module("views/browse/browse-organisations/browse-organisations.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-organisations/browse-organisations.html",'<div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column layout-align="center center"><h1 class="md-display-1 text-center m-t-50">Organisations</h1><div class="md-title text-grey light-font text-center">Browse top organisations - explore their projects, jobs and forum.</div><a class="text-green text-center m-t-15" ng-click=newOrganisation($event)>Create an organisation</a></div></div><div layout=row layout-align=center class="m-t-15 overflow-x-box"><div class="md-content-container md-no-padding m-b-60 rel-box" layout=column><div class=md-row layout=row><div hide-sm class=md-col style="width: 300px"><div class=m-b-30><div class="md-subhead m-b-10">Search Organisations</div><div class=well-input><input ng-model=searchFilter.model ng-change=searchFilter.onChange() placeholder="Query organisations"><md-icon md-svg-icon=search></md-icon></div></div><div class=m-b-30><div class="md-subhead m-b-10">Create an organisation</div><div class=well layout=column><div class="text-lightgrey m-b-15">Is your team missing? Add your team or organisation and join the community making space happen.</div><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click=newOrganisation($event)>Create an organisation</md-button></div></div><div class="md-subhead m-b-10">Sort by field</div><div class="well m-b-30" layout=column><md-radio-group class=md-compact ng-model=fieldFilter.current ng-change=fieldFilter.change(fieldFilter.current)><md-radio-button value="" class=md-accent>All</md-radio-button><md-radio-button ng-repeat="field in fieldFilter.options" value={{field._id}} class=md-accent>{{field.name | letters: 23}} ({{field.numOrganisations}})</md-radio-button></md-radio-group></div><div class=m-b-30><div class="md-subhead m-b-10">Organisation Map</div><div class=well layout=column><div class="text-lightgrey m-b-15">Want to find organisations in a specific location?</div><md-button class="md-accent md-raised md-flat md-cornered md-md m-0" ui-sref="app.map({type: \'organisation\'})">Explore the map</md-button></div></div></div><div flex class="md-col rel-box" layout=column><div class=rel-box style="min-height: 100px"><div class="md-subhead m-b-10">Top organisations</div><table class=md-table><thead><tr><td style="width: 40px"></td><td>Name</td><td filter-column-order filter-object=orderFilter filter-model=followers style="width: 100px" class=text-center>Followers</td><td filter-column-order filter-object=orderFilter filter-model=numProjects style="width: 100px" class=text-center>Projects</td><td hide-sm style="width: 75px"></td></tr></thead><tbody><tr ng-repeat="item in query.results"><td style="padding: 15px 20px 15px 5px"><a ui-sref=app.organisation.overview({stub:item.stub})><div class=avatar-square-contain ng-style="item.picture && { \'background-image\':\'url(\'+item.picture+\'?size=thumb&crop=true)\'}"></div></a></td><td><a ui-sref=app.organisation.overview({stub:item.stub})>{{item.name}}</a></td><td class=text-center><a stat-display-modal type=follow parent-type=organisation parent-id={{item._id}}>{{item.followers}}</a></td><td class=text-center><a ui-sref=app.organisation.projects({stub:item.stub})>{{item.numProjects}}</a></td><td hide-sm><stat-button hide-stat=true size=sm type=follow parent-type=organisation parent-id={{item._id}} count=item.followers></stat-button></td></tr></tbody></table><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay><div ng-hide=query.notEnoughResults><a class="well-button m-v-40" layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? \'No more organisations\' : \'See more organisations\'}}</div></a></div><div ng-show=query.notEnoughResults class="text-lightgrey m-v-40">No more results. <a class="underlined text-green" ng-click=clearFilter()>Clear filters</a></div></div></div></div></div></div>');
}]),angular.module("views/browse/browse-projects/browse-projects.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-projects/browse-projects.html",'<div layout=row layout-align=center><div class=md-content-container layout=column layout-align="center center"><h1 class="md-display-1 text-center m-t-50">Projects</h1><div class="md-title text-grey light-font text-center">Discover projects or start your own</div><a class="text-green m-v-15" show-explanation-modal=project>What is a project?</a></div></div><div layout=row layout-align=center><div class="md-content-container md-no-padding"><div class="line-divider-bottom m-b-30" layout=row><div class=md-subhead flex>Featured Fields</div></div><fields-filter class=m-b-30 filter=fieldFilter></fields-filter></div></div><div layout=row layout-align=center><div class="md-content-container md-no-padding rel-box" layout=column><div class="line-divider-bottom m-b-40" layout=row layout-align="start end"><div class=md-subhead flex>Projects</div><div layout=row layout-align="start center"><md-select ng-model=sortFilter.current placeholder="Sort by" class="no-margin md-subhead"><md-option ng-repeat="filter in sortFilter.options" value={{filter.model}}>{{filter.name}}</md-option></md-select></div></div><card-feed parent-id={{fieldFilter.current}} parent-type=field type=projects sort={{sortFilter.current}} size=12></card-feed></div></div>')}]),angular.module("views/browse/browse-questions/browse-questions.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-questions/browse-questions.html",'<div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column layout-align="center center"><h1 class="md-display-1 text-center m-t-50">Questions and Discussions</h1><div class="md-title text-grey light-font text-center">Contribute to project questions; help bring projects to life</div><a class="text-green text-center m-t-15" show-explanation-modal=question>What is a question?</a></div></div><div class="infobar m-b-30 p-v-15 overflow-x-box" layout=row layout-align=center><div class="md-content-container md-row text-center" layout=column layout-gt-sm=row><div flex=100 flex-gt-sm=33 class=md-col layout=column><h2 class="md-title bold">Start a discussion</h2><p>Got news or an event coming up?<br>Post about something interesting.</p></div><div flex=100 flex-gt-sm=33 class=md-col layout=column><h2 class="md-title bold">Ask anything</h2><p>Link your project and ask a question.<br>Ask for help, feedback or collaborators.</p></div><div flex=100 flex-gt-sm=33 class=md-col layout=column><h2 class="md-title bold">Get your answer.</h2><p>Expect a response in less than 24 hrs.<br>Get your results faster.</p></div></div></div><div layout=row layout-align=center class="m-t-15 overflow-x-box"><div class="md-content-container md-no-padding m-b-60 rel-box" layout=column style="min-height: 100px"><div class=md-row layout=row><div hide-sm class=md-col style="width: 300px"><div class=m-b-30><div class="md-subhead m-b-10">Ask a question</div><div class=well layout=column><div class="text-lightgrey m-b-15">Ask and you shall receive! Post a question or discussion.</div><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click="newThread($event, {type: \'question\'})">Post a question</md-button></div></div><div class=m-b-30><div class="md-subhead m-b-10">Start a discussion</div><div class=well layout=column><div class="text-lightgrey m-b-15">Got news or an event coming up? Post about something interesting.</div><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md m-0" ng-click="newThread($event, {type: \'general\'})">Start a discussion</md-button></div></div><div class="md-subhead m-b-10">Sort by field</div><div class="well m-b-30" layout=column><md-radio-group class=md-compact ng-model=fieldFilter.current ng-change=fieldFilter.change(fieldFilter.current)><md-radio-button value="" class=md-accent>All</md-radio-button><md-radio-button ng-repeat="field in fieldFilter.options" value={{field._id}} class=md-accent>{{field.name | letters: 23}} ({{field.numThreads}})</md-radio-button></md-radio-group></div><div class="md-subhead m-b-10">Reply status</div><div class="well m-b-30" layout=column><md-radio-group class=md-compact ng-model=statusFilter.current ng-change=statusFilter.change(statusFilter.current)><md-radio-button ng-repeat="item in statusFilter.options" value={{item.model}} class=md-accent>{{item.name}}</md-radio-button></md-radio-group></div><div class="md-subhead m-b-10">Thread type</div><div class="well m-b-30" layout=column><md-radio-group class=md-compact ng-model=typeFilter.current ng-change=typeFilter.change(typeFilter.current)><md-radio-button ng-repeat="item in typeFilter.options" value={{item.model}} class=md-accent>{{item.name}}</md-radio-button></md-radio-group></div></div><div flex class="md-col rel-box" layout=column><div class="md-subhead m-b-10">Recent threads</div><forum query=query></forum></div></div></div></div>')}]),angular.module("views/browse/browse-users/browse-users.html",[]).run(["$templateCache",function(a){a.put("views/browse/browse-users/browse-users.html",'<div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column layout-align="center center"><h1 class="md-display-1 text-center m-t-50">People</h1><div class="md-title text-grey light-font text-center">Browse top users - explore their projects and profile.</div></div></div><div layout=row layout-align=center class="m-t-15 overflow-x-box"><div class="md-content-container md-no-padding m-b-60 rel-box" layout=column><div class=md-row layout=row><div hide-sm class=md-col style="width: 300px"><div class=m-b-30><div class="md-subhead m-b-10">Search People</div><div class=well-input><input ng-model=searchFilter.model ng-change=searchFilter.onChange() placeholder="Query users"><md-icon md-svg-icon=search></md-icon></div></div><div class="md-subhead m-b-10">Looking for someone?</div><div class="well m-b-30" layout=column><div class="text-lightgrey m-b-15">Invite people to STEMN and you\'ll earn awesome prizes.</div><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md m-0" ui-sref=app.referrals>Send referral</md-button></div><div class="md-subhead m-b-10">Filter by University</div><div class="well m-b-30" layout=column><md-radio-group class=md-compact ng-model=educationFilter.current ng-change=educationFilter.change(educationFilter.current)><md-radio-button value="" class=md-accent>All</md-radio-button><md-radio-button ng-repeat="field in educationFilter.options" value={{field._id}} class=md-accent>{{field.name | letters: 23}} ({{field.numEducations}})</md-radio-button></md-radio-group></div></div><div flex class="md-col rel-box" layout=column><div class=rel-box style="min-height: 100px"><div class="md-subhead m-b-10">Top users</div><user-rows query=query sort=sort></user-rows><div ng-show=query.notEnoughResults class="text-lightgrey m-v-40">No more results. <a class="underlined text-green" ng-click=clearFilter()>Clear filters</a></div></div></div></div></div></div>')}]),angular.module("views/browse/tpls/fields-filter.html",[]).run(["$templateCache",function(a){a.put("views/browse/tpls/fields-filter.html","<div class=fields-filter layout=row layout-wrap><a ng-click=\"select('')\" flex=25 flex-md=33 flex-sm=50 layout=row layout-align=\"start center\" class=m-b-15 ng-class=\"{'active':filter.current == ''}\"><div class=\"avatar-circle m-r-15\" ng-style=\"{ 'background-image':'url('+'/assets/images/default/user-1.png'+'?size=thumb&crop=true)'}\" ng-class=\"{'md-whiteframe-z2':filter.current == ''}\"></div><div flex class=ellipsis>All Fields</div></a> <a ng-click=select(item._id) flex=25 flex-md=33 flex-sm=50 layout=row layout-align=\"start center\" ng-repeat=\"item in filter.options\" class=m-b-15 ng-class=\"{'active':filter.current == item._id}\"><div class=\"avatar-circle m-r-15\" ng-style=\"{ 'background-image':'url('+(item.picture || '/assets/images/default/user-1.png')+'?size=thumb&crop=true)'}\" ng-class=\"{'md-whiteframe-z2':filter.current == item._id}\"></div><div flex class=ellipsis>{{item.name}}</div></a></div>")}]),angular.module("views/careers/careers.html",[]).run(["$templateCache",function(a){a.put("views/careers/careers.html",'<bannerheader colour="[\'#7332cb\', \'#00ff80\']"><h1>Join our mission.</h1></bannerheader><fat-tabs><a flex ui-sref-active=active ui-sref="{tab : \'leader\'}">STEMN Leaders</a> <a flex ui-sref-active=active ui-sref="{tab : \'devs\'}">Developers</a></fat-tabs><md-container class=static-page><div ng-if="tab==\'leader\'"><div class=section-title><h3>"The sky calls to us. If we do not destroy ourselves, we will one day venture to the stars." -Carl Sagan</h3></div><p>Our plan is simple: take our species multi-planetary. It\'s a tall order for sure, but we\'re not ones to shy away from a challenge.</p><br><p>We believe it starts with the community. The keys to success of any mission are the people behind it. Scientists, Engineers, and makers around the world are all doing their bit to advance our understanding of the universe. But most are isolated within the sandbox of their immediate community; shielded from the knowledge and opportunities of those beyond.</p><br><p>At STEMN, we\'re looking for leaders. Leaders who dare question authority, who dare challenge tradition, who dare step outside the box. STEMN Leaders may not have experience, but they also don\'t have excuses.</p><br><p>STEMN Leaders inspire their communities and measure themselves by the number of minds they inspire and connect. STEMN Leaders bridge the gap between the industry leaders and the budding enthusiasts. STEMN Leaders are ambassadors to their community, and they take full responsibility for devising and executing a winning plan.</p><br><p>If you believe in our vision, and are up to the challenge (it will be a challenge), send your <strong>winning plan</strong> and a <strong>link to your STEMN profile</strong> to <strong><span style="color: #8DC63F">mars@stemn.com</span></strong>.</p><md-button ng-disabled=loading class="md-raised md-accent no-margin" ng-click="authenticate(\'linkedin\');">Apply with Linkedin</md-button></div><div ng-if="tab!=\'leader\'"><div class=section-title><h3>We are looking for devs and interns</h3></div><h3><strong>JavaScript Web Developer</strong></h3><p>Welcome to STEMN. We’re building an Open Science ecosystem that is home to all STEM projects. We are a small team of gutsy&nbsp;engineers with a people-centric ethos. At STEMN, you’ll get the opportunity to turn your ideas into reality. Be a part of our fast-paced growing tech company that is accelerating scientific knowledge.</p><p>We’re looking for skilled software engineers who can not only handle the full MEAN stack, but also care about efficiency and maintainable software. We strive to create a fast and&nbsp;reliable application to continuously ship updates. You should be experienced with web development and Javascript.</p><h3>The Must Haves:</h3><ul><li>Expert knowledge of Javascript</li><li>Stellar software engineering principles in architecture and implementation</li><li>Comfortable taking the lead on projects and working without lots of oversight</li></ul><h3>The Nice to Haves:</h3><ul><li>Experience with Node.JS and&nbsp;AngularJS</li><li>Knowledge of storage systems such as MongoDB</li><li>History of full life cycle management of software projects, from inception to roll out</li></ul><p>Our development cycle is extremely fast; if you think you have what it takes, email your Github profile or previous project experience and resume to <strong>careers@stemn.com</strong>.</p><md-button ng-disabled=loading class="md-raised md-accent no-margin" ng-click="authenticate(\'linkedin\');">Apply with Linkedin</md-button></div></md-container>')}]),angular.module("views/contact/contact.html",[]).run(["$templateCache",function(a){a.put("views/contact/contact.html","<bannerheader colour=\"['#FF7043', '#AB47BC']\"><h1>Let's have a chat</h1></bannerheader><md-container class=static-page><h3 class=md-headline>We're all ears!</h3><br><form name=forms.contactForm ng-submit=submitContactForm() novalidate><md-input-container class=md-accent><label>What do we call you?</label><input name=name ng-model=contact.from_name required><div ng-messages=forms.contactForm.name.$error ng-if=forms.contactForm.name.$dirty><div ng-message=required>This is required.</div></div></md-input-container><md-input-container class=md-accent><label>Your email?</label><input name=email ng-model=contact.from_email type=email required><div ng-messages=forms.contactForm.email.$error ng-if=forms.contactForm.email.$dirty><div ng-message=required>This is required.</div><div ng-message=email>Not a valid email.</div></div></md-input-container><md-input-container class=md-accent><label>What can we do for you?</label><textarea name=message ng-model=contact.text required ng-minlength=20></textarea><div ng-messages=forms.contactForm.message.$error ng-if=forms.contactForm.message.$dirty><div ng-message=required>This is required.</div><div ng-message=minlength>Bit longer than that please.</div></div></md-input-container><alert ng-if=alert.show class=anim-slide-alert type={{alert.type}}>{{alert.message}}</alert><div layout=row><div flex></div><md-button type=submit class=\"md-accent md-raised\" ng-disabled=forms.contactForm.$invalid>Send</md-button></div></form></md-container>")}]),angular.module("views/creations/tpls/creations-all.html",[]).run(["$templateCache",function(a){a.put("views/creations/tpls/creations-all.html","<my-creations published=both></my-creations>")}]),angular.module("views/creations/tpls/creations-drafts.html",[]).run(["$templateCache",function(a){a.put("views/creations/tpls/creations-drafts.html","<my-creations published=false></my-creations>")}]),angular.module("views/creations/tpls/creations-published.html",[]).run(["$templateCache",function(a){a.put("views/creations/tpls/creations-published.html","<my-creations published=true></my-creations>")}]),angular.module("views/creations/tpls/creations.html",[]).run(["$templateCache",function(a){a.put("views/creations/tpls/creations.html",'<div class="creationsView m-t-10"><md-container><div layout=row layout-align="start center"><h1 flex class=md-display-2>Your Creations</h1></div><div class="text-tabs text-tabs-top tabs-light-grey m-t-40" layout=row><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a></div></md-container><div ng-show="$state.is(\'app.creations.all\')" ui-view=all></div><div ng-show="$state.is(\'app.creations.drafts\')" ui-view=drafts></div><div ng-show="$state.is(\'app.creations.published\')" ui-view=published></div></div>')}]),angular.module("views/creations/tpls/my-creations.html",[]).run(["$templateCache",function(a){a.put("views/creations/tpls/my-creations.html",'<div layout=row layout-align=center><div class="md-content-container md-no-padding m-b-60 rel-box" infinite-scroll=query.more() infinite-scroll-distance=2 infinite-scroll-disabled="query.loading || query.notEnoughResults || query.noMoreResults"><div ng-repeat="item in query.results" class="card-z1 rel-box m-b-15"><a class="md-title p-r-30 inline" ng-href={{item.href}}><b class=capitalise>{{item.typeText}}</b>/{{item.name}}</a><div class=m-t-10 layout=row layout-align="start center"><a class="text-lightgrey m-r-10" ng-href={{item.href}}>Last edited <span am-time-ago=item.updated></span></a><md-button class="md-circle md-xs md-grey pin-top-right" style="margin: 15px 10px" aria-label=Settings><md-icon md-svg-src=more-h></md-icon><popup class=tooltip-menu popup-side=right popup-position=center popup-padding="0 0 0 8px" layout=column><a class=md-subhead ng-click=edit(item)>Edit</a> <a class=md-subhead confirm ng-click="deleteCreation(item._id, item.entityType)">Delete</a></popup></md-button><div flex></div><div ng-if="item.entityType == \'project\' || item.entityType == \'thread\'" class=text-lightgrey layout=row layout-align="start center"><stat-button type=like parent-type={{item.entityType}} parent-id={{item._id}} count=item.likes display-style=circle class=green style="margin-right: -3px"></stat-button><a class=count stat-display-modal parent-id={{item._id}} parent-type={{item.entityType}} type=like>{{item.likes || 0}}</a><md-button class="md-icon-button md-sm md-grey" aria-label=comments style="margin-right: -3px" ng-href="{{item.href}}?reply=true#reply"><md-icon md-svg-icon=response></md-icon><md-tooltip md-direction=top md-autohide=true>Replies</md-tooltip></md-button><a class=count ng-href={{item.href}}#responses>{{item.numPosts || item.numComments || 0}}</a></div></div></div><div layout=row layout-align=center><div class="md-content-container content-sm text-center light-font"><div ng-hide="query.results.length>0" ng-bind-html=message></div></div></div><loading-overlay class=light-grey ng-if="query.loading && query.params.page==1"></loading-overlay></div></div>')}]),angular.module("views/error/error.html",[]).run(["$templateCache",function(a){a.put("views/error/error.html",'<div flex class=errorView layout=column layout-align="center center"><img ng-if=image style="height: 20vh" class=img-trans ng-src={{image}}><h1>{{title}}</h1><h3>{{description}}</h3><md-button ng-if=buttontext class="md-border md-cornered md-md" ui-sref=app.home>{{buttontext}}</md-button></div>')}]),angular.module("views/faq/faq.html",[]).run(["$templateCache",function(a){a.put("views/faq/faq.html","<bannerheader colour=\"['#3C3CCD', '#E03370']\"><h1>Frequently Asked Questions</h1></bannerheader><md-container><h3 class=md-headline>What does STEMN stand for? How do I say it?</h3><p>STEMN stands for <b>S</b>cience <b>T</b>echnology <b>E</b>ngineering <b>M</b>athmatics <b>N</b>etwork. The <b>MN</b> at the end is pronounced in the same was as 'CONDE<b>MN</b>'</p><h3 class=md-headline>What is STEMN? Where am I?</h3><p>Welcome to STEMN. Make yourself at home.<br><br>STEMN connects the international space community through projects. It’s a place for space-loving scientists, engineers and explorers to geek out about the latest out-of-this-world research. Literally.</p><h3 class=md-headline>What are projects?</h3><p>Each project page is like a Wikipedia article. It can be as long or short as you like. But enough to give the community a good idea of your skill set and what you are working on.<br><br>Still stuck? Check out the <a class=text-green href=/browse/projects>recent projects</a> for some inspiration.</p><h3 class=md-headline>What kind of projects can I post on STEMN?</h3><p>Space is multidisciplinary, and it brings all the sciences together. So while the focus is on space projects, we welcome all projects in the STEM fields. Your STEMN profile is your own gallery, your platform, your voice.<a authenticate class=text-green ng-click=newSomething()>Tell us your story.</a></p><h3 class=md-headline>What about ITAR?</h3><p>While the STEMN community is built around knowledge sharing, there are legal issues to be aware of. As a rule of thumb, only post information that you have permission to share. Your project page can include as much or as little detail as you like.</p><h3 class=md-headline>Wow! This is much prettier / useful than LinkedIn!</h3><p>No one likes to use LinkedIn. We use it because we have to. Put a link of your STEMN page on your LinkedIn. Share your STEMN page with employers, and stand out from that dusty pile of CVs.</p><h3 class=md-headline>Where are the easter eggs!?</h3><p>Well if we straight up told you, it wouldn’t really be an easter egg, would it? (At this stage, you can be pretty sure they are all bugs. If you find one, <a class=text-green ui-sref=\"app.field.threads({'stub':'stemn-bugs'})\">let us know</a>!)</p><h3 class=md-headline>I love STEMN. Are you on Facebook or Twitter?</h3><p>We sure are. Like us <a class=text-green href=http://www.facebook.com/stem.network target=_blank>here</a> and follow us <a class=text-green href=https://twitter.com/stem_network target=_blank>here</a>.</p><h3 class=md-headline>How can I reach you?</h3><p>Feel free to reach us by email at founders@stemn.com or hit us up <a class=text-green href=/contact>here</a>.</p><h3 class=md-headline>Where can I find your Privacy Policy and Terms of Service?</h3><p>For your reading pleasure, review our <a class=text-green href=/privacy>Privacy Policy</a> and <a class=text-green href=/terms>Terms of Service</a>.</p><h3 class=md-headline>Who’s behind STEMN?</h3><p>We’re flattered you asked. :) Learn more about us <a class=text-green href=/projects/stemn>here</a>.</p></md-container>")}]),angular.module("views/field/field.html",[]).run(["$templateCache",function(a){a.put("views/field/field.html",'<div layout=row layout-align=center><settings-button show-if-admin above=true><md-menu-item><md-button confirm ng-click=deleteField()>Delete</md-button></md-menu-item><md-menu-item><md-button ng-click=editStub($event)>Advanced Edit</md-button></md-menu-item></settings-button><div class=md-content-container><form name=FieldForm class=edit-box novalidate><edit-button show-if-admin form=FieldForm save-fn=save() inline=true></edit-button><div ng-show=FieldForm.$visible layout=column layout-align="center center" class=m-t-30><upload-image icon=true name=image image=field.banner.url ng-model=field.banner.url><div class="avatar-circle avatar-lg" style="background-image:url({{field.banner.url}}?size=logo-md)"></div></upload-image><h1 class="md-display-1 text-center m-t-20 m-b-40"><input name=name ng-model=field.name class="editable text-center" placeholder="Field Name" required></h1></div><div ng-hide=FieldForm.$visible><div class="md-subhead m-b-20"><a ui-sref=app.browse.fields class=text-green>Fields</a> <span ng-if="!$state.is(\'app.field.top\')"><span>/</span> <a ui-sref=app.field.top class=text-green>{{field.name}}</a></span> <span>/ {{$state.current.data.name || field.name}}</span></div></div><div ng-hide=FieldForm.$visible layout=column layout-align="center center" class=m-t-30><div ng-show=field.banner.url class="avatar-circle avatar-lg" style="background-image:url({{field.banner.url}}?size=logo-md)" lightbox=true lightbox-image=field.banner.url></div><h1 class="md-display-1 text-center m-t-20" text-center>{{field.name}} <span class=capitalise>{{$state.current.data.name}}</span></h1><a class="text-green m-v-30 m-t-10" show-explanation-modal=field>What is a field?</a><div layout=row layout-align="center center" class=m-b-60><stat-button type=follow parent-type=field parent-id={{field._id}} count=data.followers class="lg m-r-30"></stat-button><social-share-buttons style="margin-top: 3px"></social-share-buttons></div></div></form><ui-view></ui-view></div></div>')}]),angular.module("views/field/tpls/field-blogs.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-blogs.html",'<div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest {{field.name}} Updates</div></div><card-feed parent-id={{field._id}} parent-type={{field.type}} type=blogs size=12 items=projectItems></card-feed><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><related class=m-b-60 parent-type=field parent-id={{field._id}} type=field></related>')}]),angular.module("views/field/tpls/field-jobs.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-jobs.html",'<div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest {{field.name}} Jobs</div></div><job-rows size=12 parent-type=field parent-id={{field._id}} class=m-b-60 query=jobQuery></job-rows><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><related class=m-b-60 parent-type=field parent-id={{field._id}} type=field></related>')}]),angular.module("views/field/tpls/field-organisations.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-organisations.html",'<div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Latest {{field.name}} Organisations</div></div><organisation-cards size=12 field={{field._id}} class=m-b-60 items=organisationItems></organisation-cards><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><related class=m-b-60 parent-type=field parent-id={{field._id}} type=field></related>')}]),angular.module("views/field/tpls/field-people.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-people.html","<md-container><md-divider></md-divider><users parent-type=field parent-id={{field._id}} type=topProjects></users><md-divider></md-divider><users parent-type=field parent-id={{field._id}} type=topBloggers></users><md-divider></md-divider><users parent-type=field parent-id={{field._id}} type=topContributors></users></md-container>")}]),angular.module("views/field/tpls/field-project.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-project.html",'<div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest {{field.name}} Projects</div></div><card-feed parent-id={{field._id}} parent-type={{field.type}} type=projects size=12 items=projectItems></card-feed><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><related class=m-b-60 parent-type=field parent-id={{field._id}} type=field></related>')}]),angular.module("views/field/tpls/field-threads.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-threads.html",'<div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest {{field.name}} Questions and Discussions</div></div><forum size=20 parent-id={{field._id}} parent-type={{field.type}} type=discussions query=discussionQuery></forum><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><related class=m-b-60 parent-type=field parent-id={{field._id}} type=field></related>')}]),angular.module("views/field/tpls/field-top.html",[]).run(["$templateCache",function(a){a.put("views/field/tpls/field-top.html",'<div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><related class=m-b-60 parent-type=field parent-id={{field._id}} type=field></related><div ng-hide="projectQuery.results.length==0"><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest Projects</div><a class=text-green ui-sref=app.field.projects>See more projects</a></div><card-feed parent-id={{field._id}} parent-type={{field.type}} type=projects query=projectQuery></card-feed></div><div ng-hide="discussionQuery.results.length==0"><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest Questions and Discussions</div><a class=text-green ui-sref=app.field.threads>See more</a></div><forum size=4 parent-id={{field._id}} parent-type={{field.type}} type=discussions query=discussionQuery></forum></div><div ng-hide="jobQuery.results.length==0"><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Related Jobs</div><a class=text-green ui-sref=app.field.jobs>See more jobs</a></div><job-rows size=4 parent-type=field parent-id={{field._id}} class=m-b-60 query=jobQuery></job-rows></div><div ng-hide="updatesQuery.results.length==0"><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Newest Updates</div><a class=text-green ui-sref=app.field.blogs>See more updates</a></div><card-feed parent-id={{field._id}} parent-type={{field.type}} type=blogs query=updatesQuery></card-feed></div><div ng-hide="organisationItems.length==0"><div class="line-divider-bottom m-b-40" layout=row><div class=md-subhead flex>Related Organisations</div><a class=text-green ui-sref=app.field.organisations>See more organisations</a></div><organisation-cards size=4 field={{field._id}} class=m-b-60 items=organisationItems></organisation-cards></div>')}]),angular.module("views/following/tpls/following-all.html",[]).run(["$templateCache",function(a){a.put("views/following/tpls/following-all.html",'<div layout=row layout-align=center><div class="md-content-container m-b-30"><h1 class=md-display-1>Things you follow</h1><div class="line-divider-bottom m-v-30" layout=row><div class=md-subhead flex>Fields</div><a class="md-subhead text-green" ui-sref=app.following.fields>See More</a></div><following-detailed hide-more=true size=3 type=field></following-detailed><div class="line-divider-bottom m-v-30" layout=row><div class=md-subhead flex>Organisations</div><a class="md-subhead text-green" ui-sref=app.following.organisations>See More</a></div><following-detailed hide-more=true size=3 type=organisation></following-detailed><div class="line-divider-bottom m-v-30" layout=row><div class=md-subhead flex>Projects</div><a class="md-subhead text-green" ui-sref=app.following.projects>See More</a></div><following-detailed hide-more=true size=3 type=project></following-detailed><div class="line-divider-bottom m-v-30" layout=row><div class=md-subhead flex>Blogs and Questions</div><a class="md-subhead text-green" ui-sref=app.following.threads>See More</a></div><following-detailed hide-more=true size=3 type=thread></following-detailed><div class="line-divider-bottom m-v-30" layout=row><div class=md-subhead flex>Users</div><a class="md-subhead text-green" ui-sref=app.following.users>See More</a></div><following-detailed hide-more=true size=3 type=user></following-detailed></div></div>')}]),angular.module("views/following/tpls/following.html",[]).run(["$templateCache",function(a){a.put("views/following/tpls/following.html",'<div layout=row layout-align=center><div class="md-content-container m-b-30"><div class=md-subhead><a href=/following class=text-green>Things You Follow</a> / {{title}}</div><h1 class=md-display-1>{{title}} you follow</h1><md-divider class=m-v-30></md-divider><following-detailed type={{type}}></following-detailed></div></div>')}]),angular.module("views/home/home.html",[]).run(["$templateCache",function(a){a.put("views/home/home.html",'<div class="homeView overflow-x-box" layout=row layout-align=center><div class=md-content-container><div layout=row class=md-row-sm><div flex class=md-col-sm><feed type=all data=feedData size=sm contained=false></feed></div><div hide-sm hide-md class=md-col-sm style="width: 350px"><div ng-if=!currentUser.isLoggedIn() class="card-z1 m-b-15"><div class=md-subhead>Welcome to STEMN</div><div class="text-lightgrey m-v-10">Sign up to find projects, ideas, people and jobs that matter.</div><div layout=row><md-button type=button class="md-accent md-cornered md-raised md-flat" authenticate style="margin-left: 0px">Sign up</md-button><md-button type=button class="md-accent md-cornered md-border-green" ng-click=learnMore()>Learn more</md-button></div></div><div ng-if=currentUser.isLoggedIn() class="card-z1 m-b-15 user-widget"><div layout=row><div flex layout=column class=p-r-15><a ui-sref="app.user.profile({stub: user.stub})" flex class=md-headline>{{user.name}}</a><div class=text-lightgrey>{{user.blurb | letters : 60}}</div></div><div><a ui-sref="app.user.profile({stub: user.stub})"><img class=profile-picture ng-src="{{user.picture || \'/assets/images/default/user-1.png\'}}?size=user&crop=true" alt=""></a></div></div><div class="md-subhead m-b-15 m-t-30">Your recent projects</div><user-projects-widget></user-projects-widget><div class="md-subhead m-b-15 m-t-30">Your Organisations</div><user-organisations-widget></user-organisations-widget></div><div class="card-z1 m-b-15" ng-show=incomplete.status><div class="md-subhead m-b-15">Welcome tasks</div><feed-checklist incomplete=incomplete></feed-checklist></div><div ng-if=currentUser.isLoggedIn() class="card-z1 m-b-15" ng-hide="completionPercentage == 100"><user-completion-widget completion-percentage=completionPercentage></user-completion-widget></div><div class="card-z1 m-b-15 p-0"><div class="md-subhead p-20" style="padding-bottom: 10px" layout=row><div flex>Latest Jobs</div><a class=text-green ng-click=jobQuery.more();>More</a></div><a ng-repeat="item in jobQuery.results" class=picture-row layout=row layout-align="start center" ui-sref="app.job({stub: item.stub})"><div class="avatar avatar-square-contain m-r-15" ng-style="{\'background-image\':\'url(\'+(item.organisations[0].picture || \'/assets/images/default/user-1.png\')+\'?size=thumb)\'}"></div><div flex layout=column class=ellipsis-container><div flex class="semi-bold ellipsis">{{::item.name}}</div><div class="text-lightgrey ellipsis">{{::item.organisations[0].name}}</div></div></a><loading-overlay ng-if=jobQuery.loading ng-class="{\'translucent\' : jobQuery.results.length > 0}"></loading-overlay></div><div ng-if=currentUser.isLoggedIn() class="card-z1 m-b-15 p-0" ng-show="peopleQuery.results.length > 0"><div class="md-subhead p-20" style="padding-bottom: 10px" layout=row><div flex>People you may know</div><a class=text-green ng-click=peopleQuery.more(); ng-hide=peopleQuery.noMoreResults>More</a></div><div ng-repeat="item in peopleQuery.results"><div class=picture-row layout=row layout-align="start center"><a ui-sref="app.user.profile({stub: item.user.stub})" class="avatar avatar-circle m-r-15" ng-style="{\'background-image\':\'url(\'+(item.user.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb)\'}"></a> <a ui-sref="app.user.profile({stub: item.user.stub})" flex layout=column class=ellipsis-container><div flex class="semi-bold ellipsis">{{::item.user.name}}</div><div class="text-lightgrey ellipsis">{{::item.why}}</div></a><stat-button class=m-l-15 hidepublic hide-stat=true type=follow parent-type=user parent-id={{item.user._id}} count=item.user.followers></stat-button></div></div><loading-overlay ng-if=peopleQuery.loading ng-class="{\'translucent\' : peopleQuery.results.length > 0}"></loading-overlay></div><div ng-if="currentUser.isLoggedIn() && !currentUser.accounts.facebook" class="card-z1 m-b-15"><div class=md-subhead>Connect to Facebook</div><div class="text-lightgrey m-v-15">By linking accounts you\'ll be able to login to STEMN using Facebook. This makes using STEMN on your mobile much easier.</div><md-button class="md-social md-facebook md-cornered m-0 md-md" ng-click="authenticate(\'facebook\')">Connect to Facebook</md-button></div><div class=footer><a ng-repeat="item in footerItems" ui-sref={{item.sref}}>{{item.text}}</a></div></div></div></div></div><md-button class="md-fab md-fab-fixed-bottom-right" hide-gt-sm ui-sref=app.search.all><md-icon md-svg-icon=search></md-icon><md-tooltip md-direction=left md-autohide=true>Search</md-tooltip></md-button>');
}]),angular.module("views/how-it-works/tpls/how-it-works-images.html",[]).run(["$templateCache",function(a){a.put("views/how-it-works/tpls/how-it-works-images.html","<div layout=row layout-sm=column class=md-row><div class=md-col flex=33 flex-sm=100><img class=badge-image src=assets/images/howitworks/project.svg><h3 class=md-headline>Post your project idea</h3><p>Organise your project ideas, document your progress & receive real-time feedback. Go from start to finish with STEMN.</p></div><div class=md-col flex=33 flex-sm=100><img class=badge-image src=assets/images/howitworks/questions.svg><h3 class=md-headline>Ask anything</h3><p>Ask a question, ask for advice, help or project collaborators.</p></div><div class=md-col flex=33 flex-sm=100><img class=badge-image src=assets/images/howitworks/answers.svg><h3 class=md-headline>Get your answer, FAST.</h3><p>Our passionate community typically responds to questions in 24 hrs. Get your results faster.</p></div></div>")}]),angular.module("views/how-it-works/tpls/how-it-works.html",[]).run(["$templateCache",function(a){a.put("views/how-it-works/tpls/how-it-works.html",'<div class=how-it-works-view><div layout=row layout-align=center class=p-v-30 style="background: rgba(0, 0, 0, 0.03)"><div class="md-content-container content-lg text-center overflow-box"><div layout=row layout-align=center><h1 class=md-display-2 style=max-width:600px>Get project results faster, just 3 easy steps.</h1></div><div class=m-v-60 ng-include="\'views/how-it-works/tpls/how-it-works-images.html\'"></div><div layout=row layout-align=center><md-button authenticate click-create-project class="md-accent md-raised md-cornered md-md">Start drafting a project</md-button></div></div></div><div layout=row layout-align=center class=p-v-40 style="background: rgba(0, 0, 0, 0.1)"><div class="md-content-container overflow-box"><div layout=row layout-sm=column class=md-row><div class="md-col m-v-15" flex=50 flex-sm=100><img src=assets/images/howitworks/stickers.jpg alt=""></div><div class="md-col m-v-15" flex=50 flex-sm=100 layout=column layout-align="start start"><h2 class="section-title m-t-0">A Community Built on Collaboration</h2><p flex>STEMN is built on the collaborative spirit of our community. Even if you don’t have a project idea right now, you can still contribute to project questions from the community!</p><div layout=row layout-sm=column><md-button class="inline md-white md-md md-cornered m-l-0" ui-sref=app.browse.questions>See all questions</md-button><md-button class="inline md-accent md-raised md-flat md-md md-cornered m-l-0" authenticate click-create-thread thread="{type: \'question\'}">Submit your question</md-button></div></div></div></div></div><div layout=row layout-align=center><div class="md-content-container m-t-30"><div class=text-center><h2 class=section-title>Project Questions: Can you help?</h2><h3 class=section-sub>Contribute to questions and help bring projects to life!</h3></div><card-feed type=discussions size=9></card-feed></div></div></div>')}]),angular.module("views/index/tpls/jobs-index.html",[]).run(["$templateCache",function(a){a.put("views/index/tpls/jobs-index.html",'<div layout=row layout-align=center class=m-b-30><div class="md-content-container overflow-x-box" layout=column><h1 class="md-display-1 text-center m-t-50">Browse Jobs</h1><div class="md-title text-grey light-font text-center m-b-30">Apply to hundreds of jobs with one profile · 100% free</div><div class=flex-square-tile-row layout=row layout-wrap><div class=flex-square-tile flex=20 flex-md=25 flex-sm=50 ng-repeat="item in fields"><div class=image-overlay ng-style="{\'background-image\':\'url(\'+(item.picture || \'/assets/images/default/square.png\')+\'?size=thumb-lg)\'}"></div><a class=text-overlay ui-sref="app.jobsQuery({\'field\': item.stub})" layout=column layout-align="center center"><div>{{item.name}} Jobs</div></a></div></div></div></div>')}]),angular.module("views/index/tpls/jobs-query-field-location.html",[]).run(["$templateCache",function(a){a.put("views/index/tpls/jobs-query-field-location.html",'<div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column><div class="md-subhead m-b-20"><a ui-sref=app.browse.jobs class=text-green>Jobs</a> / <a ui-sref="app.jobsQuery({\'field\':field.stub})" class=text-green>{{field.name}}</a> / {{location.components[0].short_name}}</div><h1 class="md-display-1 text-center m-t-50">{{field.name}} jobs near {{location.components[0].long_name}}</h1><div class="md-title text-grey light-font text-center">Apply to hundreds of jobs with one profile · 100% free</div></div></div><div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column><div class="md-subhead m-b-10">Available Positions</div><job-rows parent-type=field query=jobQueryField parent-id={{field._id}} size=10 near="[location.geo.lng, location.geo.lat]"></job-rows><div ng-if="jobQueryField.results.length && jobQueryField.results.length <= 3"><div class="md-subhead m-b-10 m-t-30">Other Jobs near {{location.components[0].long_name}}</div><job-rows query=jobQuery size=10 near="[location.geo.lng, location.geo.lat]"></job-rows></div></div></div>')}]),angular.module("views/index/tpls/jobs-query-field.html",[]).run(["$templateCache",function(a){a.put("views/index/tpls/jobs-query-field.html",'<div ng-if="$state.is(\'app.jobsQuery\')"><div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column><div class="md-subhead m-b-20"><a ui-sref=app.browse.jobs class=text-green>Jobs</a> / {{field.name}}</div><h1 class="md-display-1 text-center m-t-50">{{field.name}} jobs</h1><div class="md-title text-grey light-font text-center">Apply to hundreds of jobs with one profile · 100% free</div></div></div><div layout=row layout-align=center class=m-b-30><div class=md-content-container layout=column><div class="md-subhead m-b-10">Available Positions</div><job-rows parent-type=field query=jobQuery parent-id={{field._id}} size=10 near="[location.geo.lng, location.geo.lat]"></job-rows><div class="md-subhead m-b-10 m-t-50">Popular locations</div><div class=flex-square-tile-row layout=row layout-wrap><div class=flex-square-tile flex=20 flex-md=25 flex-sm=50 ng-repeat="item in locations | limitTo: locationsLimit"><div class=image-overlay ng-style="{\'background-image\':\'url(assets/images/default/square.png?size=thumb-lg)\'}"></div><a class=text-overlay ui-sref="app.jobsQuery.location({\'location\': item[0]})" layout=column layout-align="center center"><div>{{item[0]}}</div></a></div><div class=flex-square-tile flex=20 flex-md=25 flex-sm=50><div class=image-overlay style="background-image:url(\'/assets/images/default/square.png\')"></div><a class=text-overlay layout=column layout-align="center center" ui-sref=".({locations: locationsPage+1})" ng-click=assignStateParams();><div>See More</div></a></div></div></div></div></div><ui-view></ui-view>')}]),angular.module("views/job/tpls/job.html",[]).run(["$templateCache",function(a){a.put("views/job/tpls/job.html",'<div class=jobView><missing-fields ng-hide="!publishAttempted || forms.JobForm.$completed || !forms.JobForm.$visible" entity=entity required-fields=requiredFields form=forms.JobForm></missing-fields><form unsaved-warning-form novalidate name=forms.JobForm edit-toolbar data=entity save-fn=save() edit-fn=editFn() end-edit-fn=endEditFn()><div ng-if=!forms.JobForm.$visible><tip-banner class="m-b-15 text-center" local=true tip-hide=entity.published>This job has not been published yet. It will not be visible to others until it has been published. <a ng-click=forms.JobForm.$edit()>Click here</a> to edit and publish this job listing.</tip-banner></div><edit-toolbar ng-if=forms.JobForm.$visible><div><b>Editing:</b> <span>{{entity.name}}</span></div><div flex></div><md-button ng-click=forms.JobForm.$cancel() class="md-dark-grey md-cornered">Cancel</md-button><md-button ng-hide=entity.published ng-click=forms.JobForm.$save() class="md-cornered md-dark-grey">Save Draft</md-button><md-button ng-show=entity.published ng-click=forms.JobForm.$save() class="md-cornered md-raised md-accent md-flat">Save</md-button><md-button ng-show=!entity.published ng-click=publish($event) class="md-raised md-accent md-flat md-cornered">Publish</md-button></edit-toolbar><div layout=row layout-align=center><div class=md-content-container layout=column><div class=rel-box layout=column><settings-button ng-if=showEdit ng-hide=forms.JobForm.$visible><md-menu-item><md-button ng-click=forms.JobForm.$edit()>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click=deleteJob()>Delete Job</md-button></md-menu-item><md-menu-item show-if-admin><md-button click-unpublish entity=entity save-fn=forms.JobForm.$save()>Unpublish</md-button></md-menu-item></settings-button><div ng-if=forms.JobForm.$visible><h1 id=nameEdit class="md-display-1 text-center m-t-15"><input name=name ng-model=entity.name class="editable text-center" placeholder="Job title" required></h1><div class="md-title text-grey light-font text-center">{{entity.organisations[0].name}}</div></div><div ng-if=!forms.JobForm.$visible><div class="md-subhead m-b-20"><a ui-sref=app.browse.jobs class=text-green>Jobs</a> / <a ui-sref="app.organisation.jobs({\'stub\': entity.organisations[0].stub})" class=text-green>{{entity.organisations[0].name}}</a> / {{entity.name}}</div><div layout=row layout-align=center><a ng-if=entity.organisations[0].picture ui-sref="app.organisation.jobs({\'stub\': entity.organisations[0].stub})" class="avatar avatar-square-contain avatar-lg" style="background-image:url({{entity.organisations[0].picture}}?size=logo-md)"></a></div><h1 class="md-display-1 text-center m-t-15">{{entity.name}}</h1><div class=text-center><a ui-sref="app.organisation.jobs({\'stub\': entity.organisations[0].stub})" class="md-title text-grey light-font">{{entity.organisations[0].name}}</a></div><div layout=row layout-align=center><apply-button class="md-md md-raised md-flat md-cornered m-t-30 m-b-30" job=entity job-id={{entity._id}} job-stub={{entity.stub}} text-apply="Apply for position" button-status=applicationStatus></apply-button></div><div ng-if=applicationStatus.status><div class="line-divider-bottom m-t-60 m-b-30" layout=row><div class=md-subhead flex>Your application</div></div><user-row-detailed class=m-b-15 user-id={{user._id}} show-edit=true button-text="See full application" button-href=applications/{{applicationStatus.status}} job=entity></user-row-detailed></div></div></div></div></div><div layout=row layout-align=center class=m-b-60><div class="md-content-container md-no-padding" layout=column><div layout=column layout-gt-sm=row class=md-row><div class=md-col flex><div id=descriptionEdit ng-if=forms.JobForm.$visible class=m-b-30><div class="line-divider-bottom m-b-40" style="margin-top: 14px"><div class=md-subhead>Job Description</div></div><div medium-editor name=description ng-model=entity.description editor-type=text-rich style="min-height: 100px" placeholder="Describe the position."></div><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px"><p>Describe the job position here. As a guide, we recommend the following headings</p><ul><li>Overview</li><li>Responsibilities</li><li>Basic Qualifications</li><li>Preferred Skills and Experience</li></ul><p>Consider adding some generic info about the position, including:</p><ul><li>Perks</li><li>Downsides</li><li>How to apply</li></ul></popup></div><div ng-if=!forms.JobForm.$visible><div class="line-divider-bottom m-b-40"><div class=md-subhead>Job Description</div></div><div class=angular-medium-editor ng-bind-html=entity.description render-mentions></div></div></div><div class="md-col sidebar"><div ng-if=forms.JobForm.$visible><div class="well m-b-30"><div class="line-divider-bottom m-b-15"><div class=md-subhead>Job Details</div></div><show-if-admin><organisation-search data=entity.organisations single=true placeholder=Organisation></organisation-search></show-if-admin><location-search id=locationEdit data=entity.location single=true placeholder=Location></location-search><div id=salaryEdit layout=row><md-input-container flex=33><label>Currency</label><md-select required ng-model=entity.pay.currency><md-option ng-repeat="type in currency" value={{type.code}}>{{type.name}}</md-option></md-select></md-input-container><md-input-container flex=33><label>Min Wage</label><input required type=number name=minPay ng-model="entity.pay.from"></md-input-container><md-input-container flex=33><label>Max Wage</label><input required type=number name=maxPay ng-model="entity.pay.to"></md-input-container></div><md-input-container id=positingEdit><label>Position Type</label><md-select ng-model=entity.jobType><md-option ng-repeat="type in jobTypes" value={{type}}>{{type}}</md-option></md-select></md-input-container><md-input-container id=visaEdit><label>Visa Sponsorship</label><md-select ng-model=entity.visa.sponsorship><md-option ng-repeat="type in visas" value={{type}}>{{type}}</md-option></md-select></md-input-container><md-input-container id=deadlineEdit><label>Submission Deadline</label><input ng-model=entity.deadline type=date name=deadline ng-change=formatDate(entity.deadline)></md-input-container></div><div class="well m-b-30"><div class="line-divider-bottom m-b-15"><div class=md-subhead>Qualifications and skills</div></div><field-search id=requiredFieldsEdit data=entity.requiredFields placeholder="Required Skills"></field-search><tags edit=true size=xs tags=entity.requiredFields type=field></tags><field-search id=fieldsEdit data=entity.fields placeholder="Recommended Skills"></field-search><tags edit=true size=xs tags=entity.fields type=field></tags></div><show-if-admin><div class="well m-b-30"><div class="line-divider-bottom m-b-15"><div class=md-subhead>Admin Advanced Edit</div></div><md-input-container><label>Source Url</label><input name=sourceUrl ng-model="entity.sourceUrl"></md-input-container><md-input-container><label>Source String</label><input name=sourceKnownString ng-model="entity.sourceKnownString"></md-input-container><md-button ng-click=checkSourceValid() class="md-raised md-flat md-accent md-cornered m-0">Check</md-button></div></show-if-admin></div><div ng-if=!forms.JobForm.$visible><div ng-if="entity.pay.from && entity.pay.to" class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Compensation</div></div><div>{{entity.pay.from | money : entity.pay.currency}} to {{entity.pay.to | money : entity.pay.currency}} Salary</div></div><div ng-if=entity.location[0].name class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Location</div></div><div>{{entity.location[0].name}}</div></div><div ng-if=entity.jobType class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Job Type</div></div><div>{{entity.jobType}}</div></div><div ng-if=entity.level class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Important Qualifications</div></div><div>{{entity.level}}</div></div><div ng-if="entity.requiredFields.length>0" class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Required Skills</div></div><tags edit=false size=xs tags=entity.requiredFields type=field status=true></tags></div><div ng-if="entity.fields.length>0" class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Related Fields</div></div><tags edit=false size=xs tags=entity.fields type=field status=true></tags></div><div ng-if=entity.visa.sponsorship class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Visa Sponsorship</div></div><div class=capitalise>{{entity.visa.sponsorship}}</div></div><div ng-if=entity.deadline class=m-b-30><div class="line-divider-bottom m-b-15"><div class=md-subhead>Application Deadline</div></div><div class=capitalise>{{entity.deadline | date : short}}</div></div></div></div></div><div ng-if="!forms.JobForm.$visible && showEdit"><div class="line-divider-bottom m-t-60 m-b-30" layout=row><div class=md-subhead flex>Recent Applicants</div></div><application-rows parent-type=job parent-id={{entity._id}} job=entity></application-rows></div><div ng-if=!forms.JobForm.$visible ng-show="JobQuery.results.length > 1"><div class="line-divider-bottom m-t-60 m-b-40"><div class=md-subhead>More Jobs at {{entity.organisations[0].name}}</div></div><job-rows ng-show=entity.organisations[0]._id parent-type=organisation parent-id={{entity.organisations[0]._id}} current-job-id={{entity._id}} query=JobQuery></job-rows></div></div></div></form><div ng-if="!forms.JobForm.$visible && !showEdit" layout=row layout-align=center style="background: rgb(248, 248, 248)"><div layout=row layout-align="center center" class="md-content-container m-v-30"><md-button style="min-width: 140px" class="md-cornered md-md md-accent md-raised md-flat" ui-sref=app.browse.jobs>Browse all Jobs</md-button><span class="m-h-15 text-lightgrey">or</span><md-button style="min-width: 140px" class="md-cornered md-md md-accent md-raised md-flat" ng-click=createJob($event) authenticate>Post a job</md-button></div></div></div>')}]),angular.module("views/landing/landing-editor/landing-editor.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-editor/landing-editor.html",'<div class="landingEditView text-center" layout=column layout-offset-horizontal-menu-undo><div class="section full-height bg-img-cover" layout=column layout-align=center style="background-color: rgba(0, 0, 0, 0.04); background-image: url(\'assets/images/landing/particles.jpg\')"><div layout=row layout-align=center layout-offset-horizontal-menu=true><div class="md-content-container content-lg md-no-padding"><h1 class="md-display-2 above-particles" style="margin-top: 50px">Scientific Documents Reimagined</h1><h3 class=above-particles>Made for scientists & engineers, by scientists & engineers.</h3><md-button style="margin: 30px 0 30px" class="md-accent md-raised md-lg wow flipInX" data-wow-delay=2s ng-click=login($event);>Start Creating Now</md-button></div></div><div layout=row layout-align=center class=fadeIn><div class=examples layout=row layout-align="center center"><div class="example example-side above-particles" layout=column layout-align="center center" ng-mouseenter="active=\' 150px\'; playLeft=true;" ng-mouseleave="active=\'\'; playLeft=false;"><div class=title>Notes and guides</div><video loop class=md-whiteframe-z4 poster=/assets/video/landing/project.jpg video-play=playLeft><source src=/assets/video/landing/project.webm type="video/webm"><source src=/assets/video/landing/project.mp4 type="video/mp4"></video></div><div class="example example-center above-particles" layout=column layout-align="center center" ng-mouseenter="playCenter=true;" ng-mouseleave="playCenter=false;" style="transform: translateX({{active}})"><div class=title>Science Blogs</div><video loop class="md-whiteframe-z5 hover-shadow" poster=/assets/video/landing/blog.jpg video-play=playCenter><source src=/assets/video/landing/blog.webm type="video/webm"><source src=/assets/video/landing/blog.mp4 type="video/mp4"></video></div><div class="example example-side above-particles" layout=column layout-align="center center" ng-mouseenter="active=\'-150px\'; playRight=true;" ng-mouseleave="active=\'\'; playRight=false;"><div class=title>Project Documentation</div><video loop class=md-whiteframe-z4 poster=/assets/video/landing/graph.jpg video-play=playRight><source src=/assets/video/landing/graph.webm type="video/webm"><source src=/assets/video/landing/graph.mp4 type="video/mp4"></video></div></div></div></div><scroll-down href=#collaborate du-smooth-scroll offset=0></scroll-down><div id=collaborate class=section layout=column layout-align="start center"><div class=width-100p layout=row layout-align=center><div class="md-content-container content-md md-no-padding"><h1 class=md-headline>Team collaboration in real-time</h1><p>Made for scientists & engineers, by scientists & engineers.</p></div></div><div layout=row layout-align=center class="wow fadeInUp width-100p"><div class="md-content-container content-md md-no-padding"><div class=video-demo><img src=/assets/images/landing/chrome-flat-browser-top.png alt=""><video loop poster=/assets/video/landing/collab.jpg autoplay video-speed=2><source src=/assets/video/landing/collab.webm type="video/webm"><source src=/assets/video/landing/collab.mp4 type="video/mp4"></video></div></div></div></div><div class=section layout=column layout-align="center center" style="background: rgba(28, 0, 255, 0.03)"><div layout=row layout-align=center><div class="md-content-container content-md md-no-padding"><h1 class=md-headline>Powerful tools to accelerate your research</h1><p>An ever-growing collection of tools to bring your research to the 21st century.</p></div></div><div layout=row layout-align=center><div class="md-content-container content-md md-no-padding"><div class=tools layout=row layout-wrap><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/youtube.png\')"></div><h4>Video</h4><div class=caption>Embed Youtube or Vimeo.</div></div><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/math.png\')"></div><h4>Math</h4><div class=caption>Write LaTeX, MathML or ASCIImath.</div></div><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/code.png\')"></div><h4>Code</h4><div class=caption>Code editor with formatting and highlighting.</div></div><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/graphs.png\')"></div><h4>Graphs</h4><div class=caption>Interactive, native web JSON graphs coming soon.</div></div><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/files.png\')"></div><h4>Files</h4><div class=caption>Upload any and host any type of file.</div></div><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/tables.png\')"></div><h4>Tables</h4><div class=caption>Easily create and format tables.</div></div><div flex=25 flex-sm=50 flex-md=33><div class="tool md-whiteframe-z2" style="background-image: url(\'/assets/images/landing/comments.png\')"></div><h4>Comments</h4><div class=caption>Get feedback from collaborators.</div></div><div flex=25 flex-sm=50 flex-md=33 layout=column><div flex class="more tool" layout=row layout-align="center center"><md-icon md-svg-icon=add></md-icon></div><h4>More</h4><div class=caption>Something missing? Tell us and we\'ll build it.</div></div></div></div></div></div><div class=section layout=column layout-align="center center"><h1 class=md-headline>No more formatting issues. Stunning layouts, instantly.</h1><div layout=row layout-align=center><div class="md-content-container content-md md-no-padding">We take care of design, so you can focus on your ideas. No more LaTex packages or formatting issues to derail your train of thought.</div></div><div layout=row layout-align=center class="wow fadeInUp width-100p"><div class="md-content-container content-md md-no-padding"><div class=video-demo><img src=/assets/images/landing/chrome-flat-browser-top.png alt=""><video loop poster=/assets/video/landing/edit-images.jpg autoplay video-speed=2><source src=/assets/video/landing/edit-images.webm type="video/webm"><source src=/assets/video/landing/edit-images.mp4 type="video/mp4"></video></div></div></div></div><div layout=row layout-align=center style="background: #F4F4F4"><div class="md-content-container content-md overflow-x-box m-t-50"><div layout=row layout-sm=column class="md-row text-white text-center"><div flex=50 flex-sm=100 class="md-col m-b-60"><a class="rel-box block" authenticate click-create-project><img src=assets/images/landing/workshop/book.jpg><div class="overlay-child p-30 darken" layout=column layout-align="center center"><div class=md-display-1>Showcase your project now</div></div></a></div><div flex=50 flex-sm=100 class=md-col><a class="rel-box block" ng-click="login($event, \'app.browse.projects\')"><img src=assets/images/landing/workshop/assembly.jpg><div class="overlay-child p-30 darken" layout=column layout-align="center center"><div class=md-display-1>Contribute to a project</div></div></a></div></div></div></div></div>')}]),angular.module("views/landing/landing-index/landing-index.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-index/landing-index.html",'<div class=landingIndexView layout=column><carousel class=text-white slides=slides style="min-height: 600px"><div class="md-content-container md-no-padding"><div layout=column layout-gt-sm=row class=md-row layout-align-gt-sm="start center"><div class=md-col flex><h1 class="md-display-4 extra-bold">STEMN</h1><h3 class=light-font>Tools to document projects, share research and get you hired.</h3></div><div class=md-col layout=column><div class=section-buttons><a ui-sref=app.landing.jobs layout=row><div flex>Find a job</div><div><md-icon md-svg-icon=chevron-right></md-icon></div></a> <a ui-sref=app.landing.editor layout=row><div flex>Publish a project</div><div><md-icon md-svg-icon=chevron-right></md-icon></div></a> <a ui-sref=app.landing.recruiting layout=row><div flex>Post a job</div><div><md-icon md-svg-icon=chevron-right></md-icon></div></a></div></div></div></div></carousel><div layout=row layout-align=center><div class="md-content-container md-no-padding" layout=column><div class=m-t-60 layout=row layout-align=center><div class="md-content-container content-xs md-no-padding text-center"><h2 class=section-title>Featured Projects</h2><h3 class=section-sub>New projects are created on STEMN every day. Take a look around or start your own!</h3></div></div><div class="rel-box overflow-x-box"><div layout=row layout-wrap style="margin: 0 -15px"><creation-card flex=33 flex-md=50 flex-sm=100 style="padding: 0 15px 30px" ng-repeat="item in [\'552d93f30a86e7e6480a7087\', \'56e06debf2fccd122d96cc54\', \'54ca29fda07984f8746ca132\']" entity-id={{item}} entity-type=project></creation-card></div></div><div class=m-b-60 layout=row layout-align=center><div flex=33 flex-md=50 flex-sm=100 class=p-h-15><a class="well-button block text-center" ui-sref=app.browse.projects>See all projects</a></div></div><div layout=row layout-align=center><div class="md-content-container content-xs md-no-padding text-center"><h2 class=section-title>Featured Questions</h2><h3 class=section-sub>Ask and you shall receive! Check out some of the latest questions getting answers on STEMN.</h3></div></div><div class="rel-box overflow-x-box"><div layout=row layout-wrap style="margin: 0 -15px"><creation-card flex=33 flex-md=50 flex-sm=100 style="padding: 0 15px 30px" ng-repeat="item in [\'559c7fa583a322bc57b3f289\', \'563bd2a8fe48d40782e9b8bf\', \'565e7ccf8d68003d2ada6b32\']" entity-id={{item}} entity-type=thread></creation-card></div></div><div class=m-b-60 layout=row layout-align=center><div flex=33 flex-md=50 flex-sm=100 class=p-h-15><a class="well-button block text-center" ui-sref=app.browse.questions>See all questions</a></div></div></div></div><carousel class="text-white text-center m-b-60" slides=slides style="min-height: 400px; height: 40vh" layout=row><div class="md-content-container content-sm md-no-padding text-center m-v-60"><h2 class="md-display-1 text-shadow m-b-15" style=line-height:1.3em>Build an incredible engineering portfolio. Find your dream job.</h2><md-button analytics-track="Join STEMN btn" class="md-raised md-accent md-cornered md-flat md-md" ng-click=login()>Join STEMN</md-button></div></carousel><div layout=row layout-align=center><div class="md-content-container md-no-padding" layout=column><div layout=row layout-align=center><div class="md-content-container content-xs md-no-padding text-center"><h2 class=section-title>Get a Job in Aerospace</h2><h3 class=section-sub>Apply to hundreds of Aerospace jobs with one profile.<br>Simple 2 click application · 100% Free</h3></div></div><job-rows size=6 parent-type=field parent-id=5521fbe89fbbb77c26244c2d class=m-b-30 hide-more=true></job-rows><div class=m-b-60 layout=row layout-align=center><div flex=33 flex-md=50 flex-sm=100 class=p-h-15><a class="well-button block text-center" ui-sref=app.browse.jobs>See all Jobs</a></div></div><div layout=row layout-align=center><div class="md-content-container content-xs md-no-padding text-center"><h2 class=section-title>Organisations</h2><h3 class=section-sub>See projects, questions, and jobs from leading organisations around the world.</h3></div></div><organisation-cards size=4 class=m-b-60 sort=numProjects hide-more=true></organisation-cards></div></div><div layout=row layout-align=center style="background: rgba(0, 0, 0, 0.03)"><div class="md-content-container content-xs md-no-padding text-center m-v-60"><h2 class=section-title>Do you have what it takes to advance space research?</h2><h3 class=section-sub style="margin-bottom: 20px">Help shape tomorrow, today...</h3><md-button analytics-track="Join STEMN Now btn" class="md-accent md-raised md-cornered md-flat md-md" ng-click=login()>Join STEMN Now</md-button></div></div></div>')}]),angular.module("views/landing/landing-jobs/tpls/jobs-steps.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-jobs/tpls/jobs-steps.html",'<div layout=column layout-gt-sm=row class="md-row m-t-15" layout-wrap><div flex=25 flex-sm=100 flex-md=50 class=md-col layout=row><div class="count-circle m-r-10">1</div><div flex><h2 class="md-title bold m-t-0">Create a portfolio</h2><p>Sign up for STEMN (It\'s 100% free). Showcase your projects, experience, and skills.</p></div></div><div flex=25 flex-sm=100 flex-md=50 class=md-col layout=row><div class="count-circle m-r-10">2</div><div flex><h2 class="md-title bold m-t-0">Find matching jobs</h2><p>Find aerospace jobs by location, visa requirements, experience, technology.</p></div></div><div flex=25 flex-sm=100 flex-md=50 class=md-col layout=row><div class="count-circle m-r-10">3</div><div flex><h2 class="md-title bold m-t-0">Application review</h2><p>We\'ll pair you with a member of our Talent Team to polish up your application for FREE!</p></div></div><div flex=25 flex-sm=100 flex-md=50 class=md-col layout=row><div class="count-circle m-r-10">4</div><div flex><h2 class="md-title bold m-t-0">Get an interview</h2><p>Over 64% of applicants via STEMN land interviews with our partner companies.</p></div></div></div>')}]),angular.module("views/landing/landing-jobs/tpls/landing-jobs.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-jobs/tpls/landing-jobs.html",'<carousel class=text-white slide="\'/assets/images/satellite/brazil-satellite.jpg\'" style="min-height: 600px"><div class="md-content-container md-no-padding text-center"><h1 class=md-display-2>New Space Jobs & Internships</h1><h3>Apply to hundreds of aerospace companies with one profile</h3><md-button authenticate class="md-border md-cornered md-lg wow flipInX m-t-30" ui-sref=app.browse.jobs>Find your job matches</md-button></div></carousel><div class=overflow-x-box layout=row layout-align=center><div class="md-content-container content-lg section-md" layout=column><div class="md-title text-grey light-font text-center m-b-30">How It Works</div><div ng-include="\'views/landing/landing-jobs/tpls/jobs-steps.html\'"></div></div></div><div layout=row layout-align=center class=section-md style="background: rgba(0, 0, 0, 0.04)"><div class=md-content-container><div class="md-title text-grey light-font text-center m-b-30">Apply to hundreds of jobs with one profile</div><div layout=row layout-wrap><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56acaaa415a9671224f9d72a></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56ad960715a9671224fa0c79></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56bc0ab24fddf5b31055b582></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56bc4032ccb652193b831a03></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56ac9a9815a9671224f9cf7a></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56b4596880af28176d5e826a></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56ad8c17086dbea17acfda27></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56c18f5c91d7200462fba8e2></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56b001e0e55bee1b35907a61></job-tile><job-tile flex=20 flex-sm=50 flex-md=33 entity-id=56ad92af15a9671224fa09f0></job-tile></div></div></div><div class=section-md><div layout=row layout-align=center><div class="md-content-container text-center" layout=column layout-align=center><div class="md-title light-font text-center m-b-10">The most exciting space companies are hiring on STEMN</div><div class="md-title text-grey light-font text-center">Create a profile to see them all</div></div></div><div layout=row layout-align=center><md-button class="md-accent md-raised md-flat md-cornered md-lg wow flipInX m-t-30" authenticate ui-sref=app.browse.jobs>Create your portfolio</md-button></div></div>');
}]),angular.module("views/landing/landing-recruiting/landing-recruiting.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-recruiting/landing-recruiting.html",'<div class="landingRecruitingView overflow-x-box"><carousel class=text-white slide="\'/assets/images/satellite/remote-sensing-5.jpg\'" style="min-height: 600px"><div class="md-content-container md-no-padding text-center"><h1 class=md-display-2>Access the World\'s Best Aerospace Talent</h1><h3>Find scientists and engineers with the technical skills you need. Browse their portfolios.</h3><md-button class="md-border md-cornered md-lg wow flipInX m-t-30" ui-sref=app.landing.signup>Get Early Access</md-button></div></carousel><div class=section-md><div layout=row layout-align=center><div class="md-content-container content-lg" layout=column><div class="md-title text-grey light-font text-center m-b-30">How It Works</div><div ng-include="\'views/landing/landing-recruiting/tpls/recruiting-steps.html\'"></div></div></div></div><div class=section-md style="background: rgba(0, 0, 0, 0.03)"><div layout=row layout-align=center><div class="md-content-container content-lg"><div class=md-whiteframe-z4><img src=/assets/images/landing/chrome-flat-browser-top.png alt=""><div class="hover-parent rel-box"><img src=assets/images/landing/ats/New-Applicants.png alt=""> <img style="position: absolute; top: 0; bottom: 0; right: 0; left: 0" class=hover-show src=assets/images/landing/ats/Profile.png alt=""></div></div></div></div></div><div class=section-md><div layout=row layout-align=center><div class="md-content-container text-center" layout=column layout-align=center><div class="md-title text-grey light-font">Every week, over 300 rocket scientists from the world\'s best universities join STEMN.</div></div></div><div layout=row layout-align=center><md-button class="md-accent md-raised md-flat md-cornered md-lg wow flipInX m-t-30" ui-sref=app.landing.signup>Get Early Access</md-button></div></div><div class=section-md style="background: rgba(0, 0, 0, 0.03)"><div layout=row layout-align=center><div class=md-content-container><div class="faq-section md-row" layout=row><div flex=100 flex-gt-sm=33 class=md-col><div class="md-title m-b-15">Who are your candidates?</div><p>We have a quickly growing community of Engineers and Scientists from the world\'s best universities. Our focus is on candidates in California, New York, London, Bremen.</p></div><div flex=100 flex-gt-sm=33 class=md-col><div class="md-title m-b-15">Why is STEMN different?</div><p>STEMN is also a project publishing platform. We match candidates to jobs based on the skills demonstrated in their project portfolio. This means you spend less time on sourcing and more time interviewing & hiring.</p></div><div flex=100 flex-gt-sm=33 class=md-col><div class="md-title m-b-15">How do you make money?</div><p>STEMN has 2 payment options. Traditionally we charge 15% of the hire\'s first year base salary (with a 100% money back guarantee for 90 days). Alternatively, you can choose to pay 1.5% of the hire\'s annual salary per month for their first 12 months of employment.</p></div></div></div></div></div></div>')}]),angular.module("views/landing/landing-recruiting/tpls/recruiting-steps.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-recruiting/tpls/recruiting-steps.html",'<div layout=column layout-gt-sm=row class="md-row m-t-15" layout-wrap><div flex=33 flex-sm=100 class=md-col layout=row><div class="count-circle m-r-10">1</div><div flex><h2 class="md-title bold m-t-0">Create a company profile</h2><p>Tell the world about your company. Build up a following. Showcase your product and team. <a class=text-green ui-sref="app.organisation.overview({stub: \'saber-astronautics\'})">See Example.</a></p></div></div><div flex=33 flex-sm=100 class=md-col layout=row><div class="count-circle m-r-10">2</div><div flex><h2 class="md-title bold m-t-0">Post a job</h2><p>Tag required technical skills and experience. Your job will be distributed to matching candidates.</p></div></div><div flex=33 flex-sm=100 class=md-col layout=row><div class="count-circle m-r-10">3</div><div flex><h2 class="md-title bold m-t-0">Match with candidates</h2><p>Get pre-qualified candidates with experience in the technologies you specified. Browse their project portfolio.</p></div></div></div>')}]),angular.module("views/landing/landing-signup/landing-signup.html",[]).run(["$templateCache",function(a){a.put("views/landing/landing-signup/landing-signup.html",'<div layout=row layout-align=center><div class=md-content-container><h2 class=md-display-1>Signup as an Employer</h2><md-divider class=m-v-60></md-divider><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Access the world\'s best aerospace talent. Find scientists and engineers with the technical skills you need. Browse their portfolios.<br><br>STEMN jobs in currently in beta. Request early access now!</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 m-b-30"><form class="card-padding rel-box" novalidate name=SignupForm ng-submit=submitSignup()><div class="loading-overlay card-padding text-lightgrey text-center" ng-if=signupFormSuccess layout=column layout-align="center center">Your request has been successfully submitted.<br>A member of our team will be in contact soon.</div><div class=md-subhead style="color: rgba(0, 0, 0, 0.7)">Request Access</div><div layout=row><md-input-container class=md-accent flex><label>First Name*</label><input ng-model=signup.firstname name=firstname required><div ng-messages=SignupForm.firstname.$error ng-if=SignupForm.firstname.$dirty><div ng-message=required>This is required.</div></div></md-input-container><md-input-container class=md-accent flex><label>Last Name*</label><input ng-model=signup.lastname name=lastname required><div ng-messages=SignupForm.lastname.$error ng-if=SignupForm.lastname.$dirty><div ng-message=required>This is required.</div></div></md-input-container></div><md-input-container class=md-accent><label>Email*</label><input ng-model=signup.email name=email type=email required><div ng-messages=SignupForm.email.$error ng-if=SignupForm.email.$dirty><div ng-message=required>This is required.</div><div ng-message=email>That is not a valid email.</div></div></md-input-container><md-input-container class=md-accent><label>Phone*</label><input ng-model=signup.phone name=phone required><div ng-messages=SignupForm.phone.$error ng-if=SignupForm.phone.$dirty><div ng-message=required>This is required.</div></div></md-input-container><md-input-container class=md-accent><label>Company*</label><input ng-model=signup.company name=company required><div ng-messages=SignupForm.company.$error ng-if=SignupForm.company.$dirty><div ng-message=required>This is required.</div></div></md-input-container><md-input-container class=md-accent><label>Location*</label><input ng-model=signup.location name=location required><div ng-messages=SignupForm.location.$error ng-if=SignupForm.location.$dirty><div ng-message=required>This is required.</div></div></md-input-container><div layout=row><div flex></div><md-button type=submit class="md-raised md-accent md-cornered m-0 md-md md-flat">Request Access</md-button></div></form></div></div></div></div></div>')}]),angular.module("views/map/tpls/map.html",[]).run(["$templateCache",function(a){a.put("views/map/tpls/map.html",'<div class=MapView><mapbox class=map layout=row callback=callback></mapbox><div class="content md-whiteframe-z3"><div class=header><md-button ui-sref=app.home class=logo aria-label=home><img src=assets/images/logo80x80.png alt="STEMN logo"></md-button><md-button class=tab ui-sref="app.map({type: \'project\'})" ng-class="{\'active\': query.type == \'project\'}" ng-click="setType(\'project\')">Projects</md-button><md-button class=tab ui-sref="app.map({type: \'organisation\'})" ng-class="{\'active\': query.type == \'organisation\'}" ng-click="setType(\'organisation\')">Organisations</md-button><md-button class=tab ui-sref="app.map({type: \'job\'})" ng-class="{\'active\': query.type == \'job\'}" ng-click="setType(\'job\')">Jobs</md-button><md-button class="md-icon-button geolocate" ng-click=geolocate() aria-label=geolocate><md-icon md-svg-icon=gps-fixed></md-icon><md-tooltip md-direction=left md-autohide=true>Geolocate</md-tooltip></md-button></div><div class=results hide-sm hide-md><div class="result anim-repeat-slide md" ng-repeat="item in results | limitTo: displayLimit"><a ng-click="panToMarker(item.location[0].coords, item._id)" layout=row><div class=text flex><div class=bold>{{item.name}}</div><div>{{item.blurb}}</div></div><div ng-if=item.picture class=picture ng-class="{\'contain\':item.entityType == \'job\'}" ng-style="::item.picture && {\'background-image\': \'url(\'+item.picture+\'?size=feed-sm)\'}"></div></a></div><div class=loadMore layout=row ng-show="results.length > displayLimit && !hideLoadMore"><a class=text-green ng-click="hideLoadMore = true; displayLimit=9999">Show More</a></div></div></div><div hide-sm hide-md><prompt-overlay ng-show="query.type == \'project\'" img=/assets/images/map/help-style.png><h4 class=bold>Working on an interesting project?</h4><span class=text-lightgrey>Pin it on the map and join the community making space happen.</span> <a class=text-green click-create-project>Pin my project.</a></prompt-overlay><prompt-overlay ng-show="query.type == \'organisation\'" img=/assets/images/map/help-data.png><h4 class=bold>Your team missing?</h4><span class=text-lightgrey>Add your team or organisation and join the community making space happen.</span> <a class=text-green ng-click=newOrganisation($event)>Add my organisation.</a></prompt-overlay></div></div>')}]),angular.module("views/notifications/notifications-all.html",[]).run(["$templateCache",function(a){a.put("views/notifications/notifications-all.html",'<h2 class=md-display-1>Updates</h2><div layout=column layout-gt-md=row class=md-row infinite-scroll=query.more() infinite-scroll-distance=1 infinite-scroll-disabled="query.loading || query.noMoreResults"><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>You will typically be notified when someone you follow creates a new project of if there are updates in a field, project or organisation you follow. You can <a class="text-green underlined" ui-sref=app.usersettings.notifications>change settings here.</a></div></div><div class=md-col flex=100 flex-gt-md=60><notification-cards query=query type=""></notification-cards><div ng-show="query.results.length == 0" class="card-z1 text-no-results text-center">You have no notifications yet.</div></div></div>')}]),angular.module("views/notifications/notifications-applications.html",[]).run(["$templateCache",function(a){a.put("views/notifications/notifications-applications.html","<h2 class=md-display-1>Application Status</h2><div layout=column layout-gt-md=row class=md-row infinite-scroll=query.more() infinite-scroll-distance=1 infinite-scroll-disabled=\"query.loading || query.noMoreResults\"><div class=\"md-col m-b-30\" flex=100 flex-gt-md=40><div class=text-subtitle-thin>When your job application changes status you will be notified here.</div></div><div class=md-col flex=100 flex-gt-md=60><notification-cards query=query type=\"['own-application-pendingReview', 'own-application-underReview', 'own-application-awaitingUpdate', 'own-application-submitted', 'own-application-rejected', 'own-application-processLater']\"></notification-cards><div ng-show=\"query.results.length == 0\" class=\"card-z1 text-no-results text-center\">You have no application notifications yet.<br>These will only show if you have submitted a job application</div></div></div>")}]),angular.module("views/notifications/notifications-invites.html",[]).run(["$templateCache",function(a){a.put("views/notifications/notifications-invites.html",'<h2 class=md-display-1>Accept Invites</h2><div layout=column layout-gt-md=row class=md-row infinite-scroll=query.more() infinite-scroll-distance=1 infinite-scroll-disabled="query.loading || query.noMoreResults"><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>If you are invited to a project or organisations, your invite will appear here. You can <a class="text-green underlined" ui-sref="app.usersettings.notifications({\'#\':\'Mentions\'})">change settings here.</a></div></div><div class=md-col flex=100 flex-gt-md=60><notification-cards query=query type="[\'added-project\', \'added-organisation\', \'invite-accepted\']"></notification-cards><div ng-show="query.results.length == 0" class="card-z1 text-no-results text-center">You have no invite notifications yet.</div></div></div>')}]),angular.module("views/notifications/notifications.html",[]).run(["$templateCache",function(a){a.put("views/notifications/notifications.html",'<div layout=row layout-align=center class=m-t-10><div class="md-content-container overflow-x-box"><h1 class=md-display-2>Notifications</h1><div class="text-tabs text-tabs-top m-t-40 m-b-30" layout=row><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a></div><div ui-view=all ng-show="$state.includes(\'app.notifications.all\')"></div><div ui-view=invites ng-show="$state.includes(\'app.notifications.invites\')"></div><div ui-view=applications ng-show="$state.includes(\'app.notifications.applications\')"></div></div></div>')}]),angular.module("views/notifications/tpls/notification-cards.html",[]).run(["$templateCache",function(a){a.put("views/notifications/tpls/notification-cards.html",'<div class="md-whiteframe-z1 card-z1 m-b-15" layout=row ng-repeat="notification in query.results"><a class=m-r-15 ng-href={{notification.link1}}><div class="avatar-square-cover avatar-md" style="background-image:url({{notification.picture1 || \'/assets/images/default/user-1.png\'}}?size=thumb-lg&crop=true)"></div></a> <a flex ng-href="{{notification.link2 || notification.link1}}" layout=column><div flex><strong>{{notification.name1}}</strong> {{notification.text}} <strong>{{notification.name2}}<span ng-if=notification.name2>.</span></strong></div><div class="text-lightgrey text-right" am-time-ago=::notification.timestamp></div></a></div>')}]),angular.module("views/organisation-onboarding/tpls/organisation-onboarding.details.html",[]).run(["$templateCache",function(a){a.put("views/organisation-onboarding/tpls/organisation-onboarding.details.html",'<div flex layout=column layout-align="center center"><div class="md-content-container content-xs"><div class="md-whiteframe-z3 background-white md-padding"><h2 class=md-headline>Organisation Details</h2><br><location-search data=organisation.location class=location-search single=true placeholder="Organisation Location"></location-search><field-search data=organisation.fields placeholder="Field Tags"></field-search><tags edit=true size=xs tags=organisation.fields type=field></tags></div></div></div>')}]),angular.module("views/organisation-onboarding/tpls/organisation-onboarding.html",[]).run(["$templateCache",function(a){a.put("views/organisation-onboarding/tpls/organisation-onboarding.html",'<md-progress-linear class="md-accent md-fixed-top" md-mode=determinate value={{progress}}></md-progress-linear><div layout-offset-horizontal-menu-undo layout=column style="height: 100vh; background: #F0F0F0"><md-toolbar style="background: transparent"><div class=md-toolbar-tools><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-content flex layout=column ui-view></md-content><div layout=row class=md-padding><div flex></div><md-button ng-click=stepInfo[currentStep].back() ng-if=stepInfo[currentStep].back>Back</md-button><md-button class=md-raised ng-click=stepInfo[currentStep].confirm() ng-class="{\'md-accent\':stepInfo[currentStep].confirmEnable()}">{{stepInfo[currentStep].confirmTxt || \'Next\'}}</md-button></div></div>')}]),angular.module("views/organisation-onboarding/tpls/organisation-onboarding.invite.html",[]).run(["$templateCache",function(a){a.put("views/organisation-onboarding/tpls/organisation-onboarding.invite.html",'<div flex layout=column layout-align="center center"><div class="md-content-container content-sm"><div class="md-whiteframe-z3 background-white md-padding"><h2 class=md-headline>Invite Team Members</h2><users-groups edit=true users=organisation.team parent=organisation></users-groups></div></div></div>')}]),angular.module("views/organisation-onboarding/tpls/organisation-onboarding.links.html",[]).run(["$templateCache",function(a){a.put("views/organisation-onboarding/tpls/organisation-onboarding.links.html",'<div flex layout=column layout-align="center center"><div class="md-content-container content-xs text-center"><div class="md-whiteframe-z3 background-white md-padding"><h2 class=md-headline>Add Website Links</h2><br><social-links edit=true data=organisation.socialLinks type=organisation></social-links></div></div></div>')}]),angular.module("views/organisation-onboarding/tpls/organisation-onboarding.picture.html",[]).run(["$templateCache",function(a){a.put("views/organisation-onboarding/tpls/organisation-onboarding.picture.html",'<div flex layout=column layout-align="center center"><div class="md-content-container content-xs text-center"><div class="md-whiteframe-z3 background-white md-padding"><h2 class=md-headline>Organisation logo</h2><br><br><upload-image icon=true name=image image=organisation.logo.url ng-model=organisation.logo.url><div class="avatar-square-contain avatar-lg" style="background-image:url({{organisation.logo.url}}?size=logo-md)"></div></upload-image><br><br><br></div></div></div>')}]),angular.module("views/organisation/organisation.html",[]).run(["$templateCache",function(a){a.put("views/organisation/organisation.html",'<div class=organisationView><div layout=row layout-align=center><div class=md-content-container><form name=OverviewForm class=edit-box><div class="md-subhead m-b-20 disable-when-edit"><a ui-sref=app.browse.organisations class=text-green>Organisations</a> <span ng-if="!$state.is(\'app.organisation.overview\')"><span>/</span> <a ui-sref=app.organisation.overview class=text-green>{{organisation.name}}</a></span> <span>/ {{$state.current.data.name || organisation.name}}</span></div><edit-button ng-show=showEdit form=OverviewForm save-fn=save() inline=true></edit-button><div ng-show=OverviewForm.$visible layout=column layout-align="center center" class="m-t-30 text-center"><upload-image icon=true name=image image=organisation.logo.url ng-model=organisation.logo.url><div class="avatar-square-contain avatar-lg" style="background-image:url({{organisation.logo.url}}?size=logo-md)"></div></upload-image><h1 class="md-display-1 text-center m-t-20" style="margin-bottom: 175px; width: 100%"><input name=name ng-model=organisation.name class="editable text-center" placeholder="Organisation Name" required></h1></div><div ng-hide=OverviewForm.$visible layout=column layout-align="center center" class=m-t-30><div ng-show=organisation.logo.url class="avatar-square-contain avatar-lg" style="background-image:url({{organisation.logo.url}}?size=logo-md)" lightbox=true lightbox-image=organisation.logo.url></div><h1 class="md-display-1 text-center m-t-20 m-b-10">{{organisation.name}}</h1><a ng-hide=showEdit class=text-green authenticate click-request-ownership parent-type=organisation parent-id={{organisation._id}}>Request Ownership</a><div layout=row layout-align="center center" class="m-b-60 m-t-30"><stat-button type=follow parent-type=organisation parent-id={{organisation._id}} count=data.followers class="lg m-r-30"></stat-button><social-share-buttons style="margin-top: 3px"></social-share-buttons></div></div></form><div class="text-tabs m-b-30" layout=row><a class=md-subhead ng-class="{\'active\':$state.includes(tab.parent || tab.sref)}" ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a><div flex></div><social-links show-edit=showEdit hide-sm class=social-buttons edit=false save-fn=save() data=organisation.socialLinks type=organisation></social-links></div><ui-view class="block m-b-60"></ui-view></div></div></div>')}]),angular.module("views/organisation/tpls/organisation-about.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-about.html","")}]),angular.module("views/organisation/tpls/organisation-alumni.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-alumni.html","<user-rows sort=\"'numProjects'\" criteria=\"{'profile.profileDetails.education.organisations' : organisation._id}\"></user-rows>")}]),angular.module("views/organisation/tpls/organisation-applications.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-applications.html","")}]),angular.module("views/organisation/tpls/organisation-blogs.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-blogs.html",'<div class="well m-b-30" layout=column layout-gt-sm=row layout-align="start center"><p flex>Got some news? Post a project update or blog related to <b>{{organisation.name}}</b></p><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md" ng-click="newThread($event, \'blog\')">Add a blog / update</md-button></div><card-feed parent-id={{organisation._id}} parent-type=organisation type=blogs size=12></card-feed>')}]),angular.module("views/organisation/tpls/organisation-contributors.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-contributors.html",'<tip-banner local=true style="margin-bottom: 15px">This organisation has <b>{{numContributorsString}}.</b> These are people that have contributed to a <b>project</b>, <b>blog</b> or <b>discussion</b>.</tip-banner><contributors parent-type=organisation parent-id={{organisation._id}}></contributors>')}]),angular.module("views/organisation/tpls/organisation-followers.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-followers.html",'<tip-banner local=true style="margin-bottom: 15px">Followers will be notified when this organisation adds a new <b>project</b>, <b>blog</b> or <b>discussion</b>.</tip-banner><stat-display parent-id={{organisation._id}} parent-type=organisation type=follow></stat-display>')}]),angular.module("views/organisation/tpls/organisation-forum.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-forum.html",'<div class="well m-b-30" layout=column layout-gt-sm=row layout-align="start center"><p flex>Got something to say? Post in the <b>{{organisation.name}}</b> forum.</p><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md" ng-click="newThread($event, \'question\')">Add a question or discussion</md-button></div><forum type=discussions parent-type=organisation parent-id={{organisation._id}}></forum>')}]),angular.module("views/organisation/tpls/organisation-jobs.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-jobs.html",'<div ng-if=showEdit class="well m-b-30" layout=column layout-gt-sm=row layout-align="start center"><p flex>As an administrator of <b>{{organisation.name}}</b>, you advertise job openings for free!</p><md-button class="md-accent md-raised md-flat md-cornered md-md" ng-click=newJob($event)>Create a job listing</md-button></div><job-rows size=12 parent-type=organisation parent-id={{organisation._id}} class=m-b-60 query=jobQuery></job-rows>')}]),angular.module("views/organisation/tpls/organisation-overview.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-overview.html",'<div layout=row class=md-row><div flex class=md-col><preview-gallery show-edit=showEdit style="margin-bottom: 30px" gallery=organisation.gallery save-fn=save()></preview-gallery><form name=AboutForm class=edit-box><edit-button ng-show=showEdit form=AboutForm save-fn=save() inline=true></edit-button><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>About</div></div><div class=m-b-30><div ng-show=AboutForm.$visible><p><textarea name=blurb ng-model=organisation.blurb placeholder="About this organisation" msd-elastic class=editable></textarea></p><location-search data=organisation.location class=location-search single=true></location-search></div><div ng-hide=AboutForm.$visible><p style="white-space: pre-wrap">{{organisation.blurb}}</p><p ng-show=organisation.location[0]><span>Location:</span> <a go-to-map location=organisation.location[0].geo location-type=organisation class=text-green>{{organisation.location[0].name}}</a></p></div></div></form><div class="line-divider-bottom m-b-30" layout=row><div class=md-subhead flex>Recent Projects</div><a class="md-subhead text-green" ui-sref=app.organisation.projects>See All</a></div><div class=m-b-30><div layout=row layout-align="start center" style="margin: 0px -10px" layout-wrap><creation-card flex=33 flex-md=50 flex-sm=100 style="padding: 0 10px 10px" ng-repeat="project in projects | orderBy : \'-picture\' | limitTo : 3" entity=project.data></creation-card><div ng-show="projects.length==0" class=text-lightgrey style="padding: 0 10px">No projects yet. <a ng-click=newProject($event) class=text-green>Add one.</a></div></div></div><div ng-show="showEdit || organisation.organisations.length > 0" class=m-b-30><organisation-groups show-edit=showEdit organisations=organisation.organisations save-fn=save() view-layout=tile title="Related Organisations" show-role=true></organisation-groups></div><div ng-show="showEdit || organisation.fields.length > 0" class=m-b-30><form name=FieldEdit class=edit-box><edit-button ng-show=showEdit form=FieldEdit save-fn=save() inline=true></edit-button><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Related Fields</div></div><div class=m-b-30><div ng-show=FieldEdit.$visible><field-search data=organisation.fields placeholder="Add related fields"></field-search><tags edit=true size=xs tags=organisation.fields type=field></tags></div><div ng-hide=FieldEdit.$visible><tags edit=false size=xs tags=organisation.fields type=field></tags></div></div></form></div><div ng-show="showEdit || organisation.team.length > 0"><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Team Members</div></div><users-groups show-edit=showEdit users=organisation.team save-fn=save() parent=organisation></users-groups><div ng-hide=userCanEdit><span class=text-lightgrey>Are you part of this organisation?</span> <a authenticate click-request-ownership parent-type=organisation parent-id={{organisation._id}} class=text-green>Request an invite</a></div></div></div><div hide-sm hide-md class="md-col feed-widgets" layout=column><div class="md-subhead m-b-10">Questions</div><feed-widget-timeline type=discussions parent-type=organisation parent-id={{organisation._id}} parent=organisation show-edit=showEdit></feed-widget-timeline><div class="md-subhead m-b-10 m-t-15">Updates</div><feed-widget-timeline type=blogs parent-type=organisation parent-id={{organisation._id}} parent=organisation show-edit=showEdit></feed-widget-timeline></div></div>')}]),angular.module("views/organisation/tpls/organisation-people.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-people.html",'<div class="text-tabs m-b-30" layout=row><a class=md-subhead ui-sref-active=active ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a></div><ui-view></ui-view>')}]),angular.module("views/organisation/tpls/organisation-projects.html",[]).run(["$templateCache",function(a){a.put("views/organisation/tpls/organisation-projects.html",'<div class="well m-b-30" layout=column layout-gt-sm=row layout-align="start center"><p flex>Have a project related to <b>{{organisation.name}}</b>?</p><md-button authenticate class="md-accent md-raised md-flat md-cornered md-md" ng-click=newProject($event)>Create project</md-button></div><card-feed parent-id={{organisation._id}} parent-type=organisation type=projects size=12></card-feed>')}]),angular.module("views/partners/partners.html",[]).run(["$templateCache",function(a){a.put("views/partners/partners.html",'<bannerheader colour="[\'#7332cb\', \'#00ff80\']"><h1>STEMN Partners</h1></bannerheader><md-container class=static-page><div class=partnerRow layout=row ng-repeat="partner in partners"><a href={{partner.url}}><img src=/assets/images/partners/{{partner.image}} alt="{{partner.name}} Logo"></a><div flex href={{partner.url}}><div layout-sm=column layout=row><a class=md-headline href={{partner.url}}>{{partner.name}}</a><div flex></div><div><social-links type=organisation data=partner.links></social-links></div></div><p>{{partner.desc}}</p></div></div><div class=text-lightgrey>Believe in our mission and want to become a partner?<br>Email us at <a class=underlined href=mailto:partnerships@stemn.com>partnerships@stemn.com</a></div></md-container>')}]),angular.module("views/password-reset/password-reset.html",[]).run(["$templateCache",function(a){a.put("views/password-reset/password-reset.html",'<form unsaved-warning-form novalidate name=UpdatePasswordForm><div layout=column layout-align="center center" style="min-height: 100vh"><div layout=column><h1 class=md-display-1 style="margin-bottom: 40px">Set your new password</h1><md-input-container class=md-accent><label>New Password</label><input name=newpassword ng-model=password.newPassword required type=password minlength=7><div ng-messages=UpdatePasswordForm.newpassword.$error ng-if=UpdatePasswordForm.newpassword.$dirty><div ng-message=required>This is required.</div><div ng-message=pattern>Sorry, that field name is invalid. You can\'t use the characters: / \\ [ ]</div><div ng-message=minlength>Bit short... 7 character minimum</div><div ng-message=maxlength>Wow! too long...</div></div></md-input-container><md-input-container class=md-accent><label>Confirm new Password</label><input name=confirmPassword ng-model=password.confirmPassword required type=password minlength=7><div ng-messages=UpdatePasswordForm.confirmPassword.$error ng-if=UpdatePasswordForm.confirmPassword.$dirty><div ng-message=required>This is required.</div><div ng-message=pattern>Sorry, that field name is invalid. You can\'t use the characters: / \\ [ ]</div><div ng-message=minlength>Bit short... 7 character minimum</div><div ng-message=maxlength>Wow! too long...</div></div></md-input-container><md-button type=submit class="md-raised md-accent no-margin" ng-disabled=UpdatePasswordForm.$invalid ng-click=updatePassword() style="margin-top: 40px !important">Update password</md-button></div></div></form>')}]),angular.module("views/privacy/privacy.html",[]).run(["$templateCache",function(a){a.put("views/privacy/privacy.html","<bannerheader colour=\"['#cb325b', '#8959ba']\"><h1>Privacy Policy</h1></bannerheader><fat-tabs><a flex ui-sref-active=active ui-sref=app.terms>Terms</a> <a flex ui-sref-active=active ui-sref=app.privacy>Privacy</a> <a flex ui-sref-active=active ui-sref=app.security>Security</a></fat-tabs><md-container class=static-page><h2>General Information</h2><p>We collect the e-mail addresses of those who communicate with us via e-mail, aggregate information on what pages consumers access or visit, and information volunteered by the consumer (such as survey information and/or site registrations). The information we collect is used to improve the content of our Web pages and the quality of our service, and is not shared with or sold to other organisations for commercial purposes, except to provide products or services you've requested, when we have your permission, or under the following circumstances:</p><ul><li>It is necessary to share information in order to investigate, prevent, or take action regarding illegal activities, suspected fraud, situations involving potential threats to the physical safety of any person, violations of <a href=/terms>Terms of Service</a>, or as otherwise required by law.</li><li>We transfer information about you if STEMN is acquired by or merged with another company. In this event, STEMN will notify you before information about you is transferred and becomes subject to a different privacy policy.</li></ul><h2>Information Gathering and Usage</h2><ul><li>When you register for STEMN we ask for information such as your name and email address. If you sign up through Facebook, Google, or LinkedIn you may be asked for additional information.</li><li>While browsing the site, we collect information for analytics purposes. This information describes how you use our site, some of which is personally identifiable.</li><li>STEMN uses collected information for the following general purposes: products and services provision, identification and authentication, services improvement, contact, and research.</li></ul><h2>Data Storage</h2><p>STEMN uses third-party vendors and hosting partners to provide the necessary hardware, software, networking, storage, and related technology required to run STEMN. Although STEMN owns the code, databases, and all rights to the STEMN application, you retain all rights to your data.</p><h2>Disclosure</h2><p>STEMN may disclose personally identifiable information under special circumstances, such as to comply with subpoenas or when your actions violate the <a class=text-green href=/terms>Terms of Service</a>.</p><h2>Changes</h2><p>STEMN may periodically update this policy. We will notify you about significant changes in the way we treat personal information by sending a notice to the primary email address specified in your STEMN primary account holder account or by placing a prominent notice on our site.</p><h2>Questions</h2><p>Any questions about this Privacy Policy should be addressed to <a class=text-green href=mailto:sue@stemn.com>sue@stemn.com</a>.</p><br><br><small class=pull-right>Last Updated: 11 March 2015</small></md-container>");
}]),angular.module("views/project-onboarding/tpls/project-onboarding.content.html",[]).run(["$templateCache",function(a){a.put("views/project-onboarding/tpls/project-onboarding.content.html",'<tip-banner local=true style="margin-bottom: 60px">Not sure what to include in your project content section? We have included some dummy content below. <a confirm confirm-body="This will overwrite your existing project content." ng-click=clearContent()>Click here</a> to delete all the dummy content and start fresh.</tip-banner><modular-editor id=contentEdit editor-sections=project.sectionData editor-options=editorOptions edit=true></modular-editor><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 43px"><p>Describe the details of your project here. We recommend you follow the scientific method.</p><ul><li>Aim</li><li>Method</li><li>Results</li><li>Conclusion</li></ul><p>Consider adding multimedia to fully describe your process. This section supports:</p><ul><li>Code</li><li>Images/Video</li><li>Equations</li><li>Files</li></ul><p>If you want to creat a compelling project that gets you hired, <a class=text-green target=_blank ui-sref="app.blog({stub: \'how-to-create-a-compelling-project-that-gets-you-hired\'})">read this blog</a>.</p></popup><md-divider class=m-v-60></md-divider><div layout=row><div flex></div><md-button class="md-raised md-flat md-accent md-md md-cornered m-r-0" ng-click=steps[$state.current.name].nextFn($event)>Next: Add tags</md-button></div>')}]),angular.module("views/project-onboarding/tpls/project-onboarding.final.html",[]).run(["$templateCache",function(a){a.put("views/project-onboarding/tpls/project-onboarding.final.html",'<div ng-hide=project.published><h2 class=md-display-1>Publish Project</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Your project will visible to the public after you publish it. It will appear in the newsfeed of people that follow you and the organisations and fields you tagged. It will also appear in your portfolio.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead flex>Publish Project</div><p class=body-small>After publishing, your project will be publicly listed. Don\'t worry, you\'ll still be able to edit it and add new updates.</p><md-button class="md-md md-accent md-raised md-flat md-cornered m-0" ng-click=publish($event)>Publish Project</md-button></div></div></div></div><div ng-show=project.published class="text-center light-font"><p>This project has already been published.</p></div>')}]),angular.module("views/project-onboarding/tpls/project-onboarding.html",[]).run(["$templateCache",function(a){a.put("views/project-onboarding/tpls/project-onboarding.html",'<div class="projectOnboarding overflow-x-box"><edit-toolbar class=white><div flex layout=row layout-align="start center"><div class="text-subtitle-thin ellipsis m-r-15"><span style="color: black">{{project.published ? \'Editing Project:\' : \'Editing Draft Project:\'}}</span><span hide-sm>&nbsp;{{project.name | letters: 20}}</span></div></div><div class="md-content-container md-no-padding" hide-sm hide-md><div class=onboarding-steps layout=row layout-align="start center"><div ng-repeat="tab in tabs" ng-hide=tab.hideCondition(); layout=row layout-align="start center"><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-click=tab.click()>{{tab.label}}</a><md-icon md-svg-icon=chevron-right ng-hide=$last></md-icon></div></div></div><div flex layout=row layout-align="end center"><div class="avatar avatar-circle block m-r-10" style="background-image: url(\'{{currentUser.picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true\')"><popup class="tooltip-popup text-center" popup-side=bottom popup-position=center popup-padding="11px 0 0 0" layout=column style="min-width: 0px"><div class=bold>{{currentUser.name}}</div><div>Currently Viewing</div><a class=text-green ng-click=inviteTeam()>Invite team members</a></popup></div><md-button ng-click=cancel() class="md-grey md-border md-cornered">Cancel</md-button><save-button save-fn=saveProject() entity=project>{{project.published ? \'Save\' : \'Save Draft\'}}</save-button><md-button ng-show=project.published ng-click=preview() class="md-raised md-border-green md-accent md-flat md-cornered p-h-15">Save and Exit</md-button><md-button ng-hide=project.published ng-click=steps[$state.current.name].nextFn($event) class="md-raised md-border-green md-accent md-flat md-cornered">{{steps[$state.current.name].nextText}}</md-button></div></edit-toolbar><div class=main-horizontal-sub-menu hide-gt-md><div class=text-tabs layout=row><a class=md-subhead ng-repeat="tab in tabs" ui-sref={{tab.sref}} ng-class="{\'active\':$state.includes(tab.sref)}">{{tab.label}}</a></div></div><missing-fields ng-hide="!publishAttempted || forms.main.$completed" entity=project required-fields=requiredFields form=forms.main></missing-fields><div layout=row layout-align=center class="p-b-30 overflow-x-box"><div class=md-content-container><form name=forms.main novalidate><div class=m-v-30 ui-view=summary ng-show="$state.includes(\'app.project-onboarding.summary\')"></div><div class=m-v-30 ui-view=content ng-show="$state.includes(\'app.project-onboarding.content\')"></div><div class=m-v-30 ui-view=info ng-show="$state.includes(\'app.project-onboarding.info\')"></div><div class=m-v-30 ui-view=final ng-show="$state.includes(\'app.project-onboarding.final\')"></div></form></div></div></div>')}]),angular.module("views/project-onboarding/tpls/project-onboarding.info.html",[]).run(["$templateCache",function(a){a.put("views/project-onboarding/tpls/project-onboarding.info.html",'<h2 class=md-display-1>Project Tags</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Your project will appear in the newsfeed of anyone that follows the fields and organisations you tag. Add as many accurate tags as you can.</div></div><div class=md-col flex=100 flex-gt-md=60><div id=fieldsEdit class="md-whiteframe-z1 card-padding m-b-30"><div layout=row><div class=md-subhead flex>Fields Tags</div><div class=notes>5 Required</div></div><p class=body-small>Add related field tags. These should describe the project and any skills and technologies demonstrated.</p><field-search data=project.fields focus=focusField ng-mouseenter="focusField=true" ng-mouseleave="focusField=false" placeholder="Add field tags"></field-search><tags ng-if="project.fields.length>0" edit=true size=xs tags=project.fields type=field></tags></div><div class="md-whiteframe-z1 card-padding m-b-30"><div layout=row><div class=md-subhead flex>Organisation Tags</div></div><p class=body-small>Tag any organisations associated with this project. This can be a university, company or research institution.</p><organisation-search data=project.organisations focus=focusOrg ng-mouseenter="focusOrg=true" ng-mouseleave="focusOrg=false" placeholder="Add organisations"></organisation-search><tags ng-if="project.organisations.length>0" edit=true size=xs tags=project.organisations type=organisation></tags></div></div></div><md-divider class=m-v-60></md-divider><h2 class=md-display-1>Invite Team</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>If this is a group project, invite your team so they can help you document what you\'ve done. You can also use STEMN to collaborate on new projects.</div></div><div class=md-col flex=100 flex-gt-md=60><div id=teamEdit class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead flex>Add team members</div><users-groups edit=true users=project.team parent=project></users-groups></div></div></div><md-divider class=m-v-60></md-divider><h2 class=md-display-1>Other details</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Add other details such as your project\'s location and copyright license. This information will be displayed in the sidebar of your project.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead flex>Project Location</div><p class=body-small>Where is this project based? This will display it on the <a class=text-green ui-sref=app.map target=_blank>project map</a>.</p><location-search data=project.location single=true placeholder=Location></location-search></div><div class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead flex>Copyright License</div><p class=body-small>Protect your work by selecting an appropriate license.</p><md-input-container><label>License</label><md-select class=block name=projectLicense ng-model=project.license placeholder="Select License"><md-option ng-repeat="license in licenses" value={{license.type}}>{{license.name}}</md-option></md-select></md-input-container><div class=text-lightgrey>{{license.description}}&nbsp;<a ng-if=license.url ng-href={{license.url}} target=_blank class=text-green>Learn more.</a></div></div></div></div><md-divider class=m-v-60></md-divider><div layout=row><div flex></div><md-button class="md-raised md-flat md-accent md-md md-cornered m-r-0" ng-click=steps[$state.current.name].nextFn($event)>Next: Preview & Publish</md-button></div>')}]),angular.module("views/project-onboarding/tpls/project-onboarding.summary.html",[]).run(["$templateCache",function(a){a.put("views/project-onboarding/tpls/project-onboarding.summary.html",'<h1 class="md-display-1 m-b-60" id=nameEdit><textarea msd-elastic name=title class=editable type=text ng-model=project.name rows=1 placeholder=Title></textarea><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px">Your project title. Make it descriptive but try keep it simple and concise.</popup></h1><div><upload-image ng-show=project.banner class="block m-b-60" name=FeaturedImage image=project.banner ng-model=project.banner direct=true icon=project.banner><img ng-src="{{project.banner || \'\'}}?size=featured-md&crop=true"></upload-image><div class="well m-b-60" ng-show=!project.banner layout=row layout-align="start center"><div class=text-lightgrey flex>Add a featured image</div><md-button class="md-raised md-flat md-accent md-cornered md-md" click-upload-image image=project.banner ng-model=project.banner name=FeaturedImage>Add</md-button></div><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px"><div class=m-b-10>Make sure your picture is relevant to your project! It’ll be the first thing that anyone sees and will be what draws in their attention.</div><div>Pick something you think is interesting or shows exactly what you’re working on, after all, a picture is worth a thousand words.</div></popup></div><div id=summaryEdit><div class=angular-medium-editor medium-editor name=blurb ng-model=project.summary editor-type=text style="min-height: 100px" placeholder="What is this project investigating? Your project summary should be simple yet specific. You shouldn\'t need more than a 300 words here - the next section will give you room to expand on this summary."></div><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px"><div>A quick summary of the key attributes of your project, what is the problem, what are you going to do, how are you going to achieve it?</div></popup></div><md-divider class=m-v-60></md-divider><div layout=row><div flex></div><md-button class="md-raised md-flat md-accent md-md md-cornered m-r-0" ng-click=steps[$state.current.name].nextFn($event)>Next: Add Content</md-button></div>')}]),angular.module("views/project/tpls/project-about.html",[]).run(["$templateCache",function(a){a.put("views/project/tpls/project-about.html",'<md-container class=projectAbout><div class=edit-box><form name=ProjectAboutForm novalidate><edit-button ng-if=showEdit save-fn=SaveProject() form=ProjectAboutForm inline=true></edit-button><div ng-show=ProjectAboutForm.$visible><h3 class=md-subhead>Where is the project based?</h3><location-search data=project.location single=true focus=ProjectAboutForm.$visible></location-search><h3 class=md-subhead>Project Status</h3><md-input-container><md-select class=block name=projectStatus ng-model=project.status placeholder="Select current status"><md-option ng-repeat="status in projectStatuses" value={{status.value}}>{{status.text}}</md-option></md-select></md-input-container><h3 class=md-subhead>What is its License?</h3><md-input-container><md-select class=block name=projectLicense ng-model=project.license placeholder="Select License"><md-option ng-repeat="license in licenses" value={{license.type}}>{{license.name}}</md-option></md-select></md-input-container></div><div ng-hide=ProjectAboutForm.$visible><div><h3 class=md-subhead>Created</h3><p>{{createddate = (project.created | date:"mediumDate")}}</p></div><div><h3 class=md-subhead>Status</h3><p>{{status.text}}</p></div><div ng-show=project.location[0]><h3 class=md-subhead>Location</h3><p><a go-to-map location=project.location[0].geo>{{project.location[0].name}}</a></p></div><div><h3 class=md-subhead>License</h3><a ng-href={{license.url}} target=_blank><p><u>{{license.name}}</u></p><div class=text-lightgrey>{{license.description}}</div></a></div></div><h3 class=md-subhead ng-show="!({{project.socialLinks | isEmptyObject}}) || ProjectAboutForm.$visible">Social Links</h3><social-links edit=ProjectAboutForm.$visible data=project.socialLinks type=project></social-links></form></div><md-divider></md-divider><users-groups show-edit=showEdit users=project.team save-fn=SaveProject() parent=project></users-groups><organisation-groups show-edit=showEdit organisations=project.organisations save-fn=SaveProject()></organisation-groups></md-container>')}]),angular.module("views/project/tpls/project-blog.html",[]).run(["$templateCache",function(a){a.put("views/project/tpls/project-blog.html",'<div layout=row layout-align=center><div class="rel-box md-content-container content-md md-no-padding"><div layout=row class=md-row><div flex layout=column class=md-col><feed type=blogs parent-type=project parent-id={{project._id}} parent=project show-edit=showEdit contained=false></feed></div><div class="md-col sidebar" layout=column></div></div></div></div>')}]),angular.module("views/project/tpls/project-overview.html",[]).run(["$templateCache",function(a){a.put("views/project/tpls/project-overview.html",'<div layout=row layout-align=center><div class="rel-box md-content-container content-md md-no-padding"><div layout=column layout-gt-md=row class=md-row><toc-nav sections=toc.content></toc-nav><div flex layout=column class=md-col><a ng-show=project.banner lightbox=true lightbox-image=project.banner class=m-b-15><img ng-src="{{project.banner}}?size=featured-md&crop=true"></a><collapsed-section height=150 class=m-b-30 verb=Read><div class="line-divider-bottom m-b-15"><div class=md-subhead>Project Summary</div></div><div class=angular-medium-editor><div class=angular-medium-editor ng-bind-html=project.summary></div></div></collapsed-section><div ng-show="thumbImages.length>0"><div class="md-subhead m-v-10">Thumbnails</div><project-thumbs editor-sections=project.sectionData images=thumbImages></project-thumbs></div><div><div class="md-subhead m-v-10" ng-show="project.fields.length > 0">Fields</div><tags tags=project.fields type=field edit=false size=sm></tags></div><collapsed-section open-status=editExpands.details height=0><div id=team class="well m-v-30"><users-groups show-edit=false users=project.team save-fn=SaveProject() parent=project></users-groups></div><div class="well m-b-30"><organisation-groups show-edit=false organisations=project.organisations save-fn=SaveProject()></organisation-groups></div><div class="well m-b-30"><h3 class=md-subhead>Location</h3><a go-to-map location=project.location[0].geo class="text-lightgrey underlined">{{project.location[0].name}}</a></div><div class=well><h3 class=md-subhead>License</h3><a ng-href={{license.url}} target=_blank><p class=text-green>{{license.name}}</p><div class=text-lightgrey>{{license.description}}</div></a></div></collapsed-section><div class="line-divider-bottom m-b-15 m-t-30"><div class=md-subhead>Project Details</div></div><div toc-content=toc.content toc-refresh=true toc-prepend=toc.prepend toc-append=toc.append><modular-editor class=m-b-60 editor-sections=project.sectionData editor-options=editorOptions edit=false></modular-editor></div></div><div class="md-col sidebar"><div layout=column><div class="md-subhead m-b-10">Questions</div><feed-widget-timeline type=discussions parent-type=project parent-id={{project._id}} parent=project show-edit=showEdit style="margin-bottom: 60px"></feed-widget-timeline><div class="md-subhead m-b-10">Updates</div><feed-widget-timeline type=blogs parent-type=project parent-id={{project._id}} parent=project show-edit=showEdit></feed-widget-timeline></div></div></div></div></div>')}]),angular.module("views/project/tpls/project-threads.html",[]).run(["$templateCache",function(a){a.put("views/project/tpls/project-threads.html",'<div layout=row layout-align=center><div class="rel-box md-content-container content-md md-no-padding"><div layout=row class=md-row><div flex layout=column class=md-col><feed type=discussions parent-type=project parent-id={{project._id}} parent=project show-edit=showEdit contained=false></feed></div><div class="md-col sidebar" layout=column></div></div></div></div>')}]),angular.module("views/project/tpls/project-thumbs.html",[]).run(["$templateCache",function(a){a.put("views/project/tpls/project-thumbs.html",'<div class=project-thumbs layout=row><a ng-repeat="image in images | limitTo: 4" flex=25 lightbox=true lightbox-image=image lightbox-images=images><img ng-src="{{image.image.url}}?size=thumb-lg&crop=true" alt=""></a></div>')}]),angular.module("views/project/tpls/project.html",[]).run(["$templateCache",function(a){a.put("views/project/tpls/project.html",'<div class=projectView><div layout=row layout-align=center><div class="rel-box md-content-container content-md md-no-padding" layout=column><settings-button ng-if=showEdit><md-menu-item><md-button ng-click=edit()>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click=delete() confirm>Delete Project</md-button></md-menu-item><feed-recommend></feed-recommend><md-menu-item show-if-admin>Project id:<br>{{project._id}}</md-menu-item><md-menu-item show-if-admin><md-button click-unpublish entity=project save-fn=SaveProject()>Unpublish</md-button></md-menu-item></settings-button><div class=m-t-50 layout=row layout-align="center center"><div><dot class="dot-lg green"></dot><md-tooltip md-direction=left md-autohide=true>Updated in the last week</md-tooltip><span class=md-subhead>Active Project</span></div><div class=md-subhead>&nbsp;|&nbsp;{{project.updated | date : short}}<md-tooltip md-direction=right md-autohide=true><span am-time-ago=project.updated></span></md-tooltip></div></div><h1 id=entityTitle class="md-display-1 m-v-30 text-center">{{project.name || \'No Title\'}}</h1><div class=team-text layout=column layout-align="center center"><div class=m-b-10>By<span team-text team=project.team limit=3></span></div><div layout=row><organisation-images organisations=project.organisations limit=10></organisation-images><div ng-if="project.organisations.length>0" class=divider-v></div><team-images team=project.team limit=10 show-more=showTeam()></team-images></div></div></div></div><div layout=row layout-align=center><div class="md-content-container content-md md-no-padding"><md-tabs md-selected=currentTab class="md-border-bottom m-b-30" style="border-top: 1px solid #eeeeee"><md-tab ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</md-tab></md-tabs></div></div><div ui-view></div><div ng-show="$state.is(\'app.project.overview\')"><div class=replies id=responses ng-show=project.published layout=row layout-align=center><div class="rel-box md-content-container content-md md-no-padding"><div layout=row class=md-row><div flex layout=column class=md-col><posts parent=project></posts></div><div hide-sm hide-md class="md-col sidebar" layout=column></div></div></div></div><div class=related id=related ng-show=project.published layout=row layout-align=center hide-footer-when-visible><div class="rel-box md-content-container content-md md-no-padding"><div layout=row class=md-row><div flex layout=column class=md-col><related parent-type=project parent-id={{project._id}} type=project display-style=feed></related></div><div hide-sm hide-md class="md-col sidebar" layout=column></div></div></div></div></div></div>')}]),angular.module("views/referrals/referrals.html",[]).run(["$templateCache",function(a){a.put("views/referrals/referrals.html",'<div layout=row layout-align=center><div class=md-content-container layout=column layout-align=center><h1 class="md-display-1 text-center m-t-50">Referrals</h1><div class="md-title text-grey light-font text-center">Refer your friends – Win awesome prizes!</div><a class="text-green text-center m-v-15" show-explanation-modal=ambassador>Become an ambassador</a></div></div><div class="infobar m-b-30 p-v-15 overflow-x-box" layout=row layout-align=center><div class="md-content-container md-row text-center" layout=column layout-gt-sm=row><div flex=100 flex-gt-sm=33 class=md-col layout=column><h2 class="md-title bold">Win prizes</h2><p>Signup friends - get awesome prizes<br>including stickers and official t-shirts.</p></div><div flex=100 flex-gt-sm=33 class=md-col layout=column><h2 class="md-title bold">Accelerate science</h2><p>More people on STEMN means more<br>collaboration and knowledge sharing.</p></div><div flex=100 flex-gt-sm=33 class=md-col layout=column><h2 class="md-title bold">Become an ambassador</h2><p>Get paid $$$ for everyone you<br>signup at your company or university.</p></div></div></div><div layout=row layout-align=center><div class=md-content-container><div layout=row class="md-row m-b-60"><div class=md-col flex><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Your Referral Code</div></div><div class="m-b-10 bold">Get your friends to sign up with this unique URL:</div><div class="well well-select" select-on-click>https://stemn.com?ref={{user.ref}}<md-tooltip md-direction=top md-autohide=true>Click to highlight</md-tooltip></div></div><div class=md-col style="width: 300px"><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Social referrals</div></div><div class="m-b-10 bold">Share to Social Networks:</div><social-share-buttons ref={{user.ref}} root=true title="Sign up to STEMN" summary="STEMN is probably the best Engineering Portfolio site out there. Apply for hundreds of jobs in just 1 click."></social-share-buttons></div></div><div layout=row class="md-row m-b-60"><div class="md-col rel-box" flex><div class=line-divider-bottom layout=row><div class=md-subhead flex>Your Referrals</div><div class=md-subhead>Total: {{query.results[0].signups.length || 0}}</div></div><loading-overlay ng-if=query.loading></loading-overlay><table class=md-table ng-show="query.results[0].signups.length>=1" style="min-height: 100px"><thead><tr style="border-top: none"><td style="width: 40px"></td><td>Name</td><td style="width: 140px" class=text-center>Signup</td><td hide-sm style="width: 75px"></td></tr></thead><tbody><tr ng-repeat="item in query.results[0].signups"><td style="padding: 15px 20px 15px 5px"><a ui-sref=app.user.profile({stub:item.user.stub})><div class=avatar-circle ng-style="{ \'background-image\':\'url(\'+(item.user.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"></div><popup class=card-popup popup-side=bottom popup-position=center><card card-type=user card-id={{item.user._id}}></card></popup></a></td><td><a ui-sref=app.user.profile({stub:item.stub})><div class=bold>{{item.user.name}}</div><div>{{item.user.blurb | letters: 70}}</div></a></td><td class=text-center>{{item.timestamp | amTimeAgo}}</td><td hide-sm><hide-if-owner owner={{item.user._id}}><stat-button hide-stat=true size=sm type=follow parent-type=user parent-id={{item.user._id}} count=item.user.followers></stat-button></hide-if-owner></td></tr></tbody></table><div class=text-no-results ng-hide="query.results[0].signups.length > 0">You have no successful referrals yet.</div><div ng-if="query.results[0].signups.length>=5" class=m-t-15>Email your <a href=mailto:swag@stemn.com.au class=text-green>swag@stemn.com.au</a> to claim your prize.</div></div><div class=md-col style="width: 300px"><div class="line-divider-bottom m-b-15" layout=row><div class=md-subhead flex>Prizes</div></div><div layout=row layout-align="start center"><div class=m-r-10 style="width: 100px"><img class=w-100 src=/assets/images/swag/stickers-mockup-edges-sm.jpg alt="STEMN Stickers"></div><div flex><b>Refer 5 friends</b> and we\'ll send you some STEMN stickers.</div></div><div layout=row layout-align="start center"><div class=m-r-10 style="width: 100px"><img class=w-100 src=/assets/images/swag/white-shirt-sm.jpg alt="STEMN t-shirt"></div><div flex><b>Refer 10 friends</b> to receive an official STEMN t-shirt.</div></div><div layout=row layout-align="start center"><div class=m-r-10 style="width: 100px"><img class=w-100 src=/assets/images/swag/blue-shirt-sm.jpg alt="STEMN t-shirt"></div><div flex><b>Refer 20 friends</b> to get another STEMN t-shirt. Keep it fresh.</div></div></div></div></div></div>')}]),angular.module("views/scholarship/aerofutures.html",[]).run(["$templateCache",function(a){a.put("views/scholarship/aerofutures.html","<bannerheader colour=\"['#7332cb', '#00ff80']\"><h1>STEMN SGC Scholarship</h1></bannerheader><md-container class=static-page><div class=section-title><h3>Applications for Aerospace Futures delegates are now open.</h3></div><h3><strong>Attend Aerospace Futures 2015 for free</strong></h3><p>Aerospace Futures is an invaluable career experience for every budding aerospace engineer. STEMN wants to help one deserving delegate get there.</p><h3>What is the STEMN Futures Scholarship?</h3><h3>What is STEMN?</h3><p>STEMN is a project-based network for knowledge sharing and collaboration in the aerospace community. STEMN saves you valuable research time by centralising projects and teams on one platform. On STEMN you can:</p><ul><li>Find ideas and inspiration as you browse projects by subsystem, field or location.</li><li>Create your own beautiful project page in minutes.</li><li>Blog your progress and gain followers for your marketing or crowdfunding campaign.</li><li>Get your questions answered by experts in the community.</li><li>Build connections to launch your career in the space industry.</li></ul><p>Learn from the experience of the community. Don’t reinvent the wheel.</p><h3>The Must Haves:</h3><h3>The Nice to Haves:</h3><ul><li>Experience with Node.JS and&nbsp;AngularJS</li><li>Knowledge of storage systems such as MongoDB</li><li>History of full life cycle management of software projects, from inception to roll out</li></ul><p>Our development cycle is extremely fast; if you think you have what it takes, email your Github profile or previous project experience and resume to <strong>careers@stemn.com</strong>.</p></md-container>")}]),angular.module("views/search/search.html",[]).run(["$templateCache",function(a){a.put("views/search/search.html","")}]),angular.module("views/security/security.html",[]).run(["$templateCache",function(a){a.put("views/security/security.html","<bannerheader colour=\"['#474747', '#037E20 ']\"><h1>STEMN Security</h1></bannerheader><fat-tabs><a flex ui-sref-active=active ui-sref=app.terms>Terms</a> <a flex ui-sref-active=active ui-sref=app.privacy>Privacy</a> <a flex ui-sref-active=active ui-sref=app.security>Security</a></fat-tabs><md-container class=static-page><p>We know your privacy is extremely important to you, and we're very protective of it.</p><h3>Need to report a security vulnerability?</h3><p>Please visit our <a href=/contact class=text-green>contact page</a> and use the secure contact form to let us know.</p><h3>Physical Security</h3><ul><li>Our servers are in an undisclosed location where no physical access is available.</li></ul><h3>System Security</h3><ul><li>System installation using hardened, patched OS.</li><li>Distributed Denial of Service (DDoS) mitigation services powered by industry-leading solutions.</li></ul><h3>Operational Security</h3><ul><li>Systems access logged and tracked for auditing purposes.</li></ul><h3>Communications</h3><p>All data, public or private, exchanged with STEMN is always transmitted over SSL (which is why you see HTTPS and the padlock in your browser’s address bar).</p><h3>File system and backups</h3><p>Every piece of hardware we use has an identical copy ready and waiting for an immediate hot-swap in case of hardware or software failure. Every piece of data related to STEMN is saved on a minimum of three different servers, including an off-site backup. We do not retroactively remove data from backups when deleted by the user, as we may need to restore the data if it was removed accidentally.</p><p>We do not encrypt our data on disk because it would not be any more secure: the website and supporting data would need to be decrypted on demand, slowing down response times. Any user with shell access to the file system would have access to the decryption routine, thus negating any security it provides. Therefore, we focus on making our machines and network as secure as possible.</p><h3>Maintaining security</h3><p>All passwords are filtered from all our logs and are one-way encrypted in the database using <code>bcrypt</code>. Login information is always sent over SSL.</p><h3>Contact Us</h3><p>Have a question, concern, or comment about STEMN security? Please contact <a class=text-green href=mailto:security@stemn.com>security@stemn.com</a>.</p><br><br><small class=pull-right>Last Updated: 14 March 2015</small></md-container>")}]),angular.module("views/site-search/site-search-all.html",[]).run(["$templateCache",function(a){a.put("views/site-search/site-search-all.html",'<div class="results-block card-z1 m-b-15" ng-show="results.field.length > 0"><a ui-sref=app.search.fields><div class="md-subhead m-b-15">Fields <span class="pull-right text-green">More</span></div></a><tags tags=results.field type=field size=sm></tags></div><div class="results-block card-z1 m-b-15" ng-show="results.organisation.length > 0"><a ui-sref=app.search.organisations><div class="md-subhead m-b-15">Organisations <span class="pull-right text-green">More</span></div></a><row-view ng-repeat="result in results.organisation" class="anim-repeat-slide sm" data=result></row-view></div><div class="results-block card-z1 m-b-15" ng-show="results.user.length > 0"><a ui-sref=app.search.users><div class="md-subhead m-b-15">Users <span class="pull-right text-green">More</span></div></a><row-view ng-repeat="result in results.user" class="anim-repeat-slide sm" data=result></row-view></div><div class="results-block card-z1 m-b-15" ng-show="results.project.length > 0 || results.thread.length > 0"><a ui-sref=app.search.creations><div class="md-subhead m-b-15">Creations <span class="pull-right text-green">More</span></div></a><row-view ng-repeat="result in results.project" class="anim-repeat-slide sm" data=result></row-view><row-view ng-repeat="result in results.thread" class="anim-repeat-slide sm" data=result></row-view></div><div class="results-block card-z1 m-b-15" ng-show="results.job.length > 0"><a ui-sref=app.search.jobs><div class="md-subhead m-b-15">Jobs <span class="pull-right text-green">More</span></div></a><row-view ng-repeat="result in results.job" class="anim-repeat-slide sm" data=result></row-view></div>')}]),angular.module("views/site-search/site-search-creations.html",[]).run(["$templateCache",function(a){
a.put("views/site-search/site-search-creations.html",'<div class="results-block card-z1" ng-show="results.thread.length > 0 || results.project.length > 0"><div class="md-subhead m-b-15">Creations</div><row-view ng-repeat="result in results.thread" class="anim-repeat-slide sm" data=result></row-view><row-view ng-repeat="result in results.project" class="anim-repeat-slide sm" data=result></row-view></div>')}]),angular.module("views/site-search/site-search-fields.html",[]).run(["$templateCache",function(a){a.put("views/site-search/site-search-fields.html",'<div class="results-block card-z1" ng-show="results.field.length > 0"><div class="md-subhead m-b-15">Fields</div><row-view ng-repeat="result in results.field" data=result class="anim-repeat-slide sm"></row-view></div>')}]),angular.module("views/site-search/site-search-jobs.html",[]).run(["$templateCache",function(a){a.put("views/site-search/site-search-jobs.html",'<div class="results-block card-z1" ng-show="results.job.length > 0"><div class="md-subhead m-b-15">Jobs</div><row-view ng-repeat="result in results.job" data=result class="anim-repeat-slide sm"></row-view></div>')}]),angular.module("views/site-search/site-search-organisations.html",[]).run(["$templateCache",function(a){a.put("views/site-search/site-search-organisations.html",'<div class="results-block card-z1" ng-show="results.organisation.length > 0"><div class="md-subhead m-b-15">Organisations</div><row-view ng-repeat="result in results.organisation" data=result class="anim-repeat-slide sm"></row-view></div>')}]),angular.module("views/site-search/site-search-users.html",[]).run(["$templateCache",function(a){a.put("views/site-search/site-search-users.html",'<div class="results-block card-z1" ng-show="results.user.length > 0"><div class="md-subhead m-b-15">Users</div><row-view ng-repeat="result in results.user" data=result type=user class="anim-repeat-slide sm"></row-view></div>')}]),angular.module("views/site-search/site-search.html",[]).run(["$templateCache",function(a){a.put("views/site-search/site-search.html",'<div layout=row layout-align="center start" class=siteSearchView><div layout=column class="md-content-container m-v-30"><div class="md-subhead m-b-15">Search query:</div><input focus-me=true class="searchBox well capitalise" placeholder="Search {{type}}" type=search ng-model=query.string ng-change=searchQuery() ng-enter=scrollOnEnter()><div class="text-tabs m-t-30 m-b-30" layout=row><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a></div><ui-view></ui-view><h3 ng-show=noMoreResults class=md-subhead>No More Results</h3><div ng-show="!noMoreResults && query.string.length > 0 && type != \'all\'" layout=row layout-align="center center" style=margin-top:20px><md-button class="md-circle md-accent md-raised md-sm" ng-click=moreResults()><md-icon md-svg-icon=add></md-icon><md-tooltip md-direction=bottom md-autohide=true>Load more</md-tooltip></md-button></div></div></div>')}]),angular.module("views/terms/terms.html",[]).run(["$templateCache",function(a){a.put("views/terms/terms.html",'<bannerheader colour="[\'#32cb79\', \'#deda63\']"><h1>Terms of Service</h1></bannerheader><fat-tabs><a flex ui-sref-active=active ui-sref=app.terms>Terms</a> <a flex ui-sref-active=active ui-sref=app.privacy>Privacy</a> <a flex ui-sref-active=active ui-sref=app.security>Security</a></fat-tabs><md-container class=static-page><p><strong>By using the stemn.com web site ("Service"), or any services of STEMN PTY. LTD. ("STEMN"), you are agreeing to be bound by the following terms and conditions ("Terms of Service").</strong></p><br><br><p>IF YOU ARE ENTERING INTO THIS AGREEMENT ON BEHALF OF A COMPANY OR OTHER LEGAL ENTITY, YOU REPRESENT THAT YOU HAVE THE AUTHORITY TO BIND SUCH ENTITY, ITS AFFILIATES AND ALL USERS WHO ACCESS OUR SERVICES THROUGH YOUR ACCOUNT TO THESE TERMS AND CONDITIONS, IN WHICH CASE THE TERMS "YOU" OR "YOUR" SHALL REFER TO SUCH ENTITY, ITS AFFILIATES AND USERS ASSOCIATED WITH IT. IF YOU DO NOT HAVE SUCH AUTHORITY, OR IF YOU DO NOT AGREE WITH THESE TERMS AND CONDITIONS, YOU MUST NOT ACCEPT THIS AGREEMENT AND MAY NOT USE THE SERVICES.</p><p>If STEMN makes material changes to these Terms, we will notify you by email or by posting a notice on our site before the changes are effective. Any new features that augment or enhance the current Service, including the release of new tools and resources, shall be subject to the Terms of Service. Continued use of the Service after any such changes shall constitute your consent to such changes. You can review the most current version of the Terms of Service at any time at: <a class=text-green href=/terms>https://stemn.com/terms</a></p><p>Violation of any of the terms below will result in the termination of your Account. While STEMN prohibits such conduct and Content on the Service, you understand and agree that STEMN cannot be responsible for the Content posted on the Service and you nonetheless may be exposed to such materials. You agree to use the Service at your own risk.</p><h2>A. Account Terms</h2><ol><li>You must be 13 years or older to use this Service.</li><li>You must be a human. Accounts registered by "bots" or other automated methods are not permitted.</li><li>You must provide your name, a valid email address, and any other information requested in order to complete the signup process.</li><li>You are responsible for maintaining the security of your account and password. STEMN cannot and will not be liable for any loss or damage from your failure to comply with this security obligation.</li><li>You are responsible for all Content posted and activity that occurs under your account.</li><li>You may not use the Service for any illegal or unauthorised purpose. You must not, in the use of the Service, violate any laws in your jurisdiction (including but not limited to copyright or trademark laws).</li></ol><h2>B. Cancellation and Termination</h2><ol><li>You are solely responsible for properly cancelling your account. An email or phone request to cancel your account is not considered cancellation. You can cancel your account at any time from the user settings page.</li><li>All of your Content will be immediately deleted from the Service upon cancellation. This information can not be recovered once your account is cancelled.</li><li>STEMN, in its sole discretion, has the right to suspend or terminate your account and refuse any and all current or future use of the Service, or any other STEMN service, for any reason at any time. Such termination of the Service will result in the deactivation or deletion of your Account or your access to your Account, and the forfeiture and relinquishment of all Content in your Account. STEMN reserves the right to refuse service to anyone for any reason at any time.</li><li>In the event that STEMN takes action to suspend or terminate an account, we will make a reasonable effort to provide the affected account owner with a copy of their account contents upon request, unless the account was suspended or terminated due to unlawful conduct.</li></ol><h2>C. Modifications to the Service</h2><ol><li>STEMN reserves the right at any time and from time to time to modify or discontinue, temporarily or permanently, the Service (or any part thereof) with or without notice.</li><li>STEMN shall not be liable to you or to any third-party for any modification, suspension or discontinuance of the Service.</li></ol><h2>D. Copyright and Content Ownership</h2><ol><li>We claim no intellectual property rights over the material you provide to the Service. Your profile and materials uploaded remain yours. However, this information will be made publically accessible which may, in some jurisdictions, affect your intellectual property rights.</li><li>It is your responsibility to properly license your content where applicable. STEMN can not be held liabile for incorrect implementation or ineffective content licenses.</li><li>STEMN does not pre-screen Content, but STEMN and its designee have the right (but not the obligation) in their sole discretion to refuse or remove any Content that is available via the Service.</li><li>You shall defend STEMN against any claim, demand, suit or proceeding made or brought against STEMN by a third-party alleging that Your Content, or Your use of the Service in violation of this Agreement, infringes or misappropriates the intellectual property rights of a third-party or violates applicable law, and shall indemnify STEMN for any damages finally awarded against, and for reasonable attorney’s fees incurred by, STEMN in connection with any such claim, demand, suit or proceeding; provided, that STEMN (a) promptly gives You written notice of the claim, demand, suit or proceeding; (b) gives You sole control of the defense and settlement of the claim, demand, suit or proceeding (provided that You may not settle any claim, demand, suit or proceeding unless the settlement unconditionally releases STEMN of all liability); and (c) provides to You all reasonable assistance, at Your expense.</li><li>The look and feel of the Service is copyright ©2015 STEMN PTY. LTD. All rights reserved. You may not duplicate, copy, or reuse any portion of the HTML/CSS, Javascript, or visual design elements or concepts without express written permission from STEMN.</li></ol><h2>E. General Conditions</h2><ol><li>Your use of the Service is at your sole risk. The service is provided on an "as is" and "as available" basis.</li><li>Support for STEMN services is only available in English, via email.</li><li>You understand that STEMN uses third-party vendors and hosting partners to provide the necessary hardware, software, networking, storage, and related technology required to run the Service.</li><li>You must not modify, adapt or hack the Service or modify another website so as to falsely imply that it is associated with the Service, STEMN, or any other STEMN service.</li><li>You give permissions for STEMN administrators to edit your content.</li><li>You may use the STEMN Pages static hosting service solely as permitted and intended to host your organisation pages, personal pages, or project pages, and for no other purpose. You may not use STEMN Pages in violation of STEMN\'s trademark or other rights or in violation of applicable law. STEMN reserves the right at all times to reclaim any STEMN subdomain without liability to you.</li><li>You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service without the express written permission by STEMN.</li><li>We may, but have no obligation to, remove Content and Accounts containing Content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party\'s intellectual property or these Terms of Service.</li><li>Verbal, physical, written or other abuse (including threats of abuse or retribution) of any STEMN customer, employee, member, or officer will result in immediate account termination.</li><li>You understand that the technical processing and transmission of the Service, including your Content, may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices.</li><li>You must not upload, post, host, or transmit unsolicited email, SMSs, or "spam" messages.</li><li>You must not transmit any worms or viruses or any code of a destructive nature.</li><li>If your bandwidth usage significantly exceeds the average bandwidth usage (as determined solely by STEMN) of other STEMN customers, we reserve the right to immediately disable your account or throttle your file hosting until you can reduce your bandwidth consumption.</li><li>STEMN does not warrant that (i) the service will meet your specific requirements, (ii) the service will be uninterrupted, timely, secure, or error-free, (iii) the results that may be obtained from the use of the service will be accurate or reliable, (iv) the quality of any products, services, information, or other material purchased or obtained by you through the service will meet your expectations, and (v) any errors in the Service will be corrected.</li><li>You expressly understand and agree that STEMN shall not be liable for any direct, indirect, incidental, special, consequential or exemplary damages, including but not limited to, damages for loss of profits, goodwill, use, data or other intangible losses (even if STEMN has been advised of the possibility of such damages), resulting from: (i) the use or the inability to use the service; (ii) the cost of procurement of substitute goods and services resulting from any goods, data, information or services purchased or obtained or messages received or transactions entered into through or from the service; (iii) unauthorised access to or alteration of your transmissions or data; (iv) statements or conduct of any third-party on the service; (v) or any other matter relating to the service.</li><li>The failure of STEMN to exercise or enforce any right or provision of the Terms of Service shall not constitute a waiver of such right or provision. The Terms of Service constitutes the entire agreement between you and STEMN and govern your use of the Service, superseding any prior agreements between you and STEMN (including, but not limited to, any prior versions of the Terms of Service). You agree that these Terms of Service and Your use of the Service are governed under California law.</li><li>Questions about the Terms of Service should be sent to <a class=text-green href=mailto:sue@stemn.com>sue@stemn.com</a>.</li></ol><br><br><small class=pull-right>Last Updated: 20 April 2015</small></md-container>')}]),angular.module("views/test/test.html",[]).run(["$templateCache",function(a){a.put("views/test/test.html",'<div><form name=TestForm><md-container><md-button ng-click="edit.enabled = !edit.enabled">Toggle Edit - Status {{edit.enabled}}</md-button><realtime-editor-save-status></realtime-editor-save-status></md-container><modular-editor editor-sections=project.sectionData editor-options=editorOptions edit=edit.enabled realtime-editor entity-id=547db55af7f342380174e212 entity-type=project></modular-editor></form></div>')}]),angular.module("views/test/test2.html",[]).run(["$templateCache",function(a){a.put("views/test/test2.html","<br><br><div ng-init=\"section = '<p>This <a href=\\'gooogle.com\\'>Linky</a> is the test <mark class=\\'math\\'>x+2</mark> asf asf asff sa <mark class=\\'math\\'>\\\\cos \\\\theta + i \\\\sin \\\\theta</mark> and some more</p>'\"></div><br><br><br><br><div class=angular-medium-editor medium-editor ng-model=section></div><br><br><br><br><br><br><div class=angular-medium-editor render-inline-mathjax render-mentions ng-bind-html=section></div><br><br><br><br><br><br>{{section}}")}]),angular.module("views/thread/tpls/thread.html",[]).run(["$templateCache",function(a){a.put("views/thread/tpls/thread.html",'<div class=threadView><missing-fields ng-hide="!publishAttempted || forms.ThreadForm.$completed || !forms.ThreadForm.$visible" entity=thread required-fields=requiredFields form=forms.ThreadForm></missing-fields><form unsaved-warning-form novalidate name=forms.ThreadForm edit-toolbar save-fn=saveThread() data=thread><div layout=row layout-align=center><div class="md-content-container content-lg md-outer-container" layout=row layout-align=center><div flex></div><div class="md-content-container content-sm rel-box"><div class=rel-box><div ng-hide=forms.ThreadForm.$visible><item-owner avatar={{::thread.owner.picture}} type=user class=rel-box><h3><a ui-sref="app.user.profile({\'stub\' : thread.owner.stub })" class=text-green>{{::thread.owner.name}}</a></h3><div class=sub><a ui-sref="app.user.profile({\'stub\' : thread.owner.stub })">{{::thread.owner.blurb}}</a> posted <span am-time-ago=::thread.submitted></span></div></item-owner></div><div ng-if=forms.ThreadForm.$visible><tip-banner local=true class="tip-dark m-b-30" style="margin-top: 15px"><div layout=row><div class="avatar-circle avatar-md no-border m-r-15" ng-style="{\'background-image\': \'url(/assets/images/howitworks/questions.svg)\'}"></div><div flex><div class=bold>What is a question? How does it work?</div><div>Have a technical question?</div><div>Need feedback?</div><div>Ask the STEMN community and your question will be <b>answered within 24h</b>.</div></div></div></tip-banner></div><h1 id=nameEdit class=md-display-1 ng-show=forms.ThreadForm.$visible><textarea msd-elastic rows=1 class=editable ng-model=thread.name name=ThreadTitle type=text placeholder="Question Title"></textarea><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px" layout=column>What is your question? What do you need help with or want to discuss. Try keep it short, there is space below to add more information.</popup></h1><h1 class=md-display-1 ng-hide=forms.ThreadForm.$visible>{{thread.name || \'No Title\'}}</h1><show-if-owner-or-admin owner={{thread.owner._id}}><settings-button ng-hide=forms.ThreadForm.$visible><md-menu-item><md-button ng-click=forms.ThreadForm.$edit()>Edit Thread</md-button></md-menu-item><md-menu-item><md-button confirm ng-click=deleteThread()>Delete Thread</md-button></md-menu-item><feed-recommend entity-type=thread entity-id={{thread._id}}></feed-recommend><md-menu-item show-if-admin>Thread id:<br>{{thread._id}}</md-menu-item></settings-button></show-if-owner-or-admin></div></div><div flex></div></div></div><div layout=row layout-align=center><div class="md-content-container content-lg md-outer-container" layout=row layout-align=center><div flex></div><div class="md-content-container content-sm rel-box md-no-padding"><md-divider ng-hide="forms.ThreadForm.$visible && !thread.banner"></md-divider><div class=m-b-30><div ng-show=forms.ThreadForm.$visible><upload-image ng-show=thread.banner class=block name=FeaturedImage image=thread.banner ng-model=thread.banner direct=true icon=thread.banner><div class=banner-image style="background-image: url({{thread.banner}}?size=feed-lg&crop=true)"></div></upload-image><div class="well m-b-30" ng-show=!thread.banner layout=row layout-align="start center"><div class=text-lightgrey flex>Add a featured image</div><md-button class="md-raised md-flat md-accent md-cornered md-md" click-upload-image image=thread.banner ng-model=thread.banner name=FeaturedImage>Add</md-button></div><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px"><p>Make sure your picture is relevant to your question! It’ll be the first thing that anyone sees and will be what draws in their attention.</p><p>Pick something you think is interesting or shows exactly what you’re working on, after all, a picture is worth a thousand words.</p></popup></div><div ng-if="!forms.ThreadForm.$visible && thread.banner"><div lightbox=true lightbox-image=thread.banner class=banner-image style="background-image: url({{thread.banner}}?size=feed-lg&crop=true)"></div></div></div><div style="margin-bottom: 20px"><modular-editor class=editor-compact editor-sections=thread.sectionData editor-options=editorOptions edit=forms.ThreadForm.$visible placeholder="Flesh out your question here. Be sure to add images and code where you can."></modular-editor><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="0 0 0 8px" layout=column ng-if=forms.ThreadForm.$visible><p>Expand upon your question here. You can add equations, images, videos and more.</p><p>Not sure how the STEMN editor works? <a class=text-green target=_blank href=/blogs/using-the-stemn-editor>Read the guide.</a></p><p>Want to find out more? <a class=text-green target=_blank href=/blogs/stemn-has-a-new-text-editor>Explore all the features.</a></p></popup></div><div ng-if=forms.ThreadForm.$visible id=tagsEdit class=well style="margin-bottom: 30px"><h3 class=md-headline style="margin-top: 0">Tags</h3><div class=text-lightgrey style=margin-bottom:20px>Make sure to tag your thread. Your thread will appear in the newsfeed of anyone that follows the fields/organisations/projects you tag. Add as many accurate tags as you can.</div><div><field-search data=thread.fields focus=focusField ng-mouseenter="focusField=true" ng-mouseleave="focusField=false"></field-search><tags edit=true size=sm tags=thread.fields type=field></tags><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="15px 0 0 30px" layout=column><p>Tag related scientific fields here. Be as specific as possible to make you question easy to find.</p></popup></div><div><organisation-search data=thread.organisations focus=focusOrg ng-mouseenter="focusOrg=true" ng-mouseleave="focusOrg=false"></organisation-search><tags edit=true size=sm tags=thread.organisations type=organisation></tags><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="15px 0 0 30px" layout=column><p>Does your question relate to an organisation? Your question will be distributed to the pages of any organisations you tag here.</p></popup></div><div><project-search data=thread.projects focus=focusProject ng-mouseenter="focusProject=true" ng-mouseleave="focusProject=false"></project-search><tags edit=true size=sm tags=thread.projects type=project></tags><popup class=tooltip-popup popup-side=right popup-position=start popup-padding="15px 0 0 30px" layout=column><p>Does this question relate to one of your projects? Be sure to tag it here to provide more contect to your question.</p></popup></div></div><div ng-hide=forms.ThreadForm.$visible id=responses class=replies ng-show=thread.published style="padding-bottom: 20px"><posts parent=thread></posts></div></div><div flex><div class=widgets-right ng-hide=forms.ThreadForm.$visible><div ng-show="thread.projects.length>0"><md-divider></md-divider><div class=md-subhead style="padding: 10px 0">Tagged projects</div><creation-card ng-repeat="project in thread.projects" entity=project size=small style="margin-bottom: 20px"></creation-card></div><div class=well ng-show="thread.fields.length>0"><div class=md-subhead>Tagged Fields</div><tags edit=false size=xs tags=thread.fields type=field></tags></div><div class=well ng-show="thread.organisations.length>0"><div class=md-subhead>Tagged Organisations</div><tags edit=false size=xs tags=thread.organisations type=organisation></tags></div></div></div></div></div><edit-toolbar ng-if=forms.ThreadForm.$visible><div><b>Editing:</b> <span>{{thread.name}}</span></div><div flex></div><md-button ng-click="editorOptions.showHelp = !editorOptions.showHelp" class=md-icon-button aria-label=help><md-icon md-svg-icon=help></md-icon><md-tooltip md-direction=bottom md-autohide=true>Help</md-tooltip></md-button><md-button publish-share-link={{thread._id}} class="md-icon-button m-0" aria-label=share><md-icon md-svg-icon=share></md-icon><md-tooltip md-direction=bottom md-autohide=true>Share Private Link</md-tooltip></md-button><md-button ng-click=forms.ThreadForm.$cancel() class="md-dark-grey md-cornered">Cancel</md-button><md-button ng-hide=thread.published ng-click=forms.ThreadForm.$save() class="md-cornered md-dark-grey">Save Draft</md-button><md-button ng-show=thread.published ng-click=forms.ThreadForm.$save() class="md-cornered md-raised md-accent md-flat">Save</md-button><md-button ng-show=!thread.published ng-click=publish($event) class="md-raised md-accent md-flat md-cornered">Publish</md-button></edit-toolbar></form><div class=related id=related ng-show="thread.published && !forms.ThreadForm.$visible" layout=row layout-align=center hide-footer-when-visible><div class="md-content-container md-no-padding"><related parent-type=thread parent-id={{thread._id}} type={{thread.type}} display-style=feed></related></div></div></div>')}]),angular.module("views/user-onboarding/tpls/user-onboarding.experience.html",[]).run(["$templateCache",function(a){a.put("views/user-onboarding/tpls/user-onboarding.experience.html",'<h2 class=md-display-1>Experience</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>What experiences can you bring to your dream job? What did you contribute previously? The more relevant and specific the better.</div></div><div class=md-col flex=100 flex-gt-md=60><div ng-sortable=sortConfig><div class="onboarding-edit-card md-whiteframe-z1 md-padding my-handle" ng-repeat="item in user.profile.profileDetails.experience"><md-button confirm class="md-warn md-circle md-raised md-sm close" ng-click="delRow(user.profile.profileDetails.experience, $index)"><md-icon md-svg-icon=close></md-icon><md-tooltip md-direction=top md-autohide=true>Remove row</md-tooltip></md-button><div layout=row><md-input-container flex class=md-accent><label>Position</label><input name=position ng-model=item.position></md-input-container><organisation-search single=true data=item.organisations search-text=item.company placeholder=Organisation organisation-type=company></organisation-search></div><date-range edit=true start=item.startDate end=item.endDate current=item.isCurrent></date-range><md-input-container class=md-accent><label>Description</label><textarea name=notes ng-model=item.notes md-maxlength=500></textarea></md-input-container></div></div><div layout=row layout-align="center center"><add-another add-fn=addExperience() white=true></add-another></div></div></div><md-divider class=m-v-60></md-divider><h2 class=md-display-1>Education</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Where did you study? What relevant skills did you learn there? We\'ll use these to match you to positions that match your education level.</div></div><div class=md-col flex=100 flex-gt-md=60><div ng-sortable=sortConfig><div class="onboarding-edit-card md-whiteframe-z1 md-padding my-handle" ng-repeat="item in user.profile.profileDetails.education"><md-button confirm class="md-warn md-circle md-raised md-sm close" ng-click="delRow(user.profile.profileDetails.education, $index)"><md-icon md-svg-icon=close></md-icon><md-tooltip md-direction=top md-autohide=true>Remove row</md-tooltip></md-button><div layout=row><md-input-container flex class=md-accent><label>Degree / Certificatee</label><input name=degree ng-model=item.degree></md-input-container><organisation-search single=true data=item.organisations placeholder="School / University" search-text=item.school organisation-type=school></organisation-search></div><date-range edit=true start=item.startDate end=item.endDate current=item.isCurrent></date-range><md-input-container class=md-accent><label>Description</label><textarea name=notes ng-model=item.notes md-maxlength=500></textarea></md-input-container></div></div><div layout=row layout-align="center center"><add-another add-fn=addEducation() white=true></add-another></div></div></div><md-divider class=m-v-60></md-divider><div layout=row><div flex></div><md-button class="md-raised md-flat md-md md-cornered" ui-sref=app.user-onboarding.intro>Back</md-button><md-button class="md-raised md-flat md-accent md-md md-cornered" ng-click=nextStep()>Next: Find matches</md-button></div>')}]),angular.module("views/user-onboarding/tpls/user-onboarding.final.html",[]).run(["$templateCache",function(a){a.put("views/user-onboarding/tpls/user-onboarding.final.html",'<h1 class="md-display-1 text-center m-t-30">Recommended Positions</h1><div class="md-title text-grey light-font text-center">Here are the best jobs for you (based on your skills and experience)</div><md-divider class=m-v-60></md-divider><div ng-show="query.results[0].rating <= 60"><tip-banner local=true style="margin-bottom: 60px"><b>Important:</b> Your best match has suitability rating of <b>{{query.results[0].rating}}%</b>. We recommend you <a ng-click=addMoreFields();>add more skills</a> so we can match you to more appropriate jobs.</tip-banner></div><div class=rel-box style="min-height: 100px"><a class="card-z1 m-b-15 rel-box" layout=row layout-align="start center" ng-repeat="item in query.results" set-entity-href="\'job\'" entity-stub=item.stub style="font-size: 14px"><div class="avatar-square-contain avatar-md m-r-15" ng-style="item.organisations[0].picture && { \'background-image\':\'url(\'+item.organisations[0].picture+\'?size=thumb-lg)\'}"></div><div flex><div class=bold>{{item.organisations[0].name}}</div><div class=m-v-10>{{item.name}}</div><div class=text-lightgrey>{{item.location[0].name}}</div></div><div class=rating-pie ng-style="{\'animation-delay\': \'-\'+item.rating+\'s\'}"><div class=number>{{item.rating}}</div><popup class=tooltip-popup popup-side=right popup-position=center popup-padding="0 0 0 8px" style="max-width: 150px"><p>Your skills include <b>{{item.numMatchingSkills}}/{{item.fields.length}}</b> of those listed on this job.</p></popup></div></a><loading-overlay ng-if=query.loading class=light-grey></loading-overlay></div><md-divider class=m-v-60></md-divider><div layout=row><div flex></div><md-button class="md-raised md-flat md-md md-cornered" ui-sref=app.user-onboarding.experience>Back</md-button><md-button class="md-border md-accent md-md md-cornered" ui-sref=app.home ng-click=complete();>Go to Newsfeed</md-button><md-button class="md-border-green md-raised md-flat md-accent md-md md-cornered" ui-sref=app.browse.jobs ng-click=complete();>See all Matches</md-button></div>')}]),angular.module("views/user-onboarding/tpls/user-onboarding.html",[]).run(["$templateCache",function(a){a.put("views/user-onboarding/tpls/user-onboarding.html",'<div layout=row layout-align=center class="p-b-30 userOnboarding"><edit-toolbar class=white><div flex></div><div class="md-content-container md-no-padding" hide-sm hide-md><div class=onboarding-steps layout=row layout-align="start center"><div ng-repeat="tab in tabs" ng-hide=tab.hideCondition(); layout=row layout-align="start center"><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-click=tab.click()>{{tab.label}}</a><md-icon md-svg-icon=chevron-right ng-hide=$last></md-icon></div></div></div><div flex></div></edit-toolbar><div class=main-horizontal-sub-menu hide-gt-md><div class=text-tabs layout=row><a class=md-subhead ng-repeat="tab in tabs" ui-sref={{tab.sref}} ng-class="{\'active\':$state.includes(tab.sref)}">{{tab.label}}</a></div></div><div class="md-content-container overflow-x-box"><ui-view></ui-view></div></div>')}]),angular.module("views/user-onboarding/tpls/user-onboarding.intro.html",[]).run(["$templateCache",function(a){a.put("views/user-onboarding/tpls/user-onboarding.intro.html",'<h1 class="md-display-1 text-center m-t-30">Find a match</h1><div class="md-title text-grey light-font text-center">See jobs that match your skills and experience</div><md-divider class=m-v-60></md-divider><h2 class=md-display-1>About you</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Tell the companies about yourself or import from LinkedIn. We\'ll use your this to match you to jobs that match your skills and experience.</div></div><div class=md-col flex=100 flex-gt-md=60><form name=forms.overview><div class="md-whiteframe-z1 card-padding m-b-30 rel-box"><div class=md-subhead>Want to get a head start?</div><p>Import your profile from Linkedin. This will automatically fill out your profile picture, education and experience.</p><md-button class="md-social md-linkedin md-md m-l-0 md-cornered" ng-click=linkedinImport()>Import from Linkedin</md-button><loading-overlay ng-if=linkedinLoading></loading-overlay></div><div class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead>Profile Photo</div><div layout=column layout-gt-sm=row layout-align="start center" class=m-t-30><upload-image icon=true image=user.profile.picture ng-model=user.profile.picture circle=true name=ProfileImage><img class="avatar-circle avatar-xl" ng-src="{{user.profile.picture || \'/assets/images/default/user-1.png\' }}?size=user&crop=true"></upload-image><div flex class=text-center><div ng-show=user.profile.picture><p ng-show=linkedinImported>Your LinkedIn photo is low resolution. Consider uploading another now.</p><p ng-hide=linkedinImported>Looking good!</p></div><div ng-hide=user.profile.picture><p>Profiles with a photo get 78% more views</p></div></div></div></div><div class="md-whiteframe-z1 card-padding m-b-30"><div layout=row><div class=md-subhead flex>Mini Resume</div><div class=notes>Required</div></div><p>Introduce yourself in 100 characters</p><md-input-container class=md-accent><label>e.g. MIT AeroAstro, Materials and Structures specialist; worked at SpaceX</label><textarea required ng-model=user.blurb md-maxlength=100 name=Blurb></textarea><div ng-messages=forms.overview.Blurb.$error ng-if=forms.overview.Blurb.$dirty><div ng-message=required>This is required.</div><div ng-message=md-maxlength>Your blurb has to be less than 100 characters long.</div></div></md-input-container></div></form></div></div><md-divider class=m-v-60></md-divider><h2 class=md-display-1>Skills and knowledge</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>What technical languages and programs do you know? What are your key fields of interest? We\'ll use these to match you to the most appropriate jobs for your skills and abilities.</div></div><div class=md-col flex=100 flex-gt-md=60><form name=forms.skills><div id=technologiesEdit class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead>Technologies and Technical Languages</div><p>Type and select each technology separately. E.g. Matlab, C++, SolidWorks. Later on, you\'ll need to add a few projects to your portfolio as evidence for these skills.</p><field-search data=user.profile.profileDetails.technologies focus=focusField ng-mouseenter="focusField=true" ng-mouseleave="focusField=false" placeholder="Technologies, Programs and Languages"></field-search><tags ng-if="user.profile.profileDetails.technologies.length>0" edit=true size=xs tags=user.profile.profileDetails.technologies type=field></tags></div><div id=skillsEdit class="md-whiteframe-z1 card-padding m-b-30"><div layout=row><div class=md-subhead flex>Skills and Fields</div><div class=notes>5 Required</div></div><p>Type and select each field separately. E.g. Avionics, Structural Analysis</p><field-search data=user.profile.profileDetails.skills focus=focusTech ng-mouseenter="focusTech=true" ng-mouseleave="focusTech=false" placeholder="Skills and fields"></field-search><tags ng-if="user.profile.profileDetails.skills.length>0" edit=true size=xs tags=user.profile.profileDetails.skills type=field></tags></div><div id=interestsEdit class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead flex>Interests</div><p>Interests should be fields or technical hobbies. E.g. Drones, Arduino, 3D printing</p><field-search data=user.profile.profileDetails.interests focus=focusInterest ng-mouseenter="focusInterest=true" ng-mouseleave="focusInterest=false" placeholder=Interests></field-search><tags ng-if="user.profile.profileDetails.interests.length>0" edit=true size=xs tags=user.profile.profileDetails.interests type=field></tags></div></form></div></div><md-divider class=m-v-60></md-divider><div layout=row><div flex></div><md-button class="md-raised md-flat md-accent md-md md-cornered m-r-0" ng-click=nextStep()>Next: Your experience</md-button></div>');
}]),angular.module("views/user/tpls/add-another.html",[]).run(["$templateCache",function(a){a.put("views/user/tpls/add-another.html",'<div layout=row layout-align=center><md-button class="md-circle md-raised md-sm" ng-class="{\'md-accent\' : !white}" ng-click=addFn()><md-icon md-svg-icon=add></md-icon><md-tooltip md-direction=top md-autohide=true>Add another</md-tooltip></md-button></div>')}]),angular.module("views/user/tpls/date-range.html",[]).run(["$templateCache",function(a){a.put("views/user/tpls/date-range.html",'<div style="width: 100%"><div ng-if=!edit class=date-range>{{start.year}} - <span ng-if=!current>{{end.year}}</span><span ng-if=current>current</span></div><div ng-if=edit><div layout=row layout-align="start center"><md-select flex-order=1 placeholder="Start Date" ng-model=start.year class=md-accent><md-option ng-repeat="year in ::years" value={{::year}}>{{::year}}</md-option></md-select><div flex-order=2 ng-hide=current style="padding: 0px 10px">to</div><md-select flex-order=3 ng-hide=current placeholder="End Date" ng-model=end.year class=md-accent><md-option ng-repeat="year in ::years" value={{::year}}>{{::year}}</md-option></md-select><div flex-order=4 layout=row layout-align="start center"><md-checkbox ng-model=$parent.current class=md-accent aria-label="Is Current Checkbox"></md-checkbox>Current?</div></div></div></div>')}]),angular.module("views/user/tpls/user-following.html",[]).run(["$templateCache",function(a){a.put("views/user/tpls/user-following.html",'<div layout=row layout-align=center><div class="md-content-container m-b-30"><h1 class=md-display-1>Things {{user.profile.firstname}} follows</h1><following-detailed class="block m-b-60" user-id={{user._id}} show-divider=true size=3 type=field></following-detailed><following-detailed class="block m-b-60" user-id={{user._id}} show-divider=true size=3 type=organisation></following-detailed><following-detailed class="block m-b-60" user-id={{user._id}} show-divider=true size=3 type=project></following-detailed><following-detailed class="block m-b-60" user-id={{user._id}} show-divider=true size=3 type=thread></following-detailed><following-detailed class="block m-b0" user-id={{user._id}} show-divider=true size=3 type=user></following-detailed></div></div>')}]),angular.module("views/user/tpls/user-footer.html",[]).run(["$templateCache",function(a){a.put("views/user/tpls/user-footer.html",'<div><div layout=row layout-align="space-between center" ng-if=showEdit><div hide-sm layout=row layout-align="center center" style="margin-left: 15px"><div class=text-lightgrey style=margin-right:10px>Your profile link:</div><div class="select-on-click-box text-lightgrey" select-on-click>{{user.stub}}.stemn.com<md-tooltip md-direction=top md-autohide=true>Click to highlight URL</md-tooltip></div></div><div flex></div><md-button hide-sm class="md-accent md-border" ng-click=forms.OverviewForm.$edit()>Edit Images and Info</md-button><md-button hide-sm class="md-grey md-border" ng-click=togglePublicView()>Switch to public view</md-button><social-share-button></social-share-button></div><div layout=row layout-align="space-between center" ng-if=!showEdit><div hide-sm flex class=text-lightgrey>This is what your profile will look like to the public. Why not share the link with your next job application?</div><md-button class="md-grey md-border" ng-click=togglePublicView() ng-show=userCanEdit>Switch back to edit view</md-button></div></div>')}]),angular.module("views/user/user-profile.html",[]).run(["$templateCache",function(a){a.put("views/user/user-profile.html",'<md-container style=margin-bottom:50px ng-if="user.profile.profileDetails.summary || showEdit"><div ng-if=showEdit><tip-banner ng-if="!completionPercentage == 100" local=true><div style="margin-bottom: 10px">Posting <b>projects</b> and <b>blogs</b> will increase the strength of your portfolio.</div><user-completion-widget display-type=banner completion-percentage=completionPercentage></user-completion-widget></tip-banner></div><form id=summary novalidate name=AboutForm class=edit-box><edit-button ng-show=showEdit form=AboutForm inline=true save-fn=SaveUser()></edit-button><h2 class=md-headline>About Me</h2><p ng-show=AboutForm.$visible><textarea name=overview ng-model=user.profile.profileDetails.summary msd-elastic class=editable placeholder="What do you do and what are you interested in?"></textarea></p><p ng-hide=AboutForm.$visible class=wrap-text>{{user.profile.profileDetails.summary}}</p></form></md-container><div ng-if="projects.length > 0 || showEdit" class=projects-section layout=column layout-align="center center"><div class="title-block md-content-container md-no-padding" layout=row><div class=md-subhead>{{user.profile.firstname}}\'s Projects</div></div><div layout=row layout-align=center><creation-card ng-repeat="project in projects | orderBy : \'-picture\' | limitTo : numProjectsToShow" entity=project.data style="width: 300px"></creation-card><a ng-show=showEdit class=add-projects layout=column ng-click=newProject($event)><div md-ink-ripple class=picture layout=column layout-align="center center"><md-icon md-svg-icon=add></md-icon></div><div flex layout=column layout-align="center center"><div class="text-lightgrey md-padding">Add a project</div></div></a> <a ng-show="projects.length > numProjectsToShow" ui-sref=app.user.projects class=more-projects layout=column layout-align="center center" md-ink-ripple><md-icon md-svg-icon=chevron-right></md-icon><md-tooltip md-direction=top md-autohide=true>See all projects</md-tooltip></a></div></div><div class=content-lg><md-container style="margin: 50px 0" ng-if=showEdit><form id=experience novalidate name=ExperienceForm class=edit-box><div layout=row><div hide-sm flex=20></div><h2 flex-sm=100 flex=80 flex-gt-md=60 class="md-headline rel-box"><edit-button ng-show=showEdit form=ExperienceForm inline=true save-fn=SaveUser()></edit-button>My Experience</h2><div flex=0 flex-gt-md=20></div></div><div ng-sortable=sortConfig><div class=profile-item layout=row ng-repeat="item in user.profile.profileDetails.experience" ng-show="showEdit || item.company || item.organisations[0].name"><div hide-sm flex=20 layout=column layout-align="start end" ng-class="{\'my-handle\' : ExperienceForm.$visible==true}"><date-range edit=false start=item.startDate end=item.endDate current=item.isCurrent></date-range></div><div flex-sm=100 flex=80 flex-gt-md=60><div ng-hide=ExperienceForm.$visible><div class=md-subhead layout=row layout-align-gt-sm="start center"><div flex><span>{{item.position}}</span><span class=inter ng-show="item.position || item.company || item.organisations[0].name">·</span><span class=bold>{{item.organisations[0].name || item.company}}</span></div><a hide-sm ng-if=item.organisations[0].picture ui-sref=app.organisation.overview({stub:item.organisations[0].stub})><div class=avatar-square-contain ng-style="{ \'background-image\':\'url(\'+item.organisations[0].picture+\'?size=thumb)\'}"></div></a></div><p class=wrap-text>{{item.notes}}</p></div><div ng-show=ExperienceForm.$visible><md-button confirm ng-show=ExperienceForm.$visible class="md-warn md-circle md-raised md-sm bullet-button" ng-click="delRow(user.profile.profileDetails.experience, $index)"><md-icon md-svg-icon=close></md-icon><md-tooltip md-direction=top md-autohide=true>Remove row</md-tooltip></md-button><div layout=row><md-input-container flex class=md-accent><label>Position</label><input name=positon ng-model=item.position></md-input-container><organisation-search single=true data=item.organisations search-text=item.company placeholder=Organisation organisation-type=company></organisation-search></div><date-range edit=ExperienceForm.$visible start=item.startDate end=item.endDate current=item.isCurrent></date-range><md-input-container class=md-accent><label>Description</label><textarea name=notes ng-model=item.notes md-maxlength=500></textarea></md-input-container></div><md-divider ng-hide=$last></md-divider></div><div flex=0 flex-gt-md=20></div></div></div><div ng-if=ExperienceForm.$visible layout=row><div hide-sm flex=20></div><div flex-sm=100 flex=80 flex-gt-md=60><add-another add-fn=addExperience()></add-another></div><div flex=20 flex-sm=0></div></div></form></md-container><md-container style="margin: 50px 0" ng-if="!showEdit && !isEmptyExperience()"><div layout=row><div hide-sm flex=20></div><h2 flex-sm=100 flex=80 flex-gt-md=60 class=md-headline>My Experience</h2><div flex=0 flex-gt-md=20></div></div><div class=profile-item layout=row ng-repeat="item in user.profile.profileDetails.experience" ng-show="item.company || item.organisations[0].name"><div hide-sm flex=20 layout=column layout-align="start end"><date-range edit=false start=item.startDate end=item.endDate current=item.isCurrent></date-range></div><div flex-sm=100 flex=80 flex-gt-md=60><div class=md-subhead><span>{{item.position}}</span><span class=inter ng-show="item.position || item.company || item.organisations[0].name">·</span><span class=bold>{{item.organisations[0].name || item.company}}</span></div><p class=wrap-text>{{item.notes}}</p><md-divider ng-hide=$last></md-divider></div><div flex=0 flex-gt-md=20></div></div></md-container><div class=divider-bar style="background-position: center" ng-style="{\'background-image\':\'url(\'+(user.profile.banner.url || alternateBanner)+\'?size=banner-lg&crop=true)\'}"><md-container><div layout=row layout-align="center center" style="color: white"><a ui-sref=app.user.projects flex layout=column layout-align="center center"><div class="stat-number wow" count-to="{{user.numProjects || 0}}" duration=1></div><div class=md-title>Project<span ng-show="user.numProjects!=1">s</span></div></a> <a ui-sref=app.user.threads flex layout=column layout-align="center center"><div class="stat-number wow" count-to="{{user.numQuestions + user.numGenerals || 0}}" duration=1.5></div><div class=md-title>Discussion<span ng-show="user.numQuestions + user.numGenerals!=1">s</span></div></a> <a ui-sref=app.user.blogs flex layout=column layout-align="center center"><div class="stat-number wow" count-to="{{user.numBlogs || 0}}" duration=1.5></div><div class=md-title>Blog<span ng-show="user.numBlogs!=1">s</span></div></a> <a ui-sref=app.user.comments flex layout=column layout-align="center center"><div class="stat-number wow" count-to="{{user.numComments + user.numPosts || 0}}" duration=1></div><div class=md-title>Comment<span ng-show="user.numComments + user.numPosts!=1">s</span></div></a></div></md-container></div><md-container style="margin: 50px 0" ng-if=showEdit><form id=education novalidate name=EducationForm class=edit-box><div layout=row><div hide-sm flex=20></div><h2 flex-sm=100 flex=80 flex-gt-md=60 class="md-headline rel-box">My Education<edit-button ng-show=showEdit form=EducationForm inline=true save-fn=SaveUser()></edit-button></h2><div flex=0 flex-gt-md=20></div></div><div ng-sortable=sortConfig><div class=profile-item layout=row ng-repeat="item in user.profile.profileDetails.education" ng-show="showEdit || item.school || item.organisations[0].name"><div hide-sm flex=20 layout=column layout-align="start end" ng-class="{\'my-handle\' : EducationForm.$visible==true}"><date-range edit=false start=item.startDate end=item.endDate current=item.isCurrent></date-range></div><div flex-sm=100 flex=80 flex-gt-md=60><div ng-hide=EducationForm.$visible><div class=md-subhead layout=row layout-align-gt-sm="start center"><div flex class=m-r-15><span>{{item.degree}}</span><span class=inter ng-show="item.degree && (item.school || item.organisations[0].name)">·</span><span class=bold>{{item.organisations[0].name || item.school}}</span></div><a hide-sm ng-if=item.organisations[0].picture ui-sref=app.organisation.overview({stub:item.organisations[0].stub})><div class=avatar-square-contain ng-style="{ \'background-image\':\'url(\'+item.organisations[0].picture+\'?size=thumb)\'}"></div></a></div><p class=wrap-text>{{item.notes}}</p></div><div ng-show=EducationForm.$visible><md-button confirm ng-show=EducationForm.$visible class="md-warn md-circle md-raised md-sm bullet-button" ng-click="delRow(user.profile.profileDetails.education, $index)"><md-icon md-svg-icon=close></md-icon><md-tooltip md-direction=top md-autohide=true>Remove row</md-tooltip></md-button><div layout=row><md-input-container flex class=md-accent><label>Degree / Certificatee</label><input name=degree ng-model=item.degree></md-input-container><organisation-search single=true data=item.organisations placeholder="School / University" search-text=item.school organisation-type=school></organisation-search></div><date-range edit=EducationForm.$visible start=item.startDate end=item.endDate current=item.isCurrent></date-range><md-input-container class=md-accent><label>Description</label><textarea name=notes ng-model=item.notes md-maxlength=500></textarea></md-input-container></div><md-divider ng-hide=$last></md-divider></div><div flex=0 flex-gt-md=20></div></div></div><div ng-if=EducationForm.$visible layout=row><div hide-sm flex=20></div><div flex-sm=100 flex=80 flex-gt-md=60><add-another add-fn=addEducation()></add-another></div><div flex=0 flex-gt-md=20></div></div></form></md-container><md-container style="margin-bottom: 70px" ng-if="!showEdit && !isEmptyEducation()"><form novalidate name=EducationForm><div layout=row><div hide-sm flex=20></div><h2 flex-sm=100 flex=80 flex-gt-md=60 class="md-headline rel-box">My Education</h2><div flex=0 flex-gt-md=20></div></div><div class=profile-item layout=row ng-repeat="item in user.profile.profileDetails.education" ng-show="item.school || item.organisations[0].name"><div hide-sm flex=20 layout=column layout-align="start end"><date-range edit=false start=item.startDate end=item.endDate current=item.isCurrent></date-range></div><div flex-sm=100 flex=80 flex-gt-md=60><div ng-hide=EducationForm.$visible><div class=md-subhead><span>{{item.degree}}</span><span class=inter ng-show="item.degree && (item.school || item.organisations[0].name)">·</span><span class=bold>{{item.organisations[0].name || item.school}}</span></div><p class=wrap-text>{{item.notes}}</p></div><md-divider ng-hide=$last></md-divider></div><div flex=0 flex-gt-md=20></div></div></form></md-container><div layout=row layout-align=center id=skills class=edit-box style="background-color:rgba(0, 0, 0, 0.03); padding: 50px 0" ng-show="showEdit || user.profile.profileDetails.skills.length > 0 || user.profile.profileDetails.technologies.length>0"><div class=md-content-container><form novalidate name=SkillsForm><div layout=row><div flex=20 flex-sm=0></div><div flex=80 flex-sm=100 flex-gt-md=60 class=rel-box><h2 class=md-headline>Skills and knowledge<edit-button ng-show=showEdit form=SkillsForm inline=true save-fn=SaveUser()></edit-button></h2><div ng-if=SkillsForm.$visible><tip-banner local=true class=m-b-30>Add your skills and abilities. We\'ll use these to match you to the most appropriate jobs. These skills are <b>automatically populated</b> based on fields you\'ve tagged in your projects and blogs. You can <b>add additional skills here</b> but we recommend you add a project to your portfolio to act as evidence.</tip-banner></div><evidenced-fields user=user edit=SkillsForm.$visible></evidenced-fields></div><div flex=0 flex-gt-md=20></div></div></form></div></div><form id=social name=FooterForm ng-hide=!user.profile.socialLinks><div hide-footer-when-visible={{userCanEdit}} class="divider-bar edit-box" style="margin-bottom: -50px; background-position: bottom" ng-style="{\'background-image\':\'url(\'+(user.profile.banner.url || alternateBanner)+\'?size=banner-lg&crop=true)\'}"><div layout=column layout-align="center center" style="padding: 0px"><div class="md-content-container content-sm"><div style="min-height: 200px" class=rel-box layout=column layout-align="center center"><edit-button ng-show=showEdit form=FooterForm inline=true save-fn=SaveUser()></edit-button><p><social-links edit=FooterForm.$visible data=user.profile.socialLinks type=user></social-links></p></div></div></div></div></form></div>')}]),angular.module("views/user/user.html",[]).run(["$templateCache",function(a){a.put("views/user/user.html",'<div class=userView ng-class="{\'profileTab\':$state.includes(\'app.user.profile\')}"><form unsaved-warning-form novalidate name=forms.OverviewForm class=edit-box><div ng-if=forms.OverviewForm.$visible><upload-image icon=true md-ink-ripple class=block image=user.profile.banner.url name=BannerImage ng-model=user.profile.banner.url><div class="user-banner-top divider-bar" style="background-position: top" ng-style="{\'background-image\':\'url(\'+(user.profile.banner.url || alternateBanner)+\'?size=banner-lg&crop=true)\'}"><div></div></div></upload-image></div><div ng-if=!forms.OverviewForm.$visible><div class="user-banner-top divider-bar" style="background-position: top" ng-style="{\'background-image\':\'url(\'+(user.profile.banner.url || alternateBanner)+\'?size=banner-lg&crop=true)\'}"><div class=headerTitle layout=row layout-align=center><div class=md-content-container layout=row layout-align="space-between center" ng-hide="$state.includes(\'app.user.profile\')"><h1 class="capitalise no-margin text-white md-display-1">{{user.profile.firstname}}\'s {{tabName}}</h1><hide-if-owner owner={{user._id}}><stat-button hidepublic hide-stat=true type=follow parent-type=user parent-id={{user._id}} count=user.followers></stat-button></hide-if-owner></div></div></div></div><md-container ng-show="$state.includes(\'app.user.profile\')"><div class=rel-box><edit-button ng-if=showEdit form=forms.OverviewForm save-fn=SaveUser() inline=true hide-edit=true></edit-button><settings-button ng-if=showEdit ng-hide=forms.OverviewForm.$visible><md-menu-item><md-button ng-click=forms.OverviewForm.$edit()>Edit info and banner</md-button></md-menu-item><md-menu-item><md-button ng-click=linkedinImport($event)>Import from linkedin</md-button></md-menu-item><md-menu-item ng-if=isAdmin><md-button ng-click=authenticateAsUser(user._id)>Authenticate as user</md-button></md-menu-item></settings-button><div class="user-picture-area text-center"><div ng-show=forms.OverviewForm.$visible><upload-image image=user.profile.picture ng-model=user.profile.picture name=ProfileImage icon=true><img id=picture class="picture md-whiteframe-z1" ng-src="{{user.profile.picture || \'/assets/images/default/user-1.png\'}}?size=user&crop=true"></upload-image></div><div ng-show=!forms.OverviewForm.$visible><img lightbox=true lightbox-image=user.profile.picture class="picture md-whiteframe-z1" ng-src="{{user.profile.picture || \'/assets/images/default/user-1.png\'}}?size=user&crop=true" alt={{user.name}}></div></div><div ng-show=!forms.OverviewForm.$visible><div class="user-info-area text-center"><h1>{{user.profile.firstname}} {{user.profile.lastname}}</h1><h3>{{user.blurb}}</h3><div class=user-stats><md-button class=no-hover ui-sref=app.user.followers><small>FOLLOWERS</small><h3>{{user.followers || 0}}</h3></md-button><md-button class=no-hover ui-sref=app.user.following><small>FOLLOWING</small><h3>{{user.following || 0}}</h3></md-button><md-button class=no-hover ui-sref=app.user.projects><small>PROJECTS</small><h3>{{user.numProjects || 0}}</h3></md-button></div></div><div class="user-buttons text-center" style="margin-bottom: 40px"><hide-if-owner owner={{user._id}}><stat-button hidepublic hide-stat=true type=follow parent-type=user parent-id={{user._id}} count=user.followers></stat-button></hide-if-owner></div></div><div ng-show=forms.OverviewForm.$visible><br><br><br><div id=name layout=row layout-sm=column><md-input-container flex><label>First name*</label><input required ng-model=user.profile.firstname name=FirstName><div ng-messages=forms.OverviewForm.FirstName.$error><div ng-message=required>This is required.</div></div></md-input-container><md-input-container flex><label>Last Name*</label><input required ng-model=user.profile.lastname name=LastName><div ng-messages=forms.OverviewForm.LastName.$error><div ng-message=required>This is required.</div></div></md-input-container></div><md-input-container id=blurb><label>Blurb* (example: Propulsion Engineer at SpaceX)</label><input required ng-model=user.blurb md-maxlength=100 name=Blurb><div ng-messages=forms.OverviewForm.Blurb.$error><div ng-message=required>This is required.</div><div ng-message=md-maxlength>Your blurb has to be less than 100 characters long.</div></div></md-input-container><location-search data=user.profile.location single=true></location-search><span class=text-lightgrey>*required field</span></div></div></md-container></form><div layout=row layout-align=center><div class="md-content-container md-no-padding"><div ng-hide=forms.OverviewForm.$visible><div class="text-tabs m-t-40 m-b-30" layout=row><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a></div></div></div></div><div ui-view=projects ng-show="$state.includes(\'app.user.projects\')" class=m-b-60></div><div ui-view=profile ng-show="$state.includes(\'app.user.profile\')"></div><div ui-view=blog ng-show="$state.includes(\'app.user.blogs\')" class=m-b-60></div><div ui-view=threads ng-show="$state.includes(\'app.user.threads\')" class=m-b-60></div><div ui-view=comments ng-show="$state.includes(\'app.user.comments\')" class=m-b-60></div></div>')}]),angular.module("views/usersettings/usersettings-account.html",[]).run(["$templateCache",function(a){a.put("views/usersettings/usersettings-account.html",'<h2 class=md-display-1>Login Details</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Manage basic account information – your email, password and social accounts. You can link your STEMN account with Facebook and Linkedin. This will import your information and make it easier to log in.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30" id=updateusername><div class=md-subhead>Username</div><user-subdomain-input display-type=form username=user.stub></user-subdomain-input></div><div class="md-whiteframe-z1 card-padding m-b-30"><form unsaved-warning-form novalidate name=UpdateEmailForm><div class=md-subhead>Change Email</div><md-input-container class=md-accent><label>Email</label><input name=email ng-model=user.email required type=email><div ng-messages=UpdateEmailForm.email.$error ng-if=UpdateEmailForm.email.$dirty><div ng-message=required>This is required.</div><div ng-message=email>That is not a valid email.</div></div></md-input-container><div layout=row><div flex></div><md-button type=submit class="md-raised md-accent md-cornered m-0 md-flat" ng-disabled=UpdateEmailForm.$invalid ng-click=updateEmail()>Update email</md-button></div></form></div><div class="md-whiteframe-z1 card-padding m-b-30" ng-if=user.accounts.local.email><form unsaved-warning-form novalidate name=UpdatePasswordForm><div class=md-subhead>Change Password</div><md-input-container class=md-accent><label>Old Password</label><input name=oldpassword ng-model=password.oldPassword required type=password><div ng-messages=UpdatePasswordForm.oldpassword.$error ng-if=UpdatePasswordForm.oldpassword.$dirty><div ng-message=required>If only the world was that simple... You\'ll need the password :)</div></div></md-input-container><div layout=row><md-input-container flex=50 class=md-accent><label>New Password</label><input name=newpassword ng-model=password.newPassword required type=password><div ng-messages=UpdatePasswordForm.newpassword.$error ng-if=UpdatePasswordForm.newpassword.$dirty><div ng-message=required>This is required.</div></div></md-input-container><md-input-container flex=50 class=md-accent><label>Confirm new Password</label><input name=confirmPassword ng-model=password.confirmPassword required type=password><div ng-messages=UpdatePasswordForm.confirmPassword.$error ng-if=UpdatePasswordForm.confirmPassword.$dirty><div ng-message=required>This is required.</div></div></md-input-container></div><div layout=row><div flex></div><md-button type=submit class="md-raised md-accent md-cornered m-0 md-flat" ng-disabled=UpdatePasswordForm.$invalid ng-click=updatePassword()>Update password</md-button></div></form></div><div class="md-whiteframe-z1 card-padding m-b-30"><form id=linkaccount novalidate name=LinkAccountsForm><div class=md-subhead>Link Accounts</div><p>By linking accounts you\'ll be able to login to STEMN using either Facebook and/or LinkedIn. LinkedIn login won\'t work on your mobile phone but Facebook works a treat.</p><br><div layout=column layout-gt-sm=row><md-button class="md-social md-linkedin md-cornered" style="margin: 10px 15px 0 0" ng-disabled=user.accounts.linkedin ng-click=linkedinImport($event)><span ng-hide=user.accounts.linkedin>Link with LinkedIn</span> <span ng-show=user.accounts.linkedin>Linked with LinkedIn</span></md-button><md-button class="md-social md-facebook md-cornered" style="margin: 10px 15px 0 0" ng-click="authenticate(\'facebook\')" ng-disabled=user.accounts.facebook><span ng-hide=user.accounts.facebook>Link with Facebook</span> <span ng-show=user.accounts.facebook>Linked with Facebook</span></md-button></div></form></div></div></div><md-divider class=m-v-60></md-divider><h2 class=md-display-1>Profile Details</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Edit your name, profile picture, blurb and more. You can edit all your profile details on your user profile page.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead>Edit Profile</div><p>Edit your profile details on your profile page.</p><br><md-button class="md-accent md-raised md-cornered m-0 md-flat md-md" ui-sref=app.user.profile({stub:user.stub})>Edit profile</md-button></div><div class="md-whiteframe-z1 card-padding m-b-30"><div class=md-subhead>Delete your account</div><p>Want to permanently delete your STEMN account? Email us at <a class=text-green href=goodbye@stemn.com>goodbye@stemn.com</a></p></div></div></div>')}]),angular.module("views/usersettings/usersettings-email.html",[]).run(["$templateCache",function(a){a.put("views/usersettings/usersettings-email.html",'<h2 class=md-display-1>Email Notifications</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>We\'ll send email updates when you have new followers or when people comment on your project. If you get overwhelmed by your popularity, you can disable them here.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30" ng-repeat="section in emailsToggles"><div layout=column layout-gt-sm=row layout-align="start center" class=toggle-group id={{section.name}}><div flex><div class=md-subhead>{{section.title}}</div><p>{{section.description}}</p></div><div layout=row layout-align="start center"><md-button ng-show="section.toggles.length > 1" class=md-icon-button ng-click="showPanel = !showPanel" aria-label="More Settings" ng-disabled="emailsGroupStates[section.name] == undefined"><md-icon md-svg-icon=more-h class=collapse-panel-toggle ng-class="{\'open\' : showPanel || emailsGroupStates[section.name] == undefined}"></md-icon><md-tooltip md-direction=top md-autohide=true>Advanced Toggles</md-tooltip></md-button><div><md-switch class=md-lg ng-change="toggleGroup(settings.emails, section.toggles, emailsGroupStates[section.name])" ng-model=emailsGroupStates[section.name] ng-disabled="emailsGroupStates[section.name] == undefined" aria-label="Toggle All"></md-switch></div></div></div><collapse-panel show-panel="showPanel || emailsGroupStates[section.name] == undefined"><md-divider class=m-v-15></md-divider><div layout=row layout-align="start center" class=toggle ng-repeat="toggle in section.toggles" id={{toggle}}><div flex><div class=md-subhead>{{toggleData[toggle].name}}</div><p>{{toggleData[toggle].description}}</p></div><md-switch ng-change=toggleEmails() ng-model=settings.emails[toggle] aria-label={{toggleData[toggle].name}}></md-switch></div></collapse-panel></div></div></div>')}]),angular.module("views/usersettings/usersettings-feed.html",[]).run(["$templateCache",function(a){a.put("views/usersettings/usersettings-feed.html",'<h2 class=md-display-1>News Feed</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>You can change what shows in your news-feed here. Click on the advanced button if you are after fine-grain settings.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30" ng-repeat="section in feedToggles"><div layout=column layout-gt-sm=row layout-align="start center" class=toggle-group id={{section.name}}><div flex><div class=md-subhead>{{section.title}}</div><p>{{section.description}}</p></div><div layout=row layout-align="start center"><md-button ng-show="section.toggles.length > 1" class=md-icon-button ng-click="showPanel = !showPanel" aria-label="More Settings" ng-disabled="feedGroupStates[section.name] == undefined"><md-icon md-svg-icon=more-h class=collapse-panel-toggle ng-class="{\'open\' : showPanel || feedGroupStates[section.name] == undefined}"></md-icon><md-tooltip md-direction=top md-autohide=true>Advanced Toggles</md-tooltip></md-button><div><md-switch class=md-lg ng-change="toggleGroup(settings.feed, section.toggles, feedGroupStates[section.name])" ng-model=feedGroupStates[section.name] ng-disabled="feedGroupStates[section.name] == undefined" aria-label="Toggle All"></md-switch></div></div></div><collapse-panel show-panel="showPanel || feedGroupStates[section.name] == undefined"><md-divider class=m-v-15></md-divider><div layout=row layout-align="start center" class=toggle ng-repeat="toggle in section.toggles" id={{toggle}}><div flex><div class=md-subhead>{{toggleData[toggle].name}}</div><p>{{toggleData[toggle].description}}</p></div><md-switch ng-change=toggleFeed() ng-model=settings.feed[toggle] aria-label={{toggleData[toggle].name}}></md-switch></div></collapse-panel></div></div></div>')}]),angular.module("views/usersettings/usersettings-notifications.html",[]).run(["$templateCache",function(a){a.put("views/usersettings/usersettings-notifications.html",'<h2 class=md-display-1>Site Notifications</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>You can adjust what events send site notifications here. This will change in-site notifications only. Go to the \'Emails\' sections to change email notifications.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30" ng-repeat="section in notificationToggles"><div layout=column layout-gt-sm=row layout-align="start center" class=toggle-group id={{section.name}}><div flex><div class=md-subhead>{{section.title}}</div><p>{{section.description}}</p></div><div layout=row layout-align="start center"><md-button ng-show="section.toggles.length > 1" class=md-icon-button ng-click="showPanel = !showPanel" aria-label="More Settings" ng-disabled="notificationGroupStates[section.name] == undefined"><md-icon md-svg-icon=more-h class=collapse-panel-toggle ng-class="{\'open\' : showPanel || notificationGroupStates[section.name] == undefined}"></md-icon><md-tooltip md-direction=top md-autohide=true>Advanced Toggles</md-tooltip></md-button><div><md-switch class=md-lg ng-change="toggleGroup(settings.notifications, section.toggles, notificationGroupStates[section.name])" ng-model=notificationGroupStates[section.name] ng-disabled="notificationGroupStates[section.name] == undefined" aria-label="Toggle All"></md-switch></div></div></div><collapse-panel show-panel="showPanel || notificationGroupStates[section.name] == undefined"><md-divider class=m-v-15></md-divider><div layout=row layout-align="start center" class=toggle ng-repeat="toggle in section.toggles" id={{toggle}}><div flex><div class=md-subhead>{{toggleData[toggle].name}}</div><p>{{toggleData[toggle].description}}</p></div><md-switch ng-change=toggleNotification() ng-model=settings.notifications[toggle] aria-label={{toggleData[toggle].name}}></md-switch></div></collapse-panel></div></div></div>');
}]),angular.module("views/usersettings/usersettings-profile.html",[]).run(["$templateCache",function(a){a.put("views/usersettings/usersettings-profile.html",'<h1 class=md-headline>Profile Settings</h1><md-divider></md-divider><p>Want to change your name, blurb, education and more? This can all be accomplished directly from your profile page. Follow the link below.</p><br><md-button class="md-accent md-raised no-margin" ui-sref="app.user.profile({stub:user.stub, edit:true})">Update profile</md-button><md-divider></md-divider>')}]),angular.module("views/usersettings/usersettings.html",[]).run(["$templateCache",function(a){a.put("views/usersettings/usersettings.html",'<div layout=row layout-align="center start" class=userSettingsView><div layout=column class="md-content-container overflow-x-box"><h1 flex class=md-display-2>Settings</h1><div class="text-tabs tabs-light-grey text-tabs-top m-t-40 m-b-30" layout=row><a class=md-subhead ng-class="{\'active\':$state.includes(tab.sref)}" ng-repeat="tab in tabs" ui-sref={{tab.sref}}>{{tab.label}}</a></div><div flex ui-view></div></div></div>')}]);
angular.module("templates-modules",["modules/authentication/tpls/linkedin-warn-modal.html","modules/authentication/tpls/login-local-modal.html","modules/authentication/tpls/login-modal.html","modules/authentication/tpls/recover-password-modal.html","modules/authentication/tpls/register-modal.html","modules/banner-header/banner-header.html","modules/browser-info/tpls/bad-browser-modal.html","modules/call-to-action/tpls/call-to-action.html","modules/call-to-action/tpls/cta-map.html","modules/call-to-action/tpls/cta-project.html","modules/call-to-action/tpls/cta-referrals.html","modules/cards/tpls/creation-card.html","modules/cards/tpls/organisation-card.html","modules/carousel/tpls/carousel.html","modules/checklist/tpls/checklist-item.html","modules/code-mirror/tpls/code-mode.html","modules/code-mirror/tpls/latex-input.html","modules/components/tpls/back-button.html","modules/components/tpls/collapsed-section.html","modules/components/tpls/confirm-modal.html","modules/components/tpls/edit-button1.html","modules/components/tpls/fat-tabs.html","modules/components/tpls/field-image.html","modules/components/tpls/organisation-image.html","modules/components/tpls/organisation-images.html","modules/components/tpls/preview-gallery.html","modules/components/tpls/project-image.html","modules/components/tpls/section-colour.html","modules/components/tpls/settings-button.html","modules/components/tpls/team-images.html","modules/components/tpls/team-text.html","modules/components/tpls/user-image.html","modules/components/tpls/user-input.html","modules/contributors/tpls/contributors.html","modules/core/tpls/core-entity-modal.html","modules/development/vertical-nav/vertical-nav.html","modules/document-import/tpls/document-import.html","modules/dynamic-footer/tpls/dynamic-footer.html","modules/dynamic-footer/tpls/entity-footer.html","modules/edit-toolbar/tpls/edit-toolbar.html","modules/edit-toolbar/tpls/save-button.html","modules/editor/tpls/insert-link-modal.html","modules/editor/tpls/reply-editor.html","modules/error-handling/tpls/error-modal.html","modules/explanation-modals/tpls/explanation-modal.html","modules/feed/tpls/card-feed.html","modules/feed/tpls/feed-item.html","modules/feed/tpls/feed-loading.html","modules/feed/tpls/feed-recommend.html","modules/feed/tpls/feed-widget-timeline.html","modules/feed/tpls/feed-widget.html","modules/feed/tpls/feed.html","modules/feed/tpls/item-fields.html","modules/feed/tpls/item-image.html","modules/feed/tpls/item-owner.html","modules/fields/tpls/field-card.html","modules/fields/tpls/field-new-modal.html","modules/following/tpls/following-detailed.html","modules/footer/tpls/footer.html","modules/forum/tpls/forum.html","modules/forum/tpls/new-thread-modal.html","modules/horizontal-menu/tpls/main-horizontal-menu.html","modules/horizontal-menu/tpls/user-settings-dropdown.html","modules/horizontal-menu/tpls/user-settings-sidebar.html","modules/invite/tpls/invite-link-modal.html","modules/jobs/tpls/application-rows.html","modules/jobs/tpls/application-success-modal.html","modules/jobs/tpls/apply-button.html","modules/jobs/tpls/create-job-modal.html","modules/jobs/tpls/job-application-modal.coverletter.html","modules/jobs/tpls/job-application-modal.html","modules/jobs/tpls/job-application-modal.other.html","modules/jobs/tpls/job-application-modal.requirements.html","modules/jobs/tpls/job-rows.html","modules/jobs/tpls/job-tile.html","modules/jobs/tpls/resubmit-application-button.html","modules/lightbox/tpls/lightbox-modal.html","modules/location/tpls/country-select.html","modules/mapbox/tpls/mapbox.html","modules/maps/tpls/map-display.html","modules/medium-editor-ext-mentions/tpls/mention-search.html","modules/medium-editor/tpls/editor-link-modal.html","modules/medium-editor/tpls/editor-video-modal.html","modules/missing-fields/tpls/missing-fields.html","modules/modular-editor/append-buttons/append-buttons.html","modules/modular-editor/caption/edit/caption.html","modules/modular-editor/caption/public/caption.html","modules/modular-editor/help-footer/help-footer.html","modules/modular-editor/insert-buttons/insert-buttons.html","modules/modular-editor/section-buttons/section-buttons.html","modules/modular-editor/section/code/edit/code.html","modules/modular-editor/section/code/public/code.html","modules/modular-editor/section/file/edit/file.html","modules/modular-editor/section/file/public/file.html","modules/modular-editor/section/image/edit/center.html","modules/modular-editor/section/image/edit/full-width-banner-text.html","modules/modular-editor/section/image/edit/full-width-banner.html","modules/modular-editor/section/image/edit/full-width.html","modules/modular-editor/section/image/edit/left.html","modules/modular-editor/section/image/edit/right.html","modules/modular-editor/section/image/edit/wide.html","modules/modular-editor/section/image/public/center.html","modules/modular-editor/section/image/public/full-width-banner-text.html","modules/modular-editor/section/image/public/full-width-banner.html","modules/modular-editor/section/image/public/full-width.html","modules/modular-editor/section/image/public/left.html","modules/modular-editor/section/image/public/right.html","modules/modular-editor/section/image/public/wide.html","modules/modular-editor/section/math/edit/math.html","modules/modular-editor/section/math/public/math.html","modules/modular-editor/section/text/edit/text.html","modules/modular-editor/section/text/public/text.html","modules/modular-editor/section/video/edit/left.html","modules/modular-editor/section/video/edit/right.html","modules/modular-editor/section/video/edit/wide.html","modules/modular-editor/section/video/public/left.html","modules/modular-editor/section/video/public/right.html","modules/modular-editor/section/video/public/wide.html","modules/modular-editor/toolbar/toolbar.html","modules/modular-editor/tpls/editor-divider.html","modules/modular-editor/tpls/editor-sections.html","modules/new-creations/tpls/new-something-modal.html","modules/notifications/tpls/notification.html","modules/notifications/tpls/notifications.html","modules/onboarding/onboarding-wizard/tpls/onboarding-wizard.html","modules/onboarding/tpls/checklist-complete-modal.html","modules/onboarding/tpls/feed-checklist.html","modules/onboarding/tpls/profile-checklist.html","modules/onboarding/tpls/tip-banner.html","modules/onboarding/tpls/tip-modal.html","modules/organisations/tpls/organisation-cards.html","modules/organisations/tpls/organisation-groups.html","modules/organisations/tpls/organisation-icon.html","modules/organisations/tpls/organisation-new-modal.html","modules/pagination/tpls/load-more.html","modules/pagination/tpls/simple-pagination.html","modules/popup-cards/tpls/url-card.html","modules/posts/tpls/post-summary.html","modules/posts/tpls/post.html","modules/posts/tpls/posts.html","modules/posts/tpls/user-posts.html","modules/project/tpls/new-project-modal.html","modules/projects/tpls/projects-filter-bar.html","modules/prompt-overlay/tpls/prompt-overlay.html","modules/publish/tpls/publish-modal.html","modules/publish/tpls/publish-share-link-modal.html","modules/publish/tpls/select-stub-modal.html","modules/realtime-editor/tpls/multiple-edit-modal.html","modules/realtime-editor/tpls/realtime-editor-locked.html","modules/realtime-editor/tpls/save-toast.html","modules/related/tpls/related-compact-feed.html","modules/related/tpls/related-tags.html","modules/row-views/tpls/field-row.html","modules/row-views/tpls/loading-row.html","modules/row-views/tpls/org-user-row.html","modules/row-views/tpls/organisation-row.html","modules/row-views/tpls/row-view.html","modules/row-views/tpls/user-row.html","modules/search/organisation-search/tpls/organisation-search.html","modules/search/tpls/field-search.html","modules/search/tpls/location-search.html","modules/search/tpls/project-search.html","modules/search/tpls/user-search.html","modules/site-search/tpls/site-search.html","modules/skills/tpls/evidenced-fields.html","modules/skills/tpls/user-skills.html","modules/smooch/tpls/smooch-icon.html","modules/social-media/tpls/social-links-modal.html","modules/social-media/tpls/social-links.html","modules/social-media/tpls/social-prompt-modal.html","modules/social-media/tpls/social-share-button.html","modules/social-media/tpls/social-share-buttons.html","modules/statistics/tpls/stat-button.html","modules/statistics/tpls/stat-display-modal.html","modules/statistics/tpls/stat-display.html","modules/tabs/tpls/tabs.html","modules/tags/tpls/tags-edit-modal.html","modules/tags/tpls/tags.html","modules/tags/tpls/types/field.html","modules/tags/tpls/types/location.html","modules/tags/tpls/types/organisation.html","modules/tags/tpls/types/project.html","modules/tags/tpls/types/tag-edit.html","modules/tags/tpls/types/user.html","modules/toc/tpls/toc.html","modules/top-banner/tpls/top-banner.html","modules/upload-files/tpls/upload-files-display.html","modules/upload-files/tpls/uploaded-file-edit-modal.html","modules/upload-files/tpls/uploaded-file.html","modules/uploads/tpls/crop-imageupload.html","modules/uploads/tpls/crop-imageuploadmodal.html","modules/uploads/tpls/crop.html","modules/uploads/tpls/upload-files-modal.html","modules/uploads/tpls/upload-image-new-modal.html","modules/uploads/tpls/upload-images-new-modal.html","modules/user-subdomain/tpls/user-subdomain-input.html","modules/user-widgets/tpls/user-completion-widget.html","modules/user-widgets/tpls/user-organisations-widget.html","modules/user-widgets/tpls/user-portfolio-checklist-modal.html","modules/user-widgets/tpls/user-projects-widget.html","modules/user-widgets/tpls/user-recent-widget.html","modules/users/tpls/add-row.html","modules/users/tpls/edit-team-modal.html","modules/users/tpls/empty-group.html","modules/users/tpls/personcard.html","modules/users/tpls/user-icon.html","modules/users/tpls/user-row-detailed.html","modules/users/tpls/user-rows.html","modules/users/tpls/users-groups.html","modules/users/tpls/users-new-modal.html","modules/users/tpls/users.html"]),angular.module("modules/authentication/tpls/linkedin-warn-modal.html",[]).run(["$templateCache",function(a){a.put("modules/authentication/tpls/linkedin-warn-modal.html",'<md-dialog><md-dialog-content><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px; margin-bottom: 40px">Are you sure?</h1><p>This will <strong>overwrite</strong> parts of your STEMN user profile using information in your Linkedin profile.</p><p>If you are unsure, you should make a copy of your STEMN profile\'s summary and education sections.</p></div></md-dialog-content><div class=md-actions layout=row><div flex></div><md-button ng-click=cancel()>Cancel</md-button><md-button class="md-raised md-warn" ng-click=finish()>Proceed</md-button></div><loading-overlay ng-if=loading></loading-overlay></md-dialog>')}]),angular.module("modules/authentication/tpls/login-local-modal.html",[]).run(["$templateCache",function(a){a.put("modules/authentication/tpls/login-local-modal.html",'<md-dialog class="md-full-screen loginRegisterModal"><md-toolbar style="background: transparent"><div class=md-toolbar-tools><md-button class=md-icon-button ng-click=back($event)><md-icon md-svg-icon=arrow-back aria-label=Back></md-icon></md-button><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form unsaved-warning-form novalidate ng-submit=loginLocal() name=LoginForm><md-dialog-content><div layout=column layout-align="center center" style="min-height: 80vh"><div class=dialog-container><h1 class=md-display-1>STEMN beta</h1><h4 class=text-lightgrey>Sign in to STEMN</h4><div class=text-left><md-input-container class=md-accent><label>Email</label><input name=email ng-model=login.email required type=email><div ng-messages=LoginForm.email.$error ng-if=LoginForm.email.$dirty><div ng-message=required>We\'ll be needing this...</div><div ng-message=email>That is not a valid email.</div></div></md-input-container><md-input-container class=md-accent><label>Password</label><input name=password ng-model=login.password required type=password><div ng-messages=LoginForm.password.$error ng-if=LoginForm.password.$dirty><div ng-message=required>If only the world was that simple... You\'ll need the password :)</div></div></md-input-container></div><div class=next-buttons layout=row layout-align="center center"><md-button flex-order=2 type=submit class="md-raised md-accent" ng-disabled=LoginForm.$invalid>Login</md-button><md-button flex-order=1 type=button ng-click=back($event)>Back</md-button></div></div><div class=info-container><p class=text-lightgrey>If you have previously logged in using a social account (LinkedIn or Facebook), you can create an email and password combo too, by visiting your settings panel after logging in socially.</p><p class=text-lightgrey>If you have forgotten your password you can <a class=underlined ng-click=recoverPassword($event)>recover it here.</a></p></div></div></md-dialog-content><loading-overlay ng-if=loading></loading-overlay></form></md-dialog>')}]),angular.module("modules/authentication/tpls/login-modal.html",[]).run(["$templateCache",function(a){a.put("modules/authentication/tpls/login-modal.html",'<md-dialog class="md-full-screen loginRegisterModal"><md-toolbar style="background: transparent"><div class=md-toolbar-tools><span flex></span><md-button class=md-icon-button ng-click=cancel($event)><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form unsaved-warning-form novalidate name=LoginForm><md-dialog-content><div layout=column layout-align="center center" style="min-height: 80vh"><div class=dialog-container layout=column layout-align="start center"><h1 class=md-display-1>{{data.title || \'STEMN beta\'}}</h1><h4 class=text-lightgrey ng-bind-html="data.subtitle || \'Sign in or create an account.\'"></h4><div layout=column><md-button hide-sm class="md-social md-linkedin" ng-click="authenticate(\'linkedin\');" layout=row layout-align="start center"><md-icon md-font-icon=fa-linkedin></md-icon><span flex>Continue with Linkedin</span></md-button><md-button class="md-social md-facebook" ng-click="authenticate(\'facebook\');" layout=row layout-align="start center"><md-icon md-font-icon=fa-facebook></md-icon><span flex>Continue with Facebook</span></md-button><md-button class="md-social md-email" ng-click=openRegister($event) layout=row layout-align="start center"><md-icon md-font-icon=fa-envelope></md-icon><span flex>Sign up with email</span></md-button></div><div class="text-lightgrey m-v-15">or</div><a ng-click=openLoginLocal($event) class=text-green>Log in with email</a></div><div class=info-container><p class=text-lightgrey>We\'ll never post to your LinkedIn or Facebook without your permission.</p><p class=text-lightgrey>Creating your account means you are agreeing to our <a class=underlined href=/terms>Terms of Service</a>. If you do not agree, you cannot use STEMN.</p></div></div></md-dialog-content><loading-overlay ng-if=loading></loading-overlay></form></md-dialog>')}]),angular.module("modules/authentication/tpls/recover-password-modal.html",[]).run(["$templateCache",function(a){a.put("modules/authentication/tpls/recover-password-modal.html",'<md-dialog class="md-full-screen loginRegisterModal"><md-toolbar style="background: transparent"><div class=md-toolbar-tools><md-button class=md-icon-button ng-click=back($event)><md-icon md-svg-icon=arrow-back aria-label=Back></md-icon></md-button><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form unsaved-warning-form novalidate ng-submit=submit() name=RecoverPasswordForm><md-dialog-content layout=column layout-align="center center"><div class=dialog-container><img src=/assets/images/authentication/changepassword.gif alt="Change Password" style="width: 200px"><h1 class=md-display-1>Lost password?</h1><h4 class=text-lightgrey>Put in your email and we\'ll send you a new password.</h4><div class=text-left><md-input-container class=md-accent><label>Email address</label><input name=email ng-model=data.email type=email required><div ng-messages=RecoverPasswordForm.email.$error ng-if=RecoverPasswordForm.email.$dirty><div ng-message=required>This is required.</div><div ng-message=email>That is not a valid email.</div></div></md-input-container></div><div class=next-buttons layout=row layout-align="center center"><md-button flex-order=2 type=submit class="md-accent md-raised" ng-disabled=RecoverPasswordForm.$invalid>Submit</md-button><md-button flex-order=1 type=button ng-click=back($event)>Back</md-button></div></div><div class=info-container><p class=text-lightgrey></p></div></md-dialog-content><loading-overlay ng-if=loading></loading-overlay></form><div class=md-actions layout=row></div></md-dialog>')}]),angular.module("modules/authentication/tpls/register-modal.html",[]).run(["$templateCache",function(a){a.put("modules/authentication/tpls/register-modal.html",'<md-dialog class="md-full-screen loginRegisterModal"><md-toolbar style="background: transparent"><div class=md-toolbar-tools><md-button class=md-icon-button ng-click=back($event)><md-icon md-svg-icon=arrow-back aria-label=Back></md-icon></md-button><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form unsaved-warning-form novalidate ng-submit=signupFormSubmit() name=RegisterForm><md-dialog-content><div layout=column layout-align="center center" style="min-height: 80vh"><div class=dialog-container><h1 class=md-display-1>STEMN beta</h1><h4 class=text-lightgrey>Sign up to STEMN. Your space adventure awaits.</h4><div class=text-left><div layout=row><md-input-container flex class=md-accent><label>First name</label><input name=firstname ng-model=data.firstname required ng-minlength=2 ng-maxlength=30><div ng-messages=RegisterForm.firstname.$error ng-if=RegisterForm.firstname.$dirty><div ng-message=required>This is required.</div><div ng-message=minlength>Bit short...</div><div ng-message=maxlength>Wow! too long...</div></div></md-input-container><md-input-container flex class=md-accent><label>Last name</label><input name=lastname ng-model=data.lastname required ng-minlength=2 ng-maxlength=30><div ng-messages=RegisterForm.lastname.$error ng-if=RegisterForm.lastname.$dirty><div ng-message=required>This is required.</div><div ng-message=minlength>Bit short...</div><div ng-message=maxlength>Wow! too long...</div></div></md-input-container></div><md-input-container class=md-accent><label>Email address</label><input name=email ng-model=data.email type=email required><div ng-messages=RegisterForm.email.$error ng-if=RegisterForm.email.$dirty><div ng-message=required>This is required.</div><div ng-message=email>That is not a valid email.</div></div></md-input-container><md-input-container class=md-accent><label>Password</label><input name=password ng-model=data.password type=password required ng-minlength=5 ng-maxlength=35><div ng-messages=RegisterForm.password.$error ng-if=RegisterForm.password.$dirty><div ng-message=required>This is required.</div><div ng-message=pattern>Sorry, that field name is invalid. You can\'t use the characters: / \\ [ ]</div><div ng-message=minlength>Bit short...</div><div ng-message=maxlength>Wow! too long...</div></div></md-input-container></div><div class=next-buttons layout=row layout-align="center center"><md-button flex-order=2 type=submit class="md-accent md-raised" ng-disabled=RegisterForm.$invalid>Sign Up</md-button><md-button flex-order=1 type=button ng-click=back($event)>Back</md-button></div></div><div class=info-container><p class=text-lightgrey>Creating your account means you are agreeing to our <a class=underlined href=/terms>Terms of Service</a>. If you do not agree, you cannot use STEMN.</p></div></div></md-dialog-content><loading-overlay ng-if=loading></loading-overlay></form></md-dialog>')}]),angular.module("modules/banner-header/banner-header.html",[]).run(["$templateCache",function(a){a.put("modules/banner-header/banner-header.html","<div class=banner-header ng-class=\"{'background-gradient-1' : !image, 'bounding-box' : image}\" ng-hide=close style=\"margin: 0px -15px; width: 110%\" ng-style=\"image && colour && {'background-image':'url('+image+'?size=banner-lg&crop=true),linear-gradient('+angle+','+colour[0]+' 10%, '+colour[1]+' 90%)'} ||\nimage && {'background-image':'url('+image+'?size=banner-lg&crop=true)'} ||\ncolour && {'background-image':'linear-gradient('+angle+','+colour[0]+' 10%, '+colour[1]+' 90%)'}\"></div><div class=\"{{text || 'white'}}\" ng-show=showClose><a class=close-top-right ng-click=\"close=true\">&times;</a></div><div class=\"overlay-child banner-header\" ng-hide=close lightbox=true lightbox-image=lightboxImage><div class=\"vertical-center-parent text-center\" style=margin:auto><div class=\"vertical-center-child {{text || 'white'}} ng-transclude\"></div></div></div><div class=expand-toggle ng-show=\"close==true\" ng-click=\"close=false\"></div>")}]),angular.module("modules/browser-info/tpls/bad-browser-modal.html",[]).run(["$templateCache",function(a){a.put("modules/browser-info/tpls/bad-browser-modal.html",'<md-dialog><md-dialog-content layout=row><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">We don\'t support your browser yet...</h1><p>Unfortunately, we are in beta and don\'t yet support all browsers. There could be bugs if you don\'t swap to a supported browser.</p><p>We recommend you use <a class=text-green href="https://www.google.com/chrome/browser/">Google Chrome</a></p></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button class="md-accent md-raised" ng-click=confirm()>Continue anyway</md-button></div></div></md-dialog>')}]),angular.module("modules/call-to-action/tpls/call-to-action.html",[]).run(["$templateCache",function(a){a.put("modules/call-to-action/tpls/call-to-action.html",'<div class="call-to-action card-z1 m-b-15" ng-include=banner.templateUrl></div>')}]),angular.module("modules/call-to-action/tpls/cta-map.html",[]).run(["$templateCache",function(a){a.put("modules/call-to-action/tpls/cta-map.html",'<div layout=row layout-align="start center"><div flex class=m-r-15><div class="md-title bold">Explore the map</div><p class=text-grey>Explore the STEMN map to find projects, organisations and jobs near you. See what\'s going on where.</p><md-button class="m-l-0 md-cornered md-accent" ui-sref=app.map>Explore the map</md-button></div><div style="width: 200px"><img class=w-100 src=/assets/images/explanation-modals/earth.svg alt=""></div></div>')}]),angular.module("modules/call-to-action/tpls/cta-project.html",[]).run(["$templateCache",function(a){a.put("modules/call-to-action/tpls/cta-project.html",'<div layout=row layout-align="start center"><div flex class=m-r-15><div class="md-title bold">Start a project</div><p class=text-grey>List your project on STEMN. Whether it is underway, complete or just an idea, STEMN lets you document projects at all stages.</p><md-button authenticate class="m-l-0 md-cornered md-accent" click-create>Create project</md-button></div><div style="width: 200px"><img class=w-100 src=/assets/images/explanation-modals/droid.svg alt=""></div></div>')}]),angular.module("modules/call-to-action/tpls/cta-referrals.html",[]).run(["$templateCache",function(a){a.put("modules/call-to-action/tpls/cta-referrals.html",'<div layout=row layout-align="start center"><div flex class=m-r-15><div class="md-title bold">Refer your friends to STEMN</div><p class=text-grey>Signup friends and get awesome rewards including stickers and official t-shirts. Help our community grow and increase collaboration in science and engineering.</p><md-button class="m-l-0 md-cornered md-accent" ui-sref=app.referrals>Get your referral code</md-button></div><div style="width: 200px"><img class=w-100 src=/assets/images/swag/white-shirt-sm.jpg alt=""></div></div>')}]),angular.module("modules/cards/tpls/creation-card.html",[]).run(["$templateCache",function(a){a.put("modules/cards/tpls/creation-card.html",'<div layout=column class=rel-box><div ng-if="size!=\'small\'" flex class=creation-card layout=column><a md-ink-ripple ng-href={{url}} class="picture bounding-box" ng-style="(entity.picture || picture) && {\'background-image\':\'url(\'+(entity.picture || picture) +\'?size=project-card&crop=true)\'}"></a><div flex class="content ellipsis-container" layout=column><a ng-href={{url}} class=title>{{entity.name | letters: 55}}</a><div flex class=sub>{{entity.blurb | letters: 150}}</div><div class=m-v-15><tags edit=false size=sm tags=entity.fields type=field limit=3 one-line=true></tags></div><div layout=row><organisation-images organisations=entity.organisations limit=2></organisation-images><div ng-if="entity.organisations.length>0" class=divider-v></div><team-images team=team limit=2 class=stacked></team-images><div flex></div><div layout=row layout-align="start center" class=text-lightgrey><stat-button type=like parent-type={{entity.type}} parent-id={{entity._id}} count=entity.likes display-style=circle style="margin-right: -3px"></stat-button><a class=count stat-display-modal parent-id={{entity._id}} parent-type={{entity.type}} type=like>{{entity.likes || 0}}</a><md-button class="md-icon-button md-sm" aria-label=comments style="margin-right: -3px" ng-href={{url}}#reply><md-icon md-svg-icon=response></md-icon></md-button><a class=count ng-href={{url}}#responses>{{entity.numPosts || entity.numComments || 0}}</a></div></div></div></div><div ng-if="size==\'small\'" flex class="creation-card small" layout=column><a md-ink-ripple ng-href={{url}} class="picture bounding-box" ng-style="(entity.picture || picture) && {\'background-image\':\'url(\'+(entity.picture || picture) +\'?size=project-card&crop=true)\'}"></a><div flex class="content ellipsis-container" layout=column><a ng-href={{url}} class=title>{{entity.name}}</a> <a ng-href={{url}} class="more text-green">Read More</a></div></div><loading-overlay ng-if=loading ng-class="{\'translucent\' : items.length > 0}"></loading-overlay></div>')}]),angular.module("modules/cards/tpls/organisation-card.html",[]).run(["$templateCache",function(a){a.put("modules/cards/tpls/organisation-card.html",'<div layout=column><div flex class=organisation-card layout=column><a md-ink-ripple ui-sref="app.organisation.overview({\'stub\':entity.stub})" class="avatar-contain avatar-100 square" style="background-image:url({{ entity.picture || \'/assets/images/default/org.png\' }}?size=thumb-lg)"></a><div flex class="p-15 text-center" layout=column layout-align="start center"><a flex class="title m-b-30" ui-sref="app.organisation.overview({\'stub\':entity.stub})">{{entity.name}}</a><div hidepublic><stat-button hide-stat=true hide-icon=true type=follow parent-type=organisation parent-id={{entity._id}} count=entity.followers class="lg m-b-15"></stat-button></div></div></div></div>')}]),angular.module("modules/carousel/tpls/carousel.html",[]).run(["$templateCache",function(a){a.put("modules/carousel/tpls/carousel.html",'<div class="carousel rel-box"><div ng-show="$index == activeSlide" ng-repeat="slide in slides" class="slide overlay-child bg-img-cover" ng-style="slide.image && {\'background-image\': \'url(\'+slide.image+\')\'}"></div><div class="text-overlay overlay-child darked" layout=column layout-align="center center" ng-transclude></div></div>')}]),angular.module("modules/checklist/tpls/checklist-item.html",[]).run(["$templateCache",function(a){a.put("modules/checklist/tpls/checklist-item.html",'<div class=checklist-item ng-class="{\'complete\':itemComplete}" layout=row layout-align="start center"><md-icon md-svg-icon=done></md-icon><div flex><a ng-href={{itemHref}} ng-click=itemClick($event) ng-transclude></a></div></div>')}]),angular.module("modules/code-mirror/tpls/code-mode.html",[]).run(["$templateCache",function(a){a.put("modules/code-mirror/tpls/code-mode.html",'<md-select ng-model=mode placeholder=Mode><md-option ng-repeat="possibleMode in codeModes" value={{possibleMode.path}}>{{possibleMode.name}}</md-option></md-select>')}]),angular.module("modules/code-mirror/tpls/latex-input.html",[]).run(["$templateCache",function(a){a.put("modules/code-mirror/tpls/latex-input.html",'<textarea ui-codemirror=options ng-model=content placeholder="Write LaTeX math code in here. eg: e^{i \\pi} + 1 = 0"></textarea>')}]),angular.module("modules/components/tpls/back-button.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/back-button.html",'<md-button class=md-icon-button aria-label=back style=position:absolute;top:0;left:0;margin-left:-50px ng-click=back()><md-icon md-svg-icon=arrow-back style="color: rgba(0, 0, 0, 0.15); width: 20px"></md-icon></md-button>')}]),angular.module("modules/components/tpls/collapsed-section.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/collapsed-section.html",'<div class=collapsed-section ng-style=sectionStyles><ng-transclude></ng-transclude><div class=white-fader ng-hide="openStatus || disabled"></div></div><div ng-hide=disabled layout=column><a ng-show=!openStatus ng-click="openStatus = true" class="text-green m-v-10">{{verb || \'See\'}} more...</a> <a ng-show=" openStatus" ng-click="openStatus = false" class="text-green m-v-10">{{verb || \'See\'}} less...</a></div>')}]),angular.module("modules/components/tpls/confirm-modal.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/confirm-modal.html",'<md-dialog><md-dialog-content layout=row layout-align="center center"><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">{{ data.confirmTitle || \'Are you sure?\'}}</h1><p ng-bind-html="data.confirmBody || \'There will be no turning back.\'"></p></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button ng-click=cancel()>{{data.confirmNo || \'No\'}}</md-button><md-button class="md-accent md-raised" ng-click=confirm()>{{data.confirmYes || \'Yes\'}}</md-button></div></div></md-dialog>')}]),angular.module("modules/components/tpls/edit-button1.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/edit-button1.html",'<div hidepublic class=edit-buttons><div class=edit><div ng-hide="form.$visible || hideEdit"><md-button ng-click=edit() class="md-circle md-sm" aria-label=edit><md-icon md-svg-src=edit></md-icon><md-tooltip>Edit</md-tooltip></md-button></div><div ng-show=form.$visible><md-button ng-click=cancel() class="md-circle md-sm" aria-label=close><md-icon md-svg-src=close></md-icon><md-tooltip>Close</md-tooltip></md-button></div></div></div>')}]),angular.module("modules/components/tpls/fat-tabs.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/fat-tabs.html",'<div layout=row layout-align=center><div layout=row class=md-content-container style="padding: 0px" ng-transclude></div></div>')}]),angular.module("modules/components/tpls/field-image.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/field-image.html","<md-button class=\"md-circle field-image md-sm md-border-light\" ui-sref=\"app.field.top({'stub': imageStub})\" popup popup-content=\"<field-card id='{{imageId}}' size='sm'></field-card>\" popup-fixed-bottom=popupFixedBottom aria-label=Field style=\"background-image: url('{{src || '/assets/images/default/square.png'}}?size=thumb&crop=true'); border-radius: 3px !important\"></md-button>")}]),angular.module("modules/components/tpls/organisation-image.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/organisation-image.html","<md-button class=\"md-circle organisation-image md-sm md-border-light\" ui-sref=\"app.organisation.overview({'stub': imageStub})\" popup popup-content=\"<organisation-card id='{{imageId}}' size='sm'></organisation-card>\" popup-fixed-bottom=popupFixedBottom aria-label=Organisation style=\"background-image: url('{{src || '/assets/images/default/user-1.png'}}?size=thumb'); border-radius: 3px !important\"></md-button>");
}]),angular.module("modules/components/tpls/organisation-images.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/organisation-images.html",'<div class=organisation-images><a ng-repeat="member in organisations | limitTo: limit" popup popup-content="<card card-type=\'organisation\' card-id=\'{{member._id}}\'></card>" ng-href=org/{{member.stub}} class="p-2 inline"><div class=avatar-square-contain style="background-image:url({{member.picture}}?size=thumb)"></div></a></div>')}]),angular.module("modules/components/tpls/preview-gallery.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/preview-gallery.html",'<form name=GalleryForm class="preview-gallery edit-box"><div class="rel-box overflow-box"><edit-button ng-show="showEdit && gallery.length > 0" inline=false form=GalleryForm edit-fn="editGallery($event, gallery);" save-fn=saveFn></edit-button><div layout=column ng-show="gallery.length > 0"><div class=preview ng-style="gallery[previewIndex].url && {\'background-image\':\'url(\'+gallery[previewIndex].url+\'?size=slider&crop=true)\'}" lightbox=true lightbox-image=gallery[previewIndex].url></div><div layout=row ng-show="gallery.length > 1"><div class=thumb ng-repeat="item in gallery" ng-style="item.url && {\'background-image\':\'url(\'+item.url+\'?size=slider&crop=true)\'}" ng-mouseenter="$parent.previewIndex = $index" lightbox=true lightbox-image=item.url></div></div></div><div layout=column ng-show="gallery.length == 0 && showEdit"><div class=well><a authenticate ng-click="editGallery($event, gallery)" class=text-green>Click here</a> to add gallery images to this organisation</div></div></div></form>')}]),angular.module("modules/components/tpls/project-image.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/project-image.html","<md-button class=\"md-circle project-image md-sm md-border-light\" ui-sref=\"app.project.overview({'stub': imageStub})\" popup popup-content=\"<creation-card entity-id='{{imageId}}' size='small'></creation-card>\" popup-fixed-bottom=popupFixedBottom aria-label=Organisation style=\"background-image: url('{{src || '/assets/images/default/user-1.png'}}?size=thumb&crop=true'); border-radius: 3px !important\"></md-button>")}]),angular.module("modules/components/tpls/section-colour.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/section-colour.html",'<div class=section ng-style={background:colour}><div class=container><div class="row ng-transclude"></div></div></div>')}]),angular.module("modules/components/tpls/settings-button.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/settings-button.html",'<md-menu hidepublic md-position-mode="target-right target" ng-class="{\'above\' : above}"><md-button class="md-circle md-xs no-margin" aria-label=Settings ng-click=$mdOpenMenu();><md-icon md-svg-src=more-h></md-icon><md-tooltip md-direction=bottom md-autohide=true>Edit and Settings</md-tooltip></md-button><md-menu-content width=2 ng-transclude></md-menu-content></md-menu>')}]),angular.module("modules/components/tpls/team-images.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/team-images.html",'<div><div ng-if="link!=\'false\'" class=team-images layout=row><a ng-repeat="member in team | limitTo: limit-1" popup popup-content="<card card-type=\'user\' card-id=\'{{member._id}}\'></card>" ng-href=users/{{member.stub}} class="p-2 inline"><div class=avatar-circle style="background-image:url({{member.picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true)"></div></a> <a ng-if="limit == team.length" popup popup-content="<card card-type=\'user\' card-id=\'{{team[limit-1]._id}}\'></card>" ng-href=users/{{team[limit-1].stub}} class="p-2 inline"><div class=avatar-circle style="background-image:url({{team[limit-1].picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true)"></div></a> <a ng-if="team.length > limit" class="p-2 inline" ng-click=showMore()><md-tooltip md-direction=top md-autohide=true>{{team.length-limit+1}} more team members</md-tooltip><div class="avatar-circle text-lightgrey" layout=column layout-align="center center" style="background: rgb(230, 230, 230)"><div>+{{team.length-limit+1}}</div></div></a></div><div ng-if="link==\'false\'" class=team-images layout=row><div ng-repeat="member in team | limitTo: limit-1" class="p-2 inline"><div class=avatar-circle style="background-image:url({{member.picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true)"></div></div><div ng-if="limit == team.length" class="p-2 inline"><div class=avatar-circle style="background-image:url({{team[limit-1].picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true)"></div></div><div ng-if="team.length > limit" class="p-2 inline"><md-tooltip md-direction=top md-autohide=true>{{team.length-limit+1}} more team members</md-tooltip><div class="avatar-circle text-lightgrey" layout=column layout-align="center center" style="background: rgb(230, 230, 230)"><div>+{{team.length-limit+1}}</div></div></div></div></div>')}]),angular.module("modules/components/tpls/team-text.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/team-text.html",'<span ng-repeat="member in team | limitTo: limit"><span ng-if="$last && team.length <= limit && $index != 0">&nbsp;and</span><span ng-hide="$first || ($last && team.length <= limit)">,</span><a popup popup-content="<card card-type=\'user\' card-id=\'{{member._id}}\'></card>" ng-href=users/{{member.stub}}>&nbsp;{{member.name}}</a></span> <span ng-if="team.length>limit">and {{team.length-limit}} more.</span>')}]),angular.module("modules/components/tpls/user-image.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/user-image.html","<md-button class=\"md-circle user-image md-sm\" ng-if=imageId ui-sref=\"app.user.profile({'stub': imageStub})\" popup popup-content=\"<personcard id='{{imageId}}' size='sm'></personcard>\" popup-fixed-bottom=popupFixedBottom aria-label=User style=\"background-image: url('{{src || '/assets/images/default/user-1.png'}}?size=thumb&crop=true')\"></md-button><md-button class=\"md-circle user-image md-sm no-pointer\" ng-if=!imageId aria-label=User style=\"background-image: url('{{src || '/assets/images/default/user-1.png'}}?size=thumb&crop=true')\"></md-button>")}]),angular.module("modules/components/tpls/user-input.html",[]).run(["$templateCache",function(a){a.put("modules/components/tpls/user-input.html",'<div class=user-input ng-class="status.active ? \'active\' : \'inactive\'" ng-click="status.active = true"><div class=header layout=row layout-align="start center" authenticate style="outline: none"><user-image class=m-r-15 src=user.picture></user-image><div class=text-switch flex><div ng-class="{\'active\':status.active}"><p class="m-v-0 text-lightgrey">{{::placeholder || typeInfo.inputPlaceholder || \'Ask a Question...\'}}</p><p class="m-v-0 text-green">{{user.name}}<span class=text-lightgrey>&nbsp;{{titleText}}</span></p></div></div></div><div ng-if=status.active class=collapse-details><modular-editor class="editor-compact minimal" editor-sections=sectionData.model editor-options=editorOptions edit=true focus=status.active></modular-editor><div ng-show=status.active class=anim-fade-quick layout=column layout-gt-sm=row layout-align-gt-sm="start center"><div flex><md-radio-group ng-if="radioDetails.options.length>1" layout=row layout-align="start center" ng-model=radioDetails.selected><md-radio-button ng-repeat="option in radioDetails.options" value={{option.val}}>{{option.title}}</md-radio-button></md-radio-group></div><md-button class="md-raised md-accent md-flat md-cornered m-0" ng-click=submit()>{{::saveText || \'Submit\'}}</md-button></div></div></div>')}]),angular.module("modules/contributors/tpls/contributors.html",[]).run(["$templateCache",function(a){a.put("modules/contributors/tpls/contributors.html",'<div infinite-scroll=more() infinite-scroll-distance=1 infinite-scroll-disabled=loading><div class=rel-box><user-row ng-repeat="item in results" item-id={{item}}></user-row></div><div class=text-no-results ng-show=noMoreResults>That\'s all there is.</div></div>')}]),angular.module("modules/core/tpls/core-entity-modal.html",[]).run(["$templateCache",function(a){a.put("modules/core/tpls/core-entity-modal.html",'<md-dialog aria-label=dialog><md-dialog-content><div class="md-content-container content-xs"><h1 class="md-headline m-t-0">{{options.title || \'Entities\'}}</h1><row-view ng-repeat="item in enitities" data=item></row-view></div></md-dialog-content></md-dialog>')}]),angular.module("modules/development/vertical-nav/vertical-nav.html",[]).run(["$templateCache",function(a){a.put("modules/development/vertical-nav/vertical-nav.html",'<div class="vertical-nav {{menu[activeIndex].color}}"><div ng-repeat="item in menu" du-scrollspy={{item.id}} offset={{halfWindowHeight}}><a ng-href=#{{item.id}} du-smooth-scroll offset=0><div class=dot></div><div class=tooltip>{{item.name}}</div></a></div></div>')}]),angular.module("modules/document-import/tpls/document-import.html",[]).run(["$templateCache",function(a){a.put("modules/document-import/tpls/document-import.html",'<div><div nv-file-drop="" uploader=uploader layout=row layout-align="center center"><div layout=column layout-align="center center" nv-file-over="" uploader=uploader over-class=drag-over class="drop text-center"><label class=btn-upload><input type=file accept=.docx class=upload nv-file-select="" uploader=uploader multiple> <span>Upload and convert .docx file</span></label><strong style="padding: 15px">OR</strong> Drag and Drop a file to upload</div></div><loading-overlay ng-if="uploader.progress > 0 && uploader.progress < 100" determinate=uploader.progress></loading-overlay><loading-overlay ng-if="uploader.progress == 100 && !uploader.queue[uploader.queue.length-1].file.url"></loading-overlay></div>')}]),angular.module("modules/dynamic-footer/tpls/dynamic-footer.html",[]).run(["$templateCache",function(a){a.put("modules/dynamic-footer/tpls/dynamic-footer.html",'<div class=dynamic-footer ng-if="$dynamicFooter.open && $dynamicFooter.enabled" compile-watch=$parent.$dynamicFooter.content scope=$parent.$dynamicFooter.scope></div>')}]),angular.module("modules/dynamic-footer/tpls/entity-footer.html",[]).run(["$templateCache",function(a){a.put("modules/dynamic-footer/tpls/entity-footer.html",'<div layout=row layout-align=center><div ng-if="entity.published && !showEdit" class="md-content-container md-no-padding" layout=row layout-align="start center"><stat-button display-style=circle type=like parent-type={{entity.type}} parent-id={{entity._id}} count=entity.likes class=green></stat-button><a stat-display-modal type=like parent-type={{entity.type}} parent-id={{entity._id}} class="text-lightgrey count">{{entity.likes || 0}}</a><md-button class="md-icon-button md-sm m-0" aria-label=comments scroll-highlight=reply><md-tooltip md-direction=top md-autohide=true>Comment</md-tooltip><md-icon md-svg-icon=response></md-icon></md-button><a class="text-lightgrey count" scroll-highlight=responses>{{entity.posts.length || 0}}</a><stat-button hide-sm entity-text={{altType}} type=follow parent-type={{entity.type}} parent-id={{entity._id}} count=entity.followers class="lg m-l-15"></stat-button><div flex></div><social-share-buttons></social-share-buttons></div><div ng-if="entity.published && showEdit" class="md-content-container md-no-padding" layout=row layout-align="start center"><stat-button display-style=circle type=like parent-type={{entity.type}} parent-id={{entity._id}} count=entity.likes class=green></stat-button><a stat-display-modal type=like parent-type={{entity.type}} parent-id={{entity._id}} class="text-lightgrey count">{{entity.likes || 0}}</a><md-button class="md-icon-button md-sm m-0" aria-label=comments scroll-highlight=reply><md-tooltip md-direction=top md-autohide=true>Comment</md-tooltip><md-icon md-svg-icon=response></md-icon></md-button><a class="text-lightgrey count" scroll-highlight=responses>{{entity.posts.length || 0}}</a><stat-button hide-sm entity-text={{altType}} type=follow parent-type={{entity.type}} parent-id={{entity._id}} count=entity.followers class="lg m-l-15"></stat-button><div flex></div><md-button hide-sm class="md-accent md-border md-cornered" ng-click=editFn()>Edit</md-button><social-share-buttons></social-share-buttons></div><div ng-if="!entity.published && showEdit" class="md-content-container md-no-padding" layout=row layout-align="start center"><div flex class="ellipsis text-lightgrey"><b>Important:</b> This {{altType}} has not been published yet.</div><md-button class="md-accent md-border md-cornered" ng-click=editFn()>Edit</md-button><md-button hide-sm class="md-raised md-accent md-flat md-border-green md-cornered m-0" ng-click=publishFn($event)>Publish {{altType}}</md-button><md-button publish-share-link={{entity._id}} class="md-icon-button m-0 md-grey md-sm" aria-label=share><md-icon md-svg-icon=share></md-icon><md-tooltip md-direction=top md-autohide=true>Share Private Link</md-tooltip></md-button></div><div ng-if="!entity.published && !showEdit" class="md-content-container md-no-padding" layout=column layout-align=center><div class="ellipsis text-lightgrey text-center">You have been given a private link to this page. Only people with the link can see it.</div></div></div>')}]),angular.module("modules/edit-toolbar/tpls/edit-toolbar.html",[]).run(["$templateCache",function(a){a.put("modules/edit-toolbar/tpls/edit-toolbar.html",'<div layout=row layout-align="start center" ng-transclude></div>')}]),angular.module("modules/edit-toolbar/tpls/save-button.html",[]).run(["$templateCache",function(a){a.put("modules/edit-toolbar/tpls/save-button.html",'<md-button ng-click=save() class="md-accent md-border md-cornered"><span ng-show="status == \'unsaved\'" ng-transclude></span> <span ng-show="status == \'saved\'">Saved</span> <span ng-show="status == \'saving\'">Saving<loading-dots></loading-dots></span></md-button>')}]),angular.module("modules/editor/tpls/insert-link-modal.html",[]).run(["$templateCache",function(a){a.put("modules/editor/tpls/insert-link-modal.html",'<md-dialog><form novalidate name=LinkForm ng-submit=save()><md-dialog-content layout=row layout-align="center center"><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px; margin-bottom: 40px">So, what\'s the Url?</h1><md-input-container class=md-accent><label>Website Url</label><input name=link ng-model=link focus-me=true required ng-minlength=10 ng-maxlength=200 ng-pattern="/((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/"><div ng-messages=LinkForm.link.$error ng-if=LinkForm.link.$dirty><div ng-message=required>This is required.</div><div ng-message=minlength>A little short don\'t you think?</div><div ng-message=maxlength>Wow, that is a long Url... Too long...</div><div ng-message=pattern>Sorry, that isn\'t a valid Url... Make sure you include http://</div></div></md-input-container></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button type=button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised" ng-disabled=LinkForm.$invalid>Insert</md-button></div></div></form></md-dialog>')}]),angular.module("modules/editor/tpls/reply-editor.html",[]).run(["$templateCache",function(a){a.put("modules/editor/tpls/reply-editor.html",'<div attention-animation animate-toggle={{animate}} class="reply-editor content-md" ng-class="{\'minimised\' : editor.minimised}" ng-if=editor.visible><md-container><div class=rel-box><form novalidate name=replyForm ng-submit=submit() style="margin-top: 20px"><div class=top-right layout=row><div ng-show=editor.minimised><md-button type=button class="md-circle md-xs no-margin" ng-click=editor.show()><md-icon md-svg-icon=add></md-icon><md-tooltip md-direction=top md-autohide=true>Maximise</md-tooltip></md-button></div><div ng-hide=editor.minimised><md-button type=button class="md-circle md-xs no-margin" ng-click="editorOptions.showHelp = !editorOptions.showHelp"><md-icon md-svg-icon=help></md-icon><md-tooltip md-direction=top md-autohide=true>Help with editor</md-tooltip></md-button><md-button type=button class="md-circle md-xs no-margin" ng-click=editor.minimise()><md-icon md-svg-icon=remove></md-icon><md-tooltip md-direction=top md-autohide=true>Minimise</md-tooltip></md-button></div><md-button type=button class="md-circle md-xs no-margin" ng-click=closeFn()><md-icon md-svg-icon=close></md-icon><md-tooltip md-direction=top md-autohide=true>Close</md-tooltip></md-button></div><modular-editor class="editor-compact md-content-container content-sm" style="min-height: 120px; max-height: 90vh; margin: auto; overflow-y: auto" editor-sections=editor.model editor-options=editorOptions edit=true></modular-editor><div layout=row><div flex></div><md-button type=submit class="md-accent md-raised no-margin" ng-disabled=replyForm.$invalid>{{editor.submitText}}</md-button></div></form></div></md-container></div>')}]),angular.module("modules/error-handling/tpls/error-modal.html",[]).run(["$templateCache",function(a){a.put("modules/error-handling/tpls/error-modal.html",'<md-dialog aria-label=error><md-dialog-content style="width: 500px"><h1 class=md-headline style="margin-top: 0px">{{data.title}}</h1><p ng-bind-html=data.body></p></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button ng-click=cancel() ng-show=data.cancelText>{{data.cancelText}}</md-button><md-button class="md-accent md-raised" ng-click=confirm()>{{data.confirmText || \'Ok\'}}</md-button></div></div></md-dialog>')}]),angular.module("modules/explanation-modals/tpls/explanation-modal.html",[]).run(["$templateCache",function(a){a.put("modules/explanation-modals/tpls/explanation-modal.html",'<md-dialog class=explanation-modal><div class=banner style="background-color: #000031" layout=row layout-align="center center"><img src={{modal.image}}></div><md-dialog-content><div layout=column layout-align="start center"><h1 class="md-headline m-0 text-center">{{modal.title}}</h1><div class=content ng-bind-html=modal.body></div><md-button class="md-raised md-flat md-accent md-cornered md-md" ng-click=cancel()>{{modal.buttonText}}</md-button></div></md-dialog-content></md-dialog>')}]),angular.module("modules/feed/tpls/card-feed.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/card-feed.html",'<div class="card-feed m-b-60 rel-box overflow-x-box"><div layout=row layout-wrap style="margin: 0 -15px"><creation-card flex=33 flex-md=50 flex-sm=100 style="padding: 0 15px 30px" ng-repeat="item in query.results" entity=item.data></creation-card></div><div ng-hide="query.notEnoughResults || hideMore"><a class=well-button layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? messageNoMore : messageMore}}</div></a></div><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay></div>')}]),angular.module("modules/feed/tpls/feed-item.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/feed-item.html",'<div class=rel-box id={{id}} style="min-height: 130px"><loading-feed ng-if=loading></loading-feed><div ng-if=!loading layout=column><div class=header-block hide-sm><span class=capitalise>{{::altType}}</span> <span ng-show="::fields.length>0">&nbsp;tagged in:</span><item-fields fields=::fields limit=3></item-fields></div><div layout=row layout-sm=column><div flex flex-order-sm=2><h2 class=item-title><a ui-sref={{::sref}}>{{::title}}</a></h2><div class=item-description><a ui-sref={{::sref}} ng-bind-html=blurb></a></div></div><div flex-order-sm=1><item-image ng-if=::image><a ui-sref={{::sref}}><div ng-style="::image && {\'background-image\': \'url(\'+image+\'?size=feed-sm&crop=true)\'}"></div></a></item-image></div></div><div layout=row layout-align="space-between center"><item-owner class=ellipsis-container flex avatar={{avatar}} type={{ownerType}} owner-stub={{ownerStub}} owner-id={{ownerId}}><h3><a ui-sref={{::ownerSref}} class="text-green ellipsis inline">{{owner}}</a></h3><div class="sub ellipsis"><a ng-if="subOwnerSref && subOwner" ui-sref={{::subOwnerSref}}>{{::subOwner}}</a> <span ng-if=::subOwner class=interpunct></span> <a ui-sref={{::sref}}>{{::timeDesc}} <span am-time-ago=::time></span></a></div></item-owner><div class=stats layout=row layout-align="start center"><stat-button type=like parent-type={{type}} parent-id={{id}} count=likes.num display-style=circle class=green style="margin-right: -3px"></stat-button><a class=count stat-display-modal parent-id={{::id}} parent-type={{::type}} type=like>{{likes.num || 0}}</a><md-button class="md-icon-button md-sm" aria-label=comments ui-sref={{::srefComments}} style="margin-right: -3px"><md-icon md-svg-icon=response></md-icon></md-button><a class=count ui-sref={{::srefComments}}>{{::numPosts || 0}}</a></div></div></div></div>')}]),angular.module("modules/feed/tpls/feed-loading.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/feed-loading.html",'<div class=loading-item style="margin-bottom: 20px"><div class=loading-animation layout=column><div class=header-block hide-sm><div class="loading-text sm"></div></div><div layout=row layout-sm=column><div flex flex-order-sm=2><h2 class=item-title><div class="loading-text lg"></div></h2><div class=item-description><div class="loading-text wide"></div><div class="loading-text wide"></div><div class="loading-text md"></div></div></div><div flex-order-sm=1><item-image><div class=loading></div></item-image></div></div><div layout=row layout-align="start center"><div class=loading-avatar style="margin-right: 10px"></div><div layout=column><div><div class="loading-text md"></div></div><div><div class="loading-text sm"></div></div></div></div></div></div>')}]),angular.module("modules/feed/tpls/feed-recommend.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/feed-recommend.html","<md-menu-item show-if-admin><md-button ng-click=recommend()>Recommend</md-button></md-menu-item>")}]),angular.module("modules/feed/tpls/feed-widget-timeline.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/feed-widget-timeline.html",'<div class=feed-widget-timeline layout=column><div class=well-box layout=column><div class=text-lightgrey ng-show="query.results.length == 0">{{typeInfo.empty}} <a ng-show=showEdit ng-click="typeInfo.inputFn($event, inputFnData)" class=text-green>Add one.</a></div><div class="feed-widget-item anim-repeat-stagger-fade" ng-repeat="item in query.results | limitTo: 3" layout=row><dot class=dot-lg><md-tooltip md-direction=left md-autohide=true>Updated <span am-time-ago=item.data.updated></span></md-tooltip></dot><a class=text flex ui-sref={{item.data.sref}} layout=column><div>{{item.data.name}}</div><div class=text-lightgrey>{{item.data.owner.name}}</div></a></div></div><a ng-show="query.results.length > 3" ui-sref={{typeInfo.moreSref}} class="text-green text-right m-t-15">See more</a></div>')}]),angular.module("modules/feed/tpls/feed-widget.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/feed-widget.html",'<div class=well style="margin-bottom: 20px" layout=column><div ng-show="query.results.length > 0" layout=column><a ui-sref={{typeInfo.moreSref}} class="heading underline capitalise">Latest {{type}}</a><div><a class=feed-widget-item ng-repeat="item in query.results" ui-sref={{item.data.sref}} md-ink-ripple><div clamp=2>{{item.data.name}}</div><div layout=row layout-align="start center" class="text-lightgrey meta"><div flex am-time-ago=item.data.updated></div><div>{{item.data.numComments + item.data.numPosts}}</div><md-icon md-svg-icon=response><md-tooltip md-direction=right md-autohide=true>Replies</md-tooltip></md-icon></div></a></div></div><div class=text-lightgrey ng-show="data.length == 0">No {{type}} yet. <a ng-show=showEdit ng-click="typeInfo.inputFn($event, inputFnData)" class=text-green>Add one.</a></div><a ng-show="!showEdit && query.results.length >= 3" ui-sref={{typeInfo.moreSref}} class="text-green text-right">See more</a><md-button ng-show="showEdit && query.results.length>0" class="md-accent md-raised md-cornered capitalise no-margin" ng-click="typeInfo.inputFn($event, inputFnData)">{{typeInfo.inputPlaceholder}}</md-button></div>')}]),angular.module("modules/feed/tpls/feed.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/feed.html",'<md-container ng-if=!contained><md-divider ng-if="!typeInfo.inputPlaceholder || parentType == \'user\'"></md-divider><user-input ng-if=" typeInfo.inputPlaceholder && parentType != \'user\' && ! hideInput" placeholder={{typeInfo.inputPlaceholder}} section-data=sectionData save-fn=newEntitySubmit() save-text="Save Draft" radio-details=radioDetails></user-input></md-container><div ng-if=!contained class=feed infinite-scroll=query.more() infinite-scroll-distance=1 infinite-scroll-disabled="query.loading || query.noMoreResults"><div ng-repeat="item in query.results"><div layout=row layout-align=center><div class="md-content-container md-no-padding"><feed-item data=item size={{size}}></feed-item></div></div></div><md-container ng-show=querynoMoreResults><div class=text-no-results><span ng-show="query.results.length > 0">{{typeInfo.noMoreMulti}}</span> <span ng-hide="query.results.length > 0">{{typeInfo.noMoreSingular}}</span> <span ng-show=showEdit class=text-green><a class=underlined ng-click="typeInfo.inputFn($event, inputFnData)">Create One</a></span></div></md-container></div><div ng-if=contained class=feed infinite-scroll=query.more() infinite-scroll-distance=1 infinite-scroll-disabled="query.loading || query.noMoreResults"><user-input ng-if=" typeInfo.inputPlaceholder && parentType != \'user\' && ! hideInput" class=m-b-15 placeholder={{typeInfo.inputPlaceholder}} section-data=sectionData save-fn=newEntitySubmit() save-text="Save Draft" radio-details=radioDetails></user-input><div ng-repeat="item in query.results"><feed-item data=item size={{size}}></feed-item><call-to-action ng-if="($index+1) % 10 == 0 && parentType != \'user\'"></call-to-action></div><div ng-show=query.noMoreResults><div class=text-no-results><span ng-show="query.results.length > 0">{{typeInfo.noMoreMulti}}</span> <span ng-hide="query.results.length > 0">{{typeInfo.noMoreSingular}}</span></div></div></div>')}]),angular.module("modules/feed/tpls/item-fields.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/item-fields.html",'<span ng-repeat="field in fields | limitTo: limit"><span ng-show="$last && fields.length <= limit && $index != 0">&nbsp;and</span><span ng-hide="$first || ($last && fields.length <= limit)">,</span>&nbsp;<a ui-sref={{field.sref}} class=text-green>{{field.name}}</a></span> <span ng-show="fields.length>limit">and {{fields.length-limit}} more.</span>')}]),angular.module("modules/feed/tpls/item-image.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/item-image.html","<div class=item-image md-ink-ripple ng-transclude></div>")}]),angular.module("modules/feed/tpls/item-owner.html",[]).run(["$templateCache",function(a){a.put("modules/feed/tpls/item-owner.html","<div class=item-owner layout=row><div class=image><user-image src=::avatar image-id={{::ownerId}} image-stub={{::ownerStub}} ng-if=\"type=='user'\"></user-image><organisation-image src=::avatar image-id={{::ownerId}} image-stub={{::ownerStub}} ng-if=\"type=='organisation'\"></organisation-image><project-image src=::avatar image-id={{::ownerId}} image-stub={{::ownerStub}} ng-if=\"type=='project'\"></project-image></div><div class=ellipsis-container flex ng-transclude></div></div>")}]),angular.module("modules/fields/tpls/field-card.html",[]).run(["$templateCache",function(a){a.put("modules/fields/tpls/field-card.html",'<div class="card field-card relative-box" ng-class="{\'card-sm\' : (size==\'sm\'), }"><a class=banner ng-href=/fields/{{data.stub}}><div class=bounding-box ng-style="data.banner.url && {\'background-image\':\'url(\'+data.banner.url+\'?size=banner-sm&crop=true)\'}" ng-class="{\'background-gradient-1\' : !data.banner.url}"></div></a><div class=content><div class=name><a ng-href=/fields/{{data.stub}}>{{data.name}}</a></div><stat-button hide-stat=false size=sm type=follow parent-type=field parent-id={{data._id}} count=data.followers></stat-button><a style=margin-left:5px ng-href="/fields/{{data.stub}}?tab=projects" class="btn btn-white btn-sm">{{data.numProjects}} Project<span ng-hide="data.numProjects == 1">s</span></a></div><div class="card-loading-overlay anim-fade" ng-show=loading></div></div>')}]),angular.module("modules/fields/tpls/field-new-modal.html",[]).run(["$templateCache",function(a){a.put("modules/fields/tpls/field-new-modal.html",'<md-dialog><form unsaved-warning-form novalidate name=NewFieldForm><md-dialog-content><div class="md-content-container content-xs"><h1 class=md-headline style="margin-top: 0px">Add a new field</h1><br><br><md-input-container class=md-accent><label>Field Name</label><input name=name ng-model=data.name required ng-pattern="/[a-zA-Z0-9 !#.,\'\\-\\(\\)]*/" ng-keyup=checkFieldExists(data.name)><div ng-messages=NewFieldForm.name.$error ng-if=NewFieldForm.name.$dirty><div ng-message=required>This is required.</div><div ng-message=pattern>Sorry, that field name is invalid. You can\'t use the characters: / \\ [ ]</div><div ng-message=fieldexists>A field with that name already exists. Try another.</div></div></md-input-container><md-input-container class=md-accent><label>Description</label><textarea name=blurb ng-model=data.blurb columns=1 md-maxlength=500 focus-me=true></textarea></md-input-container><div class=md-dialog-footer layout=row><div flex></div><div><md-button ng-click=cancel()>Cancel</md-button><md-button style="margin-right: 0px" class="md-accent md-raised" ng-disabled=NewFieldForm.$invalid ng-click=save()>Save</md-button></div></div></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/following/tpls/following-detailed.html",[]).run(["$templateCache",function(a){a.put("modules/following/tpls/following-detailed.html",'<div class="line-divider-bottom m-v-30" layout=row ng-if=showDivider><div class=md-subhead flex>{{typeInfo.typeTitle}}</div></div><row-view ng-repeat="item in query.results" data=item></row-view><div ng-hide="query.notEnoughResults || hideMore"><a class="well-button m-t-30" layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? \'No more results\' : \'Load more\'}}</div></a></div><div ng-show="items.length==0" class=text-lightgrey><div ng-show=showEdit>You are not following any {{typeInfo.typeTitle}} yet. <a ui-sref={{typeInfo.followSome}} class=text-green>Follow some!</a></div><div ng-show=!showEdit>Nothing here yet.</div></div>')}]),angular.module("modules/footer/tpls/footer.html",[]).run(["$templateCache",function(a){a.put("modules/footer/tpls/footer.html",'<div class=main-footer layout=row layout-align=center ng-hide=LayoutOptions.footer.hideFooter><div class="md-content-container md-no-padding" layout=column><div layout=row layout-align=center class=m-b-15><div class=column layout=column><h3 class=md-subhead>Discover</h3><a href=/browse/projects>Ongoing Projects</a> <a href=/browse/questions>Questions</a> <a href=/browse/organisations>Organisations</a> <a href=/browse/fields>Fields</a> <a href=/browse/jobs>Jobs</a></div><div class=column layout=column><h3 class=md-subhead>STEMN</h3><a href=/landing>Landing Page</a> <a href=/how-it-works>How it works</a> <a href=/projects/stemn>About</a> <a href=/org/stemn/jobs>Careers</a></div><div hide-sm class=column layout=column><h3 class=md-subhead>Community</h3><a href=/partners>Partners</a> <a href=/blogs/community>Volunteer for STEMN</a></div><div hide-sm class=column layout=column><h3 class=md-subhead>Contact</h3><a href=/contact>Say Hello</a> <a href=/terms>Terms and Privacy</a></div></div><md-divider class=m-v-30></md-divider><div layout=column layout-align=center><div class="dark-grey text-center m-b-10">Join Us On</div><div class=m-b-10 layout=row layout-align="center center"><md-button href=https://www.facebook.com/stem.network class="md-icon-button md-sm m-0" target=_blank><md-icon class=s30 md-svg-icon=facebook></md-icon><md-tooltip md-direction=left md-autohide=true>Like us on Facebook</md-tooltip></md-button><md-button href=https://twitter.com/stem_network class="md-icon-button md-sm m-0" target=_blank><md-icon class=s30 md-svg-icon=twitter></md-icon><md-tooltip md-direction=right md-autohide=true>Like us on Twitter</md-tooltip></md-button></div><div class="dark-grey text-center">© STEMN Inc</div></div></div></div>');
}]),angular.module("modules/forum/tpls/forum.html",[]).run(["$templateCache",function(a){a.put("modules/forum/tpls/forum.html",'<div class="m-b-60 rel-box"><div class="md-table text-center"><div class=table-head><div class=table-row><div style="width: 40px"></div><div class=text-left>Topic</div><div style="width: 60px">Project</div><div style="width: 60px">Author</div><div style="width: 100px">Replies</div></div></div><a set-entity-href="item.type || item.entityType" entity-stub=item.stub class=table-row ng-repeat="item in query.results"><div style="padding: 15px 20px 15px 5px"><div class="avatar avatar-square-cover" ng-style="{ \'background-image\':\'url(\'+(item.picture || \'/assets/images/default/org.png\')+\'?size=thumb)\'}"></div></div><div class=text-left><div class=bold>{{item.name | letters: 70}}</div><div>{{item.blurb | letters: 70}}</div></div><div><div ng-if=item.project.name class="avatar-square-cover avatar-sm m-a" ng-style="{ \'background-image\':\'url(\'+(item.project.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"><md-tooltip md-direction=bottom md-autohide=true>{{item.project.name}}</md-tooltip></div></div><div><div class="avatar-circle avatar-sm m-a" ng-style="{ \'background-image\':\'url(\'+(item.owner.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"><md-tooltip md-direction=bottom md-autohide=true>{{item.owner.name}}</md-tooltip></div></div><div>{{item.numPosts}}</div></a></div><div ng-hide=query.notEnoughResults class=m-t-30><a class=well-button layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? \'No more discussions\' : \'Load more discussions\'}}</div></a></div><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay></div>')}]),angular.module("modules/forum/tpls/new-thread-modal.html",[]).run(["$templateCache",function(a){a.put("modules/forum/tpls/new-thread-modal.html",'<md-dialog><md-dialog-content><form name=CreateThreadForm novalidate ng-submit=save() unsaved-warning-form class="md-content-container content-xs"><h1 class=md-headline style="margin: 0px 0 30px">{{typeInfos[thread.type].title}}</h1><md-select placeholder="Post type" ng-model=thread.type class=block ng-if="thread.type != \'blog\'"><md-option value=question>Question</md-option><md-option value=general>General Discussion</md-option></md-select><md-input-container class=md-accent><label>Title</label><input name=threadTitle ng-model=thread.name required focus-me=true></md-input-container><div ng-show="thread.projects.length>0 || thread.organisations.length>0 || thread.fields.length>0"><p class=text-lightgrey>This {{typeInfos[thread.type].type}} will be linked to the following pages: (you can change this later)</p><tags edit=false size=sm tags=thread.projects type=project></tags><tags edit=false size=sm tags=thread.organisations type=organisation></tags><tags edit=false size=sm tags=thread.fields type=field></tags></div><div class=m-t-15 layout=row><div flex></div><div><md-button type=button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised m-r-0" ng-disabled=CreateThreadForm.$invalid>Create</md-button></div></div></form></md-dialog-content></md-dialog>')}]),angular.module("modules/horizontal-menu/tpls/main-horizontal-menu.html",[]).run(["$templateCache",function(a){a.put("modules/horizontal-menu/tpls/main-horizontal-menu.html",'<div ng-show=HorizontalMenuService.enabled class=horizontal-menu ng-class="{\'mobile\':$mdMedia(\'sm\') || $mdMedia(\'md\'), \'landing\' : LayoutOptions.header.landing}"><div class=fixed-menu stick-on-scroll-up><top-banner></top-banner><div class=main-menu layout=row layout-align="start center"><div flex layout=row layout-align="start center"><md-button analytics-track="HOME btn" class=logo ui-sref=app.home aria-label=Home><div style="width: 50px"><img src=assets/images/logo80x80.png alt="STEMN logo" class="img-trans"></div></md-button></div><div class="md-content-container md-no-padding" hide-sm hide-md><tabs layout=row layout-align="start center"><a ng-repeat="tab in MenuItems.main" hidepublic={{tab.authenticate}} ui-sref={{tab.sref}} ng-class="{\'active\':$state.includes(tab.sref)}">{{tab.label}}</a><md-button ng-show="MenuItems.more.length > 0" class="md-icon-button md-sm md-grey"><md-icon md-svg-icon=more-h></md-icon><popup class=tooltip-menu popup-side=bottom popup-position=center popup-padding="11px 0 0 0" layout=column><a ng-repeat="item in MenuItems.more" class=md-subhead ng-class="{\'divider\':item.divider}" ui-sref={{item.sref}} ui-sref-active=active hidepublic={{item.authenticate}}>{{item.label}}</a></popup></md-button></tabs></div><div flex></div><div class=right flex layout=row layout-align="end center"><md-button analytics-track="Create btn" ng-if=user.isLoggedIn() hide-sm authenticate class="md-accent md-raised md-flat md-cornered no-margin hide-landing" style="min-width: 80px; height: 40px; line-height: 40px; margin-right:10px !important" ng-click=newSomething($event)>Create</md-button><md-button analytics-track="Search btn" ui-sref=app.search.all hide-gt-md class=md-icon-button><md-icon md-svg-icon=search></md-icon></md-button><site-search hide-sm hide-md class=hide-landing></site-search><notifications class=hide-landing ng-if=user.isLoggedIn()></notifications><user-settings-dropdown hide-sm ng-if=user.isLoggedIn()></user-settings-dropdown><md-button analytics-track="Sign In btn" class="md-lower md-accent md-md" ng-click=openLoginModal($event) style="margin-right: 5px" ng-if=!user.isLoggedIn()>Sign in</md-button><md-button analytics-track="Menu btn" hide-gt-md class=md-icon-button ng-click=toggleMenu()><md-icon md-svg-icon=menu></md-icon></md-button></div></div></div><div class=sub-menu hide-gt-md><div class="text-tabs tabs-black" layout=row><a class=md-subhead ng-repeat="tab in MenuItems.main" hidepublic={{tab.authenticate}} ui-sref={{tab.sref}} ng-class="{\'active\':$state.includes(tab.sref)}">{{tab.label}}</a><div ng-show="MenuItems.more.length > 0" class=p-r-10 layout=column layout-align=center><md-icon md-svg-icon=more-h></md-icon><popup class=tooltip-menu popup-side=bottom popup-position=center popup-padding="11px 0 0 0" layout=column><a ng-repeat="item in MenuItems.more" class=md-subhead ng-class="{\'divider\':item.divider}" ui-sref={{item.sref}} ui-sref-active=active hidepublic={{item.authenticate}}>{{item.label}}</a></popup></div></div><div class=highlight-overlay style="position: absolute" ng-show=LayoutOptions.overlay.highlight></div></div></div><user-settings-sidebar></user-settings-sidebar>')}]),angular.module("modules/horizontal-menu/tpls/user-settings-dropdown.html",[]).run(["$templateCache",function(a){a.put("modules/horizontal-menu/tpls/user-settings-dropdown.html",'<a class="avatar avatar-circle block m-r-10" style="background-image: url(\'{{user.picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true\'); border: none"></a><popup class=tooltip-menu popup-side=bottom popup-position=center popup-padding="11px 0 0 0" layout=column style="min-width: 200px"><a ng-repeat="item in menu" class=md-subhead ng-class="{\'divider\':item.divider}" ng-href={{item.href}} ng-click=item.click($event)>{{item.label}}</a></popup>')}]),angular.module("modules/horizontal-menu/tpls/user-settings-sidebar.html",[]).run(["$templateCache",function(a){a.put("modules/horizontal-menu/tpls/user-settings-sidebar.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id=left><div ng-show=user.isLoggedIn()><div class=header><md-button class="md-icon-button close-btn" aria-label=Close ng-click=close()><md-icon md-svg-icon=arrow-back></md-icon></md-button><md-button class=md-circle aria-label="User Profile" ui-sref="app.user.profile({\'stub\': user.stub})" style="background-image: url(\'{{user.picture || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true\')"></md-button><div class="md-body bold">{{user.name}}</div><div class=md-body>{{user.blurb}}</div></div><md-content ng-click=close()><md-menu-item ng-repeat="item in MenuItems.main"><md-button ui-sref={{item.sref}}><p>{{item.label}}</p></md-button></md-menu-item><md-menu-item ng-repeat="item in MenuItems.more"><md-button ui-sref={{item.sref}}><p>{{item.label}}</p></md-button></md-menu-item><md-divider></md-divider><md-menu-item><md-button ng-click="user.logout(); popLogout()"><md-icon md-svg-icon=exit_to_app></md-icon><p>Sign out</p></md-button></md-menu-item></md-content></div><div ng-hide=user.isLoggedIn()><div class=header><md-button class="md-icon-button close-btn" aria-label=Close ng-click=close()><md-icon md-svg-icon=arrow-back></md-icon></md-button><div class=md-headline>You are not logged in.</div></div><md-content ng-click=close()><md-menu-item><md-button ng-click=login($event)><md-icon md-svg-icon=person></md-icon><p>Sign in</p></md-button></md-menu-item><md-divider></md-divider><md-menu-item ng-repeat="item in MenuItems.more"><md-button ui-sref={{item.sref}} authenticate=item.authenticate><p>{{item.label}}</p></md-button></md-menu-item></md-content></div></md-sidenav>')}]),angular.module("modules/invite/tpls/invite-link-modal.html",[]).run(["$templateCache",function(a){a.put("modules/invite/tpls/invite-link-modal.html",'<md-dialog><md-dialog-content><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Copy the invite link below:</h1><p>Share this link with your team members. When they visit STEMN (or sign up) using this URL they will be automatically added to to your {{type}}.</p><br><div class=select-on-click-box select-on-click>{{url}}</div><br><p><b>Important:</b><br>Anyone with this link will be able to join and edit this {{type}}. Be <b>very careful</b> who you send this to.</p><div layout=row><div flex></div><md-button class="md-accent md-raised no-margin" ng-click=cancel()>Close</md-button></div></div></md-dialog-content></md-dialog>')}]),angular.module("modules/jobs/tpls/application-rows.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/application-rows.html",'<div class=application-rows><user-row-detailed class=m-b-15 ng-repeat="item in query.results" user-id={{item.child._id}} show-edit=showEdit button-text="See application" button-href=applications/{{item._id}} job=job></user-row-detailed><div ng-hide="query.notEnoughResults || hideMore"><a class=well-button layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? \'No more applications\' : \'Load more\'}}</div></a></div><div ng-show="query.results.length < 1" class=text-lightgrey>No applicants yet.</div></div>')}]),angular.module("modules/jobs/tpls/application-success-modal.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/application-success-modal.html",'<md-dialog><md-dialog-content><div name=form class="md-content-container content-xs"><h1 class=md-headline style="margin: 0px 0 30px">Application received</h1><div class=md-subhead></div><p>Sit tight! Our Talent team will review your application and will be in touch shortly.</p><p>In the mean time, you can continue to polish up your applications and portfolio on your <a class=text-green ui-sref=app.applications>my applications</a> page.</p><div layout=row class=m-t-15><div flex></div><div><md-button ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised m-r-0" ng-click=confirm()>View Applications</md-button></div></div></div></md-dialog-content></md-dialog>')}]),angular.module("modules/jobs/tpls/apply-button.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/apply-button.html","<a class=\"apply-button md-button md-accent md-border\" ng-click=jobApply($event) ng-class=\"{'active' : buttonStatus.status}\" authenticate><div ng-show=buttonStatus.status>{{textApplied || 'Applied'}}</div><div ng-hide=buttonStatus.status>{{textApply || 'Apply'}}</div></a>")}]),angular.module("modules/jobs/tpls/create-job-modal.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/create-job-modal.html",'<md-dialog><md-dialog-content><form name=form unsaved-warning-form novalidate class="md-content-container content-xs"><loading-overlay ng-if=queryOrganisations.loading></loading-overlay><h1 class=md-headline style="margin: 0px 0 30px">Create a new job listing</h1><div ng-show="queryOrganisations.results.length>0"><p class=text-lightgrey>You can add jobs listing for any organisation you are a part of. Want to add a position for another organisation? <a class=text-green ng-click=createOrganisation($event)>Click here</a> to create a new organisation.</p><md-input-container><label>Job name</label><input required ng-model=entity.name></md-input-container><md-input-container><label>Organisations</label><md-select required ng-model=entity.organisations[0]._id placeholder="Select your organisation"><md-option ng-repeat="org in queryOrganisations.results" value={{org._id}}>{{org.name}}</md-option></md-select></md-input-container></div><div ng-hide="queryOrganisations.results.length>0"><div class=well layout=row layout-align="start center"><p class=text-lightgrey flex>You can\'t add a job because you are not part of an organisation.</p><md-button class="md-accent md-raised md-cornered md-flat md-md" ng-click=createOrganisation($event)>Create Organisation</md-button></div></div><div layout=row class=m-t-15 ng-show="queryOrganisations.results.length>0"><div flex></div><div><md-button ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised m-r-0" ng-click=confirm()>Create</md-button></div></div></form></md-dialog-content></md-dialog>')}]),angular.module("modules/jobs/tpls/job-application-modal.coverletter.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/job-application-modal.coverletter.html",'<h2 class="md-display-1 m-t-0">Cover Letter</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Introduce yourself. Why are you perfect for this position? What are your interest? Highlight any projects in your portfolio that are relevant.</div></div><div class=md-col flex=100 flex-gt-md=60><div class="md-whiteframe-z1 card-padding m-b-30"><form name=forms.coverletterForm><div class="md-subhead m-b-15">Job Application Cover Letter</div><div required class=angular-medium-editor medium-editor name=blurb ng-model=application.coverLetter editor-type=text style="min-height: 300px" placeholder="Why is this the perfect job for you? (Required)"></div></form></div></div></div>')}]),angular.module("modules/jobs/tpls/job-application-modal.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/job-application-modal.html",'<md-dialog class=apply-for-job-modal aria-label="Job application"><div class=md-modal-header layout=row layout-align="start center"><div class=onboarding-steps layout=row layout-align="start center"><div ng-repeat="tab in tabs" layout=row layout-align="start center"><a class=md-subhead ng-click=tab.click() ng-class="{\'active\' : activeTab == tab.label, \'disabled\' : $index != 0 && isFailedRequirements()}">{{tab.label}}</a><md-icon md-svg-icon=chevron-right ng-hide=$last></md-icon></div></div></div><md-dialog-content class="bg-lightgrey overflow-x-box p-0"><loading-overlay ng-if=projectsQuery.loading></loading-overlay><div ng-if=isFailedRequirements()><div class=missing-fields><div style="padding: 0 30px">You cannot apply for this job yet as you do not meet the requirements. See below.</div></div></div><div class="md-content-container content-md" style="padding: 30px"><div ng-if="activeTab == \'Requirements\'" ng-include="\'modules/jobs/tpls/job-application-modal.requirements.html\'"></div><div ng-if="activeTab == \'Cover Letter\'" ng-include="\'modules/jobs/tpls/job-application-modal.coverletter.html\'"></div><div ng-if="activeTab == \'Other Info\'" ng-include="\'modules/jobs/tpls/job-application-modal.other.html\'"></div><div layout=row class=m-t-30><div flex></div><md-button class=m-0 ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised" style="margin: 0 0 0 10px" ng-disabled=steps[activeTab].isDisabled() ng-click=steps[activeTab].nextFn()>{{steps[activeTab].nextText}}</md-button></div></div></md-dialog-content></md-dialog>')}]),angular.module("modules/jobs/tpls/job-application-modal.other.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/job-application-modal.other.html",'<h2 class="md-display-1 m-t-0">Other Info</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>Add your contact details and citizenship info. This is very important as many Aerospace jobs have strict citizenship requirements.</div></div><div class=md-col flex=100 flex-gt-md=60><form name=forms.infoForm><div class="md-whiteframe-z1 card-padding m-b-30"><div class="md-subhead m-b-15">Contact Details</div><md-input-container class="md-block md-accent"><label>Email*</label><input required name=email ng-model=application.email type=email></md-input-container><md-input-container class="md-block md-accent"><label>Phone Number</label><input name=phone ng-model=user.profile.phone></md-input-container></div><div class="md-whiteframe-z1 card-padding m-b-30"><div class="md-subhead m-b-15">Nationality and Location</div><country-select placeholder=Citizenship ng-model=user.profile.citizenship></country-select><location-search placeholder="Current Location" data=user.profile.location single=true></location-search></div></form></div></div>')}]),angular.module("modules/jobs/tpls/job-application-modal.requirements.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/job-application-modal.requirements.html",'<h2 class="md-display-1 m-t-0">Job Requirements</h2><div layout=column layout-gt-md=row class=md-row><div class="md-col m-b-30" flex=100 flex-gt-md=40><div class=text-subtitle-thin>You must pass the following requirements to apply to {{job.organisations[0].name || \'this position\'}}. This will ensure your skills and experience are appropriate for the position.</div></div><div class=md-col flex=100 flex-gt-md=60><div ng-if="job.requiredFields.length > 0" class="md-whiteframe-z1 card-padding m-b-30"><div layout=row class=m-b-15><div flex class=md-subhead>Required Skills</div><div ng-show=isFailedRequiredFields() class=text-red>Fail</div><div ng-hide=isFailedRequiredFields() class=text-green>Pass</div></div><p class=body-small ng-show=isFailedRequiredFields()>You do not have all the required skills. <a class=text-green click-create-project>Create another project</a> that evidences these skills or add them to <a class=text-green ng-click=cancel() ui-sref="app.user.profile({stub: user.stub, edit: \'SkillsForm\'})">your profile</a>.</p><tags edit=false size=xs tags=job.requiredFields type=field status=true></tags></div><div ng-if="job.fields.length > 0" class="md-whiteframe-z1 card-padding m-b-30"><div layout=row class=m-b-15><div flex class=md-subhead>Related Skills</div><div class=text-green>Pass</div></div><tags edit=false size=xs tags=job.fields type=field status=true></tags></div><div class="md-whiteframe-z1 card-padding m-b-30"><div layout=row class=m-b-15><div flex class=md-subhead>2 Projects in portfolio</div><div ng-show=isFailedRequiredProjects() class=text-red>Fail</div><div ng-hide=isFailedRequiredProjects() class=text-green>Pass</div></div><p class=body-small>You must have at least 2 projects in your portfolio before you can apply to <b>{{job.organisations[0].name || \'this position\'}}</b>.</p><md-button ng-show=isFailedRequiredProjects() class="md-accent md-raised md-cornered md-flat md-md m-0" click-create-project>Create Project</md-button></div></div></div>')}]),angular.module("modules/jobs/tpls/job-rows.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/job-rows.html",'<div class="job-rows rel-box" style="min-height: 100px"><table class=md-table ng-show="query.results.length > 0"><thead><tr><td ng-if="parentType != \'organisation\'" style="width: 40px"></td><td>Name</td><td class=text-center>Location</td><td style="width: 100px" class=text-center>Pay</td><td hide-sm style="width: 100px" class=text-center>Level</td><td hide-sm style="width: 100px" class=text-center>Type</td><td hide-sm style="width: 95px"></td></tr></thead><tbody><tr ng-repeat="item in query.results" ng-hide="currentJobId == item._id"><td ng-if="parentType != \'organisation\'" style="padding: 15px 20px 15px 5px"><a set-entity-href="\'organisation\'" entity-stub=item.organisations[0].stub><div class="avatar avatar-square-contain" ng-style="item.organisations[0].picture && { \'background-image\':\'url(\'+item.organisations[0].picture+\'?size=thumb)\'}"></div></a></td><td><a set-entity-href="\'job\'" entity-stub=item.stub><div ng-if="parentType != \'organisation\'" class=bold>{{item.organisations[0].name}}</div><div>{{item.name}}</div></a></td><td class=text-center>{{item.location[0].name}}</td><td class=text-center><div ng-if="item.pay.from && item.pay.to">{{item.pay.from | money : item.pay.currency}} to {{item.pay.to | money : item.pay.currency}}</div></td><td hide-sm class=text-center>{{item.level}}</td><td hide-sm class=text-center>{{item.jobType}}</td><td hide-sm class=text-right><apply-button job=item job-id={{item._id}} job-stub={{item.stub}} class="md-sm no-margin" style="min-width: 70px" change-state=true></apply-button></td></tr></tbody></table><div ng-if=query.notEnoughResults class="text-no-results m-t-15">{{query.results.length > 0 ? \'No more jobs\' : \'No jobs\'}}</div><div ng-hide="query.notEnoughResults || query.noMoreResults || hideMore" class=m-t-30><a class=well-button layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{noMoreResults ? \'No more results\' : \'See more jobs\'}}</div></a></div><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay></div>')}]),angular.module("modules/jobs/tpls/job-tile.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/job-tile.html",'<div class="job-tile rel-box m-v-15 text-center" style="min-height: 125px" layout=column layout-align="start center"><a ng-href={{item.url}}><div class="avatar avatar-square-contain avatar-md" ng-style="item.organisations[0].picture && { \'background-image\':\'url(\'+item.organisations[0].picture+\'?size=thumb-lg)\'}"></div></a> <a ng-href={{item.url}}><div class="bold m-t-10">{{item.organisations[0].name}}</div><div>{{item.name}}</div></a><loading-overlay ng-if=loading></loading-overlay></div>')}]),angular.module("modules/jobs/tpls/resubmit-application-button.html",[]).run(["$templateCache",function(a){a.put("modules/jobs/tpls/resubmit-application-button.html",'<md-button ng-click=resubmitApplication() class="md-accent md-raised md-flat md-cornered md-md m-r-0">Resubmit</md-button><popup class=tooltip-popup popup-side=right popup-position=center popup-padding="0 0 0 8px" layout=column><p>Your application is <b>\'Awaiting Profile Update\'</b> - Once you have updated your profile and projects you should re-submit your application for review.</p></popup>')}]),angular.module("modules/lightbox/tpls/lightbox-modal.html",[]).run(["$templateCache",function(a){a.put("modules/lightbox/tpls/lightbox-modal.html",'<md-dialog class=md-full-screen aria-label="Image Lightbox"><md-toolbar style="background: white"><div class=md-toolbar-tools><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content layout=column layout-align="center center" class=carousel-modal><div class=controls ng-show="lightboxImages.length > 1" layout=row><div flex ng-click=prev() layout=row layout-align="start center"><md-button class=md-icon-button><md-icon md-svg-icon=chevron-left></md-icon></md-button></div><div flex ng-click=next() layout=row layout-align="end center"><md-button class=md-icon-button><md-icon md-svg-icon=chevron-right></md-icon></md-button></div></div><div><loading-overlay ng-if=loading></loading-overlay><img ng-src={{currentImage.image.url}} image-on-load="loading = false"></div><div ng-show=currentImage.caption style="max-width: 800px; margin-top:20px" class="angular-medium-editor text-center" ng-bind-html=currentImage.caption></div></md-dialog-content><div class=md-actions layout=row><md-button class=md-icon-button target=_self ng-href={{currentImage.image.url}} download><md-tooltip md-direction=top md-autohide=true>Download Image</md-tooltip><md-icon md-svg-icon=download aria-label="Download Image"></md-icon></md-button><md-button class=md-icon-button target=_self ng-href={{currentImage.image.url}}><md-tooltip md-direction=top md-autohide=true>Link Image</md-tooltip><md-icon md-svg-icon=link aria-label="Link Image"></md-icon></md-button><div flex class=text-right><span ng-if="lightboxImages.length>1" class=text-lightgrey>{{current+1}} / {{lightboxImages.length}}</span></div></div></md-dialog>')}]),angular.module("modules/location/tpls/country-select.html",[]).run(["$templateCache",function(a){a.put("modules/location/tpls/country-select.html",'<div class=rel-box ng-repeat="model in ngModel track by $index"><md-select placeholder="{{placeholder || \'Select Country\'}}" ng-model=ngModel[$index] class=md-accent><md-option value={{location.name}} ng-repeat="location in locations">{{location.name}}</md-option></md-select><div class=md-select-buttons><md-button class=md-icon-button ng-click=remove($index) ng-if="$index > 0"><md-icon class=r-45 md-svg-icon=add></md-icon><md-tooltip md-autohide=true>Delete</md-tooltip></md-button><md-button class=md-icon-button ng-click=addAnother() ng-if="$index == 0"><md-icon md-svg-icon=add></md-icon><md-tooltip md-autohide=true>Add another</md-tooltip></md-button></div></div>')}]),angular.module("modules/mapbox/tpls/mapbox.html",[]).run(["$templateCache",function(a){a.put("modules/mapbox/tpls/mapbox.html","")}]),angular.module("modules/maps/tpls/map-display.html",[]).run(["$templateCache",function(a){a.put("modules/maps/tpls/map-display.html",'<div class=map-display layout=row><ui-gmap-google-map flex=100 center=map.center zoom=map.zoom draggable=true options=options bounds=map.bounds><ui-gmap-markers models=points coords="\'self\'" icon="\'icon\'" click=onClick type="\'spider\'" label-class="\'label\'"></ui-gmap-markers></ui-gmap-google-map><div class=map-tools><md-button class=md-icon-button ng-click=getLocation()><md-icon md-font-icon=fa-map-marker class="fa s32"></md-icon></md-button><md-button class=md-icon-button ng-click=getLink()><md-icon md-font-icon=fa-link class="fa s32"></md-icon></md-button></div></div>')}]),angular.module("modules/medium-editor-ext-mentions/tpls/mention-search.html",[]).run(["$templateCache",function(a){a.put("modules/medium-editor-ext-mentions/tpls/mention-search.html",'<div list-keyboard-navigation enable=showPopup list=results active-index=activeIndex selector=list-nav-active esc-fn=hidePanel()><a ng-repeat="item in results" ng-click="mentionSelect(item._id, item.type, item.name)" layout=row layout-align="start center" ng-class="{\'list-nav-active\' : activeIndex == $index}"><div class="avatar-circle avatar-sm" ng-style="{ \'background-image\':\'url(\'+(item.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"></div><div flex="" class=ellipsis ng-bind-html="item.name | typeaheadHighlightMatch: word.wordSearch"></div></a></div>')}]),angular.module("modules/medium-editor/tpls/editor-link-modal.html",[]).run(["$templateCache",function(a){a.put("modules/medium-editor/tpls/editor-link-modal.html",'<md-dialog><form novalidate name=LinkForm ng-submit=save()><md-dialog-content layout=row layout-align="center center"><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px; margin-bottom: 40px">So, what\'s the Url?</h1><md-input-container class=md-accent><label>Website Url</label><input name=link ng-model=data.link focus-me=true ng-minlength=10 ng-maxlength=200 ng-pattern="/((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/"><div ng-messages=LinkForm.link.$error ng-if=LinkForm.link.$dirty><div ng-message=minlength>A little short don\'t you think?</div><div ng-message=maxlength>Wow, that is a long Url... Too long...</div><div ng-message=pattern>Sorry, that isn\'t a valid Url... Make sure you include http://</div></div></md-input-container></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button type=button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised" ng-disabled=LinkForm.$invalid>Confirm</md-button></div></div></form></md-dialog>')}]),angular.module("modules/medium-editor/tpls/editor-video-modal.html",[]).run(["$templateCache",function(a){a.put("modules/medium-editor/tpls/editor-video-modal.html",'<md-dialog><form novalidate name=LinkForm ng-submit=save()><md-dialog-content layout=row layout-align="center center"><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px; margin-bottom: 40px">What\'s the link?</h1><md-input-container class=md-accent><label>Youtube/Vimeo Url</label><input name=link ng-model=link focus-me=true required ng-minlength=10 ng-maxlength=200 ng-pattern="/(\\byoutu)|(\\bvimeo\\b)/"><div ng-messages=LinkForm.link.$error ng-if=LinkForm.link.$dirty><div ng-message=required>This is required.</div><div ng-message=minlength>A little short don\'t you think?</div><div ng-message=maxlength>Wow, that is a long Url... Too long...</div><div ng-message=pattern>Sorry, that is not a valid youtube/vimeo url.</div></div></md-input-container></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button type=button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised" ng-disabled=LinkForm.$invalid>Insert</md-button></div></div></form></md-dialog>')}]),angular.module("modules/missing-fields/tpls/missing-fields.html",[]).run(["$templateCache",function(a){a.put("modules/missing-fields/tpls/missing-fields.html",'<div class=missing-fields layout=row layout-align=center><div class="md-content-container md-no-padding"><div class="md-title m-b-10">Missing Fields</div><div ng-repeat="field in requiredFields" ng-show=field.missing compile=field.title></div></div></div>')}]),angular.module("modules/modular-editor/append-buttons/append-buttons.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/append-buttons/append-buttons.html",'<div layout=row layout-align=center><div class="editor-section container" layout=row layout-align=center><md-button type=button ng-click=insertText($event) class="md-accent md-flat md-circle md-raised md-sm"><md-tooltip md-direction=top md-autohide=true>Insert Section</md-tooltip><md-icon md-svg-icon=remove></md-icon></md-button><md-button type=button ng-click=insertImage($event) class="md-accent md-flat md-circle md-raised md-sm"><md-tooltip md-direction=top md-autohide=true>Insert Photo</md-tooltip><md-icon md-svg-icon=insert-photo></md-icon></md-button><md-button type=button ng-click=insertVideo($event) class="md-accent md-flat md-circle md-raised md-sm"><md-tooltip md-direction=top md-autohide=true>Insert Video</md-tooltip><md-icon md-svg-icon=video-collection></md-icon></md-button><md-button type=button ng-click=insertMath($event) class="md-accent md-flat md-circle md-raised md-sm"><md-tooltip md-direction=top md-autohide=true>Insert Math</md-tooltip><md-icon md-svg-icon=functions></md-icon></md-button><md-button type=button ng-click=insertCode($event) class="md-accent md-flat md-circle md-raised md-sm"><md-tooltip md-direction=top md-autohide=true>Insert Code</md-tooltip><md-icon md-svg-icon=memory></md-icon></md-button><md-button type=button ng-click=insertFiles($event) class="md-accent md-flat md-circle md-raised md-sm"><md-tooltip md-direction=top md-autohide=true>Insert Files</md-tooltip><md-icon md-svg-icon=upload></md-icon></md-button></div></div>');
}]),angular.module("modules/modular-editor/caption/edit/caption.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/caption/edit/caption.html","<div class=editor-caption><div medium-editor editor-caption-element ng-model=section.caption editor-sections=editorSections editor-section-index=editorSectionIndex editor-order=editorOrder editor-type=\"{{::section.layout == 'full-width-banner-text' ? 'caption-banner' : 'caption'}}\" editor-options=editorOptions></div></div>")}]),angular.module("modules/modular-editor/caption/public/caption.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/caption/public/caption.html","<div class=editor-caption><div class=angular-medium-editor ng-bind-html=section.caption></div></div>")}]),angular.module("modules/modular-editor/help-footer/help-footer.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/help-footer/help-footer.html",'<div ng-if="editorOptions.showHelp && edit" class=editor-help-footer layout=column layout-align="center center"><div layout=row layout-align="center center" class="rel-box content-md"><div class=md-content-container layout=row layout-align="center center"><md-button type=button aria-label=previous class=md-icon-button ng-click=previous()><md-icon md-svg-icon=chevron-left></md-icon></md-button><div flex class=md-headine layout=column layout-align="start center" ng-bind-html=helpSections[currentHelpSection].html></div><md-button type=button aria-label=next class=md-icon-button ng-click=next()><md-icon md-svg-icon=chevron-right></md-icon></md-button></div></div><md-button type=button class="md-icon-button close" aria-label=close ng-click=close()><md-icon md-svg-icon=close></md-icon></md-button></div>')}]),angular.module("modules/modular-editor/insert-buttons/insert-buttons.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/insert-buttons/insert-buttons.html",'<div class="editor-insert-buttons editor-buttons" ng-show=showInsertButtons ng-class="{\'minimal\' : editorOptions.minimal}"><md-button type=button aria-label=insert ng-click=toggleInsertTools() class="insert-button md-icon-button"><md-tooltip md-direction=top md-autohide=true>Insert (Ctrl + I)</md-tooltip><md-icon md-svg-icon=add ng-class="{\'close\':showInsertTools}"></md-icon></md-button><md-button type=button ng-click=insertImage($event) ng-show=showInsertTools class="md-icon-button ng-hide animate-throw throw-1"><md-tooltip md-direction=top md-autohide=true>Insert Photo</md-tooltip><md-icon md-svg-icon=insert-photo></md-icon></md-button><md-button type=button ng-click=insertVideo($event) ng-show=showInsertTools class="md-icon-button ng-hide animate-throw throw-2"><md-tooltip md-direction=top md-autohide=true>Insert Video</md-tooltip><md-icon md-svg-icon=video-collection></md-icon></md-button><md-button type=button ng-click=insertMath($event) ng-show=showInsertTools class="md-icon-button ng-hide animate-throw throw-3"><md-tooltip md-direction=top md-autohide=true>Insert Math</md-tooltip><md-icon md-svg-icon=functions></md-icon></md-button><md-button type=button ng-click=insertCode($event) ng-show=showInsertTools class="md-icon-button ng-hide animate-throw throw-4"><md-tooltip md-direction=top md-autohide=true>Insert Code</md-tooltip><md-icon md-svg-icon=memory></md-icon></md-button><md-button type=button ng-click=insertFiles($event) ng-show=showInsertTools class="md-icon-button ng-hide animate-throw throw-5"><md-tooltip md-direction=top md-autohide=true>Insert Files</md-tooltip><md-icon md-svg-icon=upload></md-icon></md-button><md-button type=button ng-click=insertTextSection() ng-show=showInsertTools class="md-icon-button ng-hide animate-throw throw-6"><md-tooltip md-direction=top md-autohide=true>Insert Section</md-tooltip><md-icon md-svg-icon=remove></md-icon></md-button></div>')}]),angular.module("modules/modular-editor/section-buttons/section-buttons.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section-buttons/section-buttons.html",'<div class=editor-section-buttons ng-class="{\'minimal\' : editorOptions.minimal}"><div class="button my-handle" realtime-editor-section={{::editorOptions.realtime}} ng-mouseenter=highlightSections() ng-mouseleave=unhighlightSections()><md-icon md-svg-icon=more-h></md-icon><popup class=tooltip-menu popup-side=right popup-position=center popup-padding="0 0 0 8px" layout=column><a class=md-subhead confirm ng-click=deleteSection() layout=row ng-mouseenter=deleteHighlight(editorSectionIndex) ng-mouseleave=deleteUnhighlight(editorSectionIndex)>Delete Section</a> <a class=md-subhead ng-if=checkMergeAbove() ng-click=mergeWihAbove() ng-mouseenter="highlightSection(editorSectionIndex, mergeStyles); highlightSection(editorSectionIndex - 1, mergeStyles);" ng-mouseleave="unhighlightSection(editorSectionIndex); unhighlightSection(editorSectionIndex - 1)">Merge Up</a> <a class=md-subhead ng-if=checkMergeBelow() ng-click=mergeWithBelow() ng-mouseenter="highlightSection(editorSectionIndex, mergeStyles); highlightSection(editorSectionIndex + 1, mergeStyles);" ng-mouseleave="unhighlightSection(editorSectionIndex); unhighlightSection(editorSectionIndex + 1)">Merge Down</a> <a class=md-subhead ng-if="editorSections[editorSectionId].type == \'image\'" ng-click=changeImage($event)>Change Image</a> <a class=md-subhead ng-if="editorSections[editorSectionId].type == \'file\'" ng-click=uploadFiles($event)>Upload Files</a> <a class=md-subhead ng-if="editorSections[editorSectionId].type == \'image\'" ng-click="createLink($event, editorSections[editorSectionId].linkUrl)">Create Link</a> <a class=md-subhead ng-if="editorSections[editorSectionId].type == \'video\'" ng-click=changeVideo($event)>Change Video</a></popup></div></div>')}]),angular.module("modules/modular-editor/section/code/edit/code.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/code/edit/code.html",'<div class="container editor-section" editor-section-element><textarea editor-content-element ui-codemirror=options ng-model=section.code placeholder="Write your code here. Select the code-type below."></textarea><cm-code-mode mode=section.codeMode editor=cmEditor></cm-code-mode><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/code/public/code.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/code/public/code.html",'<div class="container editor-section"><div ui-codemirror=options ng-model=section.code></div></div>')}]),angular.module("modules/modular-editor/section/file/edit/file.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/file/edit/file.html",'<div class="container editor-section" editor-section-element><upload-files-display edit=true files=section.files></upload-files-display><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/file/public/file.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/file/public/file.html",'<div class="container editor-section"><upload-files-display edit=false files=section.files></upload-files-display></div>')}]),angular.module("modules/modular-editor/section/image/edit/center.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/center.html",'<div class="editor-section container editor-image layout-center" editor-section-element><div layout=column layout-align="center center"><a ng-href={{section.linkUrl}} class=image-box editor-toolbar=true><img ng-src="{{section.image.url}}?size=editor" alt=""></a><editor-caption-edit editor-content-element></editor-caption-edit><editor-section-buttons></editor-section-buttons></div></div>')}]),angular.module("modules/modular-editor/section/image/edit/full-width-banner-text.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/full-width-banner-text.html","<div flex=100 class=\"editor-section editor-section-full-width editor-image layout-full-width-banner-text\" editor-section-element layout=column><div class=image-box ng-style=\"section.image.url && {'background-image':'url('+(section.image.url)+'?size=editor-banner)'}\"></div><a ng-href={{section.linkUrl}} class=overlay layout=row layout-align=\"center center\" editor-toolbar=true><editor-caption-edit editor-content-element></editor-caption-edit></a><editor-section-buttons></editor-section-buttons></div>")}]),angular.module("modules/modular-editor/section/image/edit/full-width-banner.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/full-width-banner.html","<div flex=100 class=\"editor-section editor-section-full-width editor-image layout-full-width-banner\" editor-section-element layout=column><a ng-href={{section.linkUrl}} class=image-box ng-style=\"section.image.url && {'background-image':'url('+(section.image.url)+'?size=editor-banner)'}\" editor-toolbar=true></a><editor-caption-edit editor-content-element></editor-caption-edit><editor-section-buttons></editor-section-buttons></div>")}]),angular.module("modules/modular-editor/section/image/edit/full-width.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/full-width.html",'<div flex=100 class="editor-section editor-section-full-width editor-image layout-full-width" editor-section-element layout=column><a ng-href={{section.linkUrl}} class=image-box editor-toolbar=true><img ng-src="{{section.image.url}}?size=editor-banner" alt=""></a><editor-caption-edit editor-content-element></editor-caption-edit><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/image/edit/left.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/left.html",'<div class="editor-section container editor-image layout-left" editor-section-element><div layout=row layout-align="start start"><a flex=70 ng-href={{section.linkUrl}} class=image-box editor-toolbar=true><img ng-src="{{section.image.url}}?size=editor" alt=""></a><editor-caption-edit editor-content-element></editor-caption-edit></div><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/image/edit/right.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/right.html",'<div class="editor-section container editor-image layout-right" editor-section-element><div layout=row layout-align="end start"><editor-caption-edit editor-content-element></editor-caption-edit><a flex=70 ng-href={{section.linkUrl}} class=image-box editor-toolbar=true><img ng-src="{{section.image.url}}?size=editor" alt=""></a></div><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/image/edit/wide.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/edit/wide.html",'<div class="editor-section container editor-image layout-wide" editor-section-element><div layout=column><div layout=row><a flex=100 ng-href={{section.linkUrl}} class=image-box editor-toolbar=true><img ng-src="{{section.image.url}}?size=editor" alt=""></a></div><editor-caption-edit editor-content-element></editor-caption-edit><editor-section-buttons></editor-section-buttons></div></div>')}]),angular.module("modules/modular-editor/section/image/public/center.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/center.html",'<div class="editor-section container editor-image layout-center"><div layout=column layout-align="center center"><a ng-href={{section.linkUrl}} class=image-box lightbox={{!section.linkUrl}} lightbox-image=section><blur-load bg-src="{{section.image.url}}?size=editor" bg-width={{section.image.width}} bg-max-width=660></blur-load></a><editor-caption-public></editor-caption-public></div></div>')}]),angular.module("modules/modular-editor/section/image/public/full-width-banner-text.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/full-width-banner-text.html",'<div flex=100 class="editor-section editor-section-full-width editor-image layout-full-width-banner-text" layout=column><div class=image-box blur-load-bg bg-src="{{section.image.url}}?size=editor-banner"></div><a ng-href={{section.linkUrl}} class=overlay layout=row layout-align="center center" lightbox={{!section.linkUrl}} lightbox-image=section><editor-caption-public></editor-caption-public></a></div>')}]),angular.module("modules/modular-editor/section/image/public/full-width-banner.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/full-width-banner.html",'<div flex=100 class="editor-section editor-section-full-width editor-image layout-full-width-banner" layout=column><a ng-href={{section.linkUrl}} class=image-box blur-load-bg bg-src="{{section.image.url}}?size=editor-banner" lightbox={{!section.linkUrl}} lightbox-image=section></a><editor-caption-public></editor-caption-public></div>')}]),angular.module("modules/modular-editor/section/image/public/full-width.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/full-width.html",'<div flex=100 class="editor-section editor-section-full-width editor-image layout-full-width" layout=column><a ng-href={{section.linkUrl}} class=image-box lightbox={{!section.linkUrl}} lightbox-image=section><blur-load bg-src="{{section.image.url}}?size=editor-banner"></blur-load></a><editor-caption-public></editor-caption-public></div>')}]),angular.module("modules/modular-editor/section/image/public/left.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/left.html",'<div class="editor-section container editor-image layout-left"><div layout=row layout-align="start start"><a flex=70 ng-href={{section.linkUrl}} class=image-box lightbox={{!section.linkUrl}} lightbox-image=section><blur-load bg-src="{{section.image.url}}?size=editor"></blur-load></a><editor-caption-public></editor-caption-public></div></div>')}]),angular.module("modules/modular-editor/section/image/public/right.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/right.html",'<div class="editor-section container editor-image layout-right"><div layout=row layout-align="end start"><editor-caption-public></editor-caption-public><a flex=70 ng-href={{section.linkUrl}} class=image-box lightbox={{!section.linkUrl}} lightbox-image=section><blur-load bg-src="{{section.image.url}}?size=editor"></blur-load></a></div></div>')}]),angular.module("modules/modular-editor/section/image/public/wide.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/image/public/wide.html",'<div class="editor-section container editor-image layout-wide"><div layout=column><div layout=row><a flex=100 ng-href={{section.linkUrl}} class=image-box lightbox={{!section.linkUrl}} lightbox-image=section><blur-load bg-src="{{section.image.url}}?size=editor"></blur-load></a></div><editor-caption-public></editor-caption-public></div></div>')}]),angular.module("modules/modular-editor/section/math/edit/math.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/math/edit/math.html",'<div class="editor-image container editor-section" editor-section-element><div layout=column layour-align="center center"><latex-input content=section.content></latex-input><div mathjax-bind=section.content style="text-align: center; margin: auto; padding: 10px 20px"></div></div><editor-caption></editor-caption><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/math/public/math.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/math/public/math.html",'<div class="editor-image container editor-section"><div layout=row layour-align="center center"><div mathjax-bind=section.content style="text-align: center; margin: auto; padding: 0px 20px"></div></div><editor-caption></editor-caption></div>')}]),angular.module("modules/modular-editor/section/text/edit/text.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/text/edit/text.html",'<div class="editor-section container" editor-section-element><div id=content-{{editorSectionId}} medium-editor editor-content-element ng-model=section.content placeholder={{placeholder}} editor-sections=editorSections editor-section-index=editorSectionIndex editor-section-id=editorSectionId editor-order=editorOrder editor-options=editorOptions></div><editor-section-buttons></editor-section-buttons></div>')}]),angular.module("modules/modular-editor/section/text/public/text.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/text/public/text.html",'<div class="editor-section container"><div render-inline-mathjax render-mentions class=angular-medium-editor ng-bind-html=section.content></div></div>')}]),angular.module("modules/modular-editor/section/video/edit/left.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/video/edit/left.html",'<div class="editor-section container editor-image layout-left" editor-section-element><div layout=row layout-align="start start"><div flex=70 class=image-box editor-toolbar=true><div class="embed-responsive embed-responsive-16by9"><anguvideo class=embed-responsive-item ng-model=section.videoUrl width=100% height=100%></anguvideo><editor-video-overlay></editor-video-overlay></div></div><editor-caption-edit></editor-caption-edit><editor-section-buttons></editor-section-buttons></div></div>')}]),angular.module("modules/modular-editor/section/video/edit/right.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/video/edit/right.html",'<div class="editor-section container editor-image layout-right" editor-section-element><div layout=row layout-align="end start"><editor-caption-edit></editor-caption-edit><div flex=70 class=image-box editor-toolbar=true><div class="embed-responsive embed-responsive-16by9"><anguvideo class=embed-responsive-item ng-model=section.videoUrl width=100% height=100%></anguvideo><editor-video-overlay></editor-video-overlay></div></div><editor-section-buttons></editor-section-buttons></div></div>')}]),angular.module("modules/modular-editor/section/video/edit/wide.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/video/edit/wide.html",'<div class="editor-section container editor-image" editor-section-element><div layout=column><div class=image-box editor-toolbar=true><div class="embed-responsive embed-responsive-16by9"><anguvideo class=embed-responsive-item ng-model=section.videoUrl width=100% height=100%></anguvideo><editor-video-overlay></editor-video-overlay></div></div><editor-caption-edit></editor-caption-edit><editor-section-buttons></editor-section-buttons></div></div>')}]),angular.module("modules/modular-editor/section/video/public/left.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/video/public/left.html",'<div class="editor-section container editor-image layout-left"><div layout=row layout-align="start start"><div flex=70 class=image-box editor-toolbar=true><div class="embed-responsive embed-responsive-16by9"><anguvideo class=embed-responsive-item ng-model=section.videoUrl width=100% height=100%></anguvideo></div></div><editor-caption-public></editor-caption-public></div></div>')}]),angular.module("modules/modular-editor/section/video/public/right.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/video/public/right.html",'<div class="editor-section container editor-image layout-right"><div layout=row layout-align="end start"><editor-caption-public></editor-caption-public><div flex=70 class=image-box editor-toolbar=true><div class="embed-responsive embed-responsive-16by9"><anguvideo class=embed-responsive-item ng-model=section.videoUrl width=100% height=100%></anguvideo></div></div></div></div>')}]),angular.module("modules/modular-editor/section/video/public/wide.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/section/video/public/wide.html",'<div class="editor-section container editor-image"><div layout=column><div class=image-box editor-toolbar=true><div class="embed-responsive embed-responsive-16by9"><anguvideo class=embed-responsive-item ng-model=section.videoUrl width=100% height=100%></anguvideo></div></div><editor-caption-public></editor-caption-public></div></div>')}]),angular.module("modules/modular-editor/toolbar/toolbar.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/toolbar/toolbar.html",'<div class="medium-editor-toolbar medium-editor-stalker-toolbar medium-toolbar-arrow-under"><ul class=medium-editor-toolbar-actions><li ng-repeat="layoutButton in layoutButtons"><button tabindex=0 ng-class="{\'medium-editor-button-active\' : section.layout==layoutButton}" ng-click="section.layout=layoutButton"><md-icon md-svg-icon={{layoutButtonDetails[layoutButton].icon}} style="color: white"></md-icon><md-tooltip md-direction=top md-autohide=true>{{layoutButtonDetails[layoutButton].tooltip}}</md-tooltip></button></li></ul></div>')}]),angular.module("modules/modular-editor/tpls/editor-divider.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/tpls/editor-divider.html","<div ng-if=!editorOptions.contained><div layout=row layout-align=center ng-show=\"editorSections[editorOrder[editorSectionIndex]].type == 'text' && editorSections[editorOrder[editorSectionIndex+1]].type == 'text'\"><div class=md-content-container layout=row layout-align=center><md-divider style=\"width:200px; margin: 15px 0\"></md-divider></div></div></div><div ng-if=editorOptions.contained><div layout=row layout-align=center ng-show=\"editorSections[editorOrder[editorSectionIndex]].type == 'text' && editorSections[editorOrder[editorSectionIndex+1]].type == 'text'\"><md-divider style=\"width:200px; margin: 15px 0\"></md-divider></div></div>")}]),angular.module("modules/modular-editor/tpls/editor-sections.html",[]).run(["$templateCache",function(a){a.put("modules/modular-editor/tpls/editor-sections.html",'<div ng-class="{\'editor-contained\':editorOptions.contained}"><div ng-if=!edit><div ng-repeat="sectionId in editorSections.sectionOrder" class="editor-section-row {{editorSections.sections[sectionId].type}}"><editor-section section=editorSections.sections[sectionId] editor-options=editorOptions editor-order=editorSections.sectionOrder editor-sections=editorSections.sections editor-section-index=$index editor-section-id=sectionId edit=false></editor-section></div></div><div ng-if=edit><div ng-sortable=sortableConfig><div ng-repeat="sectionId in editorSections.sectionOrder" class="editor-section-row {{editorSections.sections[sectionId].type}}"><editor-section section=editorSections.sections[sectionId] editor-options=editorOptions editor-order=editorSections.sectionOrder editor-sections=editorSections.sections editor-section-index=$index editor-section-id=sectionId edit=true placeholder="{{$index == 0 ? placeholder : \'\'}}" realtime-editor-section={{editorOptions.realtime}}></editor-section><realtime-editor-locked ng-if=editorOptions.realtime section=editorSections.sections[sectionId]></realtime-editor-locked></div></div><editor-append-buttons ng-hide=editorOptions.minimal ng-class="{\'minimal\':editorOptions.minimal}"></editor-append-buttons><editor-help-footer></editor-help-footer></div></div>')}]),angular.module("modules/new-creations/tpls/new-something-modal.html",[]).run(["$templateCache",function(a){a.put("modules/new-creations/tpls/new-something-modal.html",'<md-dialog aria-label="New Creation"><md-dialog-content style="max-width: 600px"><h1 class="md-headline m-t-0">What would you like to create?</h1><p class=m-b-30>No pressure, these will only be drafts until you\'re ready to publish.</p><div class=m-v-30><a ng-repeat="item in options" class="picture-list-large hover-parent" layout=row layout-align="start center" ng-click=item.clickFn($event)><div class="avatar-circle avatar-md" ng-style="::item.picture && {\'background-image\': \'url(\'+item.picture+\')\'}"></div><div flex><h4 class=bold>{{::item.title}}</h4><p class=no-margin>{{::item.description}}</p></div><md-icon class=hover-show md-svg-icon=chevron-right></md-icon></a></div><div layout=row><div flex></div><md-button class="md-accent md-raised" ng-click=cancel()>Cancel</md-button></div></md-dialog-content></md-dialog>')}]),angular.module("modules/notifications/tpls/notification.html",[]).run(["$templateCache",function(a){a.put("modules/notifications/tpls/notification.html",'<div class=notification layout=row layout-align=start ng-click=markRead(notification)><div><a ng-href={{notification.link1}}><img class="picture img-circle" ng-src="{{notification.picture1 || \'/assets/images/default/user-1.png\'}}?size=thumb&crop=true"></a></div><div flex><a ng-href="{{notification.link2 || notification.link1}}"><strong>{{notification.name1}}</strong> {{notification.text}} <strong>{{notification.name2}}<span ng-if=notification.name2>.</span></strong><br><div class=time am-time-ago=::notification.timestamp></div></a></div><div ng-if=notification.picture2><a ng-href={{notification.link2}}><img class=picture ng-src="{{notification.picture2}}?size=thumb&crop=true"></a></div></div>')}]),angular.module("modules/notifications/tpls/notifications.html",[]).run(["$templateCache",function(a){a.put("modules/notifications/tpls/notifications.html",'<div><a class="notification-button md-button md-icon-button md-border-light" aria-label=Notifications ui-sref=app.notifications.all><span class=badge ng-if="(query.results | filter:{read:false}).length > 0">{{(query.results | filter:{read:false}).length}}</span><md-icon md-svg-src=notification></md-icon></a><popup popup-side=bottom popup-position=center popup-padding="10px 0 0 0" layout=column class=notifications-dropdown><div class=toolbar layout=row layout-align="start center"><div flex><strong>{{(query.results | filter:{read:false}).length}}</strong> new notifications.</div><div><a ng-click=markAllRead()>Mark as read</a></div><md-button class="md-circle md-xs no-margin" ng-click=goSettings() aria-label="Notification Settings"><md-icon md-svg-icon=more-h></md-icon></md-button></div><md-content style="max-height: 250px"><notification ng-repeat="notification in query.results" ng-class="{\'unread\' : !notification.read}" notification=notification></notification></md-content><div class=footer layout=row layout-align="start center"><div flex><a ui-sref=app.notifications.all>See all notifications</a></div></div></popup></div>')}]),angular.module("modules/onboarding/onboarding-wizard/tpls/onboarding-wizard.html",[]).run(["$templateCache",function(a){a.put("modules/onboarding/onboarding-wizard/tpls/onboarding-wizard.html",'<md-progress-linear class="md-accent md-fixed-top" md-mode=determinate value={{progress}}></md-progress-linear><div layout-offset-horizontal-menu-undo layout=column style="min-height: 100vh"><div class=onboarding-header><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div><div flex ui-view layout=column style="background: rgba(0, 0, 0, 0.03)"></div><div class="onboarding-footer md-padding"><md-button ng-click=stepInfo[currentStep].back() ng-if=stepInfo[currentStep].back>Back</md-button><md-button class=md-raised ng-click=stepInfo[currentStep].confirm() ng-class="{\'md-accent\':stepInfo[currentStep].confirmEnable()}">{{stepInfo[currentStep].confirmTxt || \'Next\'}}</md-button></div></div>')}]),angular.module("modules/onboarding/tpls/checklist-complete-modal.html",[]).run(["$templateCache",function(a){a.put("modules/onboarding/tpls/checklist-complete-modal.html",'<md-dialog aria-label="Tasklist Complete"><md-dialog-content><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Nice work {{user.firstname}}!</h1><p>You\'ve finished everything on the task-list. With any luck, you\'ve also grasped the site layout and how everything fits together.</p><img src=/assets/images/gifs/launch.gif alt=Liftoff><p>One final way you can improve your STEMN experience is to <strong>help grow the community</strong>. Please like and share on social media and help us opensource science and engineering.</p></div></md-dialog-content><div class=md-actions layout=row><div flex><md-button target=_blank href=https://www.facebook.com/stem.network class=md-icon-button><md-icon md-font-icon=fa-facebook></md-icon></md-button><md-button target=_blank href=https://twitter.com/stem_network class=md-icon-button><md-icon md-font-icon=fa-twitter></md-icon></md-button></div><div><md-button class="md-accent md-raised" ng-click=cancel()>Keep browsing</md-button></div></div></md-dialog>')}]),angular.module("modules/onboarding/tpls/feed-checklist.html",[]).run(["$templateCache",function(a){a.put("modules/onboarding/tpls/feed-checklist.html",'<checklist-item ng-repeat="item in checklist" item-complete=checklistItems[item].complete item-href=checklistItems[item].href item-click=checklistItems[item].click>{{checklistItems[item].text}}</checklist-item>')}]),angular.module("modules/onboarding/tpls/profile-checklist.html",[]).run(["$templateCache",function(a){a.put("modules/onboarding/tpls/profile-checklist.html",'<div class=checklist ng-if=incomplete.status><div class=item ng-repeat="item in checklist" ng-class="{\'complete\':checklistItems[item].complete}" layout=row layout-align="start center"><md-icon md-svg-icon=done></md-icon><div flex><a ng-href={{checklistItems[item].href}} ng-click=checklistItems[item].click($event)>{{checklistItems[item].text}}</a></div></div></div>')}]),angular.module("modules/onboarding/tpls/tip-banner.html",[]).run(["$templateCache",function(a){a.put("modules/onboarding/tpls/tip-banner.html",'<div class=tip-banner ng-hide="hideTip || !enableTip || tipHide"><div layout=row><div flex ng-transclude></div><md-button class="close md-icon-button" aria-label=close ng-click=close()><md-icon md-svg-icon=close></md-icon></md-button></div></div>')}]),angular.module("modules/onboarding/tpls/tip-modal.html",[]).run(["$templateCache",function(a){a.put("modules/onboarding/tpls/tip-modal.html",'<md-dialog class=tipModal><md-dialog-content><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">{{data.title}}</h1><div ng-bind-html=data.body></div></div></md-dialog-content><div class=md-actions layout=row><div flex class=text-lightgrey>Seen this before? <a class=underlined ng-click=optOut()>Opt out of these tips.</a></div><div><md-button class="md-accent md-raised" ng-click=confirm()>Ok, I get it</md-button></div></div></md-dialog>')}]),angular.module("modules/organisations/tpls/organisation-cards.html",[]).run(["$templateCache",function(a){a.put("modules/organisations/tpls/organisation-cards.html",'<div class="rel-box overflow-x-box"><div layout=row layout-wrap style="margin: 0 -15px"><organisation-card style="padding: 0 15px 15px" flex=25 flex-sm=50 ng-repeat="item in items" entity=item></organisation-card></div><a class="well-button m-t-40" layout=row layout-align="center center" ng-disabled=noMoreResults ng-click=more() ng-hide="notEnoughResults || hideMore"><div>{{noMoreResults ? \'No more organisations\' : \'See more organisations\'}}</div></a><loading-overlay ng-if=loading ng-class="{\'translucent\' : items.length > 0}"></loading-overlay></div>')}]),angular.module("modules/organisations/tpls/organisation-groups.html",[]).run(["$templateCache",function(a){a.put("modules/organisations/tpls/organisation-groups.html",'<form ng-show="size != \'sm\'" name=OrganisationsForm class=edit-box><edit-button ng-show=showEdit inline=true form=OrganisationsForm save-fn=save()></edit-button><h3 class=md-subhead>{{title || \'Organisations\'}}</h3><div ng-show="OrganisationsForm.$visible || edit"><div ng-sortable=sortConfig><organisation-row class="my-handle block disable-href" ng-repeat="organisation in organisations track by $index" data=organisation show-edit=true show-role=showRole delete-fn="delete(organisations, $index)"></organisation-row></div><organisation-search data=organisations placeholder="Add other organisations" ng-style="organisations != 0 && {\'margin-left\' : \'67px\'}" focus=OrganisationsForm.$visible></organisation-search></div><div ng-show="!(OrganisationsForm.$visible || edit)"><div ng-if="viewLayout!=\'tile\'"><organisation-row ng-repeat="organisation in organisations track by $index" data=organisation></organisation-row></div><div ng-if="viewLayout==\'tile\'" style="margin: 0px -10px" layout=row layout-align="start start" layout-wrap><a ui-sref="app.organisation.overview({stub: item.stub})" ng-repeat="item in organisations" style="margin: 0 10px" layout=column layout-align="center center"><div class=avatar-square-contain style="width: 109px; height: 109px" ng-style="item.picture && {\'background-image\':\'url(\'+item.picture+\'?size=thumb-lg)\'}"><md-tooltip md-direction=top md-autohide=true>{{item.name}}</md-tooltip></div><div class="md-subhead text-center" style="width: 100px; margin-bottom: 10px">{{item.role}}</div></a></div></div></form><div ng-show="size == \'sm\'"><div ng-show="OrganisationsForm.$visible || edit"><div ng-sortable=sortConfig><div ng-repeat="organisation in organisations track by $index" class="my-handle m-b-15" layout=row layout-align="start center"><div class="avatar avatar-square-contain avatar-sm m-r-10" ng-style="{ \'background-image\':\'url(\'+(organisation.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"></div><div flex layout=column><b>{{organisation.name}}</b> <input class=editable ng-model=organisation.role placeholder=Role name=role></div><a ng-click="delete(organisations, $index)"><md-icon md-svg-icon=close></md-icon></a></div></div><organisation-search data=organisations placeholder="Add organisations" focus=OrganisationsForm.$visible></organisation-search></div></div>');
}]),angular.module("modules/organisations/tpls/organisation-icon.html",[]).run(["$templateCache",function(a){a.put("modules/organisations/tpls/organisation-icon.html",'<a class="organisation-icon avatar-square-contain" ui-sref="app.organisation.overview({stub: item.stub})" style="background-image: url(\'{{item.picture || \'assets/images/default/org.png\'}}?size=thumb\')"><md-tooltip md-direction=top md-autohide=true>{{item.name}}</md-tooltip></a>')}]),angular.module("modules/organisations/tpls/organisation-new-modal.html",[]).run(["$templateCache",function(a){a.put("modules/organisations/tpls/organisation-new-modal.html",'<md-dialog><form unsaved-warning-form novalidate name=NewOrganisationForm><md-dialog-content><div class="md-content-container content-xs"><h1 class=md-headline style="margin-top: 0px">Add a new organisation</h1><br><br><md-input-container class=md-accent><label>Organisation Name</label><input name=name ng-model=data.name required ng-pattern="/[a-zA-Z0-9 !#.,\'\\-\\(\\)]*/" ng-keyup=checkOrganisationExists(data.name) focus-me=true><div ng-messages=NewOrganisationForm.name.$error ng-if=NewOrganisationForm.name.$dirty><div ng-message=required>This is required.</div><div ng-message=pattern>Sorry, that organisation name is invalid. You can\'t use the characters: / \\ [ ]</div><div ng-message=exists>A organisation with that name already exists. Try another.</div></div></md-input-container><md-input-container class=md-accent><label>Description</label><textarea name=blurb ng-model=data.blurb columns=1></textarea></md-input-container><div class=md-dialog-footer layout=row><div flex></div><div><md-button ng-click=cancel()>Cancel</md-button><md-button style="margin-right: 0px" class="md-accent md-raised" ng-disabled=NewOrganisationForm.$invalid ng-click=save()>Save</md-button></div></div></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/pagination/tpls/load-more.html",[]).run(["$templateCache",function(a){a.put("modules/pagination/tpls/load-more.html",'<div class="title-divider rel-box"><span ng-if=!loading><a class="btn btn-white btn-success-hover" ng-click=loadMore()>Load More</a></span><div class="inline vert-middle" ng-if=loading><div class="sk-spinner sk-spinner-rotating-plane" style="background-color: #E5E5E5"></div></div></div>')}]),angular.module("modules/pagination/tpls/simple-pagination.html",[]).run(["$templateCache",function(a){a.put("modules/pagination/tpls/simple-pagination.html",'<div layout=row layout-align="center center" style="margin-top: 60px"><div><div class=inline ng-show="page > 1"><md-button class="md-fab md-mini md-accent" ui-sref=".({\'page\':prevPage})" ng-click=prev() aria-label="Previous Page"><md-tooltip md-autohide=true>Previous</md-tooltip><md-icon md-svg-src=chevron-left></md-icon></md-button></div><div class=inline ng-hide=noMoreResults><md-button class="md-fab md-mini md-accent" ui-sref=".({\'page\':nextPage})" ng-click=next() aria-label="Next Page"><md-tooltip md-autohide=true>Next</md-tooltip><md-icon md-svg-src=chevron-right></md-icon></md-button></div></div></div>')}]),angular.module("modules/popup-cards/tpls/url-card.html",[]).run(["$templateCache",function(a){a.put("modules/popup-cards/tpls/url-card.html",'<div class="card url-card"><p><strong>{{title}}</strong>{{subTitle}}</p><div class=select-on-click-box select-on-click>{{href}}#{{anchor}}<md-tooltip md-direction=top md-autohide=true>Click to highlight URL</md-tooltip></div></div>')}]),angular.module("modules/posts/tpls/post-summary.html",[]).run(["$templateCache",function(a){a.put("modules/posts/tpls/post-summary.html",'<div class="card-z1 m-b-15"><div><b>Posted in:</b> <a ui-sref={{sref}} class=text-green>{{post.thread.name || post.project.name}}</a> <span class=text-lightgrey am-time-ago=::post.timestamp></span></div><a ui-sref={{sref}} style="padding-top: 5px; display: block" ng-bind-html=post.blurb></a></div>')}]),angular.module("modules/posts/tpls/post.html",[]).run(["$templateCache",function(a){a.put("modules/posts/tpls/post.html",'<div class="post card-z1" id={{post._id}}><div class=edit-box><show-if-owner-or-admin owner={{post.owner._id}}><md-button class="md-circle md-xs md-grey pin-top-right" style="margin: 0" aria-label=Settings><md-icon md-svg-src=more-h></md-icon><popup class=tooltip-menu popup-side=right popup-position=center popup-padding="0 0 0 8px" layout=column><a class=md-subhead ng-click=editPost()>Edit</a> <a class=md-subhead confirm ng-click=deletePost()>Delete</a></popup></md-button></show-if-owner-or-admin><item-owner avatar={{post.owner.picture}} type=user owner-id={{post.owner._id}} owner-stub={{post.owner.stub}}><h3><a ui-sref="app.user.profile({\'stub\' : post.owner.stub })" class=text-green>{{::post.owner.name}}</a> <span ng-show="post.isOwner || post.isTeam" class=owner><md-tooltip ng-if=post.isOwner md-direction=top md-autohide=true>Original Poster</md-tooltip><md-tooltip ng-if=!post.isOwner md-direction=top md-autohide=true>Project Team Member</md-tooltip></span></h3><div class=sub><a popup popup-width=400 popup-content="<url-card title=\'Link this post\' sub-title=\'{{post.timestamp | date : \'h:mm a \\\'on\\\' d MMM y\'}}\' anchor=\'{{post._id}}\'></url-card>">posted <span am-time-ago=::post.timestamp></span></a></div></item-owner><div class=main><modular-editor class=editor-compact editor-sections=post.sectionData editor-options=editorOptions edit=edit></modular-editor><div class=sub layout=row layout-align="start center"><div ng-if=!edit layout=row layout-align="start center"><stat-button type=like parent-type=post parent-id={{post._id}} count=post.likes display-style=circle class=green></stat-button><stat-counter type=like parent-type=post parent-id={{post._id}} count=post.likes class=text-lightgrey></stat-counter><div flex></div></div><div flex></div><md-button ng-if=!edit class="md-icon-button md-sm no-margin" aria-label=reply authenticate ng-click=replyFn()><md-tooltip md-direction=top md-autohide=true>Reply</md-tooltip><md-icon md-svg-icon=reply></md-icon></md-button><md-button ng-if=edit ng-click=cancel() class=no-margin style="margin-right: 15px !important">Cancel</md-button><md-button ng-if=edit ng-click=savePost() class="md-raised md-accent no-margin">Save Edit</md-button></div></div></div></div>')}]),angular.module("modules/posts/tpls/posts.html",[]).run(["$templateCache",function(a){a.put("modules/posts/tpls/posts.html",'<user-input id=reply placeholder="Write a response..." section-data=sectionData save-fn=sendReply() save-text=Reply status=postInputStatus title-text={{inputTitle}}></user-input><div class=text-right ng-if="posts.length > 0"><md-button class="md-circle md-xs no-margin" ng-click=toggleSort()><md-icon md-svg-icon="{{sortIcon || \'sort\'}}"></md-icon><md-tooltip ng-if="orderFilter==\'timestamp\'" md-direction=top md-autohide=true>Time sort</md-tooltip><md-tooltip ng-if="orderFilter!=\'timestamp\'" md-direction=top md-autohide=true>Reply sort</md-tooltip></md-button></div><div ng-repeat="post in posts"><div ng-style="orderFilter == \'\' && {\'padding-left\' : post.indentation * 30+\'px\'}"><post data=post parent=parent reply-fn=setReply(post) class=block></post></div></div>')}]),angular.module("modules/posts/tpls/user-posts.html",[]).run(["$templateCache",function(a){a.put("modules/posts/tpls/user-posts.html","<md-container><post-summary ng-repeat=\"item in data | orderBy: 'timestamp':true\" post=item></post-summary></md-container>")}]),angular.module("modules/project/tpls/new-project-modal.html",[]).run(["$templateCache",function(a){a.put("modules/project/tpls/new-project-modal.html",'<md-dialog><md-dialog-content><form name=CreateProjectForm novalidate ng-submit=createProject() unsaved-warning-form class="md-content-container content-xs"><h1 class=md-headline style="margin: 0px 0 30px">Create your project.</h1><p class=text-lightgrey>Give your project a title. Don\'t worry, you can change this later.</p><md-input-container class=md-accent style=margin-top:40px><label>Project Title</label><input name=projectTitle ng-model=project.name focus-me=true></md-input-container><div ng-show="project.fields.length > 0 || project.organisations.length > 0 || project.projects.length > 0"><p class=text-lightgrey>This project will be linked to the following pages: (you can change this later)</p><tags edit=false size=sm tags=project.projects type=project></tags><tags edit=false size=sm tags=project.organisations type=organisation></tags><tags edit=false size=sm tags=project.fields type=field></tags></div><div class=m-t-15 layout=row><div flex></div><div><md-button type=button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised m-r-0">Next</md-button></div></div></form></md-dialog-content></md-dialog>')}]),angular.module("modules/projects/tpls/projects-filter-bar.html",[]).run(["$templateCache",function(a){a.put("modules/projects/tpls/projects-filter-bar.html",'<div class=filter-bar><div class=filter-left><button ui-sref="{projectview:\'block\'}" type=button class="btn btn-white" style="width: 38px" ng-class="{\'active\' : view==\'block\'}" ng-click="view=\'block\'" tooltip="Block view" tooltip-placement=bottom><icon class=fa-square-o></icon></button> <button ui-sref="{projectview : \'map\'}" class="btn btn-white hidden-xs" style="width: 38px" ng-class="{\'active\' : view==\'map\'}" ng-click="view=\'map\'" tooltip="Map view" tooltip-placement=bottom><icon class=fa-map-marker></icon></button></div><div class=filter-right><div class=inline style="width: 200px; padding-left: 10px"><ui-select ng-model=active.filter on-select=updateFilter()><ui-select-match placeholder="Filter threads by:">{{$select.selected.text}}</ui-select-match><ui-select-choices repeat="item in filters | filter: $select.search"><div ng-bind-html="item.text | highlight: $select.search"></div></ui-select-choices></ui-select></div><button style="width: 38px; margin-left: 10px" type=button class="btn btn-white" ng-click="active.filter.reverse=!active.filter.reverse; updateFilter()"><icon class=fa-chevron-up ng-show=active.filter.reverse></icon><icon class=fa-chevron-down ng-hide=active.filter.reverse></icon></button></div></div>')}]),angular.module("modules/prompt-overlay/tpls/prompt-overlay.html",[]).run(["$templateCache",function(a){a.put("modules/prompt-overlay/tpls/prompt-overlay.html",'<div ng-show=PromptOverlayService.showPrompt class="prompt-overlay md-whiteframe-z3" layout=row><img ng-show=img class=img-circle ng-src={{img}}><div flex class=text ng-transclude></div><md-button class="md-icon-button close-btn" aria-label=Close ng-click=close()><md-icon md-svg-icon=close></md-icon></md-button></div>')}]),angular.module("modules/publish/tpls/publish-modal.html",[]).run(["$templateCache",function(a){a.put("modules/publish/tpls/publish-modal.html",'<md-dialog style="z-index: 1001"><md-dialog-content><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Wait! This is unpublished.</h1><div><p>It will not be visible to others until you publish it.</p><p>You\'ll find the publish button in the bottom right corner of the page footer.</p><img src=/assets/images/tips/publish.png alt="Publish Image"></div></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button ng-click=cancel()>Publish later</md-button><md-button class="md-accent md-raised" ng-click=confirm()>Go back and publish</md-button></div></div></md-dialog>')}]),angular.module("modules/publish/tpls/publish-share-link-modal.html",[]).run(["$templateCache",function(a){a.put("modules/publish/tpls/publish-share-link-modal.html",'<md-dialog><md-dialog-content><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Copy and share the link below:</h1><br><div class=select-on-click-box select-on-click>{{url}}<md-tooltip md-direction=bottom md-autohide=true>Click to highlight URL</md-tooltip></div><br><p><strong>Important:</strong><br>Anyone with this link will be able to view this page, even if it has not yet been published.</p><div layout=row><div flex></div><md-button class="md-accent md-raised" ng-click=cancel()>Close</md-button></div></div></md-dialog-content></md-dialog>')}]),angular.module("modules/publish/tpls/select-stub-modal.html",[]).run(["$templateCache",function(a){a.put("modules/publish/tpls/select-stub-modal.html",'<md-dialog><form novalidate name=Form ng-submit=save()><md-dialog-content><div class="md-content-container content-xs"><h1 class=md-headline style="margin-top: 0px">Select a URL</h1><p>Finalise your {{urlType}}\'s name. This will determine the URL.</p><br><md-input-container class=md-accent><label class=capitalise>{{urlType}} name</label><input name=title ng-model=entity.name required ng-minlength=5 ng-maxlength=100 ng-pattern="/[a-zA-Z0-9 !#.,\'\\-\\(\\)]*/" ng-keyup=checkAvailability(entity.name) focus-me=true><div ng-messages=Form.title.$error><div ng-message=required>This is required.</div><div ng-message=minlength>The title has be more than 5 characters.</div><div ng-message=maxlength>Try keep your title under 100 characters.</div><div ng-message=pattern>Sorry, that title is invalid. You can\'t use the characters: / \\ [ ]</div><div ng-message=notavailable>A {{urlType}} with that title already exists. Try another.</div></div></md-input-container><div><p>After publishing, your {{urlType}} will be available at:</p><p class=text-lightgrey><strong>stemn.com/</strong>{{urlType}}s/{{stub}}</p></div><div layout=row><div flex></div><md-button ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised" ng-click=save() ng-disabled=Form.$invalid>Publish</md-button></div></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/realtime-editor/tpls/multiple-edit-modal.html",[]).run(["$templateCache",function(a){a.put("modules/realtime-editor/tpls/multiple-edit-modal.html",'<md-dialog aria-label=error><md-dialog-content style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Multiple Editors Error</h1><p>You are already editing this page. Usually this means that you have STEMN open in another browser or someone else is logged in to your account.</p><p>You won\'t be able to continue editing until this is fixed.</p></md-dialog-content><div class=md-actions layout=row style="padding-top: 0px"><div flex></div><div><md-button class="md-warn md-raised" ui-sref=app.creations.all>Ok</md-button></div></div></md-dialog>')}]),angular.module("modules/realtime-editor/tpls/realtime-editor-locked.html",[]).run(["$templateCache",function(a){a.put("modules/realtime-editor/tpls/realtime-editor-locked.html",'<div class=realtime-editor-locked ng-if=RealtimeEditorService.edits[section.id] layout=row layout-align="center center"><div><user-icon user-id={{RealtimeEditorService.edits[section.id]}} user=user></user-icon><md-tooltip>This section is currently being edited by {{user.name}}</md-tooltip></div></div>')}]),angular.module("modules/realtime-editor/tpls/save-toast.html",[]).run(["$templateCache",function(a){a.put("modules/realtime-editor/tpls/save-toast.html","<md-toast><span flex>{{message}}</span><md-progress-circular md-mode=indeterminate ng-hide=complete></md-progress-circular></md-toast>")}]),angular.module("modules/related/tpls/related-compact-feed.html",[]).run(["$templateCache",function(a){a.put("modules/related/tpls/related-compact-feed.html",'<div ng-if="data.length > 0"><h3 class=md-subhead>{{typeInfo.title}}</h3><md-divider class=m-b-30></md-divider><div ng-repeat="result in data"><feed-item data=result item-type={{type}} size=sm></feed-item></div></div>')}]),angular.module("modules/related/tpls/related-tags.html",[]).run(["$templateCache",function(a){a.put("modules/related/tpls/related-tags.html","<tags tags=data type={{type}} edit=false size=sm></tags>")}]),angular.module("modules/row-views/tpls/field-row.html",[]).run(["$templateCache",function(a){a.put("modules/row-views/tpls/field-row.html",'<div class=row-view layout=row layout-align="start center"><div class=avatar><field-image src=data.picture image-id={{data._id}} image-stub={{data.stub}}></field-image></div><div flex class=ellipsis-container><a class="text-green ellipsis" ui-sref="app.field.top({\'stub\' : data.stub})">{{data.name}}</a><div class="text-lightgrey ellipsis">{{data.blurb}}</div></div><div><stat-button ng-hide=showEdit hide-stat=true size=sm hide-icon=true type=follow parent-type=field parent-id={{data._id}} count=data.followers></stat-button></div></div>')}]),angular.module("modules/row-views/tpls/loading-row.html",[]).run(["$templateCache",function(a){a.put("modules/row-views/tpls/loading-row.html",'<div class=loading-overlay-fade><div class="loading-animation row-view" layout=row layout-align="start center"><div class="avatar loading"></div><div flex><div><div class="loading-text md"></div></div><div><div class="loading-text sm"></div></div></div><div class=loading-button></div></div></div>')}]),angular.module("modules/row-views/tpls/org-user-row.html",[]).run(["$templateCache",function(a){a.put("modules/row-views/tpls/org-user-row.html",'<div class=row-view layout=row layout-align="start center"><div class=avatar><organisation-image ng-if=showOrg src=picture image-id={{itemId}} image-stub={{stub}}></organisation-image><user-image ng-if=!showOrg src=picture image-id={{itemId}} image-stub={{stub}}></user-image></div><div flex class=ellipsis-container><div class=md-subhead contenteditable="{{showEdit || \'false\'}}" ng-model=role placeholder=role></div><a class="text-green ellipsis">{{name}}</a><div class="text-lightgrey ellipsis">{{blurb}}</div></div><div><md-button ng-hide=showEdit class="md-accent md-border md-sm md-border md-lower no-hover">Follow</md-button><md-button ng-show=showEdit class="md-warn md-border md-sm md-border md-lower no-hover">Delete</md-button></div></div>')}]),angular.module("modules/row-views/tpls/organisation-row.html",[]).run(["$templateCache",function(a){a.put("modules/row-views/tpls/organisation-row.html",'<div class=row-view layout=row layout-align="start center"><div class=avatar><organisation-image src=data.picture image-id={{data._id}} image-stub={{data.stub}}></organisation-image></div><div flex><div class=md-subhead ng-show=showRole><span ng-hide=showEdit>{{data.role}}</span> <input ng-show=showEdit class=editable ng-model=data.role placeholder=Role name=role></div><a class=text-green ui-sref="app.organisation.overview({\'stub\' : data.stub})">{{data.name}}</a><div class=text-lightgrey>{{data.blurb | words: 20}}</div></div><div><stat-button ng-hide=showEdit hide-stat=true size=sm hide-icon=true type=follow parent-type=organisation parent-id={{data._id}} count=data.followers></stat-button><md-button ng-show="showEdit && !data.owner" aria-label=delete class="md-warn md-border md-sm md-border md-lower no-hover" ng-click=deleteFn()>Delete</md-button></div></div>')}]),angular.module("modules/row-views/tpls/row-view.html",[]).run(["$templateCache",function(a){a.put("modules/row-views/tpls/row-view.html",'<loading-row ng-if=data.loading></loading-row><div class=row-view layout=row layout-align="start center"><a ng-href={{data.href}} class="avatar {{avatarType}}" ng-style="{ \'background-image\':\'url(\'+(data.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb)\'}"></a><div flex class=ellipsis-container><a class="text-green ellipsis" ng-href={{data.href}}>{{data.name || \'Untitled \' + data.entityType}}</a><div class="text-lightgrey ellipsis">{{data.blurb}}</div></div><div><stat-button ng-if="data.entityType != \'job\'" hide-stat=true size=sm hide-icon=true type=follow parent-type={{data.entityType}} parent-id={{data._id}} count=data.followers></stat-button><apply-button ng-if="data.entityType == \'job\'" job=data job-id={{data._id}} job-stub={{data.stub}} class="md-sm no-margin" style="min-width: 70px" change-state=true></apply-button></div></div>')}]),angular.module("modules/row-views/tpls/user-row.html",[]).run(["$templateCache",function(a){a.put("modules/row-views/tpls/user-row.html",'<loading-row ng-if=loading></loading-row><div class=row-view layout=row layout-align="start center"><div class="avatar avatar-circle" ng-style="{ \'background-image\':\'url(\'+(data.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"></div><div flex><div class=md-subhead><span ng-hide=showEdit>{{data.role}}</span> <input ng-show=showEdit class=editable ng-model=data.role placeholder=Role name=role></div><a class=text-green ui-sref="app.user.profile({\'stub\' : data.stub})">{{data.name}}</a><div class=text-lightgrey>{{data.blurb | words: 20}}</div></div><div><stat-button ng-hide=showEdit hide-stat=true size=sm hide-icon=true type=follow parent-type=user parent-id={{data._id}} count=data.followers></stat-button><md-button ng-show="showEdit && !data.owner" aria-label=delete class="md-warn md-border md-sm md-border md-lower no-hover" ng-click=deleteFn()>Delete</md-button></div></div>')}]),angular.module("modules/search/organisation-search/tpls/organisation-search.html",[]).run(["$templateCache",function(a){a.put("modules/search/organisation-search/tpls/organisation-search.html",'<div class=rel-box flex=""><md-autocomplete md-selected-item=selectedItem md-selected-item-change=processResult(selectedItem) md-search-text=searchText md-items="item in search(searchText)" md-item-text=item.name md-floating-label="{{placeholder || \'Organisations\'}}" focus-me={{focus}}><md-item-template><span md-highlight-text=searchText>{{item.name}}</span></md-item-template></md-autocomplete></div>')}]),angular.module("modules/search/tpls/field-search.html",[]).run(["$templateCache",function(a){a.put("modules/search/tpls/field-search.html",'<div class=rel-box flex=""><md-autocomplete md-selected-item=selectedItem md-selected-item-change=processResult(selectedItem) md-search-text=searchText md-items="item in search(searchText)" md-item-text=item.name md-floating-label="{{placeholder || \'Fields\'}}" autocomplete=off focus-me={{focus}}><md-item-template><span md-highlight-text=searchText>{{item.name}}</span></md-item-template></md-autocomplete></div>')}]),angular.module("modules/search/tpls/location-search.html",[]).run(["$templateCache",function(a){a.put("modules/search/tpls/location-search.html",'<div flex=""><md-autocomplete md-selected-item=selectedItem md-selected-item-change=processResult(selectedItem) md-search-text=searchText md-items="item in getLocation(searchText)" md-item-text=item.name md-floating-label="{{placeholder || \'Location\'}}" autocomplete=off focus-me={{focus}}><md-item-template><span md-highlight-text=searchText>{{item.name}}</span></md-item-template><md-not-found>No more matches found.</md-not-found></md-autocomplete></div>')}]),angular.module("modules/search/tpls/project-search.html",[]).run(["$templateCache",function(a){a.put("modules/search/tpls/project-search.html",'<div flex=""><md-autocomplete md-selected-item=selectedItem md-selected-item-change=processResult(selectedItem) md-search-text=searchText md-items="item in search(searchText)" md-item-text=item.name md-floating-label="{{placeholder || \'Projects\'}}" autocomplete=off focus-me={{focus}}><md-item-template><span md-highlight-text=searchText>{{item.name}}</span></md-item-template><md-not-found>No more matches found.</md-not-found></md-autocomplete></div>')}]),angular.module("modules/search/tpls/user-search.html",[]).run(["$templateCache",function(a){a.put("modules/search/tpls/user-search.html",'<div flex=""><md-autocomplete md-no-cache=true md-selected-item=selectedItem md-selected-item-change=processResult(selectedItem) md-search-text=searchText md-items="item in search(searchText)" md-item-text=item.name md-floating-label="{{placeholder || \'Team members\'}}" focus-me={{focus}}><md-item-template><user-image src=item.picture image-stub={{item.stub}} style=margin-right:15px ng-hide={{item.addNew}}></user-image><span md-highlight-text=searchText>{{item.name}}</span></md-item-template></md-autocomplete></div>')}]),angular.module("modules/site-search/tpls/site-search.html",[]).run(["$templateCache",function(a){a.put("modules/site-search/tpls/site-search.html",'<div class="search-box showResultsOnClick" layout=row layout-align="start center"><a ui-sref="app.search.all({\'q\':search})"><md-icon class=showResultsOnClick md-svg-icon=search style="color: rgba(0, 0, 0, 0.15); width: 20px"></md-icon></a> <input flex class=showResultsOnClick ng-model=search placeholder="Search STEMN"></div><div class="dropdown-results showResultsOnClick" ng-show=showResults list-keyboard-navigation enable=showResults list=fullResults active-index=activeIndex selector=list-nav-active esc-fn=hidePanel()><div class=results-group ng-show="results.creations.length > 0"><div class=md-subhead ui-sref="app.search.creations({\'q\':search})"><span>Creations</span><a class="float-right text-green">MORE</a></div><a class="result ellipsis anim-repeat-slide" ng-repeat="result in results.creations" ng-click="goToResult(result.stub, result.type)" ng-class="{\'list-nav-active\': fullResults[activeIndex]._id == result._id}"><img ng-src="{{result.picture || \'assets/images/default/org.png\'}}?size=thumb&crop=true" alt="">{{result.name}}</a></div><div class=results-group ng-show="results.user.length > 0"><div class=md-subhead ui-sref="app.search.users({\'q\':search})"><span>Users</span><a class="float-right text-green">MORE</a></div><a class="result ellipsis anim-repeat-slide" ng-repeat="result in results.user" ng-click="goToResult(result.stub, \'user\')" ng-class="{\'list-nav-active\': fullResults[activeIndex]._id  == result._id}"><img class=img-circle ng-src="{{result.picture || \'assets/images/default/user-1.png\'}}?size=thumb&crop=true" alt="">{{result.name}}</a></div><div class=results-group ng-show="results.organisation.length > 0"><div class=md-subhead ui-sref="app.search.organisations({\'q\':search})"><span>Organisations</span><a class="float-right text-green">MORE</a></div><a class="result ellipsis anim-repeat-slide" ng-repeat="result in results.organisation" ng-click="goToResult(result.stub, \'organisation\')" ng-class="{\'list-nav-active\': fullResults[activeIndex]._id  == result._id}"><img ng-src="{{result.picture || \'assets/images/default/user-1.png\'}}?size=thumb&crop=true" alt="">{{result.name}}</a></div><div class=results-group ng-show="results.field.length > 0"><div class=md-subhead ui-sref="app.search.fields({\'q\':search})"><span>Fields</span><a class="float-right text-green">MORE</a></div><a class="result ellipsis anim-repeat-slide" ng-repeat="result in results.field" ng-click="goToResult(result.stub, \'field\')" ng-class="{\'list-nav-active\': fullResults[activeIndex]._id  == result._id}"><img ng-src="{{result.picture || \'assets/images/default/user-1.png\'}}?size=thumb&crop=true" alt="">{{result.name}}</a></div><div class=results-group ng-show="results.job.length > 0"><div class=md-subhead ui-sref="app.search.jobs({\'q\':search})"><span>Jobs</span><a class="float-right text-green">MORE</a></div><a class="result ellipsis anim-repeat-slide" ng-repeat="result in results.job" ng-click="goToResult(result.stub, \'job\')" ng-class="{\'list-nav-active\': fullResults[activeIndex]._id  == result._id}"><img ng-src="{{result.picture || \'assets/images/default/user-1.png\'}}?size=thumb&crop=true" alt="">{{result.name}}</a></div><div class=results-group ng-show="fullResults.length == 0"><div class=md-subhead>No Results</div></div></div>')}]),angular.module("modules/skills/tpls/evidenced-fields.html",[]).run(["$templateCache",function(a){a.put("modules/skills/tpls/evidenced-fields.html",'<div ng-if=edit><div class="card-z1 m-b-30"><div class=md-subhead>Skills and Fields</div><field-search id=skillsEdit data=user.profile.profileDetails.skills focus=focusTech ng-mouseenter="focusTech=true" ng-mouseleave="focusTech=false" placeholder="Skills and fields"></field-search><tags edit=true size=sm tags=user.profile.profileDetails.skills type=field evidence=true drop-area=true></tags></div><div class="card-z1 m-b-30"><div class=md-subhead>Technologies and Technical Languages</div><field-search id=technologiesEdit data=user.profile.profileDetails.technologies focus=focusField ng-mouseenter="focusField=true" ng-mouseleave="focusField=false" placeholder="Technologies, Programs and Languages"></field-search><tags edit=true size=sm tags=user.profile.profileDetails.technologies type=field evidence=true drop-area=true></tags></div><div class="card-z1 m-b-15"><div class="md-subhead m-b-10">Unclassified Skills</div><p class=text-lightgrey>Drag and drop these into the sections above</p><tags tags=unclassifiedFields type=field size=sm edit=true evidence=true drop-area=true></tags></div></div><div ng-if=!edit><div class=m-b-15 ng-show="user.profile.profileDetails.skills.length > 0"><div class="md-subhead m-b-10">Skills and Fields</div><tags tags=user.profile.profileDetails.skills type=field size=sm edit=false evidence=true></tags></div><div class=m-b-15 ng-show="user.profile.profileDetails.technologies.length > 0"><div class="md-subhead m-b-10">Technologies and Technical Languages</div><tags tags=user.profile.profileDetails.technologies type=field size=sm edit=false evidence=true></tags></div><div class=m-b-15 ng-show="unclassifiedFields.length > 0"><div class="md-subhead m-b-10">Other Skills</div><tags tags=unclassifiedFields type=field size=sm edit=false evidence=true></tags></div></div>')}]),angular.module("modules/skills/tpls/user-skills.html",[]).run(["$templateCache",function(a){a.put("modules/skills/tpls/user-skills.html","<tags edit=false size=xs tags=tags type=field evidence=true></tags>")}]),angular.module("modules/smooch/tpls/smooch-icon.html",[]).run(["$templateCache",function(a){a.put("modules/smooch/tpls/smooch-icon.html","<div class=smooch-icon ng-class=\"{'raise-up':$dynamicFooter.open}\" ng-hide=LayoutOptions.smooch.hideButton hide-sm><md-button class=md-fab ng-click=openSmooch()><md-icon md-svg-icon=assets/icons/other/im-help.svg></md-icon><md-tooltip md-direction=left md-autohide=true>Ask for help or report a bug</md-tooltip></md-button></div>")}]),angular.module("modules/social-media/tpls/social-links-modal.html",[]).run(["$templateCache",function(a){a.put("modules/social-media/tpls/social-links-modal.html",'<md-dialog><md-dialog-content style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Edit Social Links</h1><social-links edit=true data=data type={{type}}></social-links><div layout=row style="margin-top: 20px"><div flex></div><div><md-button class=no-margin-v ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised no-margin-v" ng-click=confirm()>Save</md-button></div></div></md-dialog-content></md-dialog>')}]),angular.module("modules/social-media/tpls/social-links.html",[]).run(["$templateCache",function(a){a.put("modules/social-media/tpls/social-links.html",'<div class="social-links rel-box"><edit-button ng-if=showEdit edit-fn=editModal($event)></edit-button><div ng-hide=edit ng-style="showEdit && {\'margin-right\':\'35px\'}"><md-button class=md-icon-button ng-repeat="key in linkOrder" href={{links[key].base}}{{data[key]}} target=_blank ng-show=data[key]><md-tooltip md-direction=top md-autohide=true>{{links[key].base | stripHttp }}{{data[key]}}</md-tooltip><md-icon md-font-icon={{links[key].icon}} class="fa s32"></md-icon></md-button></div><div class=edit ng-show=edit><div ng-repeat="key in linkOrder"><div class=input layout=row><p class=text-lightgrey><span ng-if=" links[key].alt">{{links[key].alt}}</span> <span ng-if=!links[key].alt class=link-base>{{links[key].base | stripHttp}}</span></p><p flex><input class=editable ng-model=data[key]></p></div></div></div></div>')}]),angular.module("modules/social-media/tpls/social-prompt-modal.html",[]).run(["$templateCache",function(a){a.put("modules/social-media/tpls/social-prompt-modal.html",'<md-dialog class=social-prompt-modal aria-label=social-prompt><md-dialog-content><div class="md-content-container content-xs"><h1 class="md-headline m-t-0">Last step: Share your {{ data.entity || \'project\'}}</h1><p>Want to get feedback faster? Help us grow the community by sharing this {{ data.entity || \'project\'}} with your friends and colleagues.</p><social-share-buttons class="block m-v-30" tiles=true></social-share-buttons><div layout=row><div flex></div><md-button ng-click=cancel() class=m-0>Skip</md-button></div></div></md-dialog-content></md-dialog>');
}]),angular.module("modules/social-media/tpls/social-share-button.html",[]).run(["$templateCache",function(a){a.put("modules/social-media/tpls/social-share-button.html",'<md-menu md-position-mode="target-right target"><md-button class="md-icon-button md-sm no-margin" aria-label="Share To Networks" ng-click=$mdOpenMenu()><md-tooltip md-direction=top md-autohide=true>Share</md-tooltip><md-icon md-svg-src=share></md-icon></md-button><md-menu-content width=2><md-menu-item ng-repeat="item in shares"><md-button href={{item.href}} onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false"><md-icon md-font-icon={{item.icon}}></md-icon><p>{{item.title}}</p></md-button></md-menu-item></md-menu-content></md-menu>')}]),angular.module("modules/social-media/tpls/social-share-buttons.html",[]).run(["$templateCache",function(a){a.put("modules/social-media/tpls/social-share-buttons.html",'<div class=social-share-buttons ng-if=!tiles><md-button ng-href={{item.href}} ng-repeat="item in shares" class="md-icon-button md-sm m-0" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false"><md-icon md-svg-icon={{item.icon}}></md-icon><md-tooltip md-direction=top md-autohide=true>{{item.title}}</md-tooltip></md-button></div><div class=social-share-tiles layout=row ng-if=tiles><a flex=33 ng-repeat="item in shares" ng-href={{item.href}} onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false"><img class=w-100 src=assets/images/vectors/share-tiles/{{item.icon}}.svg alt={{item.title}}></a></div>')}]),angular.module("modules/statistics/tpls/stat-button.html",[]).run(["$templateCache",function(a){a.put("modules/statistics/tpls/stat-button.html","<div class=\"stat-button inline {{itemStatus.status ? 'active' : 'inactive'}}\"><md-button authenticate ng-if=\"displayStyle=='circle'\" ng-click=clickButton() class=\"circle vert-middle md-icon-button md-sm no-margin\"><md-tooltip md-direction=top md-autohide=true>{{itemStatus.status ? types[type].active.usual.text : types[type].inactive.usual.text }}</md-tooltip><md-icon ng-show=itemStatus.status md-svg-icon={{types[type].active.hover.icon}}></md-icon><md-icon ng-show=!itemStatus.status md-svg-icon={{types[type].inactive.hover.icon}}></md-icon></md-button><md-button authenticate ng-if=\"displayStyle!='circle'\" ng-click=clickButton() class=\"rect vert-middle md-accent md-border md-sm no-margin\"><div class=\"anim-button-text-block {{itemStatus.status ? 'active' : 'inactive'}} capitalise\"><div>{{types[type].inactive.usual.text}}<span hide-sm>&nbsp;{{entityText}}</span></div><div>{{types[type].active.usual.text}}<span hide-sm>&nbsp;{{entityText}}</span></div></div></md-button></div>")}]),angular.module("modules/statistics/tpls/stat-display-modal.html",[]).run(["$templateCache",function(a){a.put("modules/statistics/tpls/stat-display-modal.html",'<md-dialog class=md-full-screen><md-toolbar style="background: white"><div class=md-toolbar-tools><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content layout=row layout-align="center start"><div class="md-content-container content-sm"><div layout=row><div class=md-headline flex>{{data.title}}</div><stat-button parent-id={{data.parentId}} parent-type={{data.parentType}} type={{data.type}} count=numLikes ng-click=refresh()></stat-button></div><md-divider class=md-md></md-divider><stat-display parent-id={{data.parentId}} parent-type={{data.parentType}} type={{data.type}} refresh-callback=refresh></stat-display></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button class="md-accent md-raised" ng-click=cancel()>Back</md-button></div></div></md-dialog>')}]),angular.module("modules/statistics/tpls/stat-display.html",[]).run(["$templateCache",function(a){a.put("modules/statistics/tpls/stat-display.html",'<div infinite-scroll=more() infinite-scroll-distance=1 infinite-scroll-disabled=loading><div class=rel-box><user-row ng-repeat="item in results" item-id={{::item}}></user-row></div><div class=text-no-results ng-show=noMoreResults>That\'s all there is.</div></div>')}]),angular.module("modules/tabs/tpls/tabs.html",[]).run(["$templateCache",function(a){a.put("modules/tabs/tpls/tabs.html",'<div class="overflow-arrow overflow-arrow-left" layout=column layout-align=center><md-icon md-svg-icon=chevron-left></md-icon></div><div flex layout=row class=tabs-inner ng-transclude></div><div class="overflow-arrow overflow-arrow-right" layout=column layout-align=center><md-icon md-svg-icon=chevron-right></md-icon></div>')}]),angular.module("modules/tags/tpls/tags-edit-modal.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/tags-edit-modal.html",'<md-dialog class=md-full-screen><md-toolbar style="background: white"><div class=md-toolbar-tools><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form name=TagForm><md-dialog-content layout=row layout-align="center center"><div class=md-content-container><h1 class=md-headline>Tag it, tag it good!</h1><field-search data=data.fields></field-search><tags tags=data.fields type=field edit=true image=true size=sm></tags><organisation-search data=data.organisations></organisation-search><tags tags=data.organisations type=organisation edit=true image=true size=sm></tags><project-search data=data.projects></project-search><tags tags=data.projects type=project edit=true image=true size=sm></tags></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised" ng-disabled=TagForm.$invalid ng-click=save()>Save</md-button></div></div></form></md-dialog>')}]),angular.module("modules/tags/tpls/tags.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/tags.html",'<div class="tags {{size}}" ng-class="{\'oneLine\': oneLine}"><div ng-include=" template "></div></div>')}]),angular.module("modules/tags/tpls/types/field.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/types/field.html",'<div class="tag tag-hover anim-repeat-fade" ng-class="{\'tag-active\': tag.active}" ng-repeat="tag in tags | limitTo:limit"><md-tooltip ng-if="status && tag.active" md-direction=top md-autohide=true>This is one of your skills.</md-tooltip><div class=tag-inner layout=row layout-align="start center"><a class=tag-content ui-sref="app.field.top({\'stub\': tag.stub})" popup-field field-id={{::tag._id}}>{{tag.name}}</a> <a class=tag-count ng-if="evidence && tag.evidence" click-show-evidence=tag.evidence entity=tag>{{tag.evidence.length}}</a></div></div>')}]),angular.module("modules/tags/tpls/types/location.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/types/location.html",'<div class=tag ng-repeat="tag in ::tags | limitTo:limit"><a class=tag-inner><div class=tag-content>{{tag.name}}</div></a></div>')}]),angular.module("modules/tags/tpls/types/organisation.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/types/organisation.html",'<div class="tag tag-hover anim-repeat-fade" ng-repeat="tag in tags | limitTo:limit"><a class=tag-inner layout=row layout-align="start center" ui-sref="app.organisation.overview({\'stub\':tag.stub})" popup-organisation organisation-id={{tag._id}}><div class=tag-image ng-if=image><img ng-src="{{tag.picture}}?size=thumb&crop=true"></div><div class=tag-content>{{tag.name}}</div></a></div>')}]),angular.module("modules/tags/tpls/types/project.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/types/project.html",'<div class="tag tag-hover anim-repeat-fade" ng-repeat="tag in tags | limitTo:limit"><a class=tag-inner layout=row layout-align="start center" ui-sref="app.project.overview({\'stub\':tag.stub})" popup-project project-id={{::tag._id}}><div class=tag-image ng-if=image><img ng-src="{{tag.picture}}?size=thumb&crop=true"></div><div class=tag-content>{{::tag.name || \'Unpublished Project\'}}</div></a></div>')}]),angular.module("modules/tags/tpls/types/tag-edit.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/types/tag-edit.html",'<div class=tags-edit><div ng-sortable=sortableConfig><div class=tag-drop-area ng-if="tags.length == 0 && dropArea">Drag and drop fields here</div><div class="tag my-handle" ng-repeat="tag in tags track by $index"><div class=tag-inner layout=row layout-align="start center"><div class=tag-content>{{tag.name}}</div><div class=tag-count ng-if=evidence ng-class="{\'count-warn\': !tag.evidence.length>0}">{{tag.evidence.length || 0}}<popup class=tooltip-popup popup-side=right popup-position=center popup-padding="0 0 0 8px" layout=column><p ng-if=" tag.evidence.length > 0">You have <b>{{tag.evidence.length}}</b> item{{tag.evidence.length == 1 ? \'\' : \'s\'}} in your portfolio tagged with <b>{{tag.name}}</b>.</p><p ng-if="!tag.evidence.length > 0">You have no portfolio evidence for <b>{{tag.name}}</b> yet. <b>Add a project</b> to your portfolio that demonstrated this skill.</p></popup></div><a class=tag-delete ng-hide=tag.noDelete type=button ng-click=delTag($index)>×</a></div></div></div></div>')}]),angular.module("modules/tags/tpls/types/user.html",[]).run(["$templateCache",function(a){a.put("modules/tags/tpls/types/user.html","<div class=tag ng-repeat=\"tag in ::tags | limitTo:limit\"><a class=tag-inner href=/users/{{tag.stub}} popup-user user-id={{tag._id}}><div ng-show=image ng-style=\"tag.picture && {'background-image':'url('+tag.picture+'?size=thumb&crop=true)'}\" class=\"bounding-box picture profile-img\"></div><div class=tag-content>{{tag.name}}</div></a></div>")}]),angular.module("modules/toc/tpls/toc.html",[]).run(["$templateCache",function(a){a.put("modules/toc/tpls/toc.html",'<div class=toc-nav><div class=content><div ng-repeat="section in sections"><div class="section {{section.level}}" du-scrollspy={{section.id}}><a class=ellipsis flex href=#{{section.id}} du-smooth-scroll data-offset=30>{{section.label}}</a></div></div></div><div class=markers><div ng-repeat="section in sections"><div class="marker {{section.level}}" du-scrollspy={{section.id}}></div></div></div></div>')}]),angular.module("modules/top-banner/tpls/top-banner.html",[]).run(["$templateCache",function(a){a.put("modules/top-banner/tpls/top-banner.html",'<div hide-sm hide-md class=top-banner ng-show="TopBannerService.banner.open && !TopBannerService.banner.closed"><div layout=row layout-align="center center" ng-show=!currentUser.isLoggedIn()><div style="margin-right: 10px">New to STEMN?</div><md-button style="margin-right: 10px" class=md-border ng-click=signup($event)>Sign up</md-button><div style="margin-right: 5px">or</div><md-button class=md-border ng-click=learnMore()>Learn More</md-button></div><div layout=row layout-align="center center" ng-show=!currentUser.verified><div>One quick thing: We need you to verify your email address by clicking the link we sent.</div><md-button style="margin-left: 10px" class=md-border ng-click=resendVerification() ng-disabled=resendVerificationDisabled>Send it again</md-button><div ng-show="resendVerificationCount >= 2">(be sure to check your spam folder)</div></div><md-button class="md-icon-button close-btn" ng-click=TopBannerService.closeBanner() aria-label=Close><md-icon md-svg-icon=close></md-icon></md-button></div>')}]),angular.module("modules/upload-files/tpls/upload-files-display.html",[]).run(["$templateCache",function(a){a.put("modules/upload-files/tpls/upload-files-display.html",'<div nv-file-drop="" uploader=uploader><div layout=row layout-wrap ng-sortable=sortableConfig style="margin: -15px; min-height: 50px"><uploaded-file class=draggable flex=20 flex-md=25 flex-sm=50 ng-repeat="file in files track by $index"></uploaded-file><uploaded-file ng-if="edit && item.progress > 0 && item.progress < 100" flex=20 flex-md=25 flex-sm=50 ng-repeat="item in uploader.queue"></uploaded-file><div flex=20 flex-md=25 flex-sm=50 style="padding: 15px" layout=column ng-if=edit><label flex class="btn-upload drop" nv-file-over uploader=uploader over-class=drag-over layout=column layout-align="center center"><input type=file class=upload nv-file-select="" uploader=uploader multiple> <span class=text-lightgrey>Upload files</span></label></div></div></div>')}]),angular.module("modules/upload-files/tpls/uploaded-file-edit-modal.html",[]).run(["$templateCache",function(a){a.put("modules/upload-files/tpls/uploaded-file-edit-modal.html",'<md-dialog><form novalidate name=LinkForm ng-submit=save()><md-dialog-content layout=column><div style="width: 500px"><h1 class=md-headline style="margin-top: 0px; margin-bottom: 40px">Edit File Details</h1><md-input-container class=md-accent><label>File Name</label><input md-autofocus=true name=name ng-model=data.name focus-me=true></md-input-container></div><div layout=row style="margin: 25px 0 -10px 0"><div flex><md-button type=button class="md-raised md-warn no-margin" ng-click=delete()>Delete File</md-button></div><div><md-button type=button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised" ng-disabled=LinkForm.$invalid>Save</md-button></div></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/upload-files/tpls/uploaded-file.html",[]).run(["$templateCache",function(a){a.put("modules/upload-files/tpls/uploaded-file.html",'<div class="md-whiteframe-z2 rel-box" layout=column ng-if=edit><md-button type=button class="md-circle md-xs md-raised md-accent edit" ng-click=editFile($event) aria-label=edit><md-icon md-svg-icon=edit></md-icon></md-button><img ng-class="{\'my-handle\' : edit}" ng-src="/assets/images/vectors/filetype/{{file.type || \'other\'}}.svg" err-src=/assets/images/vectors/filetype/other.svg><div><div class="ellipsis text-lightgrey name">{{file.name}}</div></div><loading-overlay ng-if=item.progress determinate={{item.progress}}></loading-overlay></div><a class="md-whiteframe-z2 rel-box" layout=column ng-if=!edit ng-href={{file.url}} target=_self download={{file.name}}><img ng-src="/assets/images/vectors/filetype/{{file.type || \'other\'}}.svg" err-src=/assets/images/vectors/filetype/other.svg><div><div class="ellipsis text-lightgrey name">{{file.name}}</div></div><loading-overlay ng-if=item.progress determinate={{item.progress}}></loading-overlay></a>')}]),angular.module("modules/uploads/tpls/crop-imageupload.html",[]).run(["$templateCache",function(a){a.put("modules/uploads/tpls/crop-imageupload.html",'<div class=row nv-file-drop="" uploader=uploader><div class=col-md-12><div ng-if=!options.singleImage nv-file-drop="" uploader=uploader><div nv-file-over="" uploader=uploader over-class=drag-over class=drop><label class="btn-upload btn btn-white"><input type=file accept=".png, .jpg, .jpeg, .gif" class=upload nv-file-select="" uploader=uploader multiple> <span>Upload images</span></label><strong>OR</strong> Drag and Drop your images here to upload</div></div><div ng-if=options.singleImage nv-file-drop="" uploader=uploader><div nv-file-over="" uploader=uploader over-class=drag-over class=drop><label class="btn-upload btn btn-white"><input type=file accept=".png, .jpg, .jpeg, .gif" class=upload nv-file-select="" uploader="uploader"> <span>Upload image</span></label><strong>OR</strong> Drag and Drop an image here to upload</div></div></div></div><div class=row><div ng-repeat="file in files" class=edit-img ng-class="{\'col-md-4 edit-img-gallery\' : !options.singleImage, \'col-md-12 text-center\' : options.singleImage}"><div ng-hide=crop><img ng-src="{{file.url}}"></div><div ng-show=crop><div class=cropArea ng-init="croppedImage=\'\'"><img-crop image="file.image || file.parent || file.url" result-image=croppedImage area-type={{cropShape}} result-image-size=imgSize result-image-aspect={{aspect}}></img-crop></div></div><div><div ng-show=options.singleImage class=text-left style="margin-top: 50px"><a class="btn btn-lg btn-default" ng-show=crop ng-click=cancel()>Cancel</a> <a ng-show=crop class="btn btn-lg btn-success pull-right" ng-click="uploadCroppedImage(croppedImage, file.parent || file.url);">Save</a></div><div ng-hide=options.singleImage class=edit-buttons><button type=button class="btn btn-default" ng-click="openCropModal(file.parent || file.url, croppedImage, cropShape, imgSize, aspect)" tooltip=Crop tooltip-placement=bottom><icon class=fa-crop></icon></button></div></div></div><div ng-repeat="item in uploader.queue" ng-class="{\'col-md-4 edit-img-gallery\' : !options.singleImage, \'col-md-12 text-center\' : options.singleImage}"><span ng-show=item.isSuccess><i class="glyphicon glyphicon-ok"></i></span> <span ng-show=item.isCancel><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show=item.isError><i class="glyphicon glyphicon-remove"></i></span><div class=progress style="margin-bottom: 0; height: 2px"><div class="progress-bar progress-bar-success" role=progressbar ng-style="{ \'width\': item.progress + \'%\' }"></div></div></div></div><div ng-hide=options.singleImage class=text-left style="margin-top: 50px"><a class="btn btn-lg btn-default" ng-click=cancel()>Cancel</a> <a class="btn btn-lg btn-success pull-right" ng-click=save();>Save</a></div>')}]),angular.module("modules/uploads/tpls/crop-imageuploadmodal.html",[]).run(["$templateCache",function(a){a.put("modules/uploads/tpls/crop-imageuploadmodal.html","<div class=modal-header><button type=button class=close ng-click=closeModal() aria-hidden=true>&times;</button><h1 class=modal-title>Upload Image</h1></div><div class=modal-body><image-upload-crop files=files single=single force-crop=crop crop-shape={{shape}} img-size={{imgSize}} aspect={{aspect}} cancel=closeModal() save=saveCloseModal()></image-upload-crop></div>")}]),angular.module("modules/uploads/tpls/crop.html",[]).run(["$templateCache",function(a){a.put("modules/uploads/tpls/crop.html",'<div class=modalCropArea ng-init="croppedImage=\'\'"><img-crop image=data.inputImage result-image=croppedImage area-type={{data.cropShape}} result-image-size=data.imgSize result-image-aspect={{data.aspect}}></img-crop></div><a ng-click=closeModal() class=btn>Cancel</a> <a ng-click=saveCloseModal() class="btn btn-success pull-right">Crop and Save</a>')}]),angular.module("modules/uploads/tpls/upload-files-modal.html",[]).run(["$templateCache",function(a){a.put("modules/uploads/tpls/upload-files-modal.html",'<md-dialog class=upload-image-modal><form><md-dialog-content layout=row layout-align="center center"><div class="md-content-container content-sm"><div nv-file-drop="" uploader=uploader layout=row layout-align="center center"><div nv-file-over="" uploader=uploader over-class=drag-over class="drop text-center"><label class=btn-upload><input type=file class=upload nv-file-select="" uploader=uploader multiple> <span>Upload Files</span></label><strong style="padding-left: 5px">OR</strong> Drag and Drop files here to upload</div></div><loading-overlay ng-if="uploader.progress > 0 && uploader.progress < 100" determinate=uploader.progress>Files uploading</loading-overlay><loading-overlay ng-if="uploader.progress == 100">Processing. Please wait.</loading-overlay></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/uploads/tpls/upload-image-new-modal.html",[]).run(["$templateCache",function(a){a.put("modules/uploads/tpls/upload-image-new-modal.html",'<md-dialog class=upload-image-modal><form><md-dialog-content layout=row layout-align="center center"><div class="md-content-container content-sm"><md-button ng-if=currentImage class="remove-button md-warn md-cornered" ng-click=remove()>Remove Existing image</md-button><div nv-file-drop="" uploader=uploader layout=row layout-align="center center"><div nv-file-over="" uploader=uploader over-class=drag-over class="drop text-center"><label class=btn-upload><input type=file accept=".png, .jpg, .jpeg, .gif" class=upload nv-file-select="" uploader="uploader"> <span>Upload image</span></label><strong style="padding-left: 5px">OR</strong> Drag and Drop an image here to upload</div></div><loading-overlay ng-if="uploader.progress > 0 && uploader.progress < 100" determinate=uploader.progress>Image uploading</loading-overlay><loading-overlay ng-if="uploader.progress == 100">Processing</loading-overlay></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/uploads/tpls/upload-images-new-modal.html",[]).run(["$templateCache",function(a){a.put("modules/uploads/tpls/upload-images-new-modal.html",'<md-dialog class="md-full-screen upload-image-modal"><md-toolbar style="background: white"><div class=md-toolbar-tools><span flex></span><md-button class=md-icon-button ng-click=cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content layout=row layout-align="center center"><div class="md-content-container content-sm"><h1 class=md-headline>Arrange your images...</h1><br><br><div layout=row layout-wrap class=gallery-display ng-sortable=sortableConfig><div flex=20 flex-md=25 flex-sm=50 ng-repeat="image in images"><md-button class="md-circle md-xs md-raised" ng-click=remove($index)><md-icon md-svg-icon=close></md-icon></md-button><img class=md-whiteframe-z1 ng-src={{image.url}}></div></div><div nv-file-drop="" uploader=uploader layout=row layout-align="center center" style="margin: 40px 0"><div nv-file-over="" uploader=uploader over-class=drag-over class="drop text-center"><label class=btn-upload><input type=file accept=".png, .jpg, .jpeg, .gif" class=upload nv-file-select="" uploader=uploader multiple> <span>Upload images</span></label><strong style="padding-left: 5px">OR</strong> Drag and Drop an image here to upload</div></div><loading-overlay ng-if="uploader.progress > 0 && uploader.progress < 100" determinate=uploader.progress>Uploading...</loading-overlay><loading-overlay ng-if="uploader.progress == 100 && !uploader.queue[uploader.queue.length-1].file.url">Processing...</loading-overlay></div></md-dialog-content><div class=md-actions layout=row><div flex></div><div><md-button ng-click=cancel()>Cancel</md-button><md-button class="md-accent md-raised" ng-click=save()>Save</md-button></div></div></form></md-dialog>')}]),angular.module("modules/user-subdomain/tpls/user-subdomain-input.html",[]).run(["$templateCache",function(a){a.put("modules/user-subdomain/tpls/user-subdomain-input.html",'<div ng-if="displayType != \'form\'"><form class="user-subdomain-input inline" name=forms.GetSubdomainForm novalidate ng-submit=submit()><div layout=row class="input-box md-whiteframe-z2"><div layout=row class=domain layout-align="start center"><input name=subdomain required minlength=5 maxlength=40 ng-model=formModel.username pu-elastic-input style=text-align:right placeholder=yourname ng-keyup=checkUsernameExists(formModel.username)><div>.stemn.com</div></div><md-button type=submit ng-class="forms.GetSubdomainForm.$valid || !forms.GetSubdomainForm.$dirty ? \'md-accent\' : \'md-warn\'" class="md-raised md-flat md-lg no-margin md-cornered"><span hide-gt-md>Create</span> <span hide-sm hide-md>Get Started</span></md-button></div><div class=messages ng-messages=forms.GetSubdomainForm.subdomain.$error ng-if=forms.GetSubdomainForm.subdomain.$dirty><div ng-message=required><dot class=red></dot>This is required.</div><div ng-message=minlength><dot class=red></dot>Your domain must be more than 5 characters.</div><div ng-message=maxlength><dot class=red></dot>Try keep it under 20 characters.</div><div ng-message=nameexists><dot class=red></dot>That name is already taken</div></div><div class=messages ng-if=forms.GetSubdomainForm.$valid><dot class=green></dot>That domain is available, you\'re good to go!</div><div ng-if="formModel.username && loggedIn" class=messages style="margin-top: 20px">Your profile will also be available at: <span class=underlined>stemn.com/users/{{formModel.username}}</span></div></form></div><div ng-if="displayType == \'form\'"><form name=forms.GetSubdomainForm novalidate ng-submit=submit()><p>Your profile will also be available at: <span class=underlined>stemn.com/users/{{formModel.username}}</span></p><md-input-container class="md-accent m-t-15"><label>Username</label><input name=subdomain required minlength=5 maxlength=40 ng-model=formModel.username ng-keyup=checkUsernameExists(formModel.username)><div ng-messages=forms.GetSubdomainForm.subdomain.$error ng-if=forms.GetSubdomainForm.subdomain.$dirty><div ng-message=required>This is required.</div><div ng-message=minlength>Your domain must be more than 5 characters.</div><div ng-message=maxlength>Try keep it under 20 characters.</div><div ng-message=nameexists>That name is already taken</div></div></md-input-container><div layout=row><div flex></div><md-button type=submit class="md-raised md-accent md-cornered md-flat m-0" ng-disabled=forms.GetSubdomainForm.$invalid>Update username</md-button></div></form></div>')}]),angular.module("modules/user-widgets/tpls/user-completion-widget.html",[]).run(["$templateCache",function(a){a.put("modules/user-widgets/tpls/user-completion-widget.html",'<div><a ng-hide="displayType == \'banner\'" ng-click=checklistModal($event) class=md-subhead>Improve your profile</a><md-progress-linear ng-click=checklistModal($event) class="md-accent m-v-10" md-mode=determinate value={{completionPercentage}}></md-progress-linear><div ng-hide="displayType == \'banner\'" layout=row><a ng-click=checklistModal($event) class=text-lightgrey flex>Your profile is {{completionPercentage}}% complete</a> <a ng-click=checklistModal($event) class="text-green underlined">See How</a></div><div ng-show="displayType == \'banner\'" layout=row><div flex>Your profile is {{completionPercentage}}% complete.</div><a ng-click=checklistModal($event)>See how to improve</a></div></div>')}]),angular.module("modules/user-widgets/tpls/user-organisations-widget.html",[]).run(["$templateCache",function(a){a.put("modules/user-widgets/tpls/user-organisations-widget.html",'<div class=preview-squares layout=row><organisation-icon ng-repeat="item in organisations | limitTo: 3" item-id={{item._id}}></organisation-icon><a class=more ng-click=newOrganisation($event)><md-icon md-svg-icon=add></md-icon><md-tooltip md-direction=top md-autohide=true>Add organisation</md-tooltip></a></div>')}]),angular.module("modules/user-widgets/tpls/user-portfolio-checklist-modal.html",[]).run(["$templateCache",function(a){a.put("modules/user-widgets/tpls/user-portfolio-checklist-modal.html",'<md-dialog aria-label=checklist><md-dialog-content style="width: 500px"><h1 class=md-headline style="margin-top: 0px">Improve your profile</h1><div><md-progress-linear style=margin-bottom:10px class=md-accent md-mode=determinate value={{completionPecentage}}></md-progress-linear><div class=md-subhead>{{completionPecentage}}% complete</div><div style="margin: 20px 0">After reaching 100%, you should continue to add projects and blogs to improve the strength of your portfolio.</div><div class=well style="margin-bottom: 20px" ng-hide="(completionStatus | filter:{status:!true}).length == 0"><div class=md-subhead>To Do:</div><checklist-item ng-repeat="item in completionStatus | filter:{status:!true}" item-complete=item.status item-href=item.href item-click=item.click>{{item.message}}</checklist-item></div><div class=well><div class=md-subhead>Done:</div><checklist-item ng-repeat="item in completionStatus | filter:{status:true}" item-complete=item.status item-href=item.href item-click=item.click>{{item.message}}</checklist-item></div></div><div layout=row><div flex></div><md-button class=no-margin-h ng-click=cancel()>Close</md-button></div></md-dialog-content></md-dialog>')}]),angular.module("modules/user-widgets/tpls/user-projects-widget.html",[]).run(["$templateCache",function(a){a.put("modules/user-widgets/tpls/user-projects-widget.html",'<div class=preview-squares layout=row><a ng-repeat="item in query.results | orderBy: \'-picture\' | limitTo: 3" ui-sref="app.project.overview({stub: item.stub})"><img ng-src="{{item.picture || \'assets/images/default/org.png\'}}?size=thumb&crop=true" alt=""><md-tooltip md-direction=top md-autohide=true>{{item.name}}</md-tooltip></a> <a class=more click-create><md-icon md-svg-icon=add></md-icon><md-tooltip md-direction=top md-autohide=true>Add project, blog or question</md-tooltip></a></div>')}]),angular.module("modules/user-widgets/tpls/user-recent-widget.html",[]).run(["$templateCache",function(a){a.put("modules/user-widgets/tpls/user-recent-widget.html",'<div class=section-container ng-show=users><div class=title-row layout=row style="margin-bottom: 10px"><a href="" class=active>Recent Users (24h)</a><div flex></div><a ng-click=more() ng-disabled=noMoreResults>More</a></div><a ng-repeat="userId in users" ui-sref="app.user.profile({\'stub\': user.stub})" class=anim-repeat-stagger-fade><user-icon class=inline style="padding: 0 7px 7px 0" user-id={{userId}} user=user></user-icon><md-tooltip>{{user.name}}</md-tooltip></a></div>')}]),angular.module("modules/users/tpls/add-row.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/add-row.html",'<div layout=row layout-align="center center"><div><md-button class="md-circle md-raised md-sm md-accent" ng-click=addFn() aria-label=AddGroup><md-tooltip md-autohide=true>Add Group</md-tooltip><md-icon md-svg-src=add></md-icon></md-button></div></div>')}]),angular.module("modules/users/tpls/edit-team-modal.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/edit-team-modal.html",'<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Edit Team</h2><span flex></span><md-button class=md-icon-button ng-click=hide()><md-icon md-svg-src=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content class=shadow><div class="md-content-container content-xs"><users-groups edit=true users=data.team parent=data modal-callback=modalCallback()></users-groups></div></md-dialog-content><div class=md-actions layout=row><div flex></div><md-button class="md-raised md-accent m-r-0" ng-click=hide()>Save</md-button></div></md-dialog>')}]),angular.module("modules/users/tpls/empty-group.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/empty-group.html",'<div layout=row layout-align="start center"><div flex class=text-lightgrey>This group is empty. Drag users into it.</div><div><md-button class="md-warn md-border md-sm md-border md-lower no-hover" ng-click=deleteFn()>Delete</md-button></div></div>')}]),angular.module("modules/users/tpls/personcard.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/personcard.html","<div class=\"card card-centered person-card relative-box\" ng-class=\"{'card-sm' : (size=='sm')}\"><a ng-href=/users/{{user.stub}}><div class=banner><div class=bounding-box ng-style=\"{'background-image':'url('+(user.profile.banner.url || alternateBanner)+'?size=banner-sm&crop=true)'}\"></div></div><div><div ng-style=\"!!user.picture && {'background-image':'url('+user.picture+'?size=user&crop=true)'}\" class=\"img-circle bounding-box profile-img picture\"></div></div></a><div class=content><div class=name><a ng-href=/users/{{user.stub}}>{{user.name}}</a></div><div class=blurb>{{user.blurb || '_'}}</div><hide-if-owner dr-class=vishidden owner=\"{{id || user._id}}\"><stat-button hidepublic hide-stat=true hide-icon=true type=follow parent-type=user parent-id={{user._id}} count=user.followers></stat-button></hide-if-owner><div class=stats><div><h3>{{user.numProjects || 0}}</h3><small>projects</small></div><div stat-display-modal type=follow parent-type=user parent-id={{user._id}} class=a><h3>{{user.followers || 0}}</h3><small>followers</small></div></div></div><div class=\"card-loading-overlay anim-fade\" ng-show=loading></div></div>")}]),angular.module("modules/users/tpls/user-icon.html",[]).run(["$templateCache",function(a){
a.put("modules/users/tpls/user-icon.html","<div style=\"background-image: url('{{user.picture || '/assets/images/default/user-1.png'}}?size=thumb&crop=true')\"></div>")}]),angular.module("modules/users/tpls/user-row-detailed.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/user-row-detailed.html",'<div class="user-row-detailed rel-box" layout=column layout-gt-sm=row><div class="avatar-circle avatar-lg m-r-30" style="background-image: url(\'{{user.picture || \'/assets/images/default/user-1.png\'}}?size=thumb-lg&crop=true\'); border: none"></div><div flex class=item-col><div class="md-title bold">{{user.name}}</div><div>{{user.blurb}}</div><md-button class="md-accent md-raised md-flat md-cornered md-md m-l-0 m-t-15" href="{{ buttonHref || \'users/\'+user.stub }}">{{buttonText || \'See Profile\'}}</md-button></div><div flex class=item-col><div class=md-subhead>Education</div><div class=item ng-repeat="item in user.profile.profileDetails.education | limitTo: itemLimit"><div>{{item.degree}} {{item.fieldOfStudy}}</div><div class=text-grey>{{item.school}} ({{item.isCurrent ? \'Current\' : item.endDate.year}})</div></div><a class=text-green ng-click=raiseLimit() ng-show="user.profile.profileDetails.education.length > itemLimit">See More</a></div><div flex class=item-col><div class=md-subhead>Experience</div><div class=item ng-repeat="item in user.profile.profileDetails.experience | limitTo: itemLimit"><div>{{item.position}}</div><div class=text-grey>{{item.company}} ({{item.isCurrent ? \'Current\' : item.endDate.year}})</div></div><a class=text-green ng-click=raiseLimit() ng-show="user.profile.profileDetails.experience.length > itemLimit">See More</a></div><loading-row ng-if=loading class=translucent></loading-row></div>')}]),angular.module("modules/users/tpls/user-rows.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/user-rows.html",'<div class=rel-box><table class=md-table><thead><tr><td style="width: 40px"></td><td>Name</td><td filter-column-order filter-object=orderFilter filter-model=followers filter-query=query style="width: 100px" class=text-center>Followers</td><td filter-column-order filter-object=orderFilter filter-model=numProjects filter-query=query style="width: 100px" class=text-center>Projects</td><td hide-sm style="width: 75px"></td></tr></thead><tbody><tr ng-repeat="item in query.results"><td style="padding: 15px 20px 15px 5px"><a ui-sref=app.user.profile({stub:item.stub})><div class=avatar-circle ng-style="{ \'background-image\':\'url(\'+(item.picture || \'/assets/images/default/user-1.png\')+\'?size=thumb&crop=true)\'}"></div><popup class=card-popup popup-side=bottom popup-position=center><card card-type=user card-id={{item._id}}></card></popup></a></td><td><a ui-sref=app.user.profile({stub:item.stub})><div class=bold>{{item.name}}</div><div>{{item.blurb | letters: 70}}</div></a></td><td class=text-center><a stat-display-modal type=follow parent-type=user parent-id={{item._id}}>{{item.followers}}</a></td><td class=text-center><a ui-sref=app.user.projects({stub:item.stub})>{{item.numProjects}}</a></td><td hide-sm><hide-if-owner owner={{item._id}}><stat-button hide-stat=true size=sm type=follow parent-type=user parent-id={{item._id}} count=item.followers></stat-button></hide-if-owner></td></tr></tbody></table><loading-overlay ng-if=query.loading ng-class="{\'translucent\' : query.results.length > 0}"></loading-overlay><div ng-hide=query.notEnoughResults><a class="well-button m-v-40" layout=row layout-align="center center" ng-click=query.more() ng-disabled=query.noMoreResults><div>{{query.noMoreResults ? \'No more users\' : \'See more users\'}}</div></a></div></div>')}]),angular.module("modules/users/tpls/users-groups.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/users-groups.html",'<form name=PeopleGroupsForm class=edit-box><div class=rel-box><edit-button ng-show=showEdit inline=true form=PeopleGroupsForm save-fn=save()></edit-button><div ng-if="!usersGroups.length > 0"><h3 class=md-subhead>Team Members</h3></div><div ng-if="PeopleGroupsForm.$visible || edit" ng-sortable=userGroupSortConfig><div ng-repeat="group in usersGroups" class=my-handle><h3 class=md-subhead><input class=editable ng-model=group.name placeholder="Group Name" name=role></h3><div class=user-sort ng-sortable=userSortConfig ng-class="{\'empty\':group.members.length == 0}"><user-row class="my-handle block disable-href" ng-repeat="user in group.members track by $index" data=user type=user show-edit=true delete-fn="delete(group.members, $index)"></user-row><empty-group ng-if="group.members.length == 0" delete-fn="delete(usersGroups, $index)"></empty-group></div><div class=rel-box><md-button ng-show=parent class="invite-button md-accent md-border-green md-sm" show-invite-link-modal parent=parent group={{group.name}} modal-callback=modalCallback()>Get Invite Link</md-button><user-search data=group.members placeholder="Search for more members (or add by email)" ng-style="group.members.length != 0 && {\'margin-left\' : \'67px\'}" focus="PeopleGroupsForm.$visible || edit" parent=parent group={{group.name}} modal-callback=modalCallback()></user-search></div></div><add-row add-fn=newGroup()></add-row></div><div ng-if="!(PeopleGroupsForm.$visible || edit)"><div ng-repeat="group in usersGroups" ng-show="group.members.length > 0"><h3 class=md-subhead>{{group.name || \'Core team\'}}</h3><div class="user-sort md-row" layout=row layout-wrap><user-row class=md-col flex=100 flex-sm=100 ng-repeat="user in group.members track by $index" data=user type=user></user-row></div><md-divider style="margin: 20px 0 10px"></md-divider></div></div></div></form>')}]),angular.module("modules/users/tpls/users-new-modal.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/users-new-modal.html",'<md-dialog><form unsaved-warning-form novalidate name=NewUserForm ng-submit=invite()><md-dialog-content><div class="md-content-container content-xs"><h1 class="md-headline no-margin">Invite someone to STEMN</h1><br><br><br><div layout=row><md-input-container flex=50 class=md-accent focus-me=true><label>Name*</label><input name=name ng-model=data.name required><div ng-messages=NewUserForm.name.$error ng-if=NewUserForm.name.$dirty><div ng-message=required>This is required.</div></div></md-input-container><md-input-container flex=50 class=md-accent><label>Email*</label><input name=email ng-model=data.email required type=email><div ng-messages=NewUserForm.email.$error ng-if=NewUserForm.email.$dirty><div ng-message=required>This is required.</div><div ng-message=email>Not a valid email</div></div></md-input-container></div><md-input-container flex=50 class=md-accent><label>Role (eg: Team Leader or Junior Engineer)</label><input name=role ng-model=role></md-input-container><md-input-container flex=50 class=md-accent><label>Group (eg: Marketing Team or Thermal Subsystem)</label><input name=group ng-model=data.group></md-input-container><br><br><br></div><div layout=row layout-align="start center"><div flex class=text-lightgrey>*required fields</div><div><md-button ng-click=cancel()>Cancel</md-button><md-button type=submit class="md-accent md-raised" ng-disabled=NewUserForm.$invalid>Invite</md-button></div></div></md-dialog-content></form></md-dialog>')}]),angular.module("modules/users/tpls/users.html",[]).run(["$templateCache",function(a){a.put("modules/users/tpls/users.html",'<h3 class=md-subhead>{{typeInfo.title}}</h3><user-row ng-repeat="user in users" data=user></user-row>')}]);
})( window, window.angular );
