{"version":3,"sources":["app\\renderer\\main\\modules\\FileSelect\\FileSelectModal.jsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AAGA;;IAAY,iB;;AAMZ;;;;AAIA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAjBA;;;AAIA;;;AAGA;;;AAGA;;AAEA;;AAEA;;;AAOA;AACA;AACA;;AAEO,IAAM,6DAAY,gBAAM,WAAN,CAAkB;AAAA;AAEzC,oBAFyC,gCAEpB;AACnB,QAAG,CAAC,KAAK,KAAL,CAAW,UAAf,EAA0B;AACxB,WAAK,KAAL,CAAW,iBAAX,CAA6B,IAA7B,CAAkC;AAChC,kBAAU,KAAK,KAAL,CAAW,QADW;AAEhC,cAAM,KAAK,KAAL,CAAW;AAFe,OAAlC;AAID;AACF,GATwC;AAWzC,2BAXyC,qCAWf,SAXe,EAWJ;AACnC,QAAG,CAAC,UAAU,UAAd,EAAyB;AACvB,WAAK,KAAL,CAAW,iBAAX,CAA6B,IAA7B,CAAkC;AAChC,kBAAU,UAAU,QADY;AAEhC,cAAM,UAAU;AAFgB,OAAlC;AAID;AACF,GAlBwC;AAoBzC,eApByC,+BAoBpB;AAAA,QAAN,IAAM,QAAN,IAAM;;AACnB,QAAG,KAAK,IAAL,IAAa,MAAb,IAAuB,KAAK,KAAL,CAAW,OAAX,CAAmB,WAAnB,IAAkC,KAAK,IAAL,IAAa,QAAzE,EAAkF;AAChF,WAAK,KAAL,CAAW,iBAAX,CAA6B,MAA7B,CAAoC;AAClC,kBAAU,KAAK,KAAL,CAAW,QADa;AAElC,cAAM;AAF4B,OAApC;AAID,KALD,MAMI;AACF,WAAK,KAAL,CAAW,iBAAX,CAA6B,UAA7B,CAAwC;AACtC,kBAAU,KAAK,KAAL,CAAW,QADiB;AAEtC,cAAM,KAAK;AAF2B,OAAxC;AAID;AACF,GAjCwC;AAkCzC,eAlCyC,gCAkCpB;AAAA,QAAN,IAAM,SAAN,IAAM;;AACnB,QAAG,KAAK,IAAL,IAAa,QAAhB,EAAyB;AACvB,WAAK,KAAL,CAAW,iBAAX,CAA6B,UAA7B,CAAwC;AACtC,kBAAU,KAAK,KAAL,CAAW,QADiB;AAEtC,cAAM,KAAK;AAF2B,OAAxC;AAID,KALD,MAMI;AACF,WAAK,KAAL,CAAW,iBAAX,CAA6B,MAA7B,CAAoC;AAClC,kBAAU,KAAK,KAAL,CAAW,QADa;AAElC,cAAM;AAF4B,OAApC;AAID;AACF,GA/CwC;AAgDzC,cAhDyC,+BAgDrB;AAAA,QAAN,IAAM,SAAN,IAAM;;AAClB,SAAK,KAAL,CAAW,iBAAX,CAA6B,UAA7B,CAAwC;AACtC,gBAAU,KAAK,KAAL,CAAW,QADiB;AAEtC,YAAM,KAAK;AAF2B,KAAxC;AAID,GArDwC;AAuDzC,QAvDyC,oBAuDjC;AACN;AACA;AACA,SAAK,KAAL,CAAW,YAAX,CAAwB,EAAC,OAAO,KAAK,KAAL,CAAW,UAAX,CAAsB,QAA9B,EAAxB;AACA,SAAK,KAAL,CAAW,SAAX;AACD,GA5DwC;AA6DzC,QA7DyC,oBA6DjC;AACN,SAAK,KAAL,CAAW,WAAX;AACA,SAAK,KAAL,CAAW,SAAX;AACD,GAhEwC;AAiEzC,QAjEyC,oBAiEhC;AAAA,iBACwC,KAAK,KAD7C;AAAA,QACA,SADA,UACA,SADA;AAAA,QACW,IADX,UACW,IADX;AAAA,QACiB,UADjB,UACiB,UADjB;AAAA,QAC6B,OAD7B,UAC6B,OAD7B;;;AAGP,QAAM,aAAa,cAAc,WAAW,IAAzB,GAAgC,WAAW,IAA3C,GAAkD,EAArE;AACA,WACE;AAAA;AAAA,QAAK,OAAO,EAAC,OAAO,OAAR,EAAZ;AACE;AAAA;AAAA,UAAK,WAAU,aAAf;AAAA;AAAA,OADF;AAEG,mBACC;AACE,mBAAW,SADb;AAEE,cAAM,UAFR;AAGE,uBAAe,KAAK,aAHtB;AAIE,uBAAe,KAAK,aAJtB;AAKE,sBAAc,KAAK,YALrB;AAME,kBAAU,WAAW,QANvB;AAOE,iBAAS;AAPX,QADD,GAUC,IAZJ;AAcE;AAAA;AAAA,UAAK,WAAU,mDAAf;AACE,+CAAK,WAAU,MAAf,GADF;AAEE;AAAA;AAAA,YAAQ,OAAO,EAAC,aAAa,MAAd,EAAf,EAAsC,SAAS,KAAK,MAApD;AAAA;AAAA,SAFF;AAKE;AAAA;AAAA,YAAQ,WAAU,SAAlB,EAA4B,SAAS,KAAK,MAA1C;AAAA;AAAA;AALF;AAdF,KADF;AA0BD;AA/FwC,CAAlB,CAAZ,CAAN;;AAmGP;AACA;AACA;;AAEA,SAAS,eAAT,eAA6E;AAAA,MAAnD,UAAmD,SAAnD,UAAmD;AAAA,MAArC,SAAqC,SAArC,SAAqC;AAAA,MAA1B,IAA0B,SAA1B,IAA0B;AAAA,MAApB,QAAoB,SAApB,QAAoB;AAAA,MAAV,OAAU,SAAV,OAAU;;AAC3E,SAAO;AACL,gBAAY,WAAW,QAAX,CADP;AAEL,wBAFK;AAGL,sBAHK;AAIL,cAJK;AAKL;AALK,GAAP;AAOD;;AAED,SAAS,kBAAT,CAA4B,QAA5B,EAAsC;AACpC,SAAO;AACL,uBAAmB,+BAAmB,iBAAnB,EAAsC,QAAtC;AADd,GAAP;AAGD;;kBAEc,yBAAQ,eAAR,EAAyB,kBAAzB,EAA6C,SAA7C,C","file":"FileSelectModal.jsx","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["// Container Core\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\n// Container Actions\nimport * as FileSelectActions from './FileSelect.actions.js';\n\n// Component Core\nimport React from 'react';\n\n// Styles\nimport classNames from 'classnames';\n//import classes from './FileList.css'\n\n// Sub Components\nimport FileList from 'app/renderer/main/modules/FileList/FileList';\nimport Button from 'app/renderer/main/components/Buttons/Button/Button';\nimport MdDone from 'react-icons/md/done';\n\n\n\n/////////////////////////////////////////////////////////////////////////////\n///////////////////////////////// COMPONENT /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nexport const Component = React.createClass({\n\n  componentWillMount() {\n    if(!this.props.fileSelect){\n      this.props.FileSelectActions.init({\n        storeKey: this.props.storeKey,\n        path: this.props.path\n      })\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(!nextProps.fileSelect){\n      this.props.FileSelectActions.init({\n        storeKey: nextProps.storeKey,\n        path: nextProps.path\n      })\n    }\n  },\n\n  singleClickFn({file}){\n    if(file.type == 'file' || this.props.options.allowFolder && file.type == 'folder'){\n      this.props.FileSelectActions.select({\n        storeKey: this.props.storeKey,\n        file: file\n      })\n    }\n    else{\n      this.props.FileSelectActions.changePath({\n        storeKey: this.props.storeKey,\n        path: file.fileId\n      })\n    }\n  },\n  doubleClickFn({file}){\n    if(file.type == 'folder'){\n      this.props.FileSelectActions.changePath({\n        storeKey: this.props.storeKey,\n        path: file.fileId\n      })\n    }\n    else{\n      this.props.FileSelectActions.select({\n        storeKey: this.props.storeKey,\n        file: file\n      })\n    }\n  },\n  crumbClickFn({file}){\n    this.props.FileSelectActions.changePath({\n      storeKey: this.props.storeKey,\n      path: file.fileId\n    })\n  },\n\n  submit(){\n    // The modal confirm function is a react redux form change.\n    // We extend this action object by the value to confirm the change\n    this.props.modalConfirm({value: this.props.fileSelect.selected});\n    this.props.modalHide();\n  },\n  cancel(){\n    this.props.modalCancel();\n    this.props.modalHide();\n  },\n  render() {\n    const {projectId, path, fileSelect, options} = this.props;\n\n    const activePath = fileSelect && fileSelect.path ? fileSelect.path : '';\n    return (\n      <div style={{width: '600px'}}>\n        <div className=\"modal-title\">Select Folder</div>\n        {fileSelect\n        ? <FileList\n            projectId={projectId}\n            path={activePath}\n            singleClickFn={this.singleClickFn}\n            doubleClickFn={this.doubleClickFn}\n            crumbClickFn={this.crumbClickFn}\n            selected={fileSelect.selected}\n            options={options}\n          />\n        : null\n        }\n        <div className=\"modal-footer layout-row layout-align-start-center\">\n          <div className=\"flex\"></div>\n          <Button style={{marginRight: '10px'}} onClick={this.cancel}>\n            Cancel\n          </Button>\n          <Button className=\"primary\" onClick={this.submit}>\n            Select Folder\n          </Button>\n        </div>\n      </div>\n    );\n  }\n});\n\n\n/////////////////////////////////////////////////////////////////////////////\n///////////////////////////////// CONTAINER /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nfunction mapStateToProps({fileSelect}, {projectId, path, storeKey, options}) {\n  return {\n    fileSelect: fileSelect[storeKey],\n    projectId,\n    storeKey,\n    path,\n    options\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    FileSelectActions: bindActionCreators(FileSelectActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Component);\n"]}