{"version":3,"sources":["app\\shared\\store\\middleware\\forwardToRendererWindow.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;;;AAEA,IAAM,oBAAoB,SAApB,iBAAoB;AAAA,SAAS;AAAA,WAAQ,kBAAU;;AAEnD;AACA,UAAM,8BACD,MADC;AAEJ,2BACK,OAAO,IADZ;AAEE,iBAAO;AAFT;AAFI,QAAN;;AAQA,UAAM,cAAc,mBAAS,MAAT,CAAgB,aAAhB,CAA8B,aAA9B,EAApB;;AAEA,UAAG,OAAO,IAAP,IAAe,OAAO,IAAP,CAAY,KAAZ,CAAkB,QAAlB,CAA2B,SAA3B,CAAf,IAAwD,YAAY,CAAZ,CAA3D,EAA0E;AACxE,oBAAY,CAAZ,EAAe,WAAf,CAA2B,IAA3B,CAAgC,cAAhC,EAAgD,cAAhD;AACD;;AAED,UAAG,OAAO,IAAP,IAAe,OAAO,IAAP,CAAY,KAAZ,CAAkB,QAAlB,CAA2B,MAA3B,CAAf,IAAqD,YAAY,CAAZ,CAAxD,EAAuE;AACrE,oBAAY,CAAZ,EAAe,WAAf,CAA2B,IAA3B,CAAgC,cAAhC,EAAgD,cAAhD;AACD;;AAED,UAAG,OAAO,IAAP,IAAe,OAAO,IAAP,CAAY,KAAZ,CAAkB,QAAlB,CAA2B,SAA3B,CAAf,IAAwD,OAAO,IAAP,IAAe,OAAO,IAAP,CAAY,KAAZ,CAAkB,QAAlB,CAA2B,MAA3B,CAA1E,EAA6G;AAC3G;AACD;AACD,aAAO,KAAK,MAAL,CAAP;AACD,KAzBkC;AAAA,GAAT;AAAA,CAA1B;;kBA2Be,iB","file":"forwardToRendererWindow.js","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["import electron from 'electron';\n\nconst forwardToRenderer = store => next => action => {\n\n  // change scope to avoid endless-loop\n  const rendererAction = {\n    ...action,\n    meta: {\n      ...action.meta,\n      scope: 'local',\n    },\n  };\n\n  const openWindows = electron.remote.BrowserWindow.getAllWindows();\n\n  if(action.meta && action.meta.scope.includes('menubar') && openWindows[1]){\n    openWindows[1].webContents.send('redux-action', rendererAction)\n  }\n\n  if(action.meta && action.meta.scope.includes('main') && openWindows[0]){\n    openWindows[0].webContents.send('redux-action', rendererAction)\n  }\n\n  if(action.meta && action.meta.scope.includes('menubar') || action.meta && action.meta.scope.includes('main')){\n    return\n  }\n  return next(action);\n};\n\nexport default forwardToRenderer;\n"]}