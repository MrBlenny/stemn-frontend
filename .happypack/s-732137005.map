{"version":3,"sources":["app\\renderer\\main\\modules\\Files\\PreviewFile\\PreviewPcb\\PreviewPcbService.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEA,IAAM,oBAAoB;AACxB,mBAAkB,EADM;AAExB,YAAW,QAFa;AAGxB,cAAa;AAHW,CAA1B;;kBAMe,iB;;AAEf;;AAEA,SAAS,QAAT,GAAmB;AACjB,MAAI,KAAK,wBAAT;AACA,MAAI,WAAW,0BAAf;AACA,WAAS,EAAT,GAAc,EAAd;AACA,oBAAkB,eAAlB,CAAkC,IAAlC,CAAuC,QAAvC;AACA,SAAO,QAAP;AACD;;AAED,SAAS,UAAT,CAAoB,QAApB,EAA6B;AAC3B,MAAG,QAAH,EAAY;AACV,aAAS,OAAT;AACA,sBAAkB,eAAlB,CAAkC,MAAlC,CAAyC,uBAAU,kBAAkB,eAA5B,EAA6C,IAA7C,EAAmD,SAAS,EAA5D,CAAzC,EAAyG,CAAzG;AACD;AACF","file":"PreviewPcbService.js","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["import getUuid from 'app/shared/helpers/getUuid.js';\nimport { findIndex } from 'lodash';\nimport webGerber from 'app/renderer/assets/other/gerber/js/webGerber.js';\n\nconst previewPcbService = {\n  activeInstances : [],\n  register : register,\n  deregister : deregister,\n}\n\nexport default previewPcbService\n\n////////////////////////////////////////////\n\nfunction register(){\n  var id = getUuid();\n  var instance = webGerber();\n  instance.id = id;\n  previewPcbService.activeInstances.push(instance);\n  return instance;\n}\n\nfunction deregister(instance){\n  if(instance){\n    instance.destroy();\n    previewPcbService.activeInstances.splice(findIndex(previewPcbService.activeInstances, 'id', instance.id),1);\n  }\n}\n"]}