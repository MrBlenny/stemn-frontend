{"version":3,"sources":["app\\renderer\\main\\modules\\Upload\\Upload.actions.js"],"names":[],"mappings":";;;;;QAEgB,I,GAAA,I;QAUA,M,GAAA,M;;AAZhB;;;;;;AAEO,SAAS,IAAT,OAAiC;AAAA,MAAlB,QAAkB,QAAlB,QAAkB;AAAA,MAAR,KAAQ,QAAR,KAAQ;;AACtC,SAAO;AACL,UAAM,aADD;AAEL,aAAS;AACP,wBADO;AAEP;AAFO;AAFJ,GAAP;AAOD;;AAEM,SAAS,MAAT,QAAmC;AAAA,MAAlB,QAAkB,SAAlB,QAAkB;AAAA,MAAR,KAAQ,SAAR,KAAQ;;;AAExC;AACA,MAAI,OAAO,IAAI,QAAJ,EAAX;AACA,QAAM,OAAN,CAAc,UAAC,IAAD;AAAA,WAAQ,KAAK,MAAL,CAAY,MAAZ,EAAoB,IAApB,CAAR;AAAA,GAAd;;AAEA,UAAQ,GAAR,CAAY,KAAZ;;AAEA;AACA,SAAO;AACL,UAAM,eADD;AAEL,aAAS,qBAAK;AACZ,cAAQ,MADI;AAEZ,4BAFY;AAGZ,YAAM,IAHM;AAIZ,sBAAgB,wBAAS,aAAT,EAAwB;AACtC,YAAI,mBAAmB,cAAc,MAAd,GAAuB,cAAc,KAA5D;AACA,gBAAQ,GAAR,CAAY,gBAAZ;AACD;AAPW,KAAL,CAFJ;AAWL,UAAM;AACJ,wBADI;AAEJ;AAFI;AAXD,GAAP;AAgBD","file":"Upload.actions.js","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["import http from 'axios';\r\n\r\nexport function init({cacheKey, files}) {\r\n  return {\r\n    type: 'UPLOAD/INIT',\r\n    payload: {\r\n      cacheKey,\r\n      files\r\n    },\r\n  };\r\n}\r\n\r\nexport function upload({cacheKey, files}) {\r\n\r\n  // Create the data object\r\n  let data = new FormData();\r\n  files.forEach((file)=>data.append('file', file));\r\n\r\n  console.log(files);\r\n\r\n  // Submit it\r\n  return {\r\n    type: 'UPLOAD/UPLOAD',\r\n    payload: http({\r\n      method: 'POST',\r\n      url: `/api/v1/uploads`,\r\n      data: data,\r\n      progressUpload: function(progressEvent) {\r\n        var percentCompleted = progressEvent.loaded / progressEvent.total;\r\n        console.log(percentCompleted);\r\n      }\r\n    }),\r\n    meta: {\r\n      cacheKey,\r\n      files\r\n    }\r\n  };\r\n}\r\n"]}