{"version":3,"sources":["app\\renderer\\main\\modules\\FileList\\FileList.jsx"],"names":[],"mappings":"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","file":"FileList.jsx","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["// Container Core\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\n// Container Actions\nimport * as FileListActions from './FileList.actions.js';\n\n// Component Core\nimport React from 'react';\n\n// Styles\nimport classNames from 'classnames';\nimport classes from './FileList.css'\n\n// Sub Components\nimport FileBreadCrumbs from './components/FileBreadCrumbs';\nimport FileRow from './components/FileRow';\nimport LoadingOverlay from 'app/renderer/main/components/Loading/LoadingOverlay/LoadingOverlay.jsx';\n\n\n/////////////////////////////////////////////////////////////////////////////\n///////////////////////////////// COMPONENT /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nexport const Component = React.createClass({\n  componentWillMount() {\n    if(this.props.options.explore == 'drive' || this.props.options.explore == 'dropbox'){\n      this.props.FileListActions.exploreFolder({\n        provider: this.props.options.explore,\n        folderId: this.props.path,\n      });\n    }\n    else{\n      this.props.FileListActions.fetchFiles({\n        projectId: this.props.projectId,\n        path: this.props.path,\n      });\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(this.props.path != nextProps.path || this.props.projectId != nextProps.projectId){\n      if(nextProps.options.explore == 'drive' || nextProps.options.explore == 'dropbox'){\n        this.props.FileListActions.exploreFolder({\n          provider: nextProps.options.explore,\n          folderId: nextProps.path,\n        });\n      }\n      else{\n        this.props.FileListActions.fetchFiles({\n          projectId: nextProps.projectId,\n          path: nextProps.path,\n        });\n      }\n    }\n  },\n\n  render() {\n    const {files, singleClickFn, doubleClickFn, crumbClickFn, selected, options} = this.props;\n\n    const displayResults = () => {\n      const filesFiltered = options.foldersOnly && files.entries && files.entries.length > 0 ? files.entries.filter((file)=>file.type == 'folder') : files.data;\n      if(filesFiltered && filesFiltered.length > 0){\n        return filesFiltered.map((file)=><FileRow key={file.fileId} file={file} singleClick={singleClickFn} doubleClick={doubleClickFn} isActive={selected && selected.fileId == file.fileId}/>)\n      }\n      else{\n        return <div style={{padding: '15px'}}>No results</div>\n      }\n    }\n\n    return (\n      <div>\n        <div className={classes.breadcrumbs}>\n          <FileBreadCrumbs meta={files && files.folder ? files.folder : ''} clickFn={crumbClickFn}/>\n        </div>\n        <div className=\"rel-box\" style={{height: '300px', overflowY: 'auto'}}>\n          {files && !files.loading ? displayResults() :  ''}\n          <LoadingOverlay show={!files || files.loading} />\n        </div>\n      </div>\n    );\n  }\n});\n\n\n/////////////////////////////////////////////////////////////////////////////\n///////////////////////////////// CONTAINER /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nfunction mapStateToProps({fileList}, {projectId, path, singleClickFn, doubleClickFn, crumbClickFn, options}) {\n\n  return {\n    files: options.explore == 'drive' || options.explore == 'dropbox' ? fileList[`${options.explore}-${path}`] : fileList[`${projectId}-${path}`],\n    projectId,\n    path,\n    singleClickFn,\n    doubleClickFn,\n    crumbClickFn,\n    options\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    FileListActions: bindActionCreators(FileListActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Component);\n"]}