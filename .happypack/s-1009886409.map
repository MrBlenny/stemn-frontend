{"version":3,"sources":["app\\renderer\\main\\modules\\Toasts\\Toasts.jsx"],"names":[],"mappings":"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","file":"Toasts.jsx","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["// Container Core\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport { getFunction } from 'app/shared/modules/FunctionLibrary/FunctionLibrary.js'\n\nimport * as ToastsActions from './Toasts.actions.js';\n\n// Component Core\nimport React from 'react';\n\n// Sub components\nimport MdError from 'react-icons/md/error';\nimport MdClose from 'react-icons/md/close';\n\n\n// Styles\nimport classes from './Toasts.css'\nimport classNames from 'classnames';\n\n/////////////////////////////////////////////////////////////////////////////\n///////////////////////////////// COMPONENT /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nconst Toast = React.createClass({\n  hideTimeout: null,\n  mouseEnter(){\n    clearTimeout(this.hideTimeout);\n  },\n  mouseLeave(){\n    this.startHideTimeout()\n  },\n  startHideTimeout(){\n    this.hideTimeout = setTimeout(this.closeToast, 5000)\n  },\n  closeToast(){\n    this.props.dispatch(ToastsActions.hide({id: this.props.toast.id}))\n  },\n  render() {\n    const { toast, dispatch } = this.props;\n    if(!this.hideTimeout){this.startHideTimeout()}\n\n    const getIcon = () => {\n      if(toast.type == 'error'){\n        return <MdError size=\"20\" style={{marginRight: '5px'}} />\n      }\n      else{\n        return null\n      }\n    }\n\n    const processAction = (action) => {\n      if(action && action.functionAlias) {\n        const functionFromAlias = getFunction(action.functionAlias);\n        if(functionFromAlias){\n          dispatch(functionFromAlias(action.functionInputs));\n        }\n      }\n      // Else, if it is a normal object, dispatch it\n      else if(action){\n        dispatch(action)\n      }\n    }\n\n    const getActions = () => {\n      if(toast.actions && toast.actions.length){\n        return (\n          <span>\n          {toast.actions.map((action, index) =>\n            <a key={index}\n            onClick={()=>{processAction(action.action); this.closeToast()}}\n            className=\"link-primary\">\n            &nbsp;&nbsp;{action.text}\n            </a>\n          )}\n          </span>\n        )\n      }\n      else{\n        return null\n      }\n    }\n\n\n    return (\n      <div className={classNames(classes.toast, 'layout-row', { [classes.error] : toast.type=='error' })} onMouseEnter={this.mouseEnter} onMouseLeave={this.mouseLeave}>\n        <div className={classes.toastInner + ' flex layout-row layout-align-start-center'}>\n          {getIcon()}\n          {toast.title}\n          {getActions()}\n          <div className=\"flex\"></div>\n          <a className={classes.close} onClick={this.closeToast}><MdClose size=\"20\" /></a>\n        </div>\n      </div>\n    )\n  }\n});\n\n\nexport const Component = React.createClass({\n  render() {\n    const { toasts, dispatch } = this.props;\n\n    const transitionName = {\n      enter: classes.enter,\n      enterActive: classes.enterActive,\n      leave: classes.leave,\n      leaveActive: classes.leaveActive,\n      appear: classes.appear,\n      appearActive: classes.appearActive\n    };\n    return (\n      <div className={classes.toastContainer}>\n        <ReactCSSTransitionGroup\n          transitionName={transitionName}\n          transitionAppear={true}\n          transitionAppearTimeout={300}\n          transitionEnterTimeout={300}\n          transitionLeaveTimeout={300}>\n          {\n            toasts && toasts.stack && toasts.stack.length > 0\n            ? toasts.stack.map((toast) => <Toast key={toast.id} toast={toast} dispatch={dispatch}></Toast>)\n            : null\n          }\n        </ReactCSSTransitionGroup>\n      </div>\n    );\n\n  }\n});\n\n/////////////////////////////////////////////////////////////////////////////\n///////////////////////////////// CONTAINER /////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\n\nfunction mapStateToProps({toasts}) {\n  return {\n    toasts\n  };\n}\n\nexport default connect(mapStateToProps)(Component);\n"]}