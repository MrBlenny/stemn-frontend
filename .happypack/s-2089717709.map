{"version":3,"sources":["app\\renderer\\main\\modules\\Tasks\\Tasks.reducer.js"],"names":[],"mappings":"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","file":"Tasks.reducer.js","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["import i from 'icepick';\nimport { cloneDeep } from 'lodash';\nimport { modeled } from 'react-redux-form';\n\nconst initialState = {\n  data: {},\n  projects: {},\n  events: {},\n  boards: {\n    /********************************\n    boardId: {\n      data: {the board data},\n      searchString: 'Some search string'\n      layout: 'board' || 'list'\n    }\n    ********************************/\n  },\n\n}\n\nconst mainReducer = (state, action) => {\n  switch (action.type) {\n    case 'TASKS/NEW_TASK_FULFILLED':\n      return i.chain(state)\n      .assocIn(['data', action.payload.data._id, 'data'], action.payload.data) // Add to data\n      .assocIn(['boards', action.payload.data.board, 'newTaskString', action.payload.data.group], '') // Clear string\n      .updateIn(['boards', action.payload.data.board, 'data', 'groups'], (groups) => { // Add to groups.tasks array\n        const groupIndex = groups.findIndex((group)=>group._id == action.payload.data.group);\n        return i.updateIn(groups, [groupIndex, 'tasks'], (tasks) => i.push(tasks, action.payload.data._id))\n      })\n      .value();\n\n    case 'TASKS/GET_BOARD_PENDING':\n      return i.assocIn(state, ['projects', action.meta.cacheKey, 'loading'], true);\n    case 'TASKS/GET_BOARD_REJECTED':\n      return i.assocIn(state, ['projects', action.meta.cacheKey, 'loading'], false);\n    case 'TASKS/GET_BOARD_FULFILLED':\n      return i.merge(state, {\n        projects: {\n          [action.meta.cacheKey] : {\n            boards: [action.payload.data[0]._id],\n            loading : false\n          }\n        },\n        boards: {\n          [action.payload.data[0]._id] : {\n            data: action.payload.data[0]\n          }\n        }\n      })\n\n    case 'TASKS/GET_TASK_PENDING':\n      return i.assocIn(state, ['data', action.meta.cacheKey, 'loading'], true);\n    case 'TASKS/GET_TASK_REJECTED':\n      return i.assocIn(state, ['data', action.meta.cacheKey, 'loading'], false);\n    case 'TASKS/GET_TASK_FULFILLED':\n      return i.assocIn(state, ['data', action.meta.cacheKey], {\n        data: action.payload.data,\n        loading: false\n      })\n\n    case 'TASKS/GET_EVENTS_PENDING':\n      return i.assocIn(state, ['events', action.meta.cacheKey, 'loading'], true);\n    case 'TASKS/GET_EVENTS_REJECTED':\n      return i.assocIn(state, ['events', action.meta.cacheKey, 'loading'], false);\n    case 'TASKS/GET_EVENTS_FULFILLED':\n      return i.assocIn(state, ['events', action.meta.cacheKey], {\n        data: action.payload.data,\n        loading: false\n      })\n    case 'TASKS/NEW_EVENT':\n      return i.updateIn(state, ['events', action.payload.taskId, 'data'], events => {\n        return i.push(events, action.payload.event)\n      })\n\n    case 'TASKS/DELETE_EVENT':\n      return i.updateIn(state, ['events', action.payload.taskId, 'data'], events => {\n        const eventIndex = events.findIndex(event => event._id == action.payload.eventId);\n        return eventIndex != -1 ? i.splice(events, eventIndex, 1) : events;\n      })\n\n\n    case 'TASKS/UPDATE_BOARD_PENDING':\n      return i.assocIn(state, ['boards', action.meta.cacheKey, 'savePending'], true);\n    case 'TASKS/UPDATE_BOARD_REJECTED':\n      return i.assocIn(state, ['boards', action.meta.cacheKey, 'savePending'], false);\n    case 'TASKS/UPDATE_BOARD_FULFILLED':\n      return i.assocIn(state, ['boards', action.meta.cacheKey, 'savePending'], false);\n\n    case 'TASKS/NEW_GROUP_FULFILLED':\n      return i.chain(state)\n      // Reset the newGroupString to empty\n      .assocIn(['boards', action.meta.boardId, 'newGroupString'], '')\n      // Push the new group onto the groups array\n      .updateIn(['boards', action.meta.boardId, 'data', 'groups'], (groups) => i.push(groups, action.payload.data))\n      .value();\n\n    case 'TASKS/DELETE_GROUP_FULFILLED':\n      return i.updateIn(state, ['boards', action.meta.boardId, 'data', 'groups'], (groups) => {\n        const groupIndex = groups.findIndex((group) => group._id == action.meta.groupId); // Find the index of the group\n        return i.splice(groups, groupIndex, 1) // Delete the group from the groups array\n      })\n\n    case 'TASKS/DELETE_TASK_FULFILLED':\n      return i.chain(state)\n      .assocIn(['data', action.meta.taskId], undefined)\n      .updateIn(['boards', action.meta.boardId, 'data', 'groups'], (groups) => {\n        const location = getLocationIndex(groups, action.meta.taskId);\n        return i.updateIn(groups, [location.groupIndex, 'tasks'], (tasks) => i.splice(tasks, location.taskIndex, 1))\n      })\n      .value();\n\n    case 'TASKS/MOVE_TASK':\n      return i.chain(state)\n      .assocIn(['data', action.payload.task, 'data', 'board'], action.payload.destinationGroup)    // Update the group property\n      .updateIn(['boards', action.payload.boardId, 'data', 'groups'], (groups) => {                // Move the task in the groups array\n        const from = getLocationIndex(groups, action.payload.task);\n        const to = action.payload.destinationTask ? getLocationIndex(groups, action.payload.destinationTask) : {groupIndex: getGroupIndex(groups, action.payload.destinationGroup), taskIndex: 0};\n        return moveTask({\n          groups : groups,\n          lastX  : from.groupIndex,\n          nextX  : to.groupIndex,\n          lastY  : from.taskIndex,\n          nextY  : to.taskIndex\n        })\n      })\n      .value();\n    case 'TASKS/MOVE_TASK_FULFILLED':\n      return state\n\n    case 'TASKS/MOVE_GROUP':\n      return i.updateIn(state, ['boards', action.payload.boardId, 'data', 'groups'], (groups) => {\n        const groupFrom = groups.findIndex((group) => group._id == action.payload.group);\n        const groupTo   = groups.findIndex((group) => group._id == action.payload.destinationGroup);\n        return moveGroup(groups, groupFrom, groupTo);\n      })\n\n    case 'TASKS/BEGIN_DRAG':\n      return i.assocIn(state, ['data', action.payload.taskId, 'isDragging'], true)\n    case 'TASKS/END_DRAG':\n      return i.assocIn(state, ['data', action.payload.taskId, 'isDragging'], false)\n\n    case 'TASKS/CHANGE_LAYOUT':\n      return i.assocIn(state, ['boards', action.payload.boardId, 'layout'], action.payload.layout)\n\n\n    default:\n      return state;\n  }\n}\n\n//////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////\n\n\nfunction getLocationIndex(groups, id){\n  // This will return the group and task index inside the structure object.\n  let groupIndex = null;\n  let taskIndex  = null;\n  groupIndex = groups.findIndex((group, groupIndex) => {\n    const foundTaskIndex = group.tasks.findIndex((taskId)=>{\n      return taskId == id;\n    })\n    // If the task index is found, we return it\n    if(foundTaskIndex != -1){\n      taskIndex = foundTaskIndex;\n      return true\n    }\n  })\n  return {\n    groupIndex,\n    taskIndex\n  }\n}\n\nfunction getGroupIndex(groups, groupId){\n  return groups.findIndex((group)=>group._id == groupId)\n}\n\nfunction moveTask ({groups, lastX, nextX, lastY, nextY}) {\n  const cloneItems = cloneDeep(groups);\n  if (lastX === nextX) {\n    cloneItems[lastX].tasks.splice(nextY, 0, cloneItems[lastX].tasks.splice(lastY, 1)[0]);\n  } else {\n    cloneItems[nextX].tasks.splice(nextY, 0, cloneItems[lastX].tasks[lastY]);  // move element to new place\n    cloneItems[lastX].tasks.splice(lastY, 1); // delete element from old place\n  }\n  return cloneItems;\n}\n\n\nfunction moveGroup(groups, fromIndex, toIndex){\n  const cloneItems = cloneDeep(groups);\n  const t = cloneItems.splice(fromIndex, 1)[0];\n  cloneItems.splice(toIndex, 0, t);\n  return cloneItems;\n}\n\nfunction addItem (keyItems, item) {\n  return [].concat(keyItems, [item])\n}\n\nexport default function (state = initialState, action) {\n  if (!state.hydrated) {\n    state = { ...initialState, ...state, hydrated: true };\n  }\n  return modeled(mainReducer, 'tasks')(state, action)\n}\n"]}