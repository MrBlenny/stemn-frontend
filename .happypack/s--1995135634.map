{"version":3,"sources":["app\\renderer\\assets\\other\\react-popup\\layout.js"],"names":[],"mappings":"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","file":"layout.js","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.equalCoords = exports.doesFitWithin = exports.centerOfBoundsFromBounds = exports.centerOfBounds = exports.centerOfSize = exports.axes = exports.pickZone = exports.place = exports.calcRelPos = exports.validTypeValues = exports.types = exports.El = undefined;\n\nvar _platform = require('./platform');\n\nvar _utils = require('./utils');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\n/* Axes System\n\nThis allows us to at-will work in a different orientation\nwithout having to manually keep track of knowing if we should be using\nx or y positions. */\n\nvar axes = {\n  row: {},\n  column: {}\n};\n\naxes.row.main = {\n  start: 'x',\n  end: 'x2',\n  size: 'w'\n};\naxes.row.cross = {\n  start: 'y',\n  end: 'y2',\n  size: 'h'\n};\naxes.column.main = axes.row.cross;\naxes.column.cross = axes.row.main;\n\nvar types = [{ name: 'side', values: ['start', 'end'] }, { name: 'standing', values: ['above', 'right', 'below', 'left'] }, { name: 'flow', values: ['column', 'row'] }];\n\nvar validTypeValues = types.reduce(function (xs, _ref) {\n  var values = _ref.values;\n  return xs.concat(values);\n}, []);\n\nvar centerOfSize = function centerOfSize(flow, axis, size) {\n  return size[axes[flow][axis].size] / 2;\n};\n\nvar centerOfBounds = function centerOfBounds(flow, axis, bounds) {\n  return bounds[axes[flow][axis].start] + bounds[axes[flow][axis].size] / 2;\n};\n\nvar centerOfBoundsFromBounds = function centerOfBoundsFromBounds(flow, axis, boundsTo, boundsFrom) {\n  return centerOfBounds(flow, axis, boundsTo) - boundsFrom[axes[flow][axis].start];\n};\n\nvar place = function place(flow, axis, align, bounds, size) {\n  var axisProps = axes[flow][axis];\n  return align === 'center' ? centerOfBounds(flow, axis, bounds) - centerOfSize(flow, axis, size) : align === 'end' ? bounds[axisProps.end] : align === 'start'\n  /* DOM rendering unfolds leftward. Therefore if the slave is positioned before\n  the master then the slave`s position must in addition be pulled back\n  by its [the slave`s] own length. */\n  ? bounds[axisProps.start] - size[axisProps.size] : null;\n};\n\n/* Element Layout Queries */\n\nvar El = {};\n\nEl.calcBounds = function (el) {\n\n  if (el === _platform.window) {\n    return {\n      x: 0,\n      y: 0,\n      x2: el.innerWidth,\n      y2: el.innerHeight,\n      w: el.innerWidth,\n      h: el.innerHeight\n    };\n  }\n\n  var b = el.getBoundingClientRect();\n\n  return {\n    x: b.left,\n    y: b.top,\n    x2: b.right,\n    y2: b.bottom,\n    w: b.right - b.left,\n    h: b.bottom - b.top\n  };\n};\n\nEl.calcSize = function (el) {\n  return el === _platform.window ? { w: el.innerWidth, h: el.innerHeight } : { w: el.offsetWidth, h: el.offsetHeight };\n};\n\nEl.calcScrollSize = function (el) {\n  return el === _platform.window ? {\n    w: el.scrollX || el.pageXOffset,\n    h: el.scrollY || el.pageYOffset\n  } : { w: el.scrollLeft, h: el.scrollTop };\n};\n\n/* Misc Utilities */\n\nvar getPreferenceType = function getPreferenceType(preference) {\n  return types.reduce(function (found, type) {\n    return found ? found : type.values.indexOf(preference) !== -1 ? type.name : null;\n  }, null);\n};\n\n/* Dimension Fit Checks */\n\nvar fitWithinChecker = function fitWithinChecker(dimension) {\n  return function (domainSize, itemSize) {\n    return domainSize[dimension] >= itemSize[dimension];\n  };\n};\n\nvar doesWidthFitWithin = fitWithinChecker('w');\nvar doesHeightFitWithin = fitWithinChecker('h');\n\nvar doesFitWithin = function doesFitWithin(domainSize, itemSize) {\n  return doesWidthFitWithin(domainSize, itemSize) && doesHeightFitWithin(domainSize, itemSize);\n};\n\n/* Errors */\n\nvar createPreferenceError = function createPreferenceError(givenValue) {\n  return new Error('The given layout placement of \"' + givenValue + '\" is not a valid choice. Valid choices are: ' + validTypeValues.join(' | ') + '.');\n};\n\n/* Algorithm for picking the best fitting zone for popover. The current technique will loop through all zones picking the last one that fits.\nIn the case that none fit we should pick the least-not-fitting zone. */\n\nvar pickZone = function pickZone(opts, frameBounds, targetBounds, size) {\n  var t = targetBounds;\n  var f = frameBounds;\n  var zones = [{ side: 'start', standing: 'above', flow: 'column', order: -1, w: f.x2, h: t.y }, { side: 'end', standing: 'right', flow: 'row', order: 1, w: f.x2 - t.x2, h: f.y2 }, { side: 'end', standing: 'below', flow: 'column', order: 1, w: f.x2, h: f.y2 - t.y2 }, { side: 'start', standing: 'left', flow: 'row', order: -1, w: t.x, h: f.y2 }];\n\n  /* Order the zones by the amount of popup that would be cut out if that zone is used.\n     The first one in the array is the one that cuts the least amount.\n\n     const area = size.w * size.h  // Popup area is constant and it does not change the order\n  */\n  zones.forEach(function (z) {\n    z.cutOff = /* area */-Math.max(0, Math.min(z.w, size.w)) * Math.max(0, Math.min(z.h, size.h));\n  });\n  zones.sort(function (a, b) {\n    return a.cutOff - b.cutOff;\n  });\n\n  var availZones = zones.filter(function (zone) {\n    return doesFitWithin(zone, size);\n  });\n\n  /* If a place is required pick it from the available zones if possible. */\n\n  if (opts.place) {\n    var _ret = (function () {\n      var type = getPreferenceType(opts.place);\n      if (!type) throw createPreferenceError(opts.place);\n      var finder = function finder(z) {\n        return z[type] === opts.place;\n      };\n      return {\n        v: (0, _utils.find)(finder, availZones) || (0, _utils.find)(finder, zones)\n      };\n    })();\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n\n  /* If the preferred side is part of the available zones, use that otherwise\n  pick the largest available zone. If there are no available zones, pick the\n  largest zone. */\n\n  if (opts.preferPlace) {\n    var _ret2 = (function () {\n      var preferenceType = getPreferenceType(opts.preferPlace);\n      if (!preferenceType) throw createPreferenceError(opts.preferPlace);\n\n      // Try to fit first in zone where the pop up fit completely\n      var preferredAvailZones = availZones.filter(function (zone) {\n        return zone[preferenceType] === opts.preferPlace;\n      });\n      if (preferredAvailZones.length) return {\n          v: preferredAvailZones[0]\n        };\n\n      // If there are not areas where the pop up fit completely, it uses the prefered ones\n      // in order from the one the fit better\n      var preferredZones = zones.filter(function (zone) {\n        return zone[preferenceType] === opts.preferPlace;\n      });\n      if (preferredZones.length) return {\n          v: preferredZones[0]\n        };\n    })();\n\n    if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n  }\n\n  // Return a zone that fit completely or the one that fit the best\n  return availZones.length ? availZones[0] : zones[0];\n};\n\n/* TODO Document this. */\n\nvar calcRelPos = function calcRelPos(zone, masterBounds, slaveSize) {\n  var _ref2;\n\n  var _axes$zone$flow = axes[zone.flow];\n  var main = _axes$zone$flow.main;\n  var cross = _axes$zone$flow.cross;\n  /* TODO: The slave is hard-coded to align cross-center with master. */\n\n  var crossAlign = 'center';\n  var mainStart = place(zone.flow, 'main', zone.side, masterBounds, slaveSize);\n  var mainSize = slaveSize[main.size];\n  var crossStart = place(zone.flow, 'cross', crossAlign, masterBounds, slaveSize);\n  var crossSize = slaveSize[cross.size];\n\n  return _ref2 = {}, _defineProperty(_ref2, main.start, mainStart), _defineProperty(_ref2, 'mainLength', mainSize), _defineProperty(_ref2, main.end, mainStart + mainSize), _defineProperty(_ref2, cross.start, crossStart), _defineProperty(_ref2, 'crossLength', crossSize), _defineProperty(_ref2, cross.end, crossStart + crossSize), _ref2;\n};\n\nexports.default = {\n  El: El,\n  types: types,\n  validTypeValues: validTypeValues,\n  calcRelPos: calcRelPos,\n  place: place,\n  pickZone: pickZone,\n  axes: axes,\n  centerOfSize: centerOfSize,\n  centerOfBounds: centerOfBounds,\n  centerOfBoundsFromBounds: centerOfBoundsFromBounds,\n  doesFitWithin: doesFitWithin,\n  equalCoords: _utils.equalRecords\n};\nexports.El = El;\nexports.types = types;\nexports.validTypeValues = validTypeValues;\nexports.calcRelPos = calcRelPos;\nexports.place = place;\nexports.pickZone = pickZone;\nexports.axes = axes;\nexports.centerOfSize = centerOfSize;\nexports.centerOfBounds = centerOfBounds;\nexports.centerOfBoundsFromBounds = centerOfBoundsFromBounds;\nexports.doesFitWithin = doesFitWithin;\nexports.equalCoords = _utils.equalRecords;\n"]}