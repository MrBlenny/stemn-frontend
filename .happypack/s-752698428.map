{"version":3,"sources":["app\\shared\\actions\\projects.js"],"names":[],"mappings":"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","file":"projects.js","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["import http from 'axios';\nimport { push } from 'react-router-redux'\nimport * as ModalActions from '../../renderer/main/modules/Modal/Modal.actions.js';\n\nexport function setActiveProject({projectId}) {\n  return {\n    type: 'PROJECTS/SET_ACTIVE_PROJECT',\n    payload: {\n      projectId\n    }\n  }\n}\nexport function getProject({projectId}) {\n  return {\n    type: 'PROJECTS/GET_PROJECT',\n    http: true,\n    payload: {\n      method: 'GET',\n      url: `/api/v1/projects/${projectId}`\n    }\n  };\n}\n\nexport function createProject(project) {\n  return (dispatch)=>{\n    dispatch({\n      type: 'PROJECTS/CREATE_PROJECT',\n      payload: http({\n        method: 'POST',\n        url: `/api/v1/projects`,\n        data: project\n      }).then((response)=>{\n        dispatch(push(`/project/${response.data._id}/settings`));\n        return response;\n      })\n    });\n  }\n}\n\n\nexport function getUserProjects({userId}) {\n  return {\n    type:'PROJECTS/GET_USER_PROJECTS',\n    payload: http({\n      url: `/api/v1/search`,\n      method: 'GET',\n      params: {\n        type:'project',\n        parentType:'user',\n        parentId: userId,\n        size: 100,\n        published: 'both',\n        select : ['name', 'picture', 'stub', 'type', 'remote']\n      },\n    }),\n  }\n}\n\nexport function confirmDeleteProject({projectId}) {\n  return ModalActions.showConfirm({\n    message: 'Deleting a project is permanent. You will not be able to undo this.',\n    modalConfirm: {\n      functionAlias: 'ProjectsActions.deleteProject',\n      functionInputs: { projectId }\n    }\n  })\n}\n\nexport function deleteProject({projectId}) {\n  return (dispatch)=>{\n    dispatch({\n      type: 'PROJECTS/DELETE_PROJECT',\n      payload: http({\n        method: 'DELETE',\n        url: `/api/v1/projects/${projectId}`,\n      }).then((response)=>{\n        dispatch(push(`/`))\n      }),\n      meta: {\n        projectId\n      }\n    });\n  }\n}\n\nexport function saveProject({project}) {\n  return {\n    type: 'PROJECTS/SAVE_PROJECT',\n    payload: http({\n      method: 'PUT',\n      url: `/api/v1/projects/${project._id}`,\n      data: project\n    }),\n    meta: {\n      projectId: project._id\n    }\n  }\n}\n\nexport function addTeamMember({projectId, user}) {\n  return {\n    type: 'PROJECTS/ADD_TEAM_MEMBER',\n    payload: {\n      projectId,\n      user\n    }\n  };\n}\n\nexport function changeUserPermissions({projectId, userId, role}) {\n  return {\n    type: 'PROJECTS/CHANGE_USER_PERMISSIONS',\n    payload: {\n      projectId,\n      userId,\n      role\n    }\n  };\n}\n\nexport function removeTeamMember({projectId, userId}) {\n  return {\n    type: 'PROJECTS/REMOVE_TEAM_MEMBER',\n    payload: {\n      projectId,\n      userId,\n    }\n  };\n}\n\nexport function linkRemote({projectId, provider, path, id}) {\n  return {\n    type: 'PROJECTS/LINK_REMOTE',\n    http: true,\n    payload: {\n      method: 'PUT',\n      url: `/api/v1/remote/link/${projectId}/${provider}`,\n      params: {\n        path         : path,\n        id           : id\n      }\n    },\n    meta: {\n      cacheKey: projectId\n    }\n  };\n}\n"]}