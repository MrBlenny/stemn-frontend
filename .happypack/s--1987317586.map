{"version":3,"sources":["app\\renderer\\main\\modules\\FileCompare\\FileCompareMenu\\FileCompareMenu.jsx"],"names":[],"mappings":"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","file":"FileCompareMenu.jsx","sourceRoot":"C:/Users/david/repositories/stemn-electron-2","sourcesContent":["/**************************************************************************\nWe pass in either revisions or file1 + file2.\n**************************************************************************/\n\n// Container Core\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\n// Container Actions\nimport * as ElectronWindowsActions from 'app/shared/modules/ElectronWindows/ElectronWindows.actions.js';\nimport * as SystemActions    from 'app/shared/actions/system';\n\n// Component Core\nimport React from 'react';\nimport { getViewerType } from 'app/renderer/main/modules/Files/PreviewFile/PreviewFile.utils.js';\n\n// Styles\nimport classNames from 'classnames';\n\n// Sub Components\nimport PopoverMenu          from 'app/renderer/main/components/PopoverMenu/PopoverMenu';\nimport PopoverMenuList      from 'app/renderer/main/components/PopoverMenu/PopoverMenuList';\nimport SimpleIconButton     from 'app/renderer/main/components/Buttons/SimpleIconButton/SimpleIconButton'\nimport { getCompareModes, getCompareIcon }  from '../FileCompare.utils.js';\nimport MdMoreHoriz      from 'react-icons/md/more-horiz';\nimport MdOpenInNew      from 'react-icons/md/open-in-new';\n\n///////////////////////////////// COMPONENT /////////////////////////////////\n\nexport const Component = React.createClass({\n  menu() {\n    const { file1, dispatch, isChange } = this.props;\n    const discardChanges = {\n      label: 'Discard Changes',\n      onClick: () => {\n      },\n    }\n    const openFile = {\n      label: 'Open File',\n      onClick: () => {\n        dispatch(SystemActions.openFile({\n          path: file1.path,\n          projectId: file1.project._id,\n          provider: file1.provider\n        }))\n      },\n    }\n    const openFolder = {\n      label: 'Open Containing Folder',\n      onClick: () => {\n        dispatch(SystemActions.openFile({\n          location: true,\n          path: file1.path,\n          projectId: file1.project._id,\n          provider: file1.provider\n        }))\n      },\n    }\n    return isChange ? [discardChanges, openFile, openFolder] : [openFile, openFolder]\n  },\n  preview(){\n    const { file1, dispatch } = this.props;\n    dispatch(ElectronWindowsActions.create({\n      type: 'PREVIEW',\n      props: {\n        fileId: file1.fileId,\n        revisionId: file1.revisionId,\n        projectId: file1.project._id\n      }\n    }))\n  },\n  render(){\n    const { enablePreview, mode, changeMode, revisions, file1, file2, dispatch } = this.props;\n\n    if(!file1){return null};\n\n    const previewType  = getViewerType(file1.extension, file1.provider);\n    const compareModes = getCompareModes(previewType, previewType);\n    const CompareIcon  = getCompareIcon(mode);\n\n    return (\n      <div>\n        {\n          revisions && revisions.length > 1 || file1 && file2 ?\n          <PopoverMenu preferPlace=\"below\">\n            <SimpleIconButton title=\"Compare\">\n              <CompareIcon size=\"20px\" />\n            </SimpleIconButton>\n            <div className=\"PopoverMenu\">\n              {compareModes.map(item=><a key={item.value}\n              className={classNames({'active': mode == item.value})}\n              onClick={()=>changeMode(item.value)}>\n                Compare: {item.text}\n              </a>)}\n            </div>\n          </PopoverMenu>\n          : null\n        }\n        {\n          enablePreview ?\n          <SimpleIconButton title=\"Open popout preview\" onClick={this.preview}>\n            <MdOpenInNew size=\"20px\" />\n          </SimpleIconButton>\n          : null\n        }\n        <PopoverMenu preferPlace=\"below\">\n          <SimpleIconButton title=\"Options\">\n            <MdMoreHoriz size=\"20px\" />\n          </SimpleIconButton>\n          <PopoverMenuList menu={this.menu()} />\n        </PopoverMenu>\n      </div>\n    );\n  }\n});\n\n///////////////////////////////// CONTAINER /////////////////////////////////\n\nfunction mapStateToProps() {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    electronWindowsActions: bindActionCreators(ElectronWindowsActions, dispatch),\n    dispatch\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Component);\n\n"]}