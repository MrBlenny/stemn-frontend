import React, { Component, PropTypes } from 'react';
import Select from 'stemn-shared/misc/Input/Select'

const licenseData =  [{
    type: 'CC BY',
    name: 'Creative Commons - Attribution',
    url: 'http://creativecommons.org/licenses/by/4.0/',
    symbols: ['cc', 'cc-by'],
    description: 'This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation.'
}, {
    type: 'CC BY-SA',
    name: 'Creative Commons - Attribution - Share Alike',
    url: 'http://creativecommons.org/licenses/by-sa/4.0/',
    symbols: ['cc', 'cc-by', 'cc-sa'],
    description: 'This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms.'
}, {
    type: 'CC BY-ND',
    name: 'Creative Commons - Attribution - No Derivatives',
    url: 'http://creativecommons.org/licenses/by-nd/4.0/',
    symbols: ['cc', 'cc-by', 'cc-nd'],
    description: 'This license allows for redistribution, commercial and non-commercial, as long as it is passed along unchanged and in whole, with credit to you.'
}, {
    type: 'CC BY-NC',
    name: 'Creative Commons - Attribution - Non-Commercial',
    url: 'http://creativecommons.org/licenses/by-nc/4.0/',
    symbols: ['cc', 'cc-by', 'cc-nc'],
    description: 'This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don’t have to license their derivative works on the same terms.'
}, {
    type: 'CC BY-NC-SA',
    name: 'Creative Commons - Attribution - Non-Commercial - Share Alike',
    url: 'http://creativecommons.org/licenses/by-nc-sa/4.0/',
    symbols: ['cc', 'cc-by', 'cc-nd', 'cc-sa'],
    description: 'This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.'
}, {
    type: 'CC BY-NC-ND',
    name: 'Creative Commons - Attribution - Non-Commercial - No Derivatives',
    url: 'http://creativecommons.org/licenses/by-nc-nd/4.0/',
    symbols: ['cc', 'cc-by', 'cc-nd', 'cc-nc'],
    description: 'This license is the most restrictive of the Creative Commons licenses, only allowing others to download your works and share them with others as long as they credit you, but they can’t change them in any way or use them commercially.'
}, {
    type: 'MPL',
    name: 'Mozilla Public License',
    url: 'https://www.mozilla.org/MPL/2.0/',
    symbols: [],
    description: 'The MPL allows source code to be mixed with other files under a different, even proprietary license. However, code files licensed under the MPL must remain under the MPL and freely available in source form.'
}, {
    type: 'Other',
    name: 'Other License',
    url: '',
    symbols: [],
    description: 'Other License. Please outline the conditions in your Readme file.'
}]

const options = licenseData.map(item => ({
  label: item.name,
  value: item.type,
}))

export default class LicenseSettings extends Component {
  static propTypes = {
    model: PropTypes.string.isRequired,
    value: PropTypes.string,
  }
  render() {
    const { model, value } = this.props
    const licenseInfo = licenseData.find(license => license.type === value)

    const getLink = () => {
      if (licenseInfo && licenseInfo.url) {
        return <a href={ licenseInfo.url  } target="_blank" className="link-primary">Learn more.</a>
      }
    }

    return (
      <div>
        <h3>Copyright License</h3>
        <p>Protect your work by selecting an appropriate license.</p>
        <Select
          value={ value }
          model={ model }
          options={ options}
        />
        { licenseInfo && licenseInfo.description
        ? <p>{ licenseInfo.description } { getLink() }</p>
        : null }

      </div>
    )
  }
}


